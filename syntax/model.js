var eM=Object.create;var Fc=Object.defineProperty;var tM=Object.getOwnPropertyDescriptor;var iM=Object.getOwnPropertyNames;var nM=Object.getPrototypeOf,rM=Object.prototype.hasOwnProperty;var Ki=(t,e)=>()=>(t&&(e=t(t=0)),e);var De=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),tt=(t,e)=>{for(var n in e)Fc(t,n,{get:e[n],enumerable:!0})},Wv=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of iM(e))!rM.call(t,s)&&s!==n&&Fc(t,s,{get:()=>e[s],enumerable:!(r=tM(e,s))||r.enumerable});return t};var Pn=(t,e,n)=>(n=t!=null?eM(nM(t)):{},Wv(e||!t||!t.__esModule?Fc(n,"default",{value:t,enumerable:!0}):n,t)),Zi=t=>Wv(Fc({},"__esModule",{value:!0}),t);var Ot=De(vi=>{"use strict";vi.AtKeyword=3;vi.BadString=6;vi.BadUrl=8;vi.CDC=15;vi.CDO=14;vi.Colon=16;vi.Comma=18;vi.Comment=25;vi.Delim=9;vi.Dimension=12;vi.EOF=0;vi.Function=2;vi.Hash=4;vi.Ident=1;vi.LeftCurlyBracket=23;vi.LeftParenthesis=21;vi.LeftSquareBracket=19;vi.Number=10;vi.Percentage=11;vi.RightCurlyBracket=24;vi.RightParenthesis=22;vi.RightSquareBracket=20;vi.Semicolon=17;vi.String=5;vi.Url=7;vi.WhiteSpace=13});var On=De(Oi=>{"use strict";function ro(t){return t>=48&&t<=57}function oM(t){return ro(t)||t>=65&&t<=70||t>=97&&t<=102}function qv(t){return t>=65&&t<=90}function Uv(t){return t>=97&&t<=122}function Gv(t){return qv(t)||Uv(t)}function Vv(t){return t>=128}function Aa(t){return Gv(t)||Vv(t)||t===95}function sM(t){return Aa(t)||ro(t)||t===45}function $v(t){return t>=0&&t<=8||t===11||t>=14&&t<=31||t===127}function vf(t){return t===10||t===13||t===12}function Yv(t){return vf(t)||t===32||t===9}function mf(t,e){return!(t!==92||vf(e)||e===0)}function aM(t,e,n){return t===45?Aa(e)||e===45||mf(e,n):Aa(t)?!0:t===92?mf(t,e):!1}function lM(t,e,n){return t===43||t===45?ro(e)?2:e===46&&ro(n)?3:0:t===46?ro(e)?2:0:ro(t)?1:0}function cM(t){return t===65279||t===65534?1:0}var yf=new Array(128),Xv=128,Kv=130,Zv=131,xf=132,Qv=133;for(let t=0;t<yf.length;t++)yf[t]=Yv(t)&&Kv||ro(t)&&Zv||Aa(t)&&xf||$v(t)&&Qv||t||Xv;function uM(t){return t<128?yf[t]:xf}Oi.DigitCategory=Zv;Oi.EofCategory=Xv;Oi.NameStartCategory=xf;Oi.NonPrintableCategory=Qv;Oi.WhiteSpaceCategory=Kv;Oi.charCodeCategory=uM;Oi.isBOM=cM;Oi.isDigit=ro;Oi.isHexDigit=oM;Oi.isIdentifierStart=aM;Oi.isLetter=Gv;Oi.isLowercaseLetter=Uv;Oi.isName=sM;Oi.isNameStart=Aa;Oi.isNewline=vf;Oi.isNonAscii=Vv;Oi.isNonPrintable=$v;Oi.isNumberStart=lM;Oi.isUppercaseLetter=qv;Oi.isValidEscape=mf;Oi.isWhiteSpace=Yv});var xr=De(_n=>{"use strict";var gn=On();function ds(t,e){return e<t.length?t.charCodeAt(e):0}function Jv(t,e,n){return n===13&&ds(t,e+1)===10?2:1}function e0(t,e,n){let r=t.charCodeAt(e);return gn.isUppercaseLetter(r)&&(r=r|32),r===n}function hM(t,e,n,r){if(n-e!==r.length||e<0||n>t.length)return!1;for(let s=e;s<n;s++){let a=r.charCodeAt(s-e),h=t.charCodeAt(s);if(gn.isUppercaseLetter(h)&&(h=h|32),h!==a)return!1}return!0}function fM(t,e){for(;e>=0&&gn.isWhiteSpace(t.charCodeAt(e));e--);return e+1}function dM(t,e){for(;e<t.length&&gn.isWhiteSpace(t.charCodeAt(e));e++);return e}function _c(t,e){for(;e<t.length&&gn.isDigit(t.charCodeAt(e));e++);return e}function bf(t,e){if(e+=2,gn.isHexDigit(ds(t,e-1))){for(let r=Math.min(t.length,e+5);e<r&&gn.isHexDigit(ds(t,e));e++);let n=ds(t,e);gn.isWhiteSpace(n)&&(e+=Jv(t,e,n))}return e}function pM(t,e){for(;e<t.length;e++){let n=t.charCodeAt(e);if(!gn.isName(n)){if(gn.isValidEscape(n,ds(t,e+1))){e=bf(t,e)-1;continue}break}}return e}function gM(t,e){let n=t.charCodeAt(e);if((n===43||n===45)&&(n=t.charCodeAt(e+=1)),gn.isDigit(n)&&(e=_c(t,e+1),n=t.charCodeAt(e)),n===46&&gn.isDigit(t.charCodeAt(e+1))&&(e+=2,e=_c(t,e)),e0(t,e,101)){let r=0;n=t.charCodeAt(e+1),(n===45||n===43)&&(r=1,n=t.charCodeAt(e+2)),gn.isDigit(n)&&(e=_c(t,e+1+r+1))}return e}function mM(t,e){for(;e<t.length;e++){let n=t.charCodeAt(e);if(n===41){e++;break}gn.isValidEscape(n,ds(t,e+1))&&(e=bf(t,e))}return e}function yM(t){if(t.length===1&&!gn.isHexDigit(t.charCodeAt(0)))return t[0];let e=parseInt(t,16);return(e===0||e>=55296&&e<=57343||e>1114111)&&(e=65533),String.fromCodePoint(e)}_n.cmpChar=e0;_n.cmpStr=hM;_n.consumeBadUrlRemnants=mM;_n.consumeEscaped=bf;_n.consumeName=pM;_n.consumeNumber=gM;_n.decodeEscaped=yM;_n.findDecimalNumberEnd=_c;_n.findWhiteSpaceEnd=dM;_n.findWhiteSpaceStart=fM;_n.getNewlineLength=Jv});var Ma=De((y_,t0)=>{"use strict";var vM=["EOF-token","ident-token","function-token","at-keyword-token","hash-token","string-token","bad-string-token","url-token","bad-url-token","delim-token","number-token","percentage-token","dimension-token","whitespace-token","CDO-token","CDC-token","colon-token","semicolon-token","comma-token","[-token","]-token","(-token",")-token","{-token","}-token"];t0.exports=vM});var wf=De(i0=>{"use strict";function xM(t=null,e){return t===null||t.length<e?new Uint32Array(Math.max(e+1024,16384)):t}i0.adoptBuffer=xM});var Sf=De(a0=>{"use strict";var n0=wf(),bM=On(),r0=10,wM=12,o0=13;function s0(t){let e=t.source,n=e.length,r=e.length>0?bM.isBOM(e.charCodeAt(0)):0,s=n0.adoptBuffer(t.lines,n),a=n0.adoptBuffer(t.columns,n),h=t.startLine,f=t.startColumn;for(let g=r;g<n;g++){let p=e.charCodeAt(g);s[g]=h,a[g]=f++,(p===r0||p===o0||p===wM)&&(p===o0&&g+1<n&&e.charCodeAt(g+1)===r0&&(g++,s[g]=h,a[g]=f),h++,f=1)}s[n]=h,a[n]=f,t.lines=s,t.columns=a,t.computed=!0}var kf=class{constructor(){this.lines=null,this.columns=null,this.computed=!1}setSource(e,n=0,r=1,s=1){this.source=e,this.startOffset=n,this.startLine=r,this.startColumn=s,this.computed=!1}getLocation(e,n){return this.computed||s0(this),{source:n,offset:this.startOffset+e,line:this.lines[e],column:this.columns[e]}}getLocationRange(e,n,r){return this.computed||s0(this),{source:r,start:{offset:this.startOffset+e,line:this.lines[e],column:this.columns[e]},end:{offset:this.startOffset+n,line:this.lines[n],column:this.columns[n]}}}};a0.OffsetToLocation=kf});var Hc=De(c0=>{"use strict";var l0=wf(),kM=xr(),SM=Ma(),Ui=Ot(),Hn=16777215,oo=24,CM=new Map([[Ui.Function,Ui.RightParenthesis],[Ui.LeftParenthesis,Ui.RightParenthesis],[Ui.LeftSquareBracket,Ui.RightSquareBracket],[Ui.LeftCurlyBracket,Ui.RightCurlyBracket]]),Cf=class{constructor(e,n){this.setSource(e,n)}reset(){this.eof=!1,this.tokenIndex=-1,this.tokenType=0,this.tokenStart=this.firstCharOffset,this.tokenEnd=this.firstCharOffset}setSource(e="",n=()=>{}){e=String(e||"");let r=e.length,s=l0.adoptBuffer(this.offsetAndType,e.length+1),a=l0.adoptBuffer(this.balance,e.length+1),h=0,f=0,g=0,p=-1;for(this.offsetAndType=null,this.balance=null,n(e,(m,x,v)=>{switch(m){default:a[h]=r;break;case f:{let C=g&Hn;for(g=a[C],f=g>>oo,a[h]=C,a[C++]=h;C<h;C++)a[C]===r&&(a[C]=h);break}case Ui.LeftParenthesis:case Ui.Function:case Ui.LeftSquareBracket:case Ui.LeftCurlyBracket:a[h]=g,f=CM.get(m),g=f<<oo|h;break}s[h++]=m<<oo|v,p===-1&&(p=x)}),s[h]=Ui.EOF<<oo|r,a[h]=r,a[r]=r;g!==0;){let m=g&Hn;g=a[m],a[m]=r}this.source=e,this.firstCharOffset=p===-1?0:p,this.tokenCount=h,this.offsetAndType=s,this.balance=a,this.reset(),this.next()}lookupType(e){return e+=this.tokenIndex,e<this.tokenCount?this.offsetAndType[e]>>oo:Ui.EOF}lookupOffset(e){return e+=this.tokenIndex,e<this.tokenCount?this.offsetAndType[e-1]&Hn:this.source.length}lookupValue(e,n){return e+=this.tokenIndex,e<this.tokenCount?kM.cmpStr(this.source,this.offsetAndType[e-1]&Hn,this.offsetAndType[e]&Hn,n):!1}getTokenStart(e){return e===this.tokenIndex?this.tokenStart:e>0?e<this.tokenCount?this.offsetAndType[e-1]&Hn:this.offsetAndType[this.tokenCount]&Hn:this.firstCharOffset}substrToCursor(e){return this.source.substring(e,this.tokenStart)}isBalanceEdge(e){return this.balance[this.tokenIndex]<e}isDelim(e,n){return n?this.lookupType(n)===Ui.Delim&&this.source.charCodeAt(this.lookupOffset(n))===e:this.tokenType===Ui.Delim&&this.source.charCodeAt(this.tokenStart)===e}skip(e){let n=this.tokenIndex+e;n<this.tokenCount?(this.tokenIndex=n,this.tokenStart=this.offsetAndType[n-1]&Hn,n=this.offsetAndType[n],this.tokenType=n>>oo,this.tokenEnd=n&Hn):(this.tokenIndex=this.tokenCount,this.next())}next(){let e=this.tokenIndex+1;e<this.tokenCount?(this.tokenIndex=e,this.tokenStart=this.tokenEnd,e=this.offsetAndType[e],this.tokenType=e>>oo,this.tokenEnd=e&Hn):(this.eof=!0,this.tokenIndex=this.tokenCount,this.tokenType=Ui.EOF,this.tokenStart=this.tokenEnd=this.source.length)}skipSC(){for(;this.tokenType===Ui.WhiteSpace||this.tokenType===Ui.Comment;)this.next()}skipUntilBalanced(e,n){let r=e,s,a;e:for(;r<this.tokenCount;r++){if(s=this.balance[r],s<e)break e;switch(a=r>0?this.offsetAndType[r-1]&Hn:this.firstCharOffset,n(this.source.charCodeAt(a))){case 1:break e;case 2:r++;break e;default:this.balance[s]===r&&(r=s)}}this.skip(r-this.tokenIndex)}forEachToken(e){for(let n=0,r=this.firstCharOffset;n<this.tokenCount;n++){let s=r,a=this.offsetAndType[n],h=a&Hn,f=a>>oo;r=h,e(f,s,h,n)}}dump(){let e=new Array(this.tokenCount);return this.forEachToken((n,r,s,a)=>{e[a]={idx:a,type:SM[n],chunk:this.source.substring(r,s),balance:this.balance[a]}}),e}};c0.TokenStream=Cf});var Ea=De(it=>{"use strict";var rt=Ot(),Ht=On(),pi=xr(),TM=Ma(),LM=Sf(),AM=Hc();function MM(t,e){function n(x){return x<f?t.charCodeAt(x):0}function r(){if(p=pi.consumeNumber(t,p),Ht.isIdentifierStart(n(p),n(p+1),n(p+2))){m=rt.Dimension,p=pi.consumeName(t,p);return}if(n(p)===37){m=rt.Percentage,p++;return}m=rt.Number}function s(){let x=p;if(p=pi.consumeName(t,p),pi.cmpStr(t,x,p,"url")&&n(p)===40){if(p=pi.findWhiteSpaceEnd(t,p+1),n(p)===34||n(p)===39){m=rt.Function,p=x+4;return}h();return}if(n(p)===40){m=rt.Function,p++;return}m=rt.Ident}function a(x){for(x||(x=n(p++)),m=rt.String;p<t.length;p++){let v=t.charCodeAt(p);switch(Ht.charCodeCategory(v)){case x:p++;return;case Ht.WhiteSpaceCategory:if(Ht.isNewline(v)){p+=pi.getNewlineLength(t,p,v),m=rt.BadString;return}break;case 92:if(p===t.length-1)break;let C=n(p+1);Ht.isNewline(C)?p+=pi.getNewlineLength(t,p+1,C):Ht.isValidEscape(v,C)&&(p=pi.consumeEscaped(t,p)-1);break}}}function h(){for(m=rt.Url,p=pi.findWhiteSpaceEnd(t,p);p<t.length;p++){let x=t.charCodeAt(p);switch(Ht.charCodeCategory(x)){case 41:p++;return;case Ht.WhiteSpaceCategory:if(p=pi.findWhiteSpaceEnd(t,p),n(p)===41||p>=t.length){p<t.length&&p++;return}p=pi.consumeBadUrlRemnants(t,p),m=rt.BadUrl;return;case 34:case 39:case 40:case Ht.NonPrintableCategory:p=pi.consumeBadUrlRemnants(t,p),m=rt.BadUrl;return;case 92:if(Ht.isValidEscape(x,n(p+1))){p=pi.consumeEscaped(t,p)-1;break}p=pi.consumeBadUrlRemnants(t,p),m=rt.BadUrl;return}}}t=String(t||"");let f=t.length,g=Ht.isBOM(n(0)),p=g,m;for(;p<f;){let x=t.charCodeAt(p);switch(Ht.charCodeCategory(x)){case Ht.WhiteSpaceCategory:m=rt.WhiteSpace,p=pi.findWhiteSpaceEnd(t,p+1);break;case 34:a();break;case 35:Ht.isName(n(p+1))||Ht.isValidEscape(n(p+1),n(p+2))?(m=rt.Hash,p=pi.consumeName(t,p+1)):(m=rt.Delim,p++);break;case 39:a();break;case 40:m=rt.LeftParenthesis,p++;break;case 41:m=rt.RightParenthesis,p++;break;case 43:Ht.isNumberStart(x,n(p+1),n(p+2))?r():(m=rt.Delim,p++);break;case 44:m=rt.Comma,p++;break;case 45:Ht.isNumberStart(x,n(p+1),n(p+2))?r():n(p+1)===45&&n(p+2)===62?(m=rt.CDC,p=p+3):Ht.isIdentifierStart(x,n(p+1),n(p+2))?s():(m=rt.Delim,p++);break;case 46:Ht.isNumberStart(x,n(p+1),n(p+2))?r():(m=rt.Delim,p++);break;case 47:n(p+1)===42?(m=rt.Comment,p=t.indexOf("*/",p+2),p=p===-1?t.length:p+2):(m=rt.Delim,p++);break;case 58:m=rt.Colon,p++;break;case 59:m=rt.Semicolon,p++;break;case 60:n(p+1)===33&&n(p+2)===45&&n(p+3)===45?(m=rt.CDO,p=p+4):(m=rt.Delim,p++);break;case 64:Ht.isIdentifierStart(n(p+1),n(p+2),n(p+3))?(m=rt.AtKeyword,p=pi.consumeName(t,p+1)):(m=rt.Delim,p++);break;case 91:m=rt.LeftSquareBracket,p++;break;case 92:Ht.isValidEscape(x,n(p+1))?s():(m=rt.Delim,p++);break;case 93:m=rt.RightSquareBracket,p++;break;case 123:m=rt.LeftCurlyBracket,p++;break;case 125:m=rt.RightCurlyBracket,p++;break;case Ht.DigitCategory:r();break;case Ht.NameStartCategory:s();break;default:m=rt.Delim,p++}e(m,g,g=p)}}it.AtKeyword=rt.AtKeyword;it.BadString=rt.BadString;it.BadUrl=rt.BadUrl;it.CDC=rt.CDC;it.CDO=rt.CDO;it.Colon=rt.Colon;it.Comma=rt.Comma;it.Comment=rt.Comment;it.Delim=rt.Delim;it.Dimension=rt.Dimension;it.EOF=rt.EOF;it.Function=rt.Function;it.Hash=rt.Hash;it.Ident=rt.Ident;it.LeftCurlyBracket=rt.LeftCurlyBracket;it.LeftParenthesis=rt.LeftParenthesis;it.LeftSquareBracket=rt.LeftSquareBracket;it.Number=rt.Number;it.Percentage=rt.Percentage;it.RightCurlyBracket=rt.RightCurlyBracket;it.RightParenthesis=rt.RightParenthesis;it.RightSquareBracket=rt.RightSquareBracket;it.Semicolon=rt.Semicolon;it.String=rt.String;it.Url=rt.Url;it.WhiteSpace=rt.WhiteSpace;it.tokenTypes=rt;it.DigitCategory=Ht.DigitCategory;it.EofCategory=Ht.EofCategory;it.NameStartCategory=Ht.NameStartCategory;it.NonPrintableCategory=Ht.NonPrintableCategory;it.WhiteSpaceCategory=Ht.WhiteSpaceCategory;it.charCodeCategory=Ht.charCodeCategory;it.isBOM=Ht.isBOM;it.isDigit=Ht.isDigit;it.isHexDigit=Ht.isHexDigit;it.isIdentifierStart=Ht.isIdentifierStart;it.isLetter=Ht.isLetter;it.isLowercaseLetter=Ht.isLowercaseLetter;it.isName=Ht.isName;it.isNameStart=Ht.isNameStart;it.isNewline=Ht.isNewline;it.isNonAscii=Ht.isNonAscii;it.isNonPrintable=Ht.isNonPrintable;it.isNumberStart=Ht.isNumberStart;it.isUppercaseLetter=Ht.isUppercaseLetter;it.isValidEscape=Ht.isValidEscape;it.isWhiteSpace=Ht.isWhiteSpace;it.cmpChar=pi.cmpChar;it.cmpStr=pi.cmpStr;it.consumeBadUrlRemnants=pi.consumeBadUrlRemnants;it.consumeEscaped=pi.consumeEscaped;it.consumeName=pi.consumeName;it.consumeNumber=pi.consumeNumber;it.decodeEscaped=pi.decodeEscaped;it.findDecimalNumberEnd=pi.findDecimalNumberEnd;it.findWhiteSpaceEnd=pi.findWhiteSpaceEnd;it.findWhiteSpaceStart=pi.findWhiteSpaceStart;it.getNewlineLength=pi.getNewlineLength;it.tokenNames=TM;it.OffsetToLocation=LM.OffsetToLocation;it.TokenStream=AM.TokenStream;it.tokenize=MM});var Eo=De(u0=>{"use strict";var ps=null,wn=class{static createItem(e){return{prev:null,next:null,data:e}}constructor(){this.head=null,this.tail=null,this.cursor=null}createItem(e){return wn.createItem(e)}allocateCursor(e,n){let r;return ps!==null?(r=ps,ps=ps.cursor,r.prev=e,r.next=n,r.cursor=this.cursor):r={prev:e,next:n,cursor:this.cursor},this.cursor=r,r}releaseCursor(){let{cursor:e}=this;this.cursor=e.cursor,e.prev=null,e.next=null,e.cursor=ps,ps=e}updateCursors(e,n,r,s){let{cursor:a}=this;for(;a!==null;)a.prev===e&&(a.prev=n),a.next===r&&(a.next=s),a=a.cursor}*[Symbol.iterator](){for(let e=this.head;e!==null;e=e.next)yield e.data}get size(){let e=0;for(let n=this.head;n!==null;n=n.next)e++;return e}get isEmpty(){return this.head===null}get first(){return this.head&&this.head.data}get last(){return this.tail&&this.tail.data}fromArray(e){let n=null;this.head=null;for(let r of e){let s=wn.createItem(r);n!==null?n.next=s:this.head=s,s.prev=n,n=s}return this.tail=n,this}toArray(){return[...this]}toJSON(){return[...this]}forEach(e,n=this){let r=this.allocateCursor(null,this.head);for(;r.next!==null;){let s=r.next;r.next=s.next,e.call(n,s.data,s,this)}this.releaseCursor()}forEachRight(e,n=this){let r=this.allocateCursor(this.tail,null);for(;r.prev!==null;){let s=r.prev;r.prev=s.prev,e.call(n,s.data,s,this)}this.releaseCursor()}reduce(e,n,r=this){let s=this.allocateCursor(null,this.head),a=n,h;for(;s.next!==null;)h=s.next,s.next=h.next,a=e.call(r,a,h.data,h,this);return this.releaseCursor(),a}reduceRight(e,n,r=this){let s=this.allocateCursor(this.tail,null),a=n,h;for(;s.prev!==null;)h=s.prev,s.prev=h.prev,a=e.call(r,a,h.data,h,this);return this.releaseCursor(),a}some(e,n=this){for(let r=this.head;r!==null;r=r.next)if(e.call(n,r.data,r,this))return!0;return!1}map(e,n=this){let r=new wn;for(let s=this.head;s!==null;s=s.next)r.appendData(e.call(n,s.data,s,this));return r}filter(e,n=this){let r=new wn;for(let s=this.head;s!==null;s=s.next)e.call(n,s.data,s,this)&&r.appendData(s.data);return r}nextUntil(e,n,r=this){if(e===null)return;let s=this.allocateCursor(null,e);for(;s.next!==null;){let a=s.next;if(s.next=a.next,n.call(r,a.data,a,this))break}this.releaseCursor()}prevUntil(e,n,r=this){if(e===null)return;let s=this.allocateCursor(e,null);for(;s.prev!==null;){let a=s.prev;if(s.prev=a.prev,n.call(r,a.data,a,this))break}this.releaseCursor()}clear(){this.head=null,this.tail=null}copy(){let e=new wn;for(let n of this)e.appendData(n);return e}prepend(e){return this.updateCursors(null,e,this.head,e),this.head!==null?(this.head.prev=e,e.next=this.head):this.tail=e,this.head=e,this}prependData(e){return this.prepend(wn.createItem(e))}append(e){return this.insert(e)}appendData(e){return this.insert(wn.createItem(e))}insert(e,n=null){if(n!==null)if(this.updateCursors(n.prev,e,n,e),n.prev===null){if(this.head!==n)throw new Error("before doesn't belong to list");this.head=e,n.prev=e,e.next=n,this.updateCursors(null,e)}else n.prev.next=e,e.prev=n.prev,n.prev=e,e.next=n;else this.updateCursors(this.tail,e,null,e),this.tail!==null?(this.tail.next=e,e.prev=this.tail):this.head=e,this.tail=e;return this}insertData(e,n){return this.insert(wn.createItem(e),n)}remove(e){if(this.updateCursors(e,e.prev,e,e.next),e.prev!==null)e.prev.next=e.next;else{if(this.head!==e)throw new Error("item doesn't belong to list");this.head=e.next}if(e.next!==null)e.next.prev=e.prev;else{if(this.tail!==e)throw new Error("item doesn't belong to list");this.tail=e.prev}return e.prev=null,e.next=null,e}push(e){this.insert(wn.createItem(e))}pop(){return this.tail!==null?this.remove(this.tail):null}unshift(e){this.prepend(wn.createItem(e))}shift(){return this.head!==null?this.remove(this.head):null}prependList(e){return this.insertList(e,this.head)}appendList(e){return this.insertList(e)}insertList(e,n){return e.head===null?this:(n!=null?(this.updateCursors(n.prev,e.tail,n,e.head),n.prev!==null?(n.prev.next=e.head,e.head.prev=n.prev):this.head=e.head,n.prev=e.tail,e.tail.next=n):(this.updateCursors(this.tail,e.tail,null,e.head),this.tail!==null?(this.tail.next=e.head,e.head.prev=this.tail):this.head=e.head,this.tail=e.tail),e.head=null,e.tail=null,this)}replace(e,n){"head"in n?this.insertList(n,e):this.insert(n,e),this.remove(e)}};u0.List=wn});var Wc=De(h0=>{"use strict";function EM(t,e){let n=Object.create(SyntaxError.prototype),r=new Error;return Object.assign(n,{name:t,message:e,get stack(){return(r.stack||"").replace(/^(.+\n){1,3}/,`${t}: ${e}
`)}})}h0.createCustomError=EM});var m0=De(g0=>{"use strict";var PM=Wc(),Tf=100,f0=60,d0="    ";function p0({source:t,line:e,column:n},r){function s(m,x){return a.slice(m,x).map((v,C)=>String(m+C+1).padStart(g)+" |"+v).join(`
`)}let a=t.split(/\r\n?|\n|\f/),h=Math.max(1,e-r)-1,f=Math.min(e+r,a.length+1),g=Math.max(4,String(f).length)+1,p=0;n+=(d0.length-1)*(a[e-1].substr(0,n-1).match(/\t/g)||[]).length,n>Tf&&(p=n-f0+3,n=f0-2);for(let m=h;m<=f;m++)m>=0&&m<a.length&&(a[m]=a[m].replace(/\t/g,d0),a[m]=(p>0&&a[m].length>p?"\u2026":"")+a[m].substr(p,Tf-2)+(a[m].length>p+Tf-1?"\u2026":""));return[s(h,e),new Array(n+g+2).join("-")+"^",s(e,f)].filter(Boolean).join(`
`)}function OM(t,e,n,r,s){return Object.assign(PM.createCustomError("SyntaxError",t),{source:e,offset:n,line:r,column:s,sourceFragment(h){return p0({source:e,line:r,column:s},isNaN(h)?0:h)},get formattedMessage(){return`Parse error: ${t}
`+p0({source:e,line:r,column:s},2)}})}g0.SyntaxError=OM});var x0=De(v0=>{"use strict";var y0=Ot();function NM(t){let e=this.createList(),n=!1,r={recognizer:t};for(;!this.eof;){switch(this.tokenType){case y0.Comment:this.next();continue;case y0.WhiteSpace:n=!0,this.next();continue}let s=t.getNode.call(this,r);if(s===void 0)break;n&&(t.onWhiteSpace&&t.onWhiteSpace.call(this,s,e,r),n=!1),e.push(s)}return n&&t.onWhiteSpace&&t.onWhiteSpace.call(this,null,e,r),e}v0.readSequence=NM});var L0=De(T0=>{"use strict";var b0=Eo(),w0=m0(),DM=Ea(),IM=x0(),RM=Sf(),jM=Hc(),Pa=xr(),br=Ot(),zM=Ma(),k0=()=>{},BM=33,FM=35,Lf=59,S0=123,C0=0;function _M(t){return function(){return this[t]()}}function Af(t){let e=Object.create(null);for(let n in t){let r=t[n],s=r.parse||r;s&&(e[n]=s)}return e}function HM(t){let e={context:Object.create(null),scope:Object.assign(Object.create(null),t.scope),atrule:Af(t.atrule),pseudo:Af(t.pseudo),node:Af(t.node)};for(let n in t.parseContext)switch(typeof t.parseContext[n]){case"function":e.context[n]=t.parseContext[n];break;case"string":e.context[n]=_M(t.parseContext[n]);break}return{config:e,...e,...e.node}}function WM(t){let e="",n="<unknown>",r=!1,s=k0,a=!1,h=new RM.OffsetToLocation,f=Object.assign(new jM.TokenStream,HM(t||{}),{parseAtrulePrelude:!0,parseRulePrelude:!0,parseValue:!0,parseCustomProperty:!1,readSequence:IM.readSequence,consumeUntilBalanceEnd:()=>0,consumeUntilLeftCurlyBracket(p){return p===S0?1:0},consumeUntilLeftCurlyBracketOrSemicolon(p){return p===S0||p===Lf?1:0},consumeUntilExclamationMarkOrSemicolon(p){return p===BM||p===Lf?1:0},consumeUntilSemicolonIncluded(p){return p===Lf?2:0},createList(){return new b0.List},createSingleNodeList(p){return new b0.List().appendData(p)},getFirstListNode(p){return p&&p.first},getLastListNode(p){return p&&p.last},parseWithFallback(p,m){let x=this.tokenIndex;try{return p.call(this)}catch(v){if(a)throw v;let C=m.call(this,x);return a=!0,s(v,C),a=!1,C}},lookupNonWSType(p){let m;do if(m=this.lookupType(p++),m!==br.WhiteSpace)return m;while(m!==C0);return C0},charCodeAt(p){return p>=0&&p<e.length?e.charCodeAt(p):0},substring(p,m){return e.substring(p,m)},substrToCursor(p){return this.source.substring(p,this.tokenStart)},cmpChar(p,m){return Pa.cmpChar(e,p,m)},cmpStr(p,m,x){return Pa.cmpStr(e,p,m,x)},consume(p){let m=this.tokenStart;return this.eat(p),this.substrToCursor(m)},consumeFunctionName(){let p=e.substring(this.tokenStart,this.tokenEnd-1);return this.eat(br.Function),p},consumeNumber(p){let m=e.substring(this.tokenStart,Pa.consumeNumber(e,this.tokenStart));return this.eat(p),m},eat(p){if(this.tokenType!==p){let m=zM[p].slice(0,-6).replace(/-/g," ").replace(/^./,C=>C.toUpperCase()),x=`${/[[\](){}]/.test(m)?`"${m}"`:m} is expected`,v=this.tokenStart;switch(p){case br.Ident:this.tokenType===br.Function||this.tokenType===br.Url?(v=this.tokenEnd-1,x="Identifier is expected but function found"):x="Identifier is expected";break;case br.Hash:this.isDelim(FM)&&(this.next(),v++,x="Name is expected");break;case br.Percentage:this.tokenType===br.Number&&(v=this.tokenEnd,x="Percent sign is expected");break}this.error(x,v)}this.next()},eatIdent(p){(this.tokenType!==br.Ident||this.lookupValue(0,p)===!1)&&this.error(`Identifier "${p}" is expected`),this.next()},eatDelim(p){this.isDelim(p)||this.error(`Delim "${String.fromCharCode(p)}" is expected`),this.next()},getLocation(p,m){return r?h.getLocationRange(p,m,n):null},getLocationFromList(p){if(r){let m=this.getFirstListNode(p),x=this.getLastListNode(p);return h.getLocationRange(m!==null?m.loc.start.offset-h.startOffset:this.tokenStart,x!==null?x.loc.end.offset-h.startOffset:this.tokenStart,n)}return null},error(p,m){let x=typeof m<"u"&&m<e.length?h.getLocation(m):this.eof?h.getLocation(Pa.findWhiteSpaceStart(e,e.length-1)):h.getLocation(this.tokenStart);throw new w0.SyntaxError(p||"Unexpected input",e,x.offset,x.line,x.column)}});return Object.assign(function(p,m){e=p,m=m||{},f.setSource(e,DM.tokenize),h.setSource(e,m.offset,m.line,m.column),n=m.filename||"<unknown>",r=Boolean(m.positions),s=typeof m.onParseError=="function"?m.onParseError:k0,a=!1,f.parseAtrulePrelude="parseAtrulePrelude"in m?Boolean(m.parseAtrulePrelude):!0,f.parseRulePrelude="parseRulePrelude"in m?Boolean(m.parseRulePrelude):!0,f.parseValue="parseValue"in m?Boolean(m.parseValue):!0,f.parseCustomProperty="parseCustomProperty"in m?Boolean(m.parseCustomProperty):!1;let{context:x="default",onComment:v}=m;if(!(x in f.context))throw new Error("Unknown context `"+x+"`");typeof v=="function"&&f.forEachToken((w,b,T)=>{if(w===br.Comment){let M=f.getLocation(b,T),L=Pa.cmpStr(e,T-2,T,"*/")?e.slice(b+2,T-2):e.slice(b+2,T);v(L,M)}});let C=f.context[x].call(f,m);return f.eof||f.error(),C},{SyntaxError:w0.SyntaxError,config:f.config})}T0.createParser=WM});var M0=De(Mf=>{var A0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");Mf.encode=function(t){if(0<=t&&t<A0.length)return A0[t];throw new TypeError("Must be between 0 and 63: "+t)};Mf.decode=function(t){var e=65,n=90,r=97,s=122,a=48,h=57,f=43,g=47,p=26,m=52;return e<=t&&t<=n?t-e:r<=t&&t<=s?t-r+p:a<=t&&t<=h?t-a+m:t==f?62:t==g?63:-1}});var D0=De(Pf=>{var E0=M0(),Ef=5,P0=1<<Ef,O0=P0-1,N0=P0;function qM(t){return t<0?(-t<<1)+1:(t<<1)+0}function UM(t){var e=(t&1)===1,n=t>>1;return e?-n:n}Pf.encode=function(e){var n="",r,s=qM(e);do r=s&O0,s>>>=Ef,s>0&&(r|=N0),n+=E0.encode(r);while(s>0);return n};Pf.decode=function(e,n,r){var s=e.length,a=0,h=0,f,g;do{if(n>=s)throw new Error("Expected more digits in base 64 VLQ value.");if(g=E0.decode(e.charCodeAt(n++)),g===-1)throw new Error("Invalid base64 digit: "+e.charAt(n-1));f=!!(g&N0),g&=O0,a=a+(g<<h),h+=Ef}while(f);r.value=UM(a),r.rest=n}});var qc=De(Vi=>{function GM(t,e,n){if(e in t)return t[e];if(arguments.length===3)return n;throw new Error('"'+e+'" is a required argument.')}Vi.getArg=GM;var I0=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,VM=/^data:.+\,.+$/;function Oa(t){var e=t.match(I0);return e?{scheme:e[1],auth:e[2],host:e[3],port:e[4],path:e[5]}:null}Vi.urlParse=Oa;function gs(t){var e="";return t.scheme&&(e+=t.scheme+":"),e+="//",t.auth&&(e+=t.auth+"@"),t.host&&(e+=t.host),t.port&&(e+=":"+t.port),t.path&&(e+=t.path),e}Vi.urlGenerate=gs;var $M=32;function YM(t){var e=[];return function(n){for(var r=0;r<e.length;r++)if(e[r].input===n){var s=e[0];return e[0]=e[r],e[r]=s,e[0].result}var a=t(n);return e.unshift({input:n,result:a}),e.length>$M&&e.pop(),a}}var Of=YM(function(e){var n=e,r=Oa(e);if(r){if(!r.path)return e;n=r.path}for(var s=Vi.isAbsolute(n),a=[],h=0,f=0;;)if(h=f,f=n.indexOf("/",h),f===-1){a.push(n.slice(h));break}else for(a.push(n.slice(h,f));f<n.length&&n[f]==="/";)f++;for(var g,p=0,f=a.length-1;f>=0;f--)g=a[f],g==="."?a.splice(f,1):g===".."?p++:p>0&&(g===""?(a.splice(f+1,p),p=0):(a.splice(f,2),p--));return n=a.join("/"),n===""&&(n=s?"/":"."),r?(r.path=n,gs(r)):n});Vi.normalize=Of;function R0(t,e){t===""&&(t="."),e===""&&(e=".");var n=Oa(e),r=Oa(t);if(r&&(t=r.path||"/"),n&&!n.scheme)return r&&(n.scheme=r.scheme),gs(n);if(n||e.match(VM))return e;if(r&&!r.host&&!r.path)return r.host=e,gs(r);var s=e.charAt(0)==="/"?e:Of(t.replace(/\/+$/,"")+"/"+e);return r?(r.path=s,gs(r)):s}Vi.join=R0;Vi.isAbsolute=function(t){return t.charAt(0)==="/"||I0.test(t)};function XM(t,e){t===""&&(t="."),t=t.replace(/\/$/,"");for(var n=0;e.indexOf(t+"/")!==0;){var r=t.lastIndexOf("/");if(r<0||(t=t.slice(0,r),t.match(/^([^\/]+:\/)?\/*$/)))return e;++n}return Array(n+1).join("../")+e.substr(t.length+1)}Vi.relative=XM;var j0=function(){var t=Object.create(null);return!("__proto__"in t)}();function z0(t){return t}function KM(t){return B0(t)?"$"+t:t}Vi.toSetString=j0?z0:KM;function ZM(t){return B0(t)?t.slice(1):t}Vi.fromSetString=j0?z0:ZM;function B0(t){if(!t)return!1;var e=t.length;if(e<9||t.charCodeAt(e-1)!==95||t.charCodeAt(e-2)!==95||t.charCodeAt(e-3)!==111||t.charCodeAt(e-4)!==116||t.charCodeAt(e-5)!==111||t.charCodeAt(e-6)!==114||t.charCodeAt(e-7)!==112||t.charCodeAt(e-8)!==95||t.charCodeAt(e-9)!==95)return!1;for(var n=e-10;n>=0;n--)if(t.charCodeAt(n)!==36)return!1;return!0}function QM(t,e,n){var r=zr(t.source,e.source);return r!==0||(r=t.originalLine-e.originalLine,r!==0)||(r=t.originalColumn-e.originalColumn,r!==0||n)||(r=t.generatedColumn-e.generatedColumn,r!==0)||(r=t.generatedLine-e.generatedLine,r!==0)?r:zr(t.name,e.name)}Vi.compareByOriginalPositions=QM;function JM(t,e,n){var r;return r=t.originalLine-e.originalLine,r!==0||(r=t.originalColumn-e.originalColumn,r!==0||n)||(r=t.generatedColumn-e.generatedColumn,r!==0)||(r=t.generatedLine-e.generatedLine,r!==0)?r:zr(t.name,e.name)}Vi.compareByOriginalPositionsNoSource=JM;function e3(t,e,n){var r=t.generatedLine-e.generatedLine;return r!==0||(r=t.generatedColumn-e.generatedColumn,r!==0||n)||(r=zr(t.source,e.source),r!==0)||(r=t.originalLine-e.originalLine,r!==0)||(r=t.originalColumn-e.originalColumn,r!==0)?r:zr(t.name,e.name)}Vi.compareByGeneratedPositionsDeflated=e3;function t3(t,e,n){var r=t.generatedColumn-e.generatedColumn;return r!==0||n||(r=zr(t.source,e.source),r!==0)||(r=t.originalLine-e.originalLine,r!==0)||(r=t.originalColumn-e.originalColumn,r!==0)?r:zr(t.name,e.name)}Vi.compareByGeneratedPositionsDeflatedNoLine=t3;function zr(t,e){return t===e?0:t===null?1:e===null?-1:t>e?1:-1}function i3(t,e){var n=t.generatedLine-e.generatedLine;return n!==0||(n=t.generatedColumn-e.generatedColumn,n!==0)||(n=zr(t.source,e.source),n!==0)||(n=t.originalLine-e.originalLine,n!==0)||(n=t.originalColumn-e.originalColumn,n!==0)?n:zr(t.name,e.name)}Vi.compareByGeneratedPositionsInflated=i3;function n3(t){return JSON.parse(t.replace(/^\)]}'[^\n]*\n/,""))}Vi.parseSourceMapInput=n3;function r3(t,e,n){if(e=e||"",t&&(t[t.length-1]!=="/"&&e[0]!=="/"&&(t+="/"),e=t+e),n){var r=Oa(n);if(!r)throw new Error("sourceMapURL could not be parsed");if(r.path){var s=r.path.lastIndexOf("/");s>=0&&(r.path=r.path.substring(0,s+1))}e=R0(gs(r),e)}return Of(e)}Vi.computeSourceURL=r3});var _0=De(F0=>{var Nf=qc(),Df=Object.prototype.hasOwnProperty,Po=typeof Map<"u";function Br(){this._array=[],this._set=Po?new Map:Object.create(null)}Br.fromArray=function(e,n){for(var r=new Br,s=0,a=e.length;s<a;s++)r.add(e[s],n);return r};Br.prototype.size=function(){return Po?this._set.size:Object.getOwnPropertyNames(this._set).length};Br.prototype.add=function(e,n){var r=Po?e:Nf.toSetString(e),s=Po?this.has(e):Df.call(this._set,r),a=this._array.length;(!s||n)&&this._array.push(e),s||(Po?this._set.set(e,a):this._set[r]=a)};Br.prototype.has=function(e){if(Po)return this._set.has(e);var n=Nf.toSetString(e);return Df.call(this._set,n)};Br.prototype.indexOf=function(e){if(Po){var n=this._set.get(e);if(n>=0)return n}else{var r=Nf.toSetString(e);if(Df.call(this._set,r))return this._set[r]}throw new Error('"'+e+'" is not in the set.')};Br.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)};Br.prototype.toArray=function(){return this._array.slice()};F0.ArraySet=Br});var q0=De(W0=>{var H0=qc();function o3(t,e){var n=t.generatedLine,r=e.generatedLine,s=t.generatedColumn,a=e.generatedColumn;return r>n||r==n&&a>=s||H0.compareByGeneratedPositionsInflated(t,e)<=0}function Uc(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}Uc.prototype.unsortedForEach=function(e,n){this._array.forEach(e,n)};Uc.prototype.add=function(e){o3(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))};Uc.prototype.toArray=function(){return this._sorted||(this._array.sort(H0.compareByGeneratedPositionsInflated),this._sorted=!0),this._array};W0.MappingList=Uc});var G0=De(U0=>{var Na=D0(),Bi=qc(),Gc=_0().ArraySet,s3=q0().MappingList;function Wn(t){t||(t={}),this._file=Bi.getArg(t,"file",null),this._sourceRoot=Bi.getArg(t,"sourceRoot",null),this._skipValidation=Bi.getArg(t,"skipValidation",!1),this._sources=new Gc,this._names=new Gc,this._mappings=new s3,this._sourcesContents=null}Wn.prototype._version=3;Wn.fromSourceMap=function(e){var n=e.sourceRoot,r=new Wn({file:e.file,sourceRoot:n});return e.eachMapping(function(s){var a={generated:{line:s.generatedLine,column:s.generatedColumn}};s.source!=null&&(a.source=s.source,n!=null&&(a.source=Bi.relative(n,a.source)),a.original={line:s.originalLine,column:s.originalColumn},s.name!=null&&(a.name=s.name)),r.addMapping(a)}),e.sources.forEach(function(s){var a=s;n!==null&&(a=Bi.relative(n,s)),r._sources.has(a)||r._sources.add(a);var h=e.sourceContentFor(s);h!=null&&r.setSourceContent(s,h)}),r};Wn.prototype.addMapping=function(e){var n=Bi.getArg(e,"generated"),r=Bi.getArg(e,"original",null),s=Bi.getArg(e,"source",null),a=Bi.getArg(e,"name",null);this._skipValidation||this._validateMapping(n,r,s,a),s!=null&&(s=String(s),this._sources.has(s)||this._sources.add(s)),a!=null&&(a=String(a),this._names.has(a)||this._names.add(a)),this._mappings.add({generatedLine:n.line,generatedColumn:n.column,originalLine:r!=null&&r.line,originalColumn:r!=null&&r.column,source:s,name:a})};Wn.prototype.setSourceContent=function(e,n){var r=e;this._sourceRoot!=null&&(r=Bi.relative(this._sourceRoot,r)),n!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[Bi.toSetString(r)]=n):this._sourcesContents&&(delete this._sourcesContents[Bi.toSetString(r)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))};Wn.prototype.applySourceMap=function(e,n,r){var s=n;if(n==null){if(e.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);s=e.file}var a=this._sourceRoot;a!=null&&(s=Bi.relative(a,s));var h=new Gc,f=new Gc;this._mappings.unsortedForEach(function(g){if(g.source===s&&g.originalLine!=null){var p=e.originalPositionFor({line:g.originalLine,column:g.originalColumn});p.source!=null&&(g.source=p.source,r!=null&&(g.source=Bi.join(r,g.source)),a!=null&&(g.source=Bi.relative(a,g.source)),g.originalLine=p.line,g.originalColumn=p.column,p.name!=null&&(g.name=p.name))}var m=g.source;m!=null&&!h.has(m)&&h.add(m);var x=g.name;x!=null&&!f.has(x)&&f.add(x)},this),this._sources=h,this._names=f,e.sources.forEach(function(g){var p=e.sourceContentFor(g);p!=null&&(r!=null&&(g=Bi.join(r,g)),a!=null&&(g=Bi.relative(a,g)),this.setSourceContent(g,p))},this)};Wn.prototype._validateMapping=function(e,n,r,s){if(n&&typeof n.line!="number"&&typeof n.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!n&&!r&&!s)){if(e&&"line"in e&&"column"in e&&n&&"line"in n&&"column"in n&&e.line>0&&e.column>=0&&n.line>0&&n.column>=0&&r)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:n,name:s}))}};Wn.prototype._serializeMappings=function(){for(var e=0,n=1,r=0,s=0,a=0,h=0,f="",g,p,m,x,v=this._mappings.toArray(),C=0,w=v.length;C<w;C++){if(p=v[C],g="",p.generatedLine!==n)for(e=0;p.generatedLine!==n;)g+=";",n++;else if(C>0){if(!Bi.compareByGeneratedPositionsInflated(p,v[C-1]))continue;g+=","}g+=Na.encode(p.generatedColumn-e),e=p.generatedColumn,p.source!=null&&(x=this._sources.indexOf(p.source),g+=Na.encode(x-h),h=x,g+=Na.encode(p.originalLine-1-s),s=p.originalLine-1,g+=Na.encode(p.originalColumn-r),r=p.originalColumn,p.name!=null&&(m=this._names.indexOf(p.name),g+=Na.encode(m-a),a=m)),f+=g}return f};Wn.prototype._generateSourcesContent=function(e,n){return e.map(function(r){if(!this._sourcesContents)return null;n!=null&&(r=Bi.relative(n,r));var s=Bi.toSetString(r);return Object.prototype.hasOwnProperty.call(this._sourcesContents,s)?this._sourcesContents[s]:null},this)};Wn.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(e.file=this._file),this._sourceRoot!=null&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e};Wn.prototype.toString=function(){return JSON.stringify(this.toJSON())};U0.SourceMapGenerator=Wn});var Y0=De($0=>{"use strict";var a3=G0(),V0=new Set(["Atrule","Selector","Declaration"]);function l3(t){let e=new a3.SourceMapGenerator,n={line:1,column:0},r={line:0,column:0},s={line:1,column:0},a={generated:s},h=1,f=0,g=!1,p=t.node;t.node=function(v){if(v.loc&&v.loc.start&&V0.has(v.type)){let C=v.loc.start.line,w=v.loc.start.column-1;(r.line!==C||r.column!==w)&&(r.line=C,r.column=w,n.line=h,n.column=f,g&&(g=!1,(n.line!==s.line||n.column!==s.column)&&e.addMapping(a)),g=!0,e.addMapping({source:v.loc.source,original:r,generated:n}))}p.call(this,v),g&&V0.has(v.type)&&(s.line=h,s.column=f)};let m=t.emit;t.emit=function(v,C,w){for(let b=0;b<v.length;b++)v.charCodeAt(b)===10?(h++,f=0):f++;m(v,C,w)};let x=t.result;return t.result=function(){return g&&e.addMapping(a),{css:x(),map:e}},t}$0.generateSourceMap=l3});var Z0=De(Rf=>{"use strict";var Ee=Ot(),c3=43,u3=45,If=(t,e)=>{if(t===Ee.Delim&&(t=e),typeof t=="string"){let n=t.charCodeAt(0);return n>127?32768:n<<8}return t},X0=[[Ee.Ident,Ee.Ident],[Ee.Ident,Ee.Function],[Ee.Ident,Ee.Url],[Ee.Ident,Ee.BadUrl],[Ee.Ident,"-"],[Ee.Ident,Ee.Number],[Ee.Ident,Ee.Percentage],[Ee.Ident,Ee.Dimension],[Ee.Ident,Ee.CDC],[Ee.Ident,Ee.LeftParenthesis],[Ee.AtKeyword,Ee.Ident],[Ee.AtKeyword,Ee.Function],[Ee.AtKeyword,Ee.Url],[Ee.AtKeyword,Ee.BadUrl],[Ee.AtKeyword,"-"],[Ee.AtKeyword,Ee.Number],[Ee.AtKeyword,Ee.Percentage],[Ee.AtKeyword,Ee.Dimension],[Ee.AtKeyword,Ee.CDC],[Ee.Hash,Ee.Ident],[Ee.Hash,Ee.Function],[Ee.Hash,Ee.Url],[Ee.Hash,Ee.BadUrl],[Ee.Hash,"-"],[Ee.Hash,Ee.Number],[Ee.Hash,Ee.Percentage],[Ee.Hash,Ee.Dimension],[Ee.Hash,Ee.CDC],[Ee.Dimension,Ee.Ident],[Ee.Dimension,Ee.Function],[Ee.Dimension,Ee.Url],[Ee.Dimension,Ee.BadUrl],[Ee.Dimension,"-"],[Ee.Dimension,Ee.Number],[Ee.Dimension,Ee.Percentage],[Ee.Dimension,Ee.Dimension],[Ee.Dimension,Ee.CDC],["#",Ee.Ident],["#",Ee.Function],["#",Ee.Url],["#",Ee.BadUrl],["#","-"],["#",Ee.Number],["#",Ee.Percentage],["#",Ee.Dimension],["#",Ee.CDC],["-",Ee.Ident],["-",Ee.Function],["-",Ee.Url],["-",Ee.BadUrl],["-","-"],["-",Ee.Number],["-",Ee.Percentage],["-",Ee.Dimension],["-",Ee.CDC],[Ee.Number,Ee.Ident],[Ee.Number,Ee.Function],[Ee.Number,Ee.Url],[Ee.Number,Ee.BadUrl],[Ee.Number,Ee.Number],[Ee.Number,Ee.Percentage],[Ee.Number,Ee.Dimension],[Ee.Number,"%"],[Ee.Number,Ee.CDC],["@",Ee.Ident],["@",Ee.Function],["@",Ee.Url],["@",Ee.BadUrl],["@","-"],["@",Ee.CDC],[".",Ee.Number],[".",Ee.Percentage],[".",Ee.Dimension],["+",Ee.Number],["+",Ee.Percentage],["+",Ee.Dimension],["/","*"]],h3=X0.concat([[Ee.Ident,Ee.Hash],[Ee.Dimension,Ee.Hash],[Ee.Hash,Ee.Hash],[Ee.AtKeyword,Ee.LeftParenthesis],[Ee.AtKeyword,Ee.String],[Ee.AtKeyword,Ee.Colon],[Ee.Percentage,Ee.Percentage],[Ee.Percentage,Ee.Dimension],[Ee.Percentage,Ee.Function],[Ee.Percentage,"-"],[Ee.RightParenthesis,Ee.Ident],[Ee.RightParenthesis,Ee.Function],[Ee.RightParenthesis,Ee.Percentage],[Ee.RightParenthesis,Ee.Dimension],[Ee.RightParenthesis,Ee.Hash],[Ee.RightParenthesis,"-"]]);function K0(t){let e=new Set(t.map(([n,r])=>If(n)<<16|If(r)));return function(n,r,s){let a=If(r,s),h=s.charCodeAt(0);return(h===u3&&r!==Ee.Ident&&r!==Ee.Function&&r!==Ee.CDC||h===c3?e.has(n<<16|h<<8):e.has(n<<16|a))&&this.emit(" ",Ee.WhiteSpace,!0),a}}var f3=K0(X0),d3=K0(h3);Rf.safe=d3;Rf.spec=f3});var ex=De(J0=>{"use strict";var p3=Ea(),g3=Y0(),jf=Z0(),Q0=Ot(),m3=92;function y3(t,e){if(typeof e=="function"){let n=null;t.children.forEach(r=>{n!==null&&e.call(this,n),this.node(r),n=r});return}t.children.forEach(this.node,this)}function v3(t){p3.tokenize(t,(e,n,r)=>{this.token(e,t.slice(n,r))})}function x3(t){let e=new Map;for(let n in t.node){let r=t.node[n];typeof(r.generate||r)=="function"&&e.set(n,r.generate||r)}return function(n,r){let s="",a=0,h={node(g){if(e.has(g.type))e.get(g.type).call(f,g);else throw new Error("Unknown node type: "+g.type)},tokenBefore:jf.safe,token(g,p){a=this.tokenBefore(a,g,p),this.emit(p,g,!1),g===Q0.Delim&&p.charCodeAt(0)===m3&&this.emit(`
`,Q0.WhiteSpace,!0)},emit(g){s+=g},result(){return s}};r&&(typeof r.decorator=="function"&&(h=r.decorator(h)),r.sourceMap&&(h=g3.generateSourceMap(h)),r.mode in jf&&(h.tokenBefore=jf[r.mode]));let f={node:g=>h.node(g),children:y3,token:(g,p)=>h.token(g,p),tokenize:v3};return h.node(n),h.result()}}J0.createGenerator=x3});var ix=De(tx=>{"use strict";var zf=Eo();function b3(t){return{fromPlainObject(e){return t(e,{enter(n){n.children&&!(n.children instanceof zf.List)&&(n.children=new zf.List().fromArray(n.children))}}),e},toPlainObject(e){return t(e,{leave(n){n.children&&n.children instanceof zf.List&&(n.children=n.children.toArray())}}),e}}}tx.createConvertor=b3});var lx=De(ax=>{"use strict";var{hasOwnProperty:Bf}=Object.prototype,Da=function(){};function nx(t){return typeof t=="function"?t:Da}function rx(t,e){return function(n,r,s){n.type===e&&t.call(this,n,r,s)}}function w3(t,e){let n=e.structure,r=[];for(let s in n){if(Bf.call(n,s)===!1)continue;let a=n[s],h={name:s,type:!1,nullable:!1};Array.isArray(a)||(a=[a]);for(let f of a)f===null?h.nullable=!0:typeof f=="string"?h.type="node":Array.isArray(f)&&(h.type="list");h.type&&r.push(h)}return r.length?{context:e.walkContext,fields:r}:null}function k3(t){let e={};for(let n in t.node)if(Bf.call(t.node,n)){let r=t.node[n];if(!r.structure)throw new Error("Missed `structure` field in `"+n+"` node type definition");e[n]=w3(n,r)}return e}function ox(t,e){let n=t.fields.slice(),r=t.context,s=typeof r=="string";return e&&n.reverse(),function(a,h,f,g){let p;s&&(p=h[r],h[r]=a);for(let m of n){let x=a[m.name];if(!m.nullable||x){if(m.type==="list"){if(e?x.reduceRight(g,!1):x.reduce(g,!1))return!0}else if(f(x))return!0}}s&&(h[r]=p)}}function sx({StyleSheet:t,Atrule:e,Rule:n,Block:r,DeclarationList:s}){return{Atrule:{StyleSheet:t,Atrule:e,Rule:n,Block:r},Rule:{StyleSheet:t,Atrule:e,Rule:n,Block:r},Declaration:{StyleSheet:t,Atrule:e,Rule:n,Block:r,DeclarationList:s}}}function S3(t){let e=k3(t),n={},r={},s=Symbol("break-walk"),a=Symbol("skip-node");for(let p in e)Bf.call(e,p)&&e[p]!==null&&(n[p]=ox(e[p],!1),r[p]=ox(e[p],!0));let h=sx(n),f=sx(r),g=function(p,m){function x(M,L,A){let E=v.call(T,M,L,A);return E===s?!0:E===a?!1:!!(w.hasOwnProperty(M.type)&&w[M.type](M,T,x,b)||C.call(T,M,L,A)===s)}let v=Da,C=Da,w=n,b=(M,L,A,E)=>M||x(L,A,E),T={break:s,skip:a,root:p,stylesheet:null,atrule:null,atrulePrelude:null,rule:null,selector:null,block:null,declaration:null,function:null};if(typeof m=="function")v=m;else if(m&&(v=nx(m.enter),C=nx(m.leave),m.reverse&&(w=r),m.visit)){if(h.hasOwnProperty(m.visit))w=m.reverse?f[m.visit]:h[m.visit];else if(!e.hasOwnProperty(m.visit))throw new Error("Bad value `"+m.visit+"` for `visit` option (should be: "+Object.keys(e).sort().join(", ")+")");v=rx(v,m.visit),C=rx(C,m.visit)}if(v===Da&&C===Da)throw new Error("Neither `enter` nor `leave` walker handler is set or both aren't a function");x(p)};return g.break=s,g.skip=a,g.find=function(p,m){let x=null;return g(p,function(v,C,w){if(m.call(this,v,C,w))return x=v,s}),x},g.findLast=function(p,m){let x=null;return g(p,{reverse:!0,enter(v,C,w){if(m.call(this,v,C,w))return x=v,s}}),x},g.findAll=function(p,m){let x=[];return g(p,function(v,C,w){m.call(this,v,C,w)&&x.push(v)}),x},g}ax.createWalker=S3});var Vc=De(cx=>{"use strict";function C3(t){return t}function T3(t){let{min:e,max:n,comma:r}=t;return e===0&&n===0?r?"#?":"*":e===0&&n===1?"?":e===1&&n===0?r?"#":"+":e===1&&n===1?"":(r?"#":"")+(e===n?"{"+e+"}":"{"+e+","+(n!==0?n:"")+"}")}function L3(t){switch(t.type){case"Range":return" ["+(t.min===null?"-\u221E":t.min)+","+(t.max===null?"\u221E":t.max)+"]";default:throw new Error("Unknown node type `"+t.type+"`")}}function A3(t,e,n,r){let s=t.combinator===" "||r?t.combinator:" "+t.combinator+" ",a=t.terms.map(h=>Ff(h,e,n,r)).join(s);return t.explicit||n?(r||a[0]===","?"[":"[ ")+a+(r?"]":" ]"):a}function Ff(t,e,n,r){let s;switch(t.type){case"Group":s=A3(t,e,n,r)+(t.disallowEmpty?"!":"");break;case"Multiplier":return Ff(t.term,e,n,r)+e(T3(t),t);case"Type":s="<"+t.name+(t.opts?e(L3(t.opts),t.opts):"")+">";break;case"Property":s="<'"+t.name+"'>";break;case"Keyword":s=t.name;break;case"AtKeyword":s="@"+t.name;break;case"Function":s=t.name+"(";break;case"String":case"Token":s=t.value;break;case"Comma":s=",";break;default:throw new Error("Unknown node type `"+t.type+"`")}return e(s,t)}function M3(t,e){let n=C3,r=!1,s=!1;return typeof e=="function"?n=e:e&&(r=Boolean(e.forceBraces),s=Boolean(e.compact),typeof e.decorate=="function"&&(n=e.decorate)),Ff(t,n,r,s)}cx.generate=M3});var fx=De(_f=>{"use strict";var hx=Wc(),E3=Vc(),ux={offset:0,line:1,column:1};function P3(t,e){let n=t.tokens,r=t.longestMatch,s=r<n.length&&n[r].node||null,a=s!==e?s:null,h=0,f=0,g=0,p="",m,x;for(let v=0;v<n.length;v++){let C=n[v].value;v===r&&(f=C.length,h=p.length),a!==null&&n[v].node===a&&(v<=r?g++:g=0),p+=C}return r===n.length||g>1?(m=$c(a||e,"end")||Ia(ux,p),x=Ia(m)):(m=$c(a,"start")||Ia($c(e,"start")||ux,p.slice(0,h)),x=$c(a,"end")||Ia(m,p.substr(h,f))),{css:p,mismatchOffset:h,mismatchLength:f,start:m,end:x}}function $c(t,e){let n=t&&t.loc&&t.loc[e];return n?"line"in n?Ia(n):n:null}function Ia({offset:t,line:e,column:n},r){let s={offset:t,line:e,column:n};if(r){let a=r.split(/\n|\r\n?|\f/);s.offset+=r.length,s.line+=a.length-1,s.column=a.length===1?s.column+r.length:a.pop().length+1}return s}var O3=function(t,e){let n=hx.createCustomError("SyntaxReferenceError",t+(e?" `"+e+"`":""));return n.reference=e,n},N3=function(t,e,n,r){let s=hx.createCustomError("SyntaxMatchError",t),{css:a,mismatchOffset:h,mismatchLength:f,start:g,end:p}=P3(r,n);return s.rawMessage=t,s.syntax=e?E3.generate(e):"<generic>",s.css=a,s.mismatchOffset=h,s.mismatchLength=f,s.message=t+`
  syntax: `+s.syntax+`
   value: `+(a||"<empty string>")+`
  --------`+new Array(s.mismatchOffset+1).join("-")+"^",Object.assign(s,g),s.loc={source:n&&n.loc&&n.loc.source||"<unknown>",start:g,end:p},s};_f.SyntaxMatchError=N3;_f.SyntaxReferenceError=O3});var Kc=De(Ra=>{"use strict";var Yc=new Map,ms=new Map,Xc=45,D3=j3,I3=z3,R3=Wf;function Hf(t,e){return e=e||0,t.length-e>=2&&t.charCodeAt(e)===Xc&&t.charCodeAt(e+1)===Xc}function Wf(t,e){if(e=e||0,t.length-e>=3&&t.charCodeAt(e)===Xc&&t.charCodeAt(e+1)!==Xc){let n=t.indexOf("-",e+2);if(n!==-1)return t.substring(e,n+1)}return""}function j3(t){if(Yc.has(t))return Yc.get(t);let e=t.toLowerCase(),n=Yc.get(e);if(n===void 0){let r=Hf(e,0),s=r?"":Wf(e,0);n=Object.freeze({basename:e.substr(s.length),name:e,prefix:s,vendor:s,custom:r})}return Yc.set(t,n),n}function z3(t){if(ms.has(t))return ms.get(t);let e=t,n=t[0];n==="/"?n=t[1]==="/"?"//":"/":n!=="_"&&n!=="*"&&n!=="$"&&n!=="#"&&n!=="+"&&n!=="&"&&(n="");let r=Hf(e,n.length);if(!r&&(e=e.toLowerCase(),ms.has(e))){let f=ms.get(e);return ms.set(t,f),f}let s=r?"":Wf(e,n.length),a=e.substr(0,n.length+s.length),h=Object.freeze({basename:e.substr(a.length),name:e.substr(n.length),hack:n,vendor:s,prefix:a,custom:r});return ms.set(t,h),h}Ra.isCustomProperty=Hf;Ra.keyword=D3;Ra.property=I3;Ra.vendorPrefix=R3});var qf=De(dx=>{"use strict";var B3=["initial","inherit","unset","revert","revert-layer"];dx.cssWideKeywords=B3});var mx=De((W_,gx)=>{"use strict";var px=On(),ir=Ot(),Uf=xr(),za=43,wr=45,Gf=110,ys=!0,F3=!1;function $f(t,e){return t!==null&&t.type===ir.Delim&&t.value.charCodeAt(0)===e}function ja(t,e,n){for(;t!==null&&(t.type===ir.WhiteSpace||t.type===ir.Comment);)t=n(++e);return e}function so(t,e,n,r){if(!t)return 0;let s=t.value.charCodeAt(e);if(s===za||s===wr){if(n)return 0;e++}for(;e<t.value.length;e++)if(!px.isDigit(t.value.charCodeAt(e)))return 0;return r+1}function Vf(t,e,n){let r=!1,s=ja(t,e,n);if(t=n(s),t===null)return e;if(t.type!==ir.Number)if($f(t,za)||$f(t,wr)){if(r=!0,s=ja(n(++s),s,n),t=n(s),t===null||t.type!==ir.Number)return 0}else return e;if(!r){let a=t.value.charCodeAt(0);if(a!==za&&a!==wr)return 0}return so(t,r?0:1,r,s)}function _3(t,e){let n=0;if(!t)return 0;if(t.type===ir.Number)return so(t,0,F3,n);if(t.type===ir.Ident&&t.value.charCodeAt(0)===wr){if(!Uf.cmpChar(t.value,1,Gf))return 0;switch(t.value.length){case 2:return Vf(e(++n),n,e);case 3:return t.value.charCodeAt(2)!==wr?0:(n=ja(e(++n),n,e),t=e(n),so(t,0,ys,n));default:return t.value.charCodeAt(2)!==wr?0:so(t,3,ys,n)}}else if(t.type===ir.Ident||$f(t,za)&&e(n+1).type===ir.Ident){if(t.type!==ir.Ident&&(t=e(++n)),t===null||!Uf.cmpChar(t.value,0,Gf))return 0;switch(t.value.length){case 1:return Vf(e(++n),n,e);case 2:return t.value.charCodeAt(1)!==wr?0:(n=ja(e(++n),n,e),t=e(n),so(t,0,ys,n));default:return t.value.charCodeAt(1)!==wr?0:so(t,2,ys,n)}}else if(t.type===ir.Dimension){let r=t.value.charCodeAt(0),s=r===za||r===wr?1:0,a=s;for(;a<t.value.length&&px.isDigit(t.value.charCodeAt(a));a++);return a===s||!Uf.cmpChar(t.value,a,Gf)?0:a+1===t.value.length?Vf(e(++n),n,e):t.value.charCodeAt(a+1)!==wr?0:a+2===t.value.length?(n=ja(e(++n),n,e),t=e(n),so(t,0,ys,n)):so(t,a+2,ys,n)}return 0}gx.exports=_3});var bx=De((q_,xx)=>{"use strict";var H3=On(),Oo=Ot(),W3=xr(),q3=43,yx=45,vx=63,U3=117;function Yf(t,e){return t!==null&&t.type===Oo.Delim&&t.value.charCodeAt(0)===e}function G3(t,e){return t.value.charCodeAt(0)===e}function Ba(t,e,n){let r=0;for(let s=e;s<t.value.length;s++){let a=t.value.charCodeAt(s);if(a===yx&&n&&r!==0)return Ba(t,e+r+1,!1),6;if(!H3.isHexDigit(a)||++r>6)return 0}return r}function Zc(t,e,n){if(!t)return 0;for(;Yf(n(e),vx);){if(++t>6)return 0;e++}return e}function V3(t,e){let n=0;if(t===null||t.type!==Oo.Ident||!W3.cmpChar(t.value,0,U3)||(t=e(++n),t===null))return 0;if(Yf(t,q3))return t=e(++n),t===null?0:t.type===Oo.Ident?Zc(Ba(t,0,!0),++n,e):Yf(t,vx)?Zc(1,++n,e):0;if(t.type===Oo.Number){let r=Ba(t,1,!0);return r===0?0:(t=e(++n),t===null?n:t.type===Oo.Dimension||t.type===Oo.Number?!G3(t,yx)||!Ba(t,1,!1)?0:n+1:Zc(r,n,e))}return t.type===Oo.Dimension?Zc(Ba(t,1,!0),++n,e):0}xx.exports=V3});var Mx=De(Fa=>{"use strict";var $3=qf(),Y3=mx(),X3=bx(),Xe=Ot(),Qc=On(),Xf=xr(),K3=["calc(","-moz-calc(","-webkit-calc("],Kf=new Map([[Xe.Function,Xe.RightParenthesis],[Xe.LeftParenthesis,Xe.RightParenthesis],[Xe.LeftSquareBracket,Xe.RightSquareBracket],[Xe.LeftCurlyBracket,Xe.RightCurlyBracket]]);function nr(t,e){return e<t.length?t.charCodeAt(e):0}function wx(t,e){return Xf.cmpStr(t,0,t.length,e)}function kx(t,e){for(let n=0;n<e.length;n++)if(wx(t,e[n]))return!0;return!1}function Sx(t,e){return e!==t.length-2?!1:nr(t,e)===92&&Qc.isDigit(nr(t,e+1))}function Jc(t,e,n){if(t&&t.type==="Range"){let r=Number(n!==void 0&&n!==e.length?e.substr(0,n):e);if(isNaN(r)||t.min!==null&&r<t.min&&typeof t.min!="string"||t.max!==null&&r>t.max&&typeof t.max!="string")return!0}return!1}function Z3(t,e){let n=0,r=[],s=0;e:do{switch(t.type){case Xe.RightCurlyBracket:case Xe.RightParenthesis:case Xe.RightSquareBracket:if(t.type!==n)break e;if(n=r.pop(),r.length===0){s++;break e}break;case Xe.Function:case Xe.LeftParenthesis:case Xe.LeftSquareBracket:case Xe.LeftCurlyBracket:r.push(n),n=Kf.get(t.type);break}s++}while(t=e(s));return s}function qn(t){return function(e,n,r){return e===null?0:e.type===Xe.Function&&kx(e.value,K3)?Z3(e,n):t(e,n,r)}}function ki(t){return function(e){return e===null||e.type!==t?0:1}}function Q3(t){if(t===null||t.type!==Xe.Ident)return 0;let e=t.value.toLowerCase();return kx(e,$3.cssWideKeywords)||wx(e,"default")?0:1}function J3(t){return t===null||t.type!==Xe.Ident||nr(t.value,0)!==45||nr(t.value,1)!==45?0:1}function eE(t){if(t===null||t.type!==Xe.Hash)return 0;let e=t.value.length;if(e!==4&&e!==5&&e!==7&&e!==9)return 0;for(let n=1;n<e;n++)if(!Qc.isHexDigit(nr(t.value,n)))return 0;return 1}function tE(t){return t===null||t.type!==Xe.Hash||!Qc.isIdentifierStart(nr(t.value,1),nr(t.value,2),nr(t.value,3))?0:1}function iE(t,e){if(!t)return 0;let n=0,r=[],s=0;e:do{switch(t.type){case Xe.BadString:case Xe.BadUrl:break e;case Xe.RightCurlyBracket:case Xe.RightParenthesis:case Xe.RightSquareBracket:if(t.type!==n)break e;n=r.pop();break;case Xe.Semicolon:if(n===0)break e;break;case Xe.Delim:if(n===0&&t.value==="!")break e;break;case Xe.Function:case Xe.LeftParenthesis:case Xe.LeftSquareBracket:case Xe.LeftCurlyBracket:r.push(n),n=Kf.get(t.type);break}s++}while(t=e(s));return s}function nE(t,e){if(!t)return 0;let n=0,r=[],s=0;e:do{switch(t.type){case Xe.BadString:case Xe.BadUrl:break e;case Xe.RightCurlyBracket:case Xe.RightParenthesis:case Xe.RightSquareBracket:if(t.type!==n)break e;n=r.pop();break;case Xe.Function:case Xe.LeftParenthesis:case Xe.LeftSquareBracket:case Xe.LeftCurlyBracket:r.push(n),n=Kf.get(t.type);break}s++}while(t=e(s));return s}function Fr(t){return t&&(t=new Set(t)),function(e,n,r){if(e===null||e.type!==Xe.Dimension)return 0;let s=Xf.consumeNumber(e.value,0);if(t!==null){let a=e.value.indexOf("\\",s),h=a===-1||!Sx(e.value,a)?e.value.substr(s):e.value.substring(s,a);if(t.has(h.toLowerCase())===!1)return 0}return Jc(r,e.value,s)?0:1}}function rE(t,e,n){return t===null||t.type!==Xe.Percentage||Jc(n,t.value,t.value.length-1)?0:1}function Cx(t){return typeof t!="function"&&(t=function(){return 0}),function(e,n,r){return e!==null&&e.type===Xe.Number&&Number(e.value)===0?1:t(e,n,r)}}function oE(t,e,n){if(t===null)return 0;let r=Xf.consumeNumber(t.value,0);return!(r===t.value.length)&&!Sx(t.value,r)||Jc(n,t.value,r)?0:1}function sE(t,e,n){if(t===null||t.type!==Xe.Number)return 0;let r=nr(t.value,0)===43||nr(t.value,0)===45?1:0;for(;r<t.value.length;r++)if(!Qc.isDigit(nr(t.value,r)))return 0;return Jc(n,t.value,r)?0:1}var Tx={"ident-token":ki(Xe.Ident),"function-token":ki(Xe.Function),"at-keyword-token":ki(Xe.AtKeyword),"hash-token":ki(Xe.Hash),"string-token":ki(Xe.String),"bad-string-token":ki(Xe.BadString),"url-token":ki(Xe.Url),"bad-url-token":ki(Xe.BadUrl),"delim-token":ki(Xe.Delim),"number-token":ki(Xe.Number),"percentage-token":ki(Xe.Percentage),"dimension-token":ki(Xe.Dimension),"whitespace-token":ki(Xe.WhiteSpace),"CDO-token":ki(Xe.CDO),"CDC-token":ki(Xe.CDC),"colon-token":ki(Xe.Colon),"semicolon-token":ki(Xe.Semicolon),"comma-token":ki(Xe.Comma),"[-token":ki(Xe.LeftSquareBracket),"]-token":ki(Xe.RightSquareBracket),"(-token":ki(Xe.LeftParenthesis),")-token":ki(Xe.RightParenthesis),"{-token":ki(Xe.LeftCurlyBracket),"}-token":ki(Xe.RightCurlyBracket)},Lx={string:ki(Xe.String),ident:ki(Xe.Ident),percentage:qn(rE),zero:Cx(),number:qn(oE),integer:qn(sE),"custom-ident":Q3,"custom-property-name":J3,"hex-color":eE,"id-selector":tE,"an-plus-b":Y3,urange:X3,"declaration-value":iE,"any-value":nE};function Ax(t){let{angle:e,decibel:n,frequency:r,flex:s,length:a,resolution:h,semitones:f,time:g}=t||{};return{dimension:qn(Fr(null)),angle:qn(Fr(e)),decibel:qn(Fr(n)),frequency:qn(Fr(r)),flex:qn(Fr(s)),length:qn(Cx(Fr(a))),resolution:qn(Fr(h)),semitones:qn(Fr(f)),time:qn(Fr(g))}}function aE(t){return{...Tx,...Lx,...Ax(t)}}Fa.createDemensionTypes=Ax;Fa.createGenericTypes=aE;Fa.productionTypes=Lx;Fa.tokenTypes=Tx});var Ex=De(_r=>{"use strict";var lE=["cm","mm","q","in","pt","pc","px","em","rem","ex","rex","cap","rcap","ch","rch","ic","ric","lh","rlh","vw","svw","lvw","dvw","vh","svh","lvh","dvh","vi","svi","lvi","dvi","vb","svb","lvb","dvb","vmin","svmin","lvmin","dvmin","vmax","svmax","lvmax","dvmax","cqw","cqh","cqi","cqb","cqmin","cqmax"],cE=["deg","grad","rad","turn"],uE=["s","ms"],hE=["hz","khz"],fE=["dpi","dpcm","dppx","x"],dE=["fr"],pE=["db"],gE=["st"];_r.angle=cE;_r.decibel=pE;_r.flex=dE;_r.frequency=hE;_r.length=lE;_r.resolution=fE;_r.semitones=gE;_r.time=uE});var Ox=De((V_,Px)=>{"use strict";var mE=Ea(),yE={decorator(t){let e=[],n=null;return{...t,node(r){let s=n;n=r,t.node.call(this,r),n=s},emit(r,s,a){e.push({type:s,value:r,node:a?null:n})},result(){return e}}}};function vE(t){let e=[];return mE.tokenize(t,(n,r,s)=>e.push({type:n,value:t.slice(r,s),node:null})),e}function xE(t,e){return typeof t=="string"?vE(t):e.generate(t,yE)}Px.exports=xE});var Zf=De(Nx=>{"use strict";var bE=Wc();function wE(t,e,n){return Object.assign(bE.createCustomError("SyntaxError",t),{input:e,offset:n,rawMessage:t,message:t+`
  `+e+`
--`+new Array((n||e.length)+1).join("-")+"^"})}Nx.SyntaxError=wE});var Ix=De(Dx=>{"use strict";var kE=Zf(),SE=9,CE=10,TE=12,LE=13,AE=32,Qf=class{constructor(e){this.str=e,this.pos=0}charCodeAt(e){return e<this.str.length?this.str.charCodeAt(e):0}charCode(){return this.charCodeAt(this.pos)}nextCharCode(){return this.charCodeAt(this.pos+1)}nextNonWsCode(e){return this.charCodeAt(this.findWsEnd(e))}findWsEnd(e){for(;e<this.str.length;e++){let n=this.str.charCodeAt(e);if(n!==LE&&n!==CE&&n!==TE&&n!==AE&&n!==SE)break}return e}substringToPos(e){return this.str.substring(this.pos,this.pos=e)}eat(e){this.charCode()!==e&&this.error("Expect `"+String.fromCharCode(e)+"`"),this.pos++}peek(){return this.pos<this.str.length?this.str.charAt(this.pos++):""}error(e){throw new kE.SyntaxError(e,this.str,this.pos)}};Dx.Tokenizer=Qf});var ou=De($x=>{"use strict";var ME=Ix(),EE=9,PE=10,OE=12,NE=13,DE=32,Wx=33,td=35,Rx=38,eu=39,qx=40,IE=41,Ux=42,id=43,nd=44,jx=45,rd=60,Gx=62,ed=63,RE=64,ru=91,od=93,tu=123,zx=124,Bx=125,Fx=8734,_a=new Uint8Array(128).map((t,e)=>/[a-zA-Z0-9\-]/.test(String.fromCharCode(e))?1:0),_x={" ":1,"&&":2,"||":3,"|":4};function iu(t){return t.substringToPos(t.findWsEnd(t.pos))}function vs(t){let e=t.pos;for(;e<t.str.length;e++){let n=t.str.charCodeAt(e);if(n>=128||_a[n]===0)break}return t.pos===e&&t.error("Expect a keyword"),t.substringToPos(e)}function nu(t){let e=t.pos;for(;e<t.str.length;e++){let n=t.str.charCodeAt(e);if(n<48||n>57)break}return t.pos===e&&t.error("Expect a number"),t.substringToPos(e)}function jE(t){let e=t.str.indexOf("'",t.pos+1);return e===-1&&(t.pos=t.str.length,t.error("Expect an apostrophe")),t.substringToPos(e+1)}function Hx(t){let e=null,n=null;return t.eat(tu),e=nu(t),t.charCode()===nd?(t.pos++,t.charCode()!==Bx&&(n=nu(t))):n=e,t.eat(Bx),{min:Number(e),max:n?Number(n):0}}function zE(t){let e=null,n=!1;switch(t.charCode()){case Ux:t.pos++,e={min:0,max:0};break;case id:t.pos++,e={min:1,max:0};break;case ed:t.pos++,e={min:0,max:1};break;case td:t.pos++,n=!0,t.charCode()===tu?e=Hx(t):t.charCode()===ed?(t.pos++,e={min:0,max:0}):e={min:1,max:0};break;case tu:e=Hx(t);break;default:return null}return{type:"Multiplier",comma:n,min:e.min,max:e.max,term:null}}function xs(t,e){let n=zE(t);return n!==null?(n.term=e,t.charCode()===td&&t.charCodeAt(t.pos-1)===id?xs(t,n):n):e}function Jf(t){let e=t.peek();return e===""?null:{type:"Token",value:e}}function BE(t){let e;return t.eat(rd),t.eat(eu),e=vs(t),t.eat(eu),t.eat(Gx),xs(t,{type:"Property",name:e})}function FE(t){let e=null,n=null,r=1;return t.eat(ru),t.charCode()===jx&&(t.peek(),r=-1),r==-1&&t.charCode()===Fx?t.peek():(e=r*Number(nu(t)),_a[t.charCode()]!==0&&(e+=vs(t))),iu(t),t.eat(nd),iu(t),t.charCode()===Fx?t.peek():(r=1,t.charCode()===jx&&(t.peek(),r=-1),n=r*Number(nu(t)),_a[t.charCode()]!==0&&(n+=vs(t))),t.eat(od),{type:"Range",min:e,max:n}}function _E(t){let e,n=null;return t.eat(rd),e=vs(t),t.charCode()===qx&&t.nextCharCode()===IE&&(t.pos+=2,e+="()"),t.charCodeAt(t.findWsEnd(t.pos))===ru&&(iu(t),n=FE(t)),t.eat(Gx),xs(t,{type:"Type",name:e,opts:n})}function HE(t){let e=vs(t);return t.charCode()===qx?(t.pos++,{type:"Function",name:e}):xs(t,{type:"Keyword",name:e})}function WE(t,e){function n(s,a){return{type:"Group",terms:s,combinator:a,disallowEmpty:!1,explicit:!1}}let r;for(e=Object.keys(e).sort((s,a)=>_x[s]-_x[a]);e.length>0;){r=e.shift();let s=0,a=0;for(;s<t.length;s++){let h=t[s];h.type==="Combinator"&&(h.value===r?(a===-1&&(a=s-1),t.splice(s,1),s--):(a!==-1&&s-a>1&&(t.splice(a,s-a,n(t.slice(a,s),r)),s=a+1),a=-1))}a!==-1&&e.length&&t.splice(a,s-a,n(t.slice(a,s),r))}return r}function Vx(t){let e=[],n={},r,s=null,a=t.pos;for(;r=UE(t);)r.type!=="Spaces"&&(r.type==="Combinator"?((s===null||s.type==="Combinator")&&(t.pos=a,t.error("Unexpected combinator")),n[r.value]=!0):s!==null&&s.type!=="Combinator"&&(n[" "]=!0,e.push({type:"Combinator",value:" "})),e.push(r),s=r,a=t.pos);return s!==null&&s.type==="Combinator"&&(t.pos-=a,t.error("Unexpected combinator")),{type:"Group",terms:e,combinator:WE(e,n)||" ",disallowEmpty:!1,explicit:!1}}function qE(t){let e;return t.eat(ru),e=Vx(t),t.eat(od),e.explicit=!0,t.charCode()===Wx&&(t.pos++,e.disallowEmpty=!0),e}function UE(t){let e=t.charCode();if(e<128&&_a[e]===1)return HE(t);switch(e){case od:break;case ru:return xs(t,qE(t));case rd:return t.nextCharCode()===eu?BE(t):_E(t);case zx:return{type:"Combinator",value:t.substringToPos(t.pos+(t.nextCharCode()===zx?2:1))};case Rx:return t.pos++,t.eat(Rx),{type:"Combinator",value:"&&"};case nd:return t.pos++,{type:"Comma"};case eu:return xs(t,{type:"String",value:jE(t)});case DE:case EE:case PE:case NE:case OE:return{type:"Spaces",value:iu(t)};case RE:return e=t.nextCharCode(),e<128&&_a[e]===1?(t.pos++,{type:"AtKeyword",name:vs(t)}):Jf(t);case Ux:case id:case ed:case td:case Wx:break;case tu:if(e=t.nextCharCode(),e<48||e>57)return Jf(t);break;default:return Jf(t)}}function GE(t){let e=new ME.Tokenizer(t),n=Vx(e);return e.pos!==t.length&&e.error("Unexpected input"),n.terms.length===1&&n.terms[0].type==="Group"?n.terms[0]:n}$x.parse=GE});var cd=De(Ha=>{"use strict";var VE=ou(),Ri={type:"Match"},mn={type:"Mismatch"},ad={type:"DisallowEmpty"},$E=40,YE=41;function rn(t,e,n){return e===Ri&&n===mn||t===Ri&&e===Ri&&n===Ri?t:(t.type==="If"&&t.else===mn&&e===Ri&&(e=t.then,t=t.match),{type:"If",match:t,then:e,else:n})}function Xx(t){return t.length>2&&t.charCodeAt(t.length-2)===$E&&t.charCodeAt(t.length-1)===YE}function Yx(t){return t.type==="Keyword"||t.type==="AtKeyword"||t.type==="Function"||t.type==="Type"&&Xx(t.name)}function sd(t,e,n){switch(t){case" ":{let r=Ri;for(let s=e.length-1;s>=0;s--){let a=e[s];r=rn(a,r,mn)}return r}case"|":{let r=mn,s=null;for(let a=e.length-1;a>=0;a--){let h=e[a];if(Yx(h)&&(s===null&&a>0&&Yx(e[a-1])&&(s=Object.create(null),r=rn({type:"Enum",map:s},Ri,r)),s!==null)){let f=(Xx(h.name)?h.name.slice(0,-1):h.name).toLowerCase();if(!(f in s)){s[f]=h;continue}}s=null,r=rn(h,Ri,r)}return r}case"&&":{if(e.length>5)return{type:"MatchOnce",terms:e,all:!0};let r=mn;for(let s=e.length-1;s>=0;s--){let a=e[s],h;e.length>1?h=sd(t,e.filter(function(f){return f!==a}),!1):h=Ri,r=rn(a,h,r)}return r}case"||":{if(e.length>5)return{type:"MatchOnce",terms:e,all:!1};let r=n?Ri:mn;for(let s=e.length-1;s>=0;s--){let a=e[s],h;e.length>1?h=sd(t,e.filter(function(f){return f!==a}),!0):h=Ri,r=rn(a,h,r)}return r}}}function XE(t){let e=Ri,n=ld(t.term);if(t.max===0)n=rn(n,ad,mn),e=rn(n,null,mn),e.then=rn(Ri,Ri,e),t.comma&&(e.then.else=rn({type:"Comma",syntax:t},e,mn));else for(let r=t.min||1;r<=t.max;r++)t.comma&&e!==Ri&&(e=rn({type:"Comma",syntax:t},e,mn)),e=rn(n,rn(Ri,Ri,e),mn);if(t.min===0)e=rn(Ri,Ri,e);else for(let r=0;r<t.min-1;r++)t.comma&&e!==Ri&&(e=rn({type:"Comma",syntax:t},e,mn)),e=rn(n,e,mn);return e}function ld(t){if(typeof t=="function")return{type:"Generic",fn:t};switch(t.type){case"Group":{let e=sd(t.combinator,t.terms.map(ld),!1);return t.disallowEmpty&&(e=rn(e,ad,mn)),e}case"Multiplier":return XE(t);case"Type":case"Property":return{type:t.type,name:t.name,syntax:t};case"Keyword":return{type:t.type,name:t.name.toLowerCase(),syntax:t};case"AtKeyword":return{type:t.type,name:"@"+t.name.toLowerCase(),syntax:t};case"Function":return{type:t.type,name:t.name.toLowerCase()+"(",syntax:t};case"String":return t.value.length===3?{type:"Token",value:t.value.charAt(1),syntax:t}:{type:t.type,value:t.value.substr(1,t.value.length-2).replace(/\\'/g,"'"),syntax:t};case"Token":return{type:t.type,value:t.value,syntax:t};case"Comma":return{type:t.type,syntax:t};default:throw new Error("Unknown node type:",t.type)}}function KE(t,e){return typeof t=="string"&&(t=VE.parse(t)),{type:"MatchGraph",match:ld(t),syntax:e||null,source:t}}Ha.DISALLOW_EMPTY=ad;Ha.MATCH=Ri;Ha.MISMATCH=mn;Ha.buildMatchGraph=KE});var nb=De(fd=>{"use strict";var Si=cd(),kn=Ot(),{hasOwnProperty:Kx}=Object.prototype,ZE=0,QE=1,su=2,hd=3,Zx="Match",JE="Mismatch",eP="Maximum iteration number exceeded (please fill an issue on https://github.com/csstree/csstree/issues)",Qx=15e3;function tb(t){let e=null,n=null,r=t;for(;r!==null;)n=r.prev,r.prev=e,e=r,r=n;return e}function ud(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let r=e.charCodeAt(n),s=t.charCodeAt(n);if(s>=65&&s<=90&&(s=s|32),s!==r)return!1}return!0}function tP(t){return t.type!==kn.Delim?!1:t.value!=="?"}function Jx(t){return t===null?!0:t.type===kn.Comma||t.type===kn.Function||t.type===kn.LeftParenthesis||t.type===kn.LeftSquareBracket||t.type===kn.LeftCurlyBracket||tP(t)}function eb(t){return t===null?!0:t.type===kn.RightParenthesis||t.type===kn.RightSquareBracket||t.type===kn.RightCurlyBracket||t.type===kn.Delim&&t.value==="/"}function ib(t,e,n){function r(){do L++,M=L<t.length?t[L]:null;while(M!==null&&(M.type===kn.WhiteSpace||M.type===kn.Comment))}function s(D){let B=L+D;return B<t.length?t[B]:null}function a(D,B){return{nextState:D,matchStack:E,syntaxStack:x,thenStack:v,tokenIndex:L,prev:B}}function h(D){v={nextState:D,matchStack:E,syntaxStack:x,prev:v}}function f(D){C=a(D,C)}function g(){E={type:QE,syntax:e.syntax,token:M,prev:E},r(),w=null,L>A&&(A=L)}function p(){x={syntax:e.syntax,opts:e.syntax.opts||x!==null&&x.opts||null,prev:x},E={type:su,syntax:e.syntax,token:E.token,prev:E}}function m(){E.type===su?E=E.prev:E={type:hd,syntax:x.syntax,token:E.token,prev:E},x=x.prev}let x=null,v=null,C=null,w=null,b=0,T=null,M=null,L=-1,A=0,E={type:ZE,syntax:null,token:null,prev:null};for(r();T===null&&++b<Qx;)switch(e.type){case"Match":if(v===null){if(M!==null&&(L!==t.length-1||M.value!=="\\0"&&M.value!=="\\9")){e=Si.MISMATCH;break}T=Zx;break}if(e=v.nextState,e===Si.DISALLOW_EMPTY)if(v.matchStack===E){e=Si.MISMATCH;break}else e=Si.MATCH;for(;v.syntaxStack!==x;)m();v=v.prev;break;case"Mismatch":if(w!==null&&w!==!1)(C===null||L>C.tokenIndex)&&(C=w,w=!1);else if(C===null){T=JE;break}e=C.nextState,v=C.thenStack,x=C.syntaxStack,E=C.matchStack,L=C.tokenIndex,M=L<t.length?t[L]:null,C=C.prev;break;case"MatchGraph":e=e.match;break;case"If":e.else!==Si.MISMATCH&&f(e.else),e.then!==Si.MATCH&&h(e.then),e=e.match;break;case"MatchOnce":e={type:"MatchOnceBuffer",syntax:e,index:0,mask:0};break;case"MatchOnceBuffer":{let z=e.syntax.terms;if(e.index===z.length){if(e.mask===0||e.syntax.all){e=Si.MISMATCH;break}e=Si.MATCH;break}if(e.mask===(1<<z.length)-1){e=Si.MATCH;break}for(;e.index<z.length;e.index++){let I=1<<e.index;if(!(e.mask&I)){f(e),h({type:"AddMatchOnce",syntax:e.syntax,mask:e.mask|I}),e=z[e.index++];break}}break}case"AddMatchOnce":e={type:"MatchOnceBuffer",syntax:e.syntax,index:0,mask:e.mask};break;case"Enum":if(M!==null){let z=M.value.toLowerCase();if(z.indexOf("\\")!==-1&&(z=z.replace(/\\[09].*$/,"")),Kx.call(e.map,z)){e=e.map[z];break}}e=Si.MISMATCH;break;case"Generic":{let z=x!==null?x.opts:null,I=L+Math.floor(e.fn(M,s,z));if(!isNaN(I)&&I>L){for(;L<I;)g();e=Si.MATCH}else e=Si.MISMATCH;break}case"Type":case"Property":{let z=e.type==="Type"?"types":"properties",I=Kx.call(n,z)?n[z][e.name]:null;if(!I||!I.match)throw new Error("Bad syntax reference: "+(e.type==="Type"?"<"+e.name+">":"<'"+e.name+"'>"));if(w!==!1&&M!==null&&e.type==="Type"&&(e.name==="custom-ident"&&M.type===kn.Ident||e.name==="length"&&M.value==="0")){w===null&&(w=a(e,C)),e=Si.MISMATCH;break}p(),e=I.match;break}case"Keyword":{let z=e.name;if(M!==null){let I=M.value;if(I.indexOf("\\")!==-1&&(I=I.replace(/\\[09].*$/,"")),ud(I,z)){g(),e=Si.MATCH;break}}e=Si.MISMATCH;break}case"AtKeyword":case"Function":if(M!==null&&ud(M.value,e.name)){g(),e=Si.MATCH;break}e=Si.MISMATCH;break;case"Token":if(M!==null&&M.value===e.value){g(),e=Si.MATCH;break}e=Si.MISMATCH;break;case"Comma":M!==null&&M.type===kn.Comma?Jx(E.token)?e=Si.MISMATCH:(g(),e=eb(M)?Si.MISMATCH:Si.MATCH):e=Jx(E.token)||eb(M)?Si.MATCH:Si.MISMATCH;break;case"String":let D="",B=L;for(;B<t.length&&D.length<e.value.length;B++)D+=t[B].value;if(ud(D,e.value)){for(;L<B;)g();e=Si.MATCH}else e=Si.MISMATCH;break;default:throw new Error("Unknown node type: "+e.type)}switch(T){case null:console.warn("[csstree-match] BREAK after "+Qx+" iterations"),T=eP,E=null;break;case Zx:for(;x!==null;)m();break;default:E=null}return{tokens:t,reason:T,iterations:b,match:E,longestMatch:A}}function iP(t,e,n){let r=ib(t,e,n||{});if(r.match!==null){let s=tb(r.match).prev;for(r.match=[];s!==null;){switch(s.type){case su:case hd:r.match.push({type:s.type,syntax:s.syntax});break;default:r.match.push({token:s.token.value,node:s.token.node});break}s=s.prev}}return r}function nP(t,e,n){let r=ib(t,e,n||{});if(r.match===null)return r;let s=r.match,a=r.match={syntax:e.syntax||null,match:[]},h=[a];for(s=tb(s).prev;s!==null;){switch(s.type){case su:a.match.push(a={syntax:s.syntax,match:[]}),h.push(a);break;case hd:h.pop(),a=h[h.length-1];break;default:a.match.push({syntax:s.syntax||null,token:s.token.value,node:s.token.node})}s=s.prev}return r}fd.matchAsList=iP;fd.matchAsTree=nP});var ob=De(Wa=>{"use strict";function rb(t){function e(s){return s===null?!1:s.type==="Type"||s.type==="Property"||s.type==="Keyword"}function n(s){if(Array.isArray(s.match)){for(let a=0;a<s.match.length;a++)if(n(s.match[a]))return e(s.syntax)&&r.unshift(s.syntax),!0}else if(s.node===t)return r=e(s.syntax)?[s.syntax]:[],!0;return!1}let r=null;return this.matched!==null&&n(this.matched),r}function rP(t,e){return dd(this,t,n=>n.type==="Type"&&n.name===e)}function oP(t,e){return dd(this,t,n=>n.type==="Property"&&n.name===e)}function sP(t){return dd(this,t,e=>e.type==="Keyword")}function dd(t,e,n){let r=rb.call(t,e);return r===null?!1:r.some(n)}Wa.getTrace=rb;Wa.isKeyword=sP;Wa.isProperty=oP;Wa.isType=rP});var cb=De(lb=>{"use strict";var aP=Eo();function sb(t){return"node"in t?t.node:sb(t.match[0])}function ab(t){return"node"in t?t.node:ab(t.match[t.match.length-1])}function lP(t,e,n,r,s){function a(f){if(f.syntax!==null&&f.syntax.type===r&&f.syntax.name===s){let g=sb(f),p=ab(f);t.syntax.walk(e,function(m,x,v){if(m===g){let C=new aP.List;do{if(C.appendData(x.data),x.data===p)break;x=x.next}while(x!==null);h.push({parent:v,nodes:C})}})}Array.isArray(f.match)&&f.match.forEach(a)}let h=[];return n.matched!==null&&a(n.matched),h}lb.matchFragments=lP});var fb=De(hb=>{"use strict";var cP=Eo(),{hasOwnProperty:qa}=Object.prototype;function pd(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t&&t>=0}function ub(t){return Boolean(t)&&pd(t.offset)&&pd(t.line)&&pd(t.column)}function uP(t,e){return function(r,s){if(!r||r.constructor!==Object)return s(r,"Type of node should be an Object");for(let a in r){let h=!0;if(qa.call(r,a)!==!1){if(a==="type")r.type!==t&&s(r,"Wrong node type `"+r.type+"`, expected `"+t+"`");else if(a==="loc"){if(r.loc===null)continue;if(r.loc&&r.loc.constructor===Object)if(typeof r.loc.source!="string")a+=".source";else if(!ub(r.loc.start))a+=".start";else if(!ub(r.loc.end))a+=".end";else continue;h=!1}else if(e.hasOwnProperty(a)){h=!1;for(let f=0;!h&&f<e[a].length;f++){let g=e[a][f];switch(g){case String:h=typeof r[a]=="string";break;case Boolean:h=typeof r[a]=="boolean";break;case null:h=r[a]===null;break;default:typeof g=="string"?h=r[a]&&r[a].type===g:Array.isArray(g)&&(h=r[a]instanceof cP.List)}}}else s(r,"Unknown field `"+a+"` for "+t+" node type");h||s(r,"Bad value for `"+t+"."+a+"`")}}for(let a in e)qa.call(e,a)&&qa.call(r,a)===!1&&s(r,"Field `"+t+"."+a+"` is missed")}}function hP(t,e){let n=e.structure,r={type:String,loc:!0},s={type:'"'+t+'"'};for(let a in n){if(qa.call(n,a)===!1)continue;let h=[],f=r[a]=Array.isArray(n[a])?n[a].slice():[n[a]];for(let g=0;g<f.length;g++){let p=f[g];if(p===String||p===Boolean)h.push(p.name);else if(p===null)h.push("null");else if(typeof p=="string")h.push("<"+p+">");else if(Array.isArray(p))h.push("List");else throw new Error("Wrong value `"+p+"` in `"+t+"."+a+"` structure definition")}s[a]=h.join(" | ")}return{docs:s,check:uP(t,r)}}function fP(t){let e={};if(t.node){for(let n in t.node)if(qa.call(t.node,n)){let r=t.node[n];if(r.structure)e[n]=hP(n,r);else throw new Error("Missed `structure` field in `"+n+"` node type definition")}}return e}hb.getStructureFromConfig=fP});var gd=De(pb=>{"use strict";var Ua=function(){};function db(t){return typeof t=="function"?t:Ua}function dP(t,e,n){function r(h){switch(s.call(n,h),h.type){case"Group":h.terms.forEach(r);break;case"Multiplier":r(h.term);break;case"Type":case"Property":case"Keyword":case"AtKeyword":case"Function":case"String":case"Token":case"Comma":break;default:throw new Error("Unknown type: "+h.type)}a.call(n,h)}let s=Ua,a=Ua;if(typeof e=="function"?s=e:e&&(s=db(e.enter),a=db(e.leave)),s===Ua&&a===Ua)throw new Error("Neither `enter` nor `leave` walker handler is set or both aren't a function");r(t)}pb.walk=dP});var xd=De(xb=>{"use strict";var ws=fx(),Ga=Kc(),pP=qf(),gP=Mx(),gb=Ex(),mP=Ox(),md=cd(),mb=nb(),yP=ob(),yb=cb(),vP=fb(),xP=ou(),vb=Vc(),bP=gd(),wP=md.buildMatchGraph(pP.cssWideKeywords.join(" | "));function yd(t,e,n){let r={};for(let s in t)t[s].syntax&&(r[s]=n?t[s].syntax:vb.generate(t[s].syntax,{compact:e}));return r}function kP(t,e,n){let r={};for(let[s,a]of Object.entries(t))r[s]={prelude:a.prelude&&(n?a.prelude.syntax:vb.generate(a.prelude.syntax,{compact:e})),descriptors:a.descriptors&&yd(a.descriptors,e,n)};return r}function SP(t){for(let e=0;e<t.length;e++)if(t[e].value.toLowerCase()==="var(")return!0;return!1}function rr(t,e,n){return{matched:t,iterations:n,error:e,...yP}}function bs(t,e,n,r){let s=mP(n,t.syntax),a;return SP(s)?rr(null,new Error("Matching for a tree with var() is not supported")):(r&&(a=mb.matchAsTree(s,t.cssWideKeywordsSyntax,t)),(!r||!a.match)&&(a=mb.matchAsTree(s,e.match,t),!a.match)?rr(null,new ws.SyntaxMatchError(a.reason,e.syntax,n,a),a.iterations):rr(a.match,null,a.iterations))}var vd=class{constructor(e,n,r){if(this.cssWideKeywordsSyntax=wP,this.syntax=n,this.generic=!1,this.units={...gb},this.atrules=Object.create(null),this.properties=Object.create(null),this.types=Object.create(null),this.structure=r||vP.getStructureFromConfig(e),e){if(e.units)for(let s of Object.keys(gb))Array.isArray(e.units[s])&&(this.units[s]=e.units[s]);if(e.types)for(let s in e.types)this.addType_(s,e.types[s]);if(e.generic){this.generic=!0;for(let[s,a]of Object.entries(gP.createGenericTypes(this.units)))this.addType_(s,a)}if(e.atrules)for(let s in e.atrules)this.addAtrule_(s,e.atrules[s]);if(e.properties)for(let s in e.properties)this.addProperty_(s,e.properties[s])}}checkStructure(e){function n(a,h){s.push({node:a,message:h})}let r=this.structure,s=[];return this.syntax.walk(e,function(a){r.hasOwnProperty(a.type)?r[a.type].check(a,n):n(a,"Unknown node type `"+a.type+"`")}),s.length?s:!1}createDescriptor(e,n,r,s=null){let a={type:n,name:r},h={type:n,name:r,parent:s,serializable:typeof e=="string"||e&&typeof e.type=="string",syntax:null,match:null};return typeof e=="function"?h.match=md.buildMatchGraph(e,a):(typeof e=="string"?Object.defineProperty(h,"syntax",{get(){return Object.defineProperty(h,"syntax",{value:xP.parse(e)}),h.syntax}}):h.syntax=e,Object.defineProperty(h,"match",{get(){return Object.defineProperty(h,"match",{value:md.buildMatchGraph(h.syntax,a)}),h.match}})),h}addAtrule_(e,n){n&&(this.atrules[e]={type:"Atrule",name:e,prelude:n.prelude?this.createDescriptor(n.prelude,"AtrulePrelude",e):null,descriptors:n.descriptors?Object.keys(n.descriptors).reduce((r,s)=>(r[s]=this.createDescriptor(n.descriptors[s],"AtruleDescriptor",s,e),r),Object.create(null)):null})}addProperty_(e,n){n&&(this.properties[e]=this.createDescriptor(n,"Property",e))}addType_(e,n){n&&(this.types[e]=this.createDescriptor(n,"Type",e))}checkAtruleName(e){if(!this.getAtrule(e))return new ws.SyntaxReferenceError("Unknown at-rule","@"+e)}checkAtrulePrelude(e,n){let r=this.checkAtruleName(e);if(r)return r;let s=this.getAtrule(e);if(!s.prelude&&n)return new SyntaxError("At-rule `@"+e+"` should not contain a prelude");if(s.prelude&&!n&&!bs(this,s.prelude,"",!1).matched)return new SyntaxError("At-rule `@"+e+"` should contain a prelude")}checkAtruleDescriptorName(e,n){let r=this.checkAtruleName(e);if(r)return r;let s=this.getAtrule(e),a=Ga.keyword(n);if(!s.descriptors)return new SyntaxError("At-rule `@"+e+"` has no known descriptors");if(!s.descriptors[a.name]&&!s.descriptors[a.basename])return new ws.SyntaxReferenceError("Unknown at-rule descriptor",n)}checkPropertyName(e){if(!this.getProperty(e))return new ws.SyntaxReferenceError("Unknown property",e)}matchAtrulePrelude(e,n){let r=this.checkAtrulePrelude(e,n);if(r)return rr(null,r);let s=this.getAtrule(e);return s.prelude?bs(this,s.prelude,n||"",!1):rr(null,null)}matchAtruleDescriptor(e,n,r){let s=this.checkAtruleDescriptorName(e,n);if(s)return rr(null,s);let a=this.getAtrule(e),h=Ga.keyword(n);return bs(this,a.descriptors[h.name]||a.descriptors[h.basename],r,!1)}matchDeclaration(e){return e.type!=="Declaration"?rr(null,new Error("Not a Declaration node")):this.matchProperty(e.property,e.value)}matchProperty(e,n){if(Ga.property(e).custom)return rr(null,new Error("Lexer matching doesn't applicable for custom properties"));let r=this.checkPropertyName(e);return r?rr(null,r):bs(this,this.getProperty(e),n,!0)}matchType(e,n){let r=this.getType(e);return r?bs(this,r,n,!1):rr(null,new ws.SyntaxReferenceError("Unknown type",e))}match(e,n){return typeof e!="string"&&(!e||!e.type)?rr(null,new ws.SyntaxReferenceError("Bad syntax")):((typeof e=="string"||!e.match)&&(e=this.createDescriptor(e,"Type","anonymous")),bs(this,e,n,!1))}findValueFragments(e,n,r,s){return yb.matchFragments(this,n,this.matchProperty(e,n),r,s)}findDeclarationValueFragments(e,n,r){return yb.matchFragments(this,e.value,this.matchDeclaration(e),n,r)}findAllFragments(e,n,r){let s=[];return this.syntax.walk(e,{visit:"Declaration",enter:a=>{s.push.apply(s,this.findDeclarationValueFragments(a,n,r))}}),s}getAtrule(e,n=!0){let r=Ga.keyword(e);return(r.vendor&&n?this.atrules[r.name]||this.atrules[r.basename]:this.atrules[r.name])||null}getAtrulePrelude(e,n=!0){let r=this.getAtrule(e,n);return r&&r.prelude||null}getAtruleDescriptor(e,n){return this.atrules.hasOwnProperty(e)&&this.atrules.declarators&&this.atrules[e].declarators[n]||null}getProperty(e,n=!0){let r=Ga.property(e);return(r.vendor&&n?this.properties[r.name]||this.properties[r.basename]:this.properties[r.name])||null}getType(e){return hasOwnProperty.call(this.types,e)?this.types[e]:null}validate(){function e(s,a,h,f){if(h.has(a))return h.get(a);h.set(a,!1),f.syntax!==null&&bP.walk(f.syntax,function(g){if(g.type!=="Type"&&g.type!=="Property")return;let p=g.type==="Type"?s.types:s.properties,m=g.type==="Type"?n:r;(!hasOwnProperty.call(p,g.name)||e(s,g.name,m,p[g.name]))&&h.set(a,!0)},this)}let n=new Map,r=new Map;for(let s in this.types)e(this,s,n,this.types[s]);for(let s in this.properties)e(this,s,r,this.properties[s]);return n=[...n.keys()].filter(s=>n.get(s)),r=[...r.keys()].filter(s=>r.get(s)),n.length||r.length?{types:n,properties:r}:null}dump(e,n){return{generic:this.generic,units:this.units,types:yd(this.types,!n,e),properties:yd(this.properties,!n,e),atrules:kP(this.atrules,!n,e)}}toString(){return JSON.stringify(this.dump())}};xb.Lexer=vd});var kb=De((n9,wb)=>{"use strict";function bd(t,e){return typeof e=="string"&&/^\s*\|/.test(e)?typeof t=="string"?t+e:e.replace(/^\s*\|\s*/,""):e||null}function bb(t,e){let n=Object.create(null);for(let[r,s]of Object.entries(t))if(s){n[r]={};for(let a of Object.keys(s))e.includes(a)&&(n[r][a]=s[a])}return n}function CP(t,e){let n={...t};for(let[r,s]of Object.entries(e))switch(r){case"generic":n[r]=Boolean(s);break;case"units":n[r]={...t[r]};for(let[a,h]of Object.entries(s))n[r][a]=Array.isArray(h)?h:[];break;case"atrules":n[r]={...t[r]};for(let[a,h]of Object.entries(s)){let f=n[r][a]||{},g=n[r][a]={prelude:f.prelude||null,descriptors:{...f.descriptors}};if(h){g.prelude=h.prelude?bd(g.prelude,h.prelude):g.prelude||null;for(let[p,m]of Object.entries(h.descriptors||{}))g.descriptors[p]=m?bd(g.descriptors[p],m):null;Object.keys(g.descriptors).length||(g.descriptors=null)}}break;case"types":case"properties":n[r]={...t[r]};for(let[a,h]of Object.entries(s))n[r][a]=bd(n[r][a],h);break;case"scope":n[r]={...t[r]};for(let[a,h]of Object.entries(s))n[r][a]={...n[r][a],...h};break;case"parseContext":n[r]={...t[r],...s};break;case"atrule":case"pseudo":n[r]={...t[r],...bb(s,["parse"])};break;case"node":n[r]={...t[r],...bb(s,["name","structure","parse","generate","walkContext"])};break}return n}wb.exports=CP});var kd=De((r9,Tb)=>{"use strict";var TP=Ea(),LP=L0(),AP=ex(),MP=ix(),EP=lx(),Sb=xd(),wd=kb();function Cb(t){let e=LP.createParser(t),n=EP.createWalker(t),r=AP.createGenerator(t),{fromPlainObject:s,toPlainObject:a}=MP.createConvertor(n),h={lexer:null,createLexer:f=>new Sb.Lexer(f,h,h.lexer.structure),tokenize:TP.tokenize,parse:e,generate:r,walk:n,find:n.find,findLast:n.findLast,findAll:n.findAll,fromPlainObject:s,toPlainObject:a,fork(f){let g=wd({},t);return Cb(typeof f=="function"?f(g,Object.assign):wd(g,f))}};return h.lexer=new Sb.Lexer({generic:!0,units:t.units,types:t.types,atrules:t.atrules,properties:t.properties,node:t.node},h),h}var PP=t=>Cb(wd({},t));Tb.exports=PP});var Ab=De((o9,Lb)=>{Lb.exports={generic:!0,units:{angle:["deg","grad","rad","turn"],decibel:["db"],flex:["fr"],frequency:["hz","khz"],length:["cm","mm","q","in","pt","pc","px","em","rem","ex","rex","cap","rcap","ch","rch","ic","ric","lh","rlh","vw","svw","lvw","dvw","vh","svh","lvh","dvh","vi","svi","lvi","dvi","vb","svb","lvb","dvb","vmin","svmin","lvmin","dvmin","vmax","svmax","lvmax","dvmax","cqw","cqh","cqi","cqb","cqmin","cqmax"],resolution:["dpi","dpcm","dppx","x"],semitones:["st"],time:["s","ms"]},types:{"abs()":"abs( <calc-sum> )","absolute-size":"xx-small|x-small|small|medium|large|x-large|xx-large|xxx-large","acos()":"acos( <calc-sum> )","alpha-value":"<number>|<percentage>","angle-percentage":"<angle>|<percentage>","angular-color-hint":"<angle-percentage>","angular-color-stop":"<color>&&<color-stop-angle>?","angular-color-stop-list":"[<angular-color-stop> [, <angular-color-hint>]?]# , <angular-color-stop>","animateable-feature":"scroll-position|contents|<custom-ident>","asin()":"asin( <calc-sum> )","atan()":"atan( <calc-sum> )","atan2()":"atan2( <calc-sum> , <calc-sum> )",attachment:"scroll|fixed|local","attr()":"attr( <attr-name> <type-or-unit>? [, <attr-fallback>]? )","attr-matcher":"['~'|'|'|'^'|'$'|'*']? '='","attr-modifier":"i|s","attribute-selector":"'[' <wq-name> ']'|'[' <wq-name> <attr-matcher> [<string-token>|<ident-token>] <attr-modifier>? ']'","auto-repeat":"repeat( [auto-fill|auto-fit] , [<line-names>? <fixed-size>]+ <line-names>? )","auto-track-list":"[<line-names>? [<fixed-size>|<fixed-repeat>]]* <line-names>? <auto-repeat> [<line-names>? [<fixed-size>|<fixed-repeat>]]* <line-names>?",axis:"block|inline|vertical|horizontal","baseline-position":"[first|last]? baseline","basic-shape":"<inset()>|<circle()>|<ellipse()>|<polygon()>|<path()>","bg-image":"none|<image>","bg-layer":"<bg-image>||<bg-position> [/ <bg-size>]?||<repeat-style>||<attachment>||<box>||<box>","bg-position":"[[left|center|right|top|bottom|<length-percentage>]|[left|center|right|<length-percentage>] [top|center|bottom|<length-percentage>]|[center|[left|right] <length-percentage>?]&&[center|[top|bottom] <length-percentage>?]]","bg-size":"[<length-percentage>|auto]{1,2}|cover|contain","blur()":"blur( <length> )","blend-mode":"normal|multiply|screen|overlay|darken|lighten|color-dodge|color-burn|hard-light|soft-light|difference|exclusion|hue|saturation|color|luminosity",box:"border-box|padding-box|content-box","brightness()":"brightness( <number-percentage> )","calc()":"calc( <calc-sum> )","calc-sum":"<calc-product> [['+'|'-'] <calc-product>]*","calc-product":"<calc-value> ['*' <calc-value>|'/' <number>]*","calc-value":"<number>|<dimension>|<percentage>|<calc-constant>|( <calc-sum> )","calc-constant":"e|pi|infinity|-infinity|NaN","cf-final-image":"<image>|<color>","cf-mixing-image":"<percentage>?&&<image>","circle()":"circle( [<shape-radius>]? [at <position>]? )","clamp()":"clamp( <calc-sum>#{3} )","class-selector":"'.' <ident-token>","clip-source":"<url>",color:"<rgb()>|<rgba()>|<hsl()>|<hsla()>|<hwb()>|<lab()>|<lch()>|<hex-color>|<named-color>|currentcolor|<deprecated-system-color>","color-stop":"<color-stop-length>|<color-stop-angle>","color-stop-angle":"<angle-percentage>{1,2}","color-stop-length":"<length-percentage>{1,2}","color-stop-list":"[<linear-color-stop> [, <linear-color-hint>]?]# , <linear-color-stop>",combinator:"'>'|'+'|'~'|['||']","common-lig-values":"[common-ligatures|no-common-ligatures]","compat-auto":"searchfield|textarea|push-button|slider-horizontal|checkbox|radio|square-button|menulist|listbox|meter|progress-bar|button","composite-style":"clear|copy|source-over|source-in|source-out|source-atop|destination-over|destination-in|destination-out|destination-atop|xor","compositing-operator":"add|subtract|intersect|exclude","compound-selector":"[<type-selector>? <subclass-selector>* [<pseudo-element-selector> <pseudo-class-selector>*]*]!","compound-selector-list":"<compound-selector>#","complex-selector":"<compound-selector> [<combinator>? <compound-selector>]*","complex-selector-list":"<complex-selector>#","conic-gradient()":"conic-gradient( [from <angle>]? [at <position>]? , <angular-color-stop-list> )","contextual-alt-values":"[contextual|no-contextual]","content-distribution":"space-between|space-around|space-evenly|stretch","content-list":"[<string>|contents|<image>|<counter>|<quote>|<target>|<leader()>|<attr()>]+","content-position":"center|start|end|flex-start|flex-end","content-replacement":"<image>","contrast()":"contrast( [<number-percentage>] )","cos()":"cos( <calc-sum> )",counter:"<counter()>|<counters()>","counter()":"counter( <counter-name> , <counter-style>? )","counter-name":"<custom-ident>","counter-style":"<counter-style-name>|symbols( )","counter-style-name":"<custom-ident>","counters()":"counters( <counter-name> , <string> , <counter-style>? )","cross-fade()":"cross-fade( <cf-mixing-image> , <cf-final-image>? )","cubic-bezier-timing-function":"ease|ease-in|ease-out|ease-in-out|cubic-bezier( <number [0,1]> , <number> , <number [0,1]> , <number> )","deprecated-system-color":"ActiveBorder|ActiveCaption|AppWorkspace|Background|ButtonFace|ButtonHighlight|ButtonShadow|ButtonText|CaptionText|GrayText|Highlight|HighlightText|InactiveBorder|InactiveCaption|InactiveCaptionText|InfoBackground|InfoText|Menu|MenuText|Scrollbar|ThreeDDarkShadow|ThreeDFace|ThreeDHighlight|ThreeDLightShadow|ThreeDShadow|Window|WindowFrame|WindowText","discretionary-lig-values":"[discretionary-ligatures|no-discretionary-ligatures]","display-box":"contents|none","display-inside":"flow|flow-root|table|flex|grid|ruby","display-internal":"table-row-group|table-header-group|table-footer-group|table-row|table-cell|table-column-group|table-column|table-caption|ruby-base|ruby-text|ruby-base-container|ruby-text-container","display-legacy":"inline-block|inline-list-item|inline-table|inline-flex|inline-grid","display-listitem":"<display-outside>?&&[flow|flow-root]?&&list-item","display-outside":"block|inline|run-in","drop-shadow()":"drop-shadow( <length>{2,3} <color>? )","east-asian-variant-values":"[jis78|jis83|jis90|jis04|simplified|traditional]","east-asian-width-values":"[full-width|proportional-width]","element()":"element( <custom-ident> , [first|start|last|first-except]? )|element( <id-selector> )","ellipse()":"ellipse( [<shape-radius>{2}]? [at <position>]? )","ending-shape":"circle|ellipse","env()":"env( <custom-ident> , <declaration-value>? )","exp()":"exp( <calc-sum> )","explicit-track-list":"[<line-names>? <track-size>]+ <line-names>?","family-name":"<string>|<custom-ident>+","feature-tag-value":"<string> [<integer>|on|off]?","feature-type":"@stylistic|@historical-forms|@styleset|@character-variant|@swash|@ornaments|@annotation","feature-value-block":"<feature-type> '{' <feature-value-declaration-list> '}'","feature-value-block-list":"<feature-value-block>+","feature-value-declaration":"<custom-ident> : <integer>+ ;","feature-value-declaration-list":"<feature-value-declaration>","feature-value-name":"<custom-ident>","fill-rule":"nonzero|evenodd","filter-function":"<blur()>|<brightness()>|<contrast()>|<drop-shadow()>|<grayscale()>|<hue-rotate()>|<invert()>|<opacity()>|<saturate()>|<sepia()>","filter-function-list":"[<filter-function>|<url>]+","final-bg-layer":"<'background-color'>||<bg-image>||<bg-position> [/ <bg-size>]?||<repeat-style>||<attachment>||<box>||<box>","fixed-breadth":"<length-percentage>","fixed-repeat":"repeat( [<integer [1,\u221E]>] , [<line-names>? <fixed-size>]+ <line-names>? )","fixed-size":"<fixed-breadth>|minmax( <fixed-breadth> , <track-breadth> )|minmax( <inflexible-breadth> , <fixed-breadth> )","font-stretch-absolute":"normal|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded|<percentage>","font-variant-css21":"[normal|small-caps]","font-weight-absolute":"normal|bold|<number [1,1000]>","frequency-percentage":"<frequency>|<percentage>","general-enclosed":"[<function-token> <any-value> )]|( <ident> <any-value> )","generic-family":"serif|sans-serif|cursive|fantasy|monospace|-apple-system","generic-name":"serif|sans-serif|cursive|fantasy|monospace","geometry-box":"<shape-box>|fill-box|stroke-box|view-box",gradient:"<linear-gradient()>|<repeating-linear-gradient()>|<radial-gradient()>|<repeating-radial-gradient()>|<conic-gradient()>|<repeating-conic-gradient()>|<-legacy-gradient>","grayscale()":"grayscale( <number-percentage> )","grid-line":"auto|<custom-ident>|[<integer>&&<custom-ident>?]|[span&&[<integer>||<custom-ident>]]","historical-lig-values":"[historical-ligatures|no-historical-ligatures]","hsl()":"hsl( <hue> <percentage> <percentage> [/ <alpha-value>]? )|hsl( <hue> , <percentage> , <percentage> , <alpha-value>? )","hsla()":"hsla( <hue> <percentage> <percentage> [/ <alpha-value>]? )|hsla( <hue> , <percentage> , <percentage> , <alpha-value>? )",hue:"<number>|<angle>","hue-rotate()":"hue-rotate( <angle> )","hwb()":"hwb( [<hue>|none] [<percentage>|none] [<percentage>|none] [/ [<alpha-value>|none]]? )","hypot()":"hypot( <calc-sum># )",image:"<url>|<image()>|<image-set()>|<element()>|<paint()>|<cross-fade()>|<gradient>","image()":"image( <image-tags>? [<image-src>? , <color>?]! )","image-set()":"image-set( <image-set-option># )","image-set-option":"[<image>|<string>] [<resolution>||type( <string> )]","image-src":"<url>|<string>","image-tags":"ltr|rtl","inflexible-breadth":"<length-percentage>|min-content|max-content|auto","inset()":"inset( <length-percentage>{1,4} [round <'border-radius'>]? )","invert()":"invert( <number-percentage> )","keyframes-name":"<custom-ident>|<string>","keyframe-block":"<keyframe-selector># { <declaration-list> }","keyframe-block-list":"<keyframe-block>+","keyframe-selector":"from|to|<percentage>","lab()":"lab( [<percentage>|<number>|none] [<percentage>|<number>|none] [<percentage>|<number>|none] [/ [<alpha-value>|none]]? )","layer()":"layer( <layer-name> )","layer-name":"<ident> ['.' <ident>]*","lch()":"lch( [<percentage>|<number>|none] [<percentage>|<number>|none] [<hue>|none] [/ [<alpha-value>|none]]? )","leader()":"leader( <leader-type> )","leader-type":"dotted|solid|space|<string>","length-percentage":"<length>|<percentage>","line-names":"'[' <custom-ident>* ']'","line-name-list":"[<line-names>|<name-repeat>]+","line-style":"none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset","line-width":"<length>|thin|medium|thick","linear-color-hint":"<length-percentage>","linear-color-stop":"<color> <color-stop-length>?","linear-gradient()":"linear-gradient( [<angle>|to <side-or-corner>]? , <color-stop-list> )","log()":"log( <calc-sum> , <calc-sum>? )","mask-layer":"<mask-reference>||<position> [/ <bg-size>]?||<repeat-style>||<geometry-box>||[<geometry-box>|no-clip]||<compositing-operator>||<masking-mode>","mask-position":"[<length-percentage>|left|center|right] [<length-percentage>|top|center|bottom]?","mask-reference":"none|<image>|<mask-source>","mask-source":"<url>","masking-mode":"alpha|luminance|match-source","matrix()":"matrix( <number>#{6} )","matrix3d()":"matrix3d( <number>#{16} )","max()":"max( <calc-sum># )","media-and":"<media-in-parens> [and <media-in-parens>]+","media-condition":"<media-not>|<media-and>|<media-or>|<media-in-parens>","media-condition-without-or":"<media-not>|<media-and>|<media-in-parens>","media-feature":"( [<mf-plain>|<mf-boolean>|<mf-range>] )","media-in-parens":"( <media-condition> )|<media-feature>|<general-enclosed>","media-not":"not <media-in-parens>","media-or":"<media-in-parens> [or <media-in-parens>]+","media-query":"<media-condition>|[not|only]? <media-type> [and <media-condition-without-or>]?","media-query-list":"<media-query>#","media-type":"<ident>","mf-boolean":"<mf-name>","mf-name":"<ident>","mf-plain":"<mf-name> : <mf-value>","mf-range":"<mf-name> ['<'|'>']? '='? <mf-value>|<mf-value> ['<'|'>']? '='? <mf-name>|<mf-value> '<' '='? <mf-name> '<' '='? <mf-value>|<mf-value> '>' '='? <mf-name> '>' '='? <mf-value>","mf-value":"<number>|<dimension>|<ident>|<ratio>","min()":"min( <calc-sum># )","minmax()":"minmax( [<length-percentage>|min-content|max-content|auto] , [<length-percentage>|<flex>|min-content|max-content|auto] )","mod()":"mod( <calc-sum> , <calc-sum> )","name-repeat":"repeat( [<integer [1,\u221E]>|auto-fill] , <line-names>+ )","named-color":"transparent|aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen|<-non-standard-color>","namespace-prefix":"<ident>","ns-prefix":"[<ident-token>|'*']? '|'","number-percentage":"<number>|<percentage>","numeric-figure-values":"[lining-nums|oldstyle-nums]","numeric-fraction-values":"[diagonal-fractions|stacked-fractions]","numeric-spacing-values":"[proportional-nums|tabular-nums]",nth:"<an-plus-b>|even|odd","opacity()":"opacity( [<number-percentage>] )","overflow-position":"unsafe|safe","outline-radius":"<length>|<percentage>","page-body":"<declaration>? [; <page-body>]?|<page-margin-box> <page-body>","page-margin-box":"<page-margin-box-type> '{' <declaration-list> '}'","page-margin-box-type":"@top-left-corner|@top-left|@top-center|@top-right|@top-right-corner|@bottom-left-corner|@bottom-left|@bottom-center|@bottom-right|@bottom-right-corner|@left-top|@left-middle|@left-bottom|@right-top|@right-middle|@right-bottom","page-selector-list":"[<page-selector>#]?","page-selector":"<pseudo-page>+|<ident> <pseudo-page>*","page-size":"A5|A4|A3|B5|B4|JIS-B5|JIS-B4|letter|legal|ledger","path()":"path( [<fill-rule> ,]? <string> )","paint()":"paint( <ident> , <declaration-value>? )","perspective()":"perspective( [<length [0,\u221E]>|none] )","polygon()":"polygon( <fill-rule>? , [<length-percentage> <length-percentage>]# )",position:"[[left|center|right]||[top|center|bottom]|[left|center|right|<length-percentage>] [top|center|bottom|<length-percentage>]?|[[left|right] <length-percentage>]&&[[top|bottom] <length-percentage>]]","pow()":"pow( <calc-sum> , <calc-sum> )","pseudo-class-selector":"':' <ident-token>|':' <function-token> <any-value> ')'","pseudo-element-selector":"':' <pseudo-class-selector>","pseudo-page":": [left|right|first|blank]",quote:"open-quote|close-quote|no-open-quote|no-close-quote","radial-gradient()":"radial-gradient( [<ending-shape>||<size>]? [at <position>]? , <color-stop-list> )",ratio:"<number [0,\u221E]> [/ <number [0,\u221E]>]?","relative-selector":"<combinator>? <complex-selector>","relative-selector-list":"<relative-selector>#","relative-size":"larger|smaller","rem()":"rem( <calc-sum> , <calc-sum> )","repeat-style":"repeat-x|repeat-y|[repeat|space|round|no-repeat]{1,2}","repeating-conic-gradient()":"repeating-conic-gradient( [from <angle>]? [at <position>]? , <angular-color-stop-list> )","repeating-linear-gradient()":"repeating-linear-gradient( [<angle>|to <side-or-corner>]? , <color-stop-list> )","repeating-radial-gradient()":"repeating-radial-gradient( [<ending-shape>||<size>]? [at <position>]? , <color-stop-list> )","reversed-counter-name":"reversed( <counter-name> )","rgb()":"rgb( <percentage>{3} [/ <alpha-value>]? )|rgb( <number>{3} [/ <alpha-value>]? )|rgb( <percentage>#{3} , <alpha-value>? )|rgb( <number>#{3} , <alpha-value>? )","rgba()":"rgba( <percentage>{3} [/ <alpha-value>]? )|rgba( <number>{3} [/ <alpha-value>]? )|rgba( <percentage>#{3} , <alpha-value>? )|rgba( <number>#{3} , <alpha-value>? )","rotate()":"rotate( [<angle>|<zero>] )","rotate3d()":"rotate3d( <number> , <number> , <number> , [<angle>|<zero>] )","rotateX()":"rotateX( [<angle>|<zero>] )","rotateY()":"rotateY( [<angle>|<zero>] )","rotateZ()":"rotateZ( [<angle>|<zero>] )","round()":"round( <rounding-strategy>? , <calc-sum> , <calc-sum> )","rounding-strategy":"nearest|up|down|to-zero","saturate()":"saturate( <number-percentage> )","scale()":"scale( [<number>|<percentage>]#{1,2} )","scale3d()":"scale3d( [<number>|<percentage>]#{3} )","scaleX()":"scaleX( [<number>|<percentage>] )","scaleY()":"scaleY( [<number>|<percentage>] )","scaleZ()":"scaleZ( [<number>|<percentage>] )",scroller:"root|nearest","self-position":"center|start|end|self-start|self-end|flex-start|flex-end","shape-radius":"<length-percentage>|closest-side|farthest-side","sign()":"sign( <calc-sum> )","skew()":"skew( [<angle>|<zero>] , [<angle>|<zero>]? )","skewX()":"skewX( [<angle>|<zero>] )","skewY()":"skewY( [<angle>|<zero>] )","sepia()":"sepia( <number-percentage> )",shadow:"inset?&&<length>{2,4}&&<color>?","shadow-t":"[<length>{2,3}&&<color>?]",shape:"rect( <top> , <right> , <bottom> , <left> )|rect( <top> <right> <bottom> <left> )","shape-box":"<box>|margin-box","side-or-corner":"[left|right]||[top|bottom]","sin()":"sin( <calc-sum> )","single-animation":"<time>||<easing-function>||<time>||<single-animation-iteration-count>||<single-animation-direction>||<single-animation-fill-mode>||<single-animation-play-state>||[none|<keyframes-name>]","single-animation-direction":"normal|reverse|alternate|alternate-reverse","single-animation-fill-mode":"none|forwards|backwards|both","single-animation-iteration-count":"infinite|<number>","single-animation-play-state":"running|paused","single-animation-timeline":"auto|none|<timeline-name>|scroll( <axis>? <scroller>? )","single-transition":"[none|<single-transition-property>]||<time>||<easing-function>||<time>","single-transition-property":"all|<custom-ident>",size:"closest-side|farthest-side|closest-corner|farthest-corner|<length>|<length-percentage>{2}","sqrt()":"sqrt( <calc-sum> )","step-position":"jump-start|jump-end|jump-none|jump-both|start|end","step-timing-function":"step-start|step-end|steps( <integer> [, <step-position>]? )","subclass-selector":"<id-selector>|<class-selector>|<attribute-selector>|<pseudo-class-selector>","supports-condition":"not <supports-in-parens>|<supports-in-parens> [and <supports-in-parens>]*|<supports-in-parens> [or <supports-in-parens>]*","supports-in-parens":"( <supports-condition> )|<supports-feature>|<general-enclosed>","supports-feature":"<supports-decl>|<supports-selector-fn>","supports-decl":"( <declaration> )","supports-selector-fn":"selector( <complex-selector> )",symbol:"<string>|<image>|<custom-ident>","tan()":"tan( <calc-sum> )",target:"<target-counter()>|<target-counters()>|<target-text()>","target-counter()":"target-counter( [<string>|<url>] , <custom-ident> , <counter-style>? )","target-counters()":"target-counters( [<string>|<url>] , <custom-ident> , <string> , <counter-style>? )","target-text()":"target-text( [<string>|<url>] , [content|before|after|first-letter]? )","time-percentage":"<time>|<percentage>","timeline-name":"<custom-ident>|<string>","easing-function":"linear|<cubic-bezier-timing-function>|<step-timing-function>","track-breadth":"<length-percentage>|<flex>|min-content|max-content|auto","track-list":"[<line-names>? [<track-size>|<track-repeat>]]+ <line-names>?","track-repeat":"repeat( [<integer [1,\u221E]>] , [<line-names>? <track-size>]+ <line-names>? )","track-size":"<track-breadth>|minmax( <inflexible-breadth> , <track-breadth> )|fit-content( <length-percentage> )","transform-function":"<matrix()>|<translate()>|<translateX()>|<translateY()>|<scale()>|<scaleX()>|<scaleY()>|<rotate()>|<skew()>|<skewX()>|<skewY()>|<matrix3d()>|<translate3d()>|<translateZ()>|<scale3d()>|<scaleZ()>|<rotate3d()>|<rotateX()>|<rotateY()>|<rotateZ()>|<perspective()>","transform-list":"<transform-function>+","translate()":"translate( <length-percentage> , <length-percentage>? )","translate3d()":"translate3d( <length-percentage> , <length-percentage> , <length> )","translateX()":"translateX( <length-percentage> )","translateY()":"translateY( <length-percentage> )","translateZ()":"translateZ( <length> )","type-or-unit":"string|color|url|integer|number|length|angle|time|frequency|cap|ch|em|ex|ic|lh|rlh|rem|vb|vi|vw|vh|vmin|vmax|mm|Q|cm|in|pt|pc|px|deg|grad|rad|turn|ms|s|Hz|kHz|%","type-selector":"<wq-name>|<ns-prefix>? '*'","var()":"var( <custom-property-name> , <declaration-value>? )","viewport-length":"auto|<length-percentage>","visual-box":"content-box|padding-box|border-box","wq-name":"<ns-prefix>? <ident-token>","-legacy-gradient":"<-webkit-gradient()>|<-legacy-linear-gradient>|<-legacy-repeating-linear-gradient>|<-legacy-radial-gradient>|<-legacy-repeating-radial-gradient>","-legacy-linear-gradient":"-moz-linear-gradient( <-legacy-linear-gradient-arguments> )|-webkit-linear-gradient( <-legacy-linear-gradient-arguments> )|-o-linear-gradient( <-legacy-linear-gradient-arguments> )","-legacy-repeating-linear-gradient":"-moz-repeating-linear-gradient( <-legacy-linear-gradient-arguments> )|-webkit-repeating-linear-gradient( <-legacy-linear-gradient-arguments> )|-o-repeating-linear-gradient( <-legacy-linear-gradient-arguments> )","-legacy-linear-gradient-arguments":"[<angle>|<side-or-corner>]? , <color-stop-list>","-legacy-radial-gradient":"-moz-radial-gradient( <-legacy-radial-gradient-arguments> )|-webkit-radial-gradient( <-legacy-radial-gradient-arguments> )|-o-radial-gradient( <-legacy-radial-gradient-arguments> )","-legacy-repeating-radial-gradient":"-moz-repeating-radial-gradient( <-legacy-radial-gradient-arguments> )|-webkit-repeating-radial-gradient( <-legacy-radial-gradient-arguments> )|-o-repeating-radial-gradient( <-legacy-radial-gradient-arguments> )","-legacy-radial-gradient-arguments":"[<position> ,]? [[[<-legacy-radial-gradient-shape>||<-legacy-radial-gradient-size>]|[<length>|<percentage>]{2}] ,]? <color-stop-list>","-legacy-radial-gradient-size":"closest-side|closest-corner|farthest-side|farthest-corner|contain|cover","-legacy-radial-gradient-shape":"circle|ellipse","-non-standard-font":"-apple-system-body|-apple-system-headline|-apple-system-subheadline|-apple-system-caption1|-apple-system-caption2|-apple-system-footnote|-apple-system-short-body|-apple-system-short-headline|-apple-system-short-subheadline|-apple-system-short-caption1|-apple-system-short-footnote|-apple-system-tall-body","-non-standard-color":"-moz-ButtonDefault|-moz-ButtonHoverFace|-moz-ButtonHoverText|-moz-CellHighlight|-moz-CellHighlightText|-moz-Combobox|-moz-ComboboxText|-moz-Dialog|-moz-DialogText|-moz-dragtargetzone|-moz-EvenTreeRow|-moz-Field|-moz-FieldText|-moz-html-CellHighlight|-moz-html-CellHighlightText|-moz-mac-accentdarkestshadow|-moz-mac-accentdarkshadow|-moz-mac-accentface|-moz-mac-accentlightesthighlight|-moz-mac-accentlightshadow|-moz-mac-accentregularhighlight|-moz-mac-accentregularshadow|-moz-mac-chrome-active|-moz-mac-chrome-inactive|-moz-mac-focusring|-moz-mac-menuselect|-moz-mac-menushadow|-moz-mac-menutextselect|-moz-MenuHover|-moz-MenuHoverText|-moz-MenuBarText|-moz-MenuBarHoverText|-moz-nativehyperlinktext|-moz-OddTreeRow|-moz-win-communicationstext|-moz-win-mediatext|-moz-activehyperlinktext|-moz-default-background-color|-moz-default-color|-moz-hyperlinktext|-moz-visitedhyperlinktext|-webkit-activelink|-webkit-focus-ring-color|-webkit-link|-webkit-text","-non-standard-image-rendering":"optimize-contrast|-moz-crisp-edges|-o-crisp-edges|-webkit-optimize-contrast","-non-standard-overflow":"-moz-scrollbars-none|-moz-scrollbars-horizontal|-moz-scrollbars-vertical|-moz-hidden-unscrollable","-non-standard-width":"fill-available|min-intrinsic|intrinsic|-moz-available|-moz-fit-content|-moz-min-content|-moz-max-content|-webkit-min-content|-webkit-max-content","-webkit-gradient()":"-webkit-gradient( <-webkit-gradient-type> , <-webkit-gradient-point> [, <-webkit-gradient-point>|, <-webkit-gradient-radius> , <-webkit-gradient-point>] [, <-webkit-gradient-radius>]? [, <-webkit-gradient-color-stop>]* )","-webkit-gradient-color-stop":"from( <color> )|color-stop( [<number-zero-one>|<percentage>] , <color> )|to( <color> )","-webkit-gradient-point":"[left|center|right|<length-percentage>] [top|center|bottom|<length-percentage>]","-webkit-gradient-radius":"<length>|<percentage>","-webkit-gradient-type":"linear|radial","-webkit-mask-box-repeat":"repeat|stretch|round","-webkit-mask-clip-style":"border|border-box|padding|padding-box|content|content-box|text","-ms-filter-function-list":"<-ms-filter-function>+","-ms-filter-function":"<-ms-filter-function-progid>|<-ms-filter-function-legacy>","-ms-filter-function-progid":"'progid:' [<ident-token> '.']* [<ident-token>|<function-token> <any-value>? )]","-ms-filter-function-legacy":"<ident-token>|<function-token> <any-value>? )","-ms-filter":"<string>",age:"child|young|old","attr-name":"<wq-name>","attr-fallback":"<any-value>","bg-clip":"<box>|border|text",bottom:"<length>|auto","generic-voice":"[<age>? <gender> <integer>?]",gender:"male|female|neutral",left:"<length>|auto","mask-image":"<mask-reference>#",paint:"none|<color>|<url> [none|<color>]?|context-fill|context-stroke",right:"<length>|auto","scroll-timeline-axis":"block|inline|vertical|horizontal","scroll-timeline-name":"none|<custom-ident>","single-animation-composition":"replace|add|accumulate","svg-length":"<percentage>|<length>|<number>","svg-writing-mode":"lr-tb|rl-tb|tb-rl|lr|rl|tb",top:"<length>|auto",x:"<number>",y:"<number>",declaration:"<ident-token> : <declaration-value>? ['!' important]?","declaration-list":"[<declaration>? ';']* <declaration>?",url:"url( <string> <url-modifier>* )|<url-token>","url-modifier":"<ident>|<function-token> <any-value> )","number-zero-one":"<number [0,1]>","number-one-or-greater":"<number [1,\u221E]>","-non-standard-display":"-ms-inline-flexbox|-ms-grid|-ms-inline-grid|-webkit-flex|-webkit-inline-flex|-webkit-box|-webkit-inline-box|-moz-inline-stack|-moz-box|-moz-inline-box"},properties:{"--*":"<declaration-value>","-ms-accelerator":"false|true","-ms-block-progression":"tb|rl|bt|lr","-ms-content-zoom-chaining":"none|chained","-ms-content-zooming":"none|zoom","-ms-content-zoom-limit":"<'-ms-content-zoom-limit-min'> <'-ms-content-zoom-limit-max'>","-ms-content-zoom-limit-max":"<percentage>","-ms-content-zoom-limit-min":"<percentage>","-ms-content-zoom-snap":"<'-ms-content-zoom-snap-type'>||<'-ms-content-zoom-snap-points'>","-ms-content-zoom-snap-points":"snapInterval( <percentage> , <percentage> )|snapList( <percentage># )","-ms-content-zoom-snap-type":"none|proximity|mandatory","-ms-filter":"<string>","-ms-flow-from":"[none|<custom-ident>]#","-ms-flow-into":"[none|<custom-ident>]#","-ms-grid-columns":"none|<track-list>|<auto-track-list>","-ms-grid-rows":"none|<track-list>|<auto-track-list>","-ms-high-contrast-adjust":"auto|none","-ms-hyphenate-limit-chars":"auto|<integer>{1,3}","-ms-hyphenate-limit-lines":"no-limit|<integer>","-ms-hyphenate-limit-zone":"<percentage>|<length>","-ms-ime-align":"auto|after","-ms-overflow-style":"auto|none|scrollbar|-ms-autohiding-scrollbar","-ms-scrollbar-3dlight-color":"<color>","-ms-scrollbar-arrow-color":"<color>","-ms-scrollbar-base-color":"<color>","-ms-scrollbar-darkshadow-color":"<color>","-ms-scrollbar-face-color":"<color>","-ms-scrollbar-highlight-color":"<color>","-ms-scrollbar-shadow-color":"<color>","-ms-scrollbar-track-color":"<color>","-ms-scroll-chaining":"chained|none","-ms-scroll-limit":"<'-ms-scroll-limit-x-min'> <'-ms-scroll-limit-y-min'> <'-ms-scroll-limit-x-max'> <'-ms-scroll-limit-y-max'>","-ms-scroll-limit-x-max":"auto|<length>","-ms-scroll-limit-x-min":"<length>","-ms-scroll-limit-y-max":"auto|<length>","-ms-scroll-limit-y-min":"<length>","-ms-scroll-rails":"none|railed","-ms-scroll-snap-points-x":"snapInterval( <length-percentage> , <length-percentage> )|snapList( <length-percentage># )","-ms-scroll-snap-points-y":"snapInterval( <length-percentage> , <length-percentage> )|snapList( <length-percentage># )","-ms-scroll-snap-type":"none|proximity|mandatory","-ms-scroll-snap-x":"<'-ms-scroll-snap-type'> <'-ms-scroll-snap-points-x'>","-ms-scroll-snap-y":"<'-ms-scroll-snap-type'> <'-ms-scroll-snap-points-y'>","-ms-scroll-translation":"none|vertical-to-horizontal","-ms-text-autospace":"none|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space","-ms-touch-select":"grippers|none","-ms-user-select":"none|element|text","-ms-wrap-flow":"auto|both|start|end|maximum|clear","-ms-wrap-margin":"<length>","-ms-wrap-through":"wrap|none","-moz-appearance":"none|button|button-arrow-down|button-arrow-next|button-arrow-previous|button-arrow-up|button-bevel|button-focus|caret|checkbox|checkbox-container|checkbox-label|checkmenuitem|dualbutton|groupbox|listbox|listitem|menuarrow|menubar|menucheckbox|menuimage|menuitem|menuitemtext|menulist|menulist-button|menulist-text|menulist-textfield|menupopup|menuradio|menuseparator|meterbar|meterchunk|progressbar|progressbar-vertical|progresschunk|progresschunk-vertical|radio|radio-container|radio-label|radiomenuitem|range|range-thumb|resizer|resizerpanel|scale-horizontal|scalethumbend|scalethumb-horizontal|scalethumbstart|scalethumbtick|scalethumb-vertical|scale-vertical|scrollbarbutton-down|scrollbarbutton-left|scrollbarbutton-right|scrollbarbutton-up|scrollbarthumb-horizontal|scrollbarthumb-vertical|scrollbartrack-horizontal|scrollbartrack-vertical|searchfield|separator|sheet|spinner|spinner-downbutton|spinner-textfield|spinner-upbutton|splitter|statusbar|statusbarpanel|tab|tabpanel|tabpanels|tab-scroll-arrow-back|tab-scroll-arrow-forward|textfield|textfield-multiline|toolbar|toolbarbutton|toolbarbutton-dropdown|toolbargripper|toolbox|tooltip|treeheader|treeheadercell|treeheadersortarrow|treeitem|treeline|treetwisty|treetwistyopen|treeview|-moz-mac-unified-toolbar|-moz-win-borderless-glass|-moz-win-browsertabbar-toolbox|-moz-win-communicationstext|-moz-win-communications-toolbox|-moz-win-exclude-glass|-moz-win-glass|-moz-win-mediatext|-moz-win-media-toolbox|-moz-window-button-box|-moz-window-button-box-maximized|-moz-window-button-close|-moz-window-button-maximize|-moz-window-button-minimize|-moz-window-button-restore|-moz-window-frame-bottom|-moz-window-frame-left|-moz-window-frame-right|-moz-window-titlebar|-moz-window-titlebar-maximized","-moz-binding":"<url>|none","-moz-border-bottom-colors":"<color>+|none","-moz-border-left-colors":"<color>+|none","-moz-border-right-colors":"<color>+|none","-moz-border-top-colors":"<color>+|none","-moz-context-properties":"none|[fill|fill-opacity|stroke|stroke-opacity]#","-moz-float-edge":"border-box|content-box|margin-box|padding-box","-moz-force-broken-image-icon":"0|1","-moz-image-region":"<shape>|auto","-moz-orient":"inline|block|horizontal|vertical","-moz-outline-radius":"<outline-radius>{1,4} [/ <outline-radius>{1,4}]?","-moz-outline-radius-bottomleft":"<outline-radius>","-moz-outline-radius-bottomright":"<outline-radius>","-moz-outline-radius-topleft":"<outline-radius>","-moz-outline-radius-topright":"<outline-radius>","-moz-stack-sizing":"ignore|stretch-to-fit","-moz-text-blink":"none|blink","-moz-user-focus":"ignore|normal|select-after|select-before|select-menu|select-same|select-all|none","-moz-user-input":"auto|none|enabled|disabled","-moz-user-modify":"read-only|read-write|write-only","-moz-window-dragging":"drag|no-drag","-moz-window-shadow":"default|menu|tooltip|sheet|none","-webkit-appearance":"none|button|button-bevel|caps-lock-indicator|caret|checkbox|default-button|inner-spin-button|listbox|listitem|media-controls-background|media-controls-fullscreen-background|media-current-time-display|media-enter-fullscreen-button|media-exit-fullscreen-button|media-fullscreen-button|media-mute-button|media-overlay-play-button|media-play-button|media-seek-back-button|media-seek-forward-button|media-slider|media-sliderthumb|media-time-remaining-display|media-toggle-closed-captions-button|media-volume-slider|media-volume-slider-container|media-volume-sliderthumb|menulist|menulist-button|menulist-text|menulist-textfield|meter|progress-bar|progress-bar-value|push-button|radio|scrollbarbutton-down|scrollbarbutton-left|scrollbarbutton-right|scrollbarbutton-up|scrollbargripper-horizontal|scrollbargripper-vertical|scrollbarthumb-horizontal|scrollbarthumb-vertical|scrollbartrack-horizontal|scrollbartrack-vertical|searchfield|searchfield-cancel-button|searchfield-decoration|searchfield-results-button|searchfield-results-decoration|slider-horizontal|slider-vertical|sliderthumb-horizontal|sliderthumb-vertical|square-button|textarea|textfield|-apple-pay-button","-webkit-border-before":"<'border-width'>||<'border-style'>||<color>","-webkit-border-before-color":"<color>","-webkit-border-before-style":"<'border-style'>","-webkit-border-before-width":"<'border-width'>","-webkit-box-reflect":"[above|below|right|left]? <length>? <image>?","-webkit-line-clamp":"none|<integer>","-webkit-mask":"[<mask-reference>||<position> [/ <bg-size>]?||<repeat-style>||[<box>|border|padding|content|text]||[<box>|border|padding|content]]#","-webkit-mask-attachment":"<attachment>#","-webkit-mask-clip":"[<box>|border|padding|content|text]#","-webkit-mask-composite":"<composite-style>#","-webkit-mask-image":"<mask-reference>#","-webkit-mask-origin":"[<box>|border|padding|content]#","-webkit-mask-position":"<position>#","-webkit-mask-position-x":"[<length-percentage>|left|center|right]#","-webkit-mask-position-y":"[<length-percentage>|top|center|bottom]#","-webkit-mask-repeat":"<repeat-style>#","-webkit-mask-repeat-x":"repeat|no-repeat|space|round","-webkit-mask-repeat-y":"repeat|no-repeat|space|round","-webkit-mask-size":"<bg-size>#","-webkit-overflow-scrolling":"auto|touch","-webkit-tap-highlight-color":"<color>","-webkit-text-fill-color":"<color>","-webkit-text-stroke":"<length>||<color>","-webkit-text-stroke-color":"<color>","-webkit-text-stroke-width":"<length>","-webkit-touch-callout":"default|none","-webkit-user-modify":"read-only|read-write|read-write-plaintext-only","accent-color":"auto|<color>","align-content":"normal|<baseline-position>|<content-distribution>|<overflow-position>? <content-position>","align-items":"normal|stretch|<baseline-position>|[<overflow-position>? <self-position>]","align-self":"auto|normal|stretch|<baseline-position>|<overflow-position>? <self-position>","align-tracks":"[normal|<baseline-position>|<content-distribution>|<overflow-position>? <content-position>]#",all:"initial|inherit|unset|revert|revert-layer",animation:"<single-animation>#","animation-composition":"<single-animation-composition>#","animation-delay":"<time>#","animation-direction":"<single-animation-direction>#","animation-duration":"<time>#","animation-fill-mode":"<single-animation-fill-mode>#","animation-iteration-count":"<single-animation-iteration-count>#","animation-name":"[none|<keyframes-name>]#","animation-play-state":"<single-animation-play-state>#","animation-timing-function":"<easing-function>#","animation-timeline":"<single-animation-timeline>#",appearance:"none|auto|textfield|menulist-button|<compat-auto>","aspect-ratio":"auto|<ratio>",azimuth:"<angle>|[[left-side|far-left|left|center-left|center|center-right|right|far-right|right-side]||behind]|leftwards|rightwards","backdrop-filter":"none|<filter-function-list>","backface-visibility":"visible|hidden",background:"[<bg-layer> ,]* <final-bg-layer>","background-attachment":"<attachment>#","background-blend-mode":"<blend-mode>#","background-clip":"<bg-clip>#","background-color":"<color>","background-image":"<bg-image>#","background-origin":"<box>#","background-position":"<bg-position>#","background-position-x":"[center|[[left|right|x-start|x-end]? <length-percentage>?]!]#","background-position-y":"[center|[[top|bottom|y-start|y-end]? <length-percentage>?]!]#","background-repeat":"<repeat-style>#","background-size":"<bg-size>#","block-overflow":"clip|ellipsis|<string>","block-size":"<'width'>",border:"<line-width>||<line-style>||<color>","border-block":"<'border-top-width'>||<'border-top-style'>||<color>","border-block-color":"<'border-top-color'>{1,2}","border-block-style":"<'border-top-style'>","border-block-width":"<'border-top-width'>","border-block-end":"<'border-top-width'>||<'border-top-style'>||<color>","border-block-end-color":"<'border-top-color'>","border-block-end-style":"<'border-top-style'>","border-block-end-width":"<'border-top-width'>","border-block-start":"<'border-top-width'>||<'border-top-style'>||<color>","border-block-start-color":"<'border-top-color'>","border-block-start-style":"<'border-top-style'>","border-block-start-width":"<'border-top-width'>","border-bottom":"<line-width>||<line-style>||<color>","border-bottom-color":"<'border-top-color'>","border-bottom-left-radius":"<length-percentage>{1,2}","border-bottom-right-radius":"<length-percentage>{1,2}","border-bottom-style":"<line-style>","border-bottom-width":"<line-width>","border-collapse":"collapse|separate","border-color":"<color>{1,4}","border-end-end-radius":"<length-percentage>{1,2}","border-end-start-radius":"<length-percentage>{1,2}","border-image":"<'border-image-source'>||<'border-image-slice'> [/ <'border-image-width'>|/ <'border-image-width'>? / <'border-image-outset'>]?||<'border-image-repeat'>","border-image-outset":"[<length>|<number>]{1,4}","border-image-repeat":"[stretch|repeat|round|space]{1,2}","border-image-slice":"<number-percentage>{1,4}&&fill?","border-image-source":"none|<image>","border-image-width":"[<length-percentage>|<number>|auto]{1,4}","border-inline":"<'border-top-width'>||<'border-top-style'>||<color>","border-inline-end":"<'border-top-width'>||<'border-top-style'>||<color>","border-inline-color":"<'border-top-color'>{1,2}","border-inline-style":"<'border-top-style'>","border-inline-width":"<'border-top-width'>","border-inline-end-color":"<'border-top-color'>","border-inline-end-style":"<'border-top-style'>","border-inline-end-width":"<'border-top-width'>","border-inline-start":"<'border-top-width'>||<'border-top-style'>||<color>","border-inline-start-color":"<'border-top-color'>","border-inline-start-style":"<'border-top-style'>","border-inline-start-width":"<'border-top-width'>","border-left":"<line-width>||<line-style>||<color>","border-left-color":"<color>","border-left-style":"<line-style>","border-left-width":"<line-width>","border-radius":"<length-percentage>{1,4} [/ <length-percentage>{1,4}]?","border-right":"<line-width>||<line-style>||<color>","border-right-color":"<color>","border-right-style":"<line-style>","border-right-width":"<line-width>","border-spacing":"<length> <length>?","border-start-end-radius":"<length-percentage>{1,2}","border-start-start-radius":"<length-percentage>{1,2}","border-style":"<line-style>{1,4}","border-top":"<line-width>||<line-style>||<color>","border-top-color":"<color>","border-top-left-radius":"<length-percentage>{1,2}","border-top-right-radius":"<length-percentage>{1,2}","border-top-style":"<line-style>","border-top-width":"<line-width>","border-width":"<line-width>{1,4}",bottom:"<length>|<percentage>|auto","box-align":"start|center|end|baseline|stretch","box-decoration-break":"slice|clone","box-direction":"normal|reverse|inherit","box-flex":"<number>","box-flex-group":"<integer>","box-lines":"single|multiple","box-ordinal-group":"<integer>","box-orient":"horizontal|vertical|inline-axis|block-axis|inherit","box-pack":"start|center|end|justify","box-shadow":"none|<shadow>#","box-sizing":"content-box|border-box","break-after":"auto|avoid|always|all|avoid-page|page|left|right|recto|verso|avoid-column|column|avoid-region|region","break-before":"auto|avoid|always|all|avoid-page|page|left|right|recto|verso|avoid-column|column|avoid-region|region","break-inside":"auto|avoid|avoid-page|avoid-column|avoid-region","caption-side":"top|bottom|block-start|block-end|inline-start|inline-end",caret:"<'caret-color'>||<'caret-shape'>","caret-color":"auto|<color>","caret-shape":"auto|bar|block|underscore",clear:"none|left|right|both|inline-start|inline-end",clip:"<shape>|auto","clip-path":"<clip-source>|[<basic-shape>||<geometry-box>]|none",color:"<color>","print-color-adjust":"economy|exact","color-scheme":"normal|[light|dark|<custom-ident>]+&&only?","column-count":"<integer>|auto","column-fill":"auto|balance|balance-all","column-gap":"normal|<length-percentage>","column-rule":"<'column-rule-width'>||<'column-rule-style'>||<'column-rule-color'>","column-rule-color":"<color>","column-rule-style":"<'border-style'>","column-rule-width":"<'border-width'>","column-span":"none|all","column-width":"<length>|auto",columns:"<'column-width'>||<'column-count'>",contain:"none|strict|content|[[size||inline-size]||layout||style||paint]","contain-intrinsic-size":"[none|<length>|auto <length>]{1,2}","contain-intrinsic-block-size":"none|<length>|auto <length>","contain-intrinsic-height":"none|<length>|auto <length>","contain-intrinsic-inline-size":"none|<length>|auto <length>","contain-intrinsic-width":"none|<length>|auto <length>",content:"normal|none|[<content-replacement>|<content-list>] [/ [<string>|<counter>]+]?","content-visibility":"visible|auto|hidden","counter-increment":"[<counter-name> <integer>?]+|none","counter-reset":"[<counter-name> <integer>?|<reversed-counter-name> <integer>?]+|none","counter-set":"[<counter-name> <integer>?]+|none",cursor:"[[<url> [<x> <y>]? ,]* [auto|default|none|context-menu|help|pointer|progress|wait|cell|crosshair|text|vertical-text|alias|copy|move|no-drop|not-allowed|e-resize|n-resize|ne-resize|nw-resize|s-resize|se-resize|sw-resize|w-resize|ew-resize|ns-resize|nesw-resize|nwse-resize|col-resize|row-resize|all-scroll|zoom-in|zoom-out|grab|grabbing|hand|-webkit-grab|-webkit-grabbing|-webkit-zoom-in|-webkit-zoom-out|-moz-grab|-moz-grabbing|-moz-zoom-in|-moz-zoom-out]]",direction:"ltr|rtl",display:"[<display-outside>||<display-inside>]|<display-listitem>|<display-internal>|<display-box>|<display-legacy>|<-non-standard-display>","empty-cells":"show|hide",filter:"none|<filter-function-list>|<-ms-filter-function-list>",flex:"none|[<'flex-grow'> <'flex-shrink'>?||<'flex-basis'>]","flex-basis":"content|<'width'>","flex-direction":"row|row-reverse|column|column-reverse","flex-flow":"<'flex-direction'>||<'flex-wrap'>","flex-grow":"<number>","flex-shrink":"<number>","flex-wrap":"nowrap|wrap|wrap-reverse",float:"left|right|none|inline-start|inline-end",font:"[[<'font-style'>||<font-variant-css21>||<'font-weight'>||<'font-stretch'>]? <'font-size'> [/ <'line-height'>]? <'font-family'>]|caption|icon|menu|message-box|small-caption|status-bar","font-family":"[<family-name>|<generic-family>]#","font-feature-settings":"normal|<feature-tag-value>#","font-kerning":"auto|normal|none","font-language-override":"normal|<string>","font-optical-sizing":"auto|none","font-variation-settings":"normal|[<string> <number>]#","font-size":"<absolute-size>|<relative-size>|<length-percentage>","font-size-adjust":"none|[ex-height|cap-height|ch-width|ic-width|ic-height]? [from-font|<number>]","font-smooth":"auto|never|always|<absolute-size>|<length>","font-stretch":"<font-stretch-absolute>","font-style":"normal|italic|oblique <angle>?","font-synthesis":"none|[weight||style||small-caps]","font-variant":"normal|none|[<common-lig-values>||<discretionary-lig-values>||<historical-lig-values>||<contextual-alt-values>||stylistic( <feature-value-name> )||historical-forms||styleset( <feature-value-name># )||character-variant( <feature-value-name># )||swash( <feature-value-name> )||ornaments( <feature-value-name> )||annotation( <feature-value-name> )||[small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps]||<numeric-figure-values>||<numeric-spacing-values>||<numeric-fraction-values>||ordinal||slashed-zero||<east-asian-variant-values>||<east-asian-width-values>||ruby]","font-variant-alternates":"normal|[stylistic( <feature-value-name> )||historical-forms||styleset( <feature-value-name># )||character-variant( <feature-value-name># )||swash( <feature-value-name> )||ornaments( <feature-value-name> )||annotation( <feature-value-name> )]","font-variant-caps":"normal|small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps","font-variant-east-asian":"normal|[<east-asian-variant-values>||<east-asian-width-values>||ruby]","font-variant-ligatures":"normal|none|[<common-lig-values>||<discretionary-lig-values>||<historical-lig-values>||<contextual-alt-values>]","font-variant-numeric":"normal|[<numeric-figure-values>||<numeric-spacing-values>||<numeric-fraction-values>||ordinal||slashed-zero]","font-variant-position":"normal|sub|super","font-weight":"<font-weight-absolute>|bolder|lighter","forced-color-adjust":"auto|none",gap:"<'row-gap'> <'column-gap'>?",grid:"<'grid-template'>|<'grid-template-rows'> / [auto-flow&&dense?] <'grid-auto-columns'>?|[auto-flow&&dense?] <'grid-auto-rows'>? / <'grid-template-columns'>","grid-area":"<grid-line> [/ <grid-line>]{0,3}","grid-auto-columns":"<track-size>+","grid-auto-flow":"[row|column]||dense","grid-auto-rows":"<track-size>+","grid-column":"<grid-line> [/ <grid-line>]?","grid-column-end":"<grid-line>","grid-column-gap":"<length-percentage>","grid-column-start":"<grid-line>","grid-gap":"<'grid-row-gap'> <'grid-column-gap'>?","grid-row":"<grid-line> [/ <grid-line>]?","grid-row-end":"<grid-line>","grid-row-gap":"<length-percentage>","grid-row-start":"<grid-line>","grid-template":"none|[<'grid-template-rows'> / <'grid-template-columns'>]|[<line-names>? <string> <track-size>? <line-names>?]+ [/ <explicit-track-list>]?","grid-template-areas":"none|<string>+","grid-template-columns":"none|<track-list>|<auto-track-list>|subgrid <line-name-list>?","grid-template-rows":"none|<track-list>|<auto-track-list>|subgrid <line-name-list>?","hanging-punctuation":"none|[first||[force-end|allow-end]||last]",height:"auto|<length>|<percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )","hyphenate-character":"auto|<string>",hyphens:"none|manual|auto","image-orientation":"from-image|<angle>|[<angle>? flip]","image-rendering":"auto|crisp-edges|pixelated|optimizeSpeed|optimizeQuality|<-non-standard-image-rendering>","image-resolution":"[from-image||<resolution>]&&snap?","ime-mode":"auto|normal|active|inactive|disabled","initial-letter":"normal|[<number> <integer>?]","initial-letter-align":"[auto|alphabetic|hanging|ideographic]","inline-size":"<'width'>","input-security":"auto|none",inset:"<'top'>{1,4}","inset-block":"<'top'>{1,2}","inset-block-end":"<'top'>","inset-block-start":"<'top'>","inset-inline":"<'top'>{1,2}","inset-inline-end":"<'top'>","inset-inline-start":"<'top'>",isolation:"auto|isolate","justify-content":"normal|<content-distribution>|<overflow-position>? [<content-position>|left|right]","justify-items":"normal|stretch|<baseline-position>|<overflow-position>? [<self-position>|left|right]|legacy|legacy&&[left|right|center]","justify-self":"auto|normal|stretch|<baseline-position>|<overflow-position>? [<self-position>|left|right]","justify-tracks":"[normal|<content-distribution>|<overflow-position>? [<content-position>|left|right]]#",left:"<length>|<percentage>|auto","letter-spacing":"normal|<length-percentage>","line-break":"auto|loose|normal|strict|anywhere","line-clamp":"none|<integer>","line-height":"normal|<number>|<length>|<percentage>","line-height-step":"<length>","list-style":"<'list-style-type'>||<'list-style-position'>||<'list-style-image'>","list-style-image":"<image>|none","list-style-position":"inside|outside","list-style-type":"<counter-style>|<string>|none",margin:"[<length>|<percentage>|auto]{1,4}","margin-block":"<'margin-left'>{1,2}","margin-block-end":"<'margin-left'>","margin-block-start":"<'margin-left'>","margin-bottom":"<length>|<percentage>|auto","margin-inline":"<'margin-left'>{1,2}","margin-inline-end":"<'margin-left'>","margin-inline-start":"<'margin-left'>","margin-left":"<length>|<percentage>|auto","margin-right":"<length>|<percentage>|auto","margin-top":"<length>|<percentage>|auto","margin-trim":"none|in-flow|all",mask:"<mask-layer>#","mask-border":"<'mask-border-source'>||<'mask-border-slice'> [/ <'mask-border-width'>? [/ <'mask-border-outset'>]?]?||<'mask-border-repeat'>||<'mask-border-mode'>","mask-border-mode":"luminance|alpha","mask-border-outset":"[<length>|<number>]{1,4}","mask-border-repeat":"[stretch|repeat|round|space]{1,2}","mask-border-slice":"<number-percentage>{1,4} fill?","mask-border-source":"none|<image>","mask-border-width":"[<length-percentage>|<number>|auto]{1,4}","mask-clip":"[<geometry-box>|no-clip]#","mask-composite":"<compositing-operator>#","mask-image":"<mask-reference>#","mask-mode":"<masking-mode>#","mask-origin":"<geometry-box>#","mask-position":"<position>#","mask-repeat":"<repeat-style>#","mask-size":"<bg-size>#","mask-type":"luminance|alpha","masonry-auto-flow":"[pack|next]||[definite-first|ordered]","math-depth":"auto-add|add( <integer> )|<integer>","math-shift":"normal|compact","math-style":"normal|compact","max-block-size":"<'max-width'>","max-height":"none|<length-percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )","max-inline-size":"<'max-width'>","max-lines":"none|<integer>","max-width":"none|<length-percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|<-non-standard-width>","min-block-size":"<'min-width'>","min-height":"auto|<length>|<percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )","min-inline-size":"<'min-width'>","min-width":"auto|<length>|<percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|<-non-standard-width>","mix-blend-mode":"<blend-mode>|plus-lighter","object-fit":"fill|contain|cover|none|scale-down","object-position":"<position>",offset:"[<'offset-position'>? [<'offset-path'> [<'offset-distance'>||<'offset-rotate'>]?]?]! [/ <'offset-anchor'>]?","offset-anchor":"auto|<position>","offset-distance":"<length-percentage>","offset-path":"none|ray( [<angle>&&<size>&&contain?] )|<path()>|<url>|[<basic-shape>||<geometry-box>]","offset-position":"auto|<position>","offset-rotate":"[auto|reverse]||<angle>",opacity:"<alpha-value>",order:"<integer>",orphans:"<integer>",outline:"[<'outline-color'>||<'outline-style'>||<'outline-width'>]","outline-color":"<color>|invert","outline-offset":"<length>","outline-style":"auto|<'border-style'>","outline-width":"<line-width>",overflow:"[visible|hidden|clip|scroll|auto]{1,2}|<-non-standard-overflow>","overflow-anchor":"auto|none","overflow-block":"visible|hidden|clip|scroll|auto","overflow-clip-box":"padding-box|content-box","overflow-clip-margin":"<visual-box>||<length [0,\u221E]>","overflow-inline":"visible|hidden|clip|scroll|auto","overflow-wrap":"normal|break-word|anywhere","overflow-x":"visible|hidden|clip|scroll|auto","overflow-y":"visible|hidden|clip|scroll|auto","overscroll-behavior":"[contain|none|auto]{1,2}","overscroll-behavior-block":"contain|none|auto","overscroll-behavior-inline":"contain|none|auto","overscroll-behavior-x":"contain|none|auto","overscroll-behavior-y":"contain|none|auto",padding:"[<length>|<percentage>]{1,4}","padding-block":"<'padding-left'>{1,2}","padding-block-end":"<'padding-left'>","padding-block-start":"<'padding-left'>","padding-bottom":"<length>|<percentage>","padding-inline":"<'padding-left'>{1,2}","padding-inline-end":"<'padding-left'>","padding-inline-start":"<'padding-left'>","padding-left":"<length>|<percentage>","padding-right":"<length>|<percentage>","padding-top":"<length>|<percentage>","page-break-after":"auto|always|avoid|left|right|recto|verso","page-break-before":"auto|always|avoid|left|right|recto|verso","page-break-inside":"auto|avoid","paint-order":"normal|[fill||stroke||markers]",perspective:"none|<length>","perspective-origin":"<position>","place-content":"<'align-content'> <'justify-content'>?","place-items":"<'align-items'> <'justify-items'>?","place-self":"<'align-self'> <'justify-self'>?","pointer-events":"auto|none|visiblePainted|visibleFill|visibleStroke|visible|painted|fill|stroke|all|inherit",position:"static|relative|absolute|sticky|fixed|-webkit-sticky",quotes:"none|auto|[<string> <string>]+",resize:"none|both|horizontal|vertical|block|inline",right:"<length>|<percentage>|auto",rotate:"none|<angle>|[x|y|z|<number>{3}]&&<angle>","row-gap":"normal|<length-percentage>","ruby-align":"start|center|space-between|space-around","ruby-merge":"separate|collapse|auto","ruby-position":"[alternate||[over|under]]|inter-character",scale:"none|<number>{1,3}","scrollbar-color":"auto|<color>{2}","scrollbar-gutter":"auto|stable&&both-edges?","scrollbar-width":"auto|thin|none","scroll-behavior":"auto|smooth","scroll-margin":"<length>{1,4}","scroll-margin-block":"<length>{1,2}","scroll-margin-block-start":"<length>","scroll-margin-block-end":"<length>","scroll-margin-bottom":"<length>","scroll-margin-inline":"<length>{1,2}","scroll-margin-inline-start":"<length>","scroll-margin-inline-end":"<length>","scroll-margin-left":"<length>","scroll-margin-right":"<length>","scroll-margin-top":"<length>","scroll-padding":"[auto|<length-percentage>]{1,4}","scroll-padding-block":"[auto|<length-percentage>]{1,2}","scroll-padding-block-start":"auto|<length-percentage>","scroll-padding-block-end":"auto|<length-percentage>","scroll-padding-bottom":"auto|<length-percentage>","scroll-padding-inline":"[auto|<length-percentage>]{1,2}","scroll-padding-inline-start":"auto|<length-percentage>","scroll-padding-inline-end":"auto|<length-percentage>","scroll-padding-left":"auto|<length-percentage>","scroll-padding-right":"auto|<length-percentage>","scroll-padding-top":"auto|<length-percentage>","scroll-snap-align":"[none|start|end|center]{1,2}","scroll-snap-coordinate":"none|<position>#","scroll-snap-destination":"<position>","scroll-snap-points-x":"none|repeat( <length-percentage> )","scroll-snap-points-y":"none|repeat( <length-percentage> )","scroll-snap-stop":"normal|always","scroll-snap-type":"none|[x|y|block|inline|both] [mandatory|proximity]?","scroll-snap-type-x":"none|mandatory|proximity","scroll-snap-type-y":"none|mandatory|proximity","scroll-timeline":"<scroll-timeline-name>||<scroll-timeline-axis>","scroll-timeline-axis":"block|inline|vertical|horizontal","scroll-timeline-name":"none|<custom-ident>","shape-image-threshold":"<alpha-value>","shape-margin":"<length-percentage>","shape-outside":"none|[<shape-box>||<basic-shape>]|<image>","tab-size":"<integer>|<length>","table-layout":"auto|fixed","text-align":"start|end|left|right|center|justify|match-parent","text-align-last":"auto|start|end|left|right|center|justify","text-combine-upright":"none|all|[digits <integer>?]","text-decoration":"<'text-decoration-line'>||<'text-decoration-style'>||<'text-decoration-color'>||<'text-decoration-thickness'>","text-decoration-color":"<color>","text-decoration-line":"none|[underline||overline||line-through||blink]|spelling-error|grammar-error","text-decoration-skip":"none|[objects||[spaces|[leading-spaces||trailing-spaces]]||edges||box-decoration]","text-decoration-skip-ink":"auto|all|none","text-decoration-style":"solid|double|dotted|dashed|wavy","text-decoration-thickness":"auto|from-font|<length>|<percentage>","text-emphasis":"<'text-emphasis-style'>||<'text-emphasis-color'>","text-emphasis-color":"<color>","text-emphasis-position":"[over|under]&&[right|left]","text-emphasis-style":"none|[[filled|open]||[dot|circle|double-circle|triangle|sesame]]|<string>","text-indent":"<length-percentage>&&hanging?&&each-line?","text-justify":"auto|inter-character|inter-word|none","text-orientation":"mixed|upright|sideways","text-overflow":"[clip|ellipsis|<string>]{1,2}","text-rendering":"auto|optimizeSpeed|optimizeLegibility|geometricPrecision","text-shadow":"none|<shadow-t>#","text-size-adjust":"none|auto|<percentage>","text-transform":"none|capitalize|uppercase|lowercase|full-width|full-size-kana","text-underline-offset":"auto|<length>|<percentage>","text-underline-position":"auto|from-font|[under||[left|right]]",top:"<length>|<percentage>|auto","touch-action":"auto|none|[[pan-x|pan-left|pan-right]||[pan-y|pan-up|pan-down]||pinch-zoom]|manipulation",transform:"none|<transform-list>","transform-box":"content-box|border-box|fill-box|stroke-box|view-box","transform-origin":"[<length-percentage>|left|center|right|top|bottom]|[[<length-percentage>|left|center|right]&&[<length-percentage>|top|center|bottom]] <length>?","transform-style":"flat|preserve-3d",transition:"<single-transition>#","transition-delay":"<time>#","transition-duration":"<time>#","transition-property":"none|<single-transition-property>#","transition-timing-function":"<easing-function>#",translate:"none|<length-percentage> [<length-percentage> <length>?]?","unicode-bidi":"normal|embed|isolate|bidi-override|isolate-override|plaintext|-moz-isolate|-moz-isolate-override|-moz-plaintext|-webkit-isolate|-webkit-isolate-override|-webkit-plaintext","user-select":"auto|text|none|contain|all","vertical-align":"baseline|sub|super|text-top|text-bottom|middle|top|bottom|<percentage>|<length>",visibility:"visible|hidden|collapse","white-space":"normal|pre|nowrap|pre-wrap|pre-line|break-spaces",widows:"<integer>",width:"auto|<length>|<percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|fill|stretch|intrinsic|-moz-max-content|-webkit-max-content|-moz-fit-content|-webkit-fit-content","will-change":"auto|<animateable-feature>#","word-break":"normal|break-all|keep-all|break-word","word-spacing":"normal|<length>","word-wrap":"normal|break-word","writing-mode":"horizontal-tb|vertical-rl|vertical-lr|sideways-rl|sideways-lr|<svg-writing-mode>","z-index":"auto|<integer>",zoom:"normal|reset|<number>|<percentage>","-moz-background-clip":"padding|border","-moz-border-radius-bottomleft":"<'border-bottom-left-radius'>","-moz-border-radius-bottomright":"<'border-bottom-right-radius'>","-moz-border-radius-topleft":"<'border-top-left-radius'>","-moz-border-radius-topright":"<'border-bottom-right-radius'>","-moz-control-character-visibility":"visible|hidden","-moz-osx-font-smoothing":"auto|grayscale","-moz-user-select":"none|text|all|-moz-none","-ms-flex-align":"start|end|center|baseline|stretch","-ms-flex-item-align":"auto|start|end|center|baseline|stretch","-ms-flex-line-pack":"start|end|center|justify|distribute|stretch","-ms-flex-negative":"<'flex-shrink'>","-ms-flex-pack":"start|end|center|justify|distribute","-ms-flex-order":"<integer>","-ms-flex-positive":"<'flex-grow'>","-ms-flex-preferred-size":"<'flex-basis'>","-ms-interpolation-mode":"nearest-neighbor|bicubic","-ms-grid-column-align":"start|end|center|stretch","-ms-grid-row-align":"start|end|center|stretch","-ms-hyphenate-limit-last":"none|always|column|page|spread","-webkit-background-clip":"[<box>|border|padding|content|text]#","-webkit-column-break-after":"always|auto|avoid","-webkit-column-break-before":"always|auto|avoid","-webkit-column-break-inside":"always|auto|avoid","-webkit-font-smoothing":"auto|none|antialiased|subpixel-antialiased","-webkit-mask-box-image":"[<url>|<gradient>|none] [<length-percentage>{4} <-webkit-mask-box-repeat>{2}]?","-webkit-print-color-adjust":"economy|exact","-webkit-text-security":"none|circle|disc|square","-webkit-user-drag":"none|element|auto","-webkit-user-select":"auto|none|text|all","alignment-baseline":"auto|baseline|before-edge|text-before-edge|middle|central|after-edge|text-after-edge|ideographic|alphabetic|hanging|mathematical","baseline-shift":"baseline|sub|super|<svg-length>",behavior:"<url>+","clip-rule":"nonzero|evenodd",cue:"<'cue-before'> <'cue-after'>?","cue-after":"<url> <decibel>?|none","cue-before":"<url> <decibel>?|none","dominant-baseline":"auto|use-script|no-change|reset-size|ideographic|alphabetic|hanging|mathematical|central|middle|text-after-edge|text-before-edge",fill:"<paint>","fill-opacity":"<number-zero-one>","fill-rule":"nonzero|evenodd","glyph-orientation-horizontal":"<angle>","glyph-orientation-vertical":"<angle>",kerning:"auto|<svg-length>",marker:"none|<url>","marker-end":"none|<url>","marker-mid":"none|<url>","marker-start":"none|<url>",pause:"<'pause-before'> <'pause-after'>?","pause-after":"<time>|none|x-weak|weak|medium|strong|x-strong","pause-before":"<time>|none|x-weak|weak|medium|strong|x-strong",rest:"<'rest-before'> <'rest-after'>?","rest-after":"<time>|none|x-weak|weak|medium|strong|x-strong","rest-before":"<time>|none|x-weak|weak|medium|strong|x-strong","shape-rendering":"auto|optimizeSpeed|crispEdges|geometricPrecision",src:"[<url> [format( <string># )]?|local( <family-name> )]#",speak:"auto|none|normal","speak-as":"normal|spell-out||digits||[literal-punctuation|no-punctuation]",stroke:"<paint>","stroke-dasharray":"none|[<svg-length>+]#","stroke-dashoffset":"<svg-length>","stroke-linecap":"butt|round|square","stroke-linejoin":"miter|round|bevel","stroke-miterlimit":"<number-one-or-greater>","stroke-opacity":"<number-zero-one>","stroke-width":"<svg-length>","text-anchor":"start|middle|end","unicode-range":"<urange>#","voice-balance":"<number>|left|center|right|leftwards|rightwards","voice-duration":"auto|<time>","voice-family":"[[<family-name>|<generic-voice>] ,]* [<family-name>|<generic-voice>]|preserve","voice-pitch":"<frequency>&&absolute|[[x-low|low|medium|high|x-high]||[<frequency>|<semitones>|<percentage>]]","voice-range":"<frequency>&&absolute|[[x-low|low|medium|high|x-high]||[<frequency>|<semitones>|<percentage>]]","voice-rate":"[normal|x-slow|slow|medium|fast|x-fast]||<percentage>","voice-stress":"normal|strong|moderate|none|reduced","voice-volume":"silent|[[x-soft|soft|medium|loud|x-loud]||<decibel>]"},atrules:{charset:{prelude:"<string>",descriptors:null},"counter-style":{prelude:"<counter-style-name>",descriptors:{"additive-symbols":"[<integer>&&<symbol>]#",fallback:"<counter-style-name>",negative:"<symbol> <symbol>?",pad:"<integer>&&<symbol>",prefix:"<symbol>",range:"[[<integer>|infinite]{2}]#|auto","speak-as":"auto|bullets|numbers|words|spell-out|<counter-style-name>",suffix:"<symbol>",symbols:"<symbol>+",system:"cyclic|numeric|alphabetic|symbolic|additive|[fixed <integer>?]|[extends <counter-style-name>]"}},document:{prelude:"[<url>|url-prefix( <string> )|domain( <string> )|media-document( <string> )|regexp( <string> )]#",descriptors:null},"font-face":{prelude:null,descriptors:{"ascent-override":"normal|<percentage>","descent-override":"normal|<percentage>","font-display":"[auto|block|swap|fallback|optional]","font-family":"<family-name>","font-feature-settings":"normal|<feature-tag-value>#","font-variation-settings":"normal|[<string> <number>]#","font-stretch":"<font-stretch-absolute>{1,2}","font-style":"normal|italic|oblique <angle>{0,2}","font-weight":"<font-weight-absolute>{1,2}","font-variant":"normal|none|[<common-lig-values>||<discretionary-lig-values>||<historical-lig-values>||<contextual-alt-values>||stylistic( <feature-value-name> )||historical-forms||styleset( <feature-value-name># )||character-variant( <feature-value-name># )||swash( <feature-value-name> )||ornaments( <feature-value-name> )||annotation( <feature-value-name> )||[small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps]||<numeric-figure-values>||<numeric-spacing-values>||<numeric-fraction-values>||ordinal||slashed-zero||<east-asian-variant-values>||<east-asian-width-values>||ruby]","line-gap-override":"normal|<percentage>","size-adjust":"<percentage>",src:"[<url> [format( <string># )]?|local( <family-name> )]#","unicode-range":"<urange>#"}},"font-feature-values":{prelude:"<family-name>#",descriptors:null},import:{prelude:"[<string>|<url>] [layer|layer( <layer-name> )]? [supports( [<supports-condition>|<declaration>] )]? <media-query-list>?",descriptors:null},keyframes:{prelude:"<keyframes-name>",descriptors:null},layer:{prelude:"[<layer-name>#|<layer-name>?]",descriptors:null},media:{prelude:"<media-query-list>",descriptors:null},namespace:{prelude:"<namespace-prefix>? [<string>|<url>]",descriptors:null},page:{prelude:"<page-selector-list>",descriptors:{bleed:"auto|<length>",marks:"none|[crop||cross]",size:"<length>{1,2}|auto|[<page-size>||[portrait|landscape]]"}},property:{prelude:"<custom-property-name>",descriptors:{syntax:"<string>",inherits:"true|false","initial-value":"<string>"}},"scroll-timeline":{prelude:"<timeline-name>",descriptors:null},supports:{prelude:"<supports-condition>",descriptors:null},viewport:{prelude:null,descriptors:{height:"<viewport-length>{1,2}","max-height":"<viewport-length>","max-width":"<viewport-length>","max-zoom":"auto|<number>|<percentage>","min-height":"<viewport-length>","min-width":"<viewport-length>","min-zoom":"auto|<number>|<percentage>",orientation:"auto|portrait|landscape","user-zoom":"zoom|fixed","viewport-fit":"auto|contain|cover",width:"<viewport-length>{1,2}",zoom:"auto|<number>|<percentage>"}},nest:{prelude:"<complex-selector-list>",descriptors:null}}}});var Cd=De(Va=>{"use strict";var Qi=Ot(),Mb=On(),kr=43,Nn=45,au=110,No=!0,OP=!1;function lu(t,e){let n=this.tokenStart+t,r=this.charCodeAt(n);for((r===kr||r===Nn)&&(e&&this.error("Number sign is not allowed"),n++);n<this.tokenEnd;n++)Mb.isDigit(this.charCodeAt(n))||this.error("Integer is expected",n)}function ks(t){return lu.call(this,0,t)}function ao(t,e){if(!this.cmpChar(this.tokenStart+t,e)){let n="";switch(e){case au:n="N is expected";break;case Nn:n="HyphenMinus is expected";break}this.error(n,this.tokenStart+t)}}function Sd(){let t=0,e=0,n=this.tokenType;for(;n===Qi.WhiteSpace||n===Qi.Comment;)n=this.lookupType(++t);if(n!==Qi.Number)if(this.isDelim(kr,t)||this.isDelim(Nn,t)){e=this.isDelim(kr,t)?kr:Nn;do n=this.lookupType(++t);while(n===Qi.WhiteSpace||n===Qi.Comment);n!==Qi.Number&&(this.skip(t),ks.call(this,No))}else return null;return t>0&&this.skip(t),e===0&&(n=this.charCodeAt(this.tokenStart),n!==kr&&n!==Nn&&this.error("Number sign is expected")),ks.call(this,e!==0),e===Nn?"-"+this.consume(Qi.Number):this.consume(Qi.Number)}var NP="AnPlusB",DP={a:[String,null],b:[String,null]};function IP(){let t=this.tokenStart,e=null,n=null;if(this.tokenType===Qi.Number)ks.call(this,OP),n=this.consume(Qi.Number);else if(this.tokenType===Qi.Ident&&this.cmpChar(this.tokenStart,Nn))switch(e="-1",ao.call(this,1,au),this.tokenEnd-this.tokenStart){case 2:this.next(),n=Sd.call(this);break;case 3:ao.call(this,2,Nn),this.next(),this.skipSC(),ks.call(this,No),n="-"+this.consume(Qi.Number);break;default:ao.call(this,2,Nn),lu.call(this,3,No),this.next(),n=this.substrToCursor(t+2)}else if(this.tokenType===Qi.Ident||this.isDelim(kr)&&this.lookupType(1)===Qi.Ident){let r=0;switch(e="1",this.isDelim(kr)&&(r=1,this.next()),ao.call(this,0,au),this.tokenEnd-this.tokenStart){case 1:this.next(),n=Sd.call(this);break;case 2:ao.call(this,1,Nn),this.next(),this.skipSC(),ks.call(this,No),n="-"+this.consume(Qi.Number);break;default:ao.call(this,1,Nn),lu.call(this,2,No),this.next(),n=this.substrToCursor(t+r+1)}}else if(this.tokenType===Qi.Dimension){let r=this.charCodeAt(this.tokenStart),s=r===kr||r===Nn,a=this.tokenStart+s;for(;a<this.tokenEnd&&Mb.isDigit(this.charCodeAt(a));a++);a===this.tokenStart+s&&this.error("Integer is expected",this.tokenStart+s),ao.call(this,a-this.tokenStart,au),e=this.substring(t,a),a+1===this.tokenEnd?(this.next(),n=Sd.call(this)):(ao.call(this,a-this.tokenStart+1,Nn),a+2===this.tokenEnd?(this.next(),this.skipSC(),ks.call(this,No),n="-"+this.consume(Qi.Number)):(lu.call(this,a-this.tokenStart+2,No),this.next(),n=this.substrToCursor(a+1)))}else this.error();return e!==null&&e.charCodeAt(0)===kr&&(e=e.substr(1)),n!==null&&n.charCodeAt(0)===kr&&(n=n.substr(1)),{type:"AnPlusB",loc:this.getLocation(t,this.tokenStart),a:e,b:n}}function RP(t){if(t.a){let e=t.a==="+1"&&"n"||t.a==="1"&&"n"||t.a==="-1"&&"-n"||t.a+"n";if(t.b){let n=t.b[0]==="-"||t.b[0]==="+"?t.b:"+"+t.b;this.tokenize(e+n)}else this.tokenize(e)}else this.tokenize(t.b)}Va.generate=RP;Va.name=NP;Va.parse=IP;Va.structure=DP});var Td=De(Ss=>{"use strict";var Sr=Ot();function Eb(t){return this.Raw(t,this.consumeUntilLeftCurlyBracketOrSemicolon,!0)}function jP(){for(let t=1,e;e=this.lookupType(t);t++){if(e===Sr.RightCurlyBracket)return!0;if(e===Sr.LeftCurlyBracket||e===Sr.AtKeyword)return!1}return!1}var zP="Atrule",BP="atrule",FP={name:String,prelude:["AtrulePrelude","Raw",null],block:["Block",null]};function _P(t=!1){let e=this.tokenStart,n,r,s=null,a=null;switch(this.eat(Sr.AtKeyword),n=this.substrToCursor(e+1),r=n.toLowerCase(),this.skipSC(),this.eof===!1&&this.tokenType!==Sr.LeftCurlyBracket&&this.tokenType!==Sr.Semicolon&&(this.parseAtrulePrelude?s=this.parseWithFallback(this.AtrulePrelude.bind(this,n,t),Eb):s=Eb.call(this,this.tokenIndex),this.skipSC()),this.tokenType){case Sr.Semicolon:this.next();break;case Sr.LeftCurlyBracket:hasOwnProperty.call(this.atrule,r)&&typeof this.atrule[r].block=="function"?a=this.atrule[r].block.call(this,t):a=this.Block(jP.call(this));break}return{type:"Atrule",loc:this.getLocation(e,this.tokenStart),name:n,prelude:s,block:a}}function HP(t){this.token(Sr.AtKeyword,"@"+t.name),t.prelude!==null&&this.node(t.prelude),t.block?this.node(t.block):this.token(Sr.Semicolon,";")}Ss.generate=HP;Ss.name=zP;Ss.parse=_P;Ss.structure=FP;Ss.walkContext=BP});var Ld=De(Cs=>{"use strict";var Pb=Ot(),WP="AtrulePrelude",qP="atrulePrelude",UP={children:[[]]};function GP(t){let e=null;return t!==null&&(t=t.toLowerCase()),this.skipSC(),hasOwnProperty.call(this.atrule,t)&&typeof this.atrule[t].prelude=="function"?e=this.atrule[t].prelude.call(this):e=this.readSequence(this.scope.AtrulePrelude),this.skipSC(),this.eof!==!0&&this.tokenType!==Pb.LeftCurlyBracket&&this.tokenType!==Pb.Semicolon&&this.error("Semicolon or block is expected"),{type:"AtrulePrelude",loc:this.getLocationFromList(e),children:e}}function VP(t){this.children(t)}Cs.generate=VP;Cs.name=WP;Cs.parse=GP;Cs.structure=UP;Cs.walkContext=qP});var Md=De($a=>{"use strict";var Un=Ot(),$P=36,Ob=42,cu=61,YP=94,Ad=124,XP=126;function KP(){this.eof&&this.error("Unexpected end of input");let t=this.tokenStart,e=!1;return this.isDelim(Ob)?(e=!0,this.next()):this.isDelim(Ad)||this.eat(Un.Ident),this.isDelim(Ad)?this.charCodeAt(this.tokenStart+1)!==cu?(this.next(),this.eat(Un.Ident)):e&&this.error("Identifier is expected",this.tokenEnd):e&&this.error("Vertical line is expected"),{type:"Identifier",loc:this.getLocation(t,this.tokenStart),name:this.substrToCursor(t)}}function ZP(){let t=this.tokenStart,e=this.charCodeAt(t);return e!==cu&&e!==XP&&e!==YP&&e!==$P&&e!==Ob&&e!==Ad&&this.error("Attribute selector (=, ~=, ^=, $=, *=, |=) is expected"),this.next(),e!==cu&&(this.isDelim(cu)||this.error("Equal sign is expected"),this.next()),this.substrToCursor(t)}var QP="AttributeSelector",JP={name:"Identifier",matcher:[String,null],value:["String","Identifier",null],flags:[String,null]};function eO(){let t=this.tokenStart,e,n=null,r=null,s=null;return this.eat(Un.LeftSquareBracket),this.skipSC(),e=KP.call(this),this.skipSC(),this.tokenType!==Un.RightSquareBracket&&(this.tokenType!==Un.Ident&&(n=ZP.call(this),this.skipSC(),r=this.tokenType===Un.String?this.String():this.Identifier(),this.skipSC()),this.tokenType===Un.Ident&&(s=this.consume(Un.Ident),this.skipSC())),this.eat(Un.RightSquareBracket),{type:"AttributeSelector",loc:this.getLocation(t,this.tokenStart),name:e,matcher:n,value:r,flags:s}}function tO(t){this.token(Un.Delim,"["),this.node(t.name),t.matcher!==null&&(this.tokenize(t.matcher),this.node(t.value)),t.flags!==null&&this.token(Un.Ident,t.flags),this.token(Un.Delim,"]")}$a.generate=tO;$a.name=QP;$a.parse=eO;$a.structure=JP});var Ed=De(Ts=>{"use strict";var or=Ot(),iO=38;function Ib(t){return this.Raw(t,null,!0)}function Nb(){return this.parseWithFallback(this.Rule,Ib)}function Db(t){return this.Raw(t,this.consumeUntilSemicolonIncluded,!0)}function nO(){if(this.tokenType===or.Semicolon)return Db.call(this,this.tokenIndex);let t=this.parseWithFallback(this.Declaration,Db);return this.tokenType===or.Semicolon&&this.next(),t}var rO="Block",oO="block",sO={children:[["Atrule","Rule","Declaration"]]};function aO(t){let e=t?nO:Nb,n=this.tokenStart,r=this.createList();this.eat(or.LeftCurlyBracket);e:for(;!this.eof;)switch(this.tokenType){case or.RightCurlyBracket:break e;case or.WhiteSpace:case or.Comment:this.next();break;case or.AtKeyword:r.push(this.parseWithFallback(this.Atrule.bind(this,t),Ib));break;default:t&&this.isDelim(iO)?r.push(Nb.call(this)):r.push(e.call(this))}return this.eof||this.eat(or.RightCurlyBracket),{type:"Block",loc:this.getLocation(n,this.tokenStart),children:r}}function lO(t){this.token(or.LeftCurlyBracket,"{"),this.children(t,e=>{e.type==="Declaration"&&this.token(or.Semicolon,";")}),this.token(or.RightCurlyBracket,"}")}Ts.generate=lO;Ts.name=rO;Ts.parse=aO;Ts.structure=sO;Ts.walkContext=oO});var Pd=De(Ya=>{"use strict";var uu=Ot(),cO="Brackets",uO={children:[[]]};function hO(t,e){let n=this.tokenStart,r=null;return this.eat(uu.LeftSquareBracket),r=t.call(this,e),this.eof||this.eat(uu.RightSquareBracket),{type:"Brackets",loc:this.getLocation(n,this.tokenStart),children:r}}function fO(t){this.token(uu.Delim,"["),this.children(t),this.token(uu.Delim,"]")}Ya.generate=fO;Ya.name=cO;Ya.parse=hO;Ya.structure=uO});var Od=De(Xa=>{"use strict";var Rb=Ot(),dO="CDC",pO=[];function gO(){let t=this.tokenStart;return this.eat(Rb.CDC),{type:"CDC",loc:this.getLocation(t,this.tokenStart)}}function mO(){this.token(Rb.CDC,"-->")}Xa.generate=mO;Xa.name=dO;Xa.parse=gO;Xa.structure=pO});var Nd=De(Ka=>{"use strict";var jb=Ot(),yO="CDO",vO=[];function xO(){let t=this.tokenStart;return this.eat(jb.CDO),{type:"CDO",loc:this.getLocation(t,this.tokenStart)}}function bO(){this.token(jb.CDO,"<!--")}Ka.generate=bO;Ka.name=yO;Ka.parse=xO;Ka.structure=vO});var Id=De(Za=>{"use strict";var Dd=Ot(),wO=46,kO="ClassSelector",SO={name:String};function CO(){return this.eatDelim(wO),{type:"ClassSelector",loc:this.getLocation(this.tokenStart-1,this.tokenEnd),name:this.consume(Dd.Ident)}}function TO(t){this.token(Dd.Delim,"."),this.token(Dd.Ident,t.name)}Za.generate=TO;Za.name=kO;Za.parse=CO;Za.structure=SO});var Rd=De(Qa=>{"use strict";var zb=Ot(),LO=43,Bb=47,AO=62,MO=126,EO="Combinator",PO={name:String};function OO(){let t=this.tokenStart,e;switch(this.tokenType){case zb.WhiteSpace:e=" ";break;case zb.Delim:switch(this.charCodeAt(this.tokenStart)){case AO:case LO:case MO:this.next();break;case Bb:this.next(),this.eatIdent("deep"),this.eatDelim(Bb);break;default:this.error("Combinator is expected")}e=this.substrToCursor(t);break}return{type:"Combinator",loc:this.getLocation(t,this.tokenStart),name:e}}function NO(t){this.tokenize(t.name)}Qa.generate=NO;Qa.name=EO;Qa.parse=OO;Qa.structure=PO});var jd=De(Ja=>{"use strict";var Fb=Ot(),DO=42,IO=47,RO="Comment",jO={value:String};function zO(){let t=this.tokenStart,e=this.tokenEnd;return this.eat(Fb.Comment),e-t+2>=2&&this.charCodeAt(e-2)===DO&&this.charCodeAt(e-1)===IO&&(e-=2),{type:"Comment",loc:this.getLocation(t,this.tokenStart),value:this.substring(t+2,e)}}function BO(t){this.token(Fb.Comment,"/*"+t.value+"*/")}Ja.generate=BO;Ja.name=RO;Ja.parse=zO;Ja.structure=jO});var zd=De(Ls=>{"use strict";var FO=Kc(),Sn=Ot(),Hb=33,_O=35,HO=36,WO=38,qO=42,UO=43,_b=47;function GO(t){return this.Raw(t,this.consumeUntilExclamationMarkOrSemicolon,!0)}function VO(t){return this.Raw(t,this.consumeUntilExclamationMarkOrSemicolon,!1)}function $O(){let t=this.tokenIndex,e=this.Value();return e.type!=="Raw"&&this.eof===!1&&this.tokenType!==Sn.Semicolon&&this.isDelim(Hb)===!1&&this.isBalanceEdge(t)===!1&&this.error(),e}var YO="Declaration",XO="declaration",KO={important:[Boolean,String],property:String,value:["Value","Raw"]};function ZO(){let t=this.tokenStart,e=this.tokenIndex,n=JO.call(this),r=FO.isCustomProperty(n),s=r?this.parseCustomProperty:this.parseValue,a=r?VO:GO,h=!1,f;this.skipSC(),this.eat(Sn.Colon);let g=this.tokenIndex;if(r||this.skipSC(),s?f=this.parseWithFallback($O,a):f=a.call(this,this.tokenIndex),r&&f.type==="Value"&&f.children.isEmpty){for(let p=g-this.tokenIndex;p<=0;p++)if(this.lookupType(p)===Sn.WhiteSpace){f.children.appendData({type:"WhiteSpace",loc:null,value:" "});break}}return this.isDelim(Hb)&&(h=e4.call(this),this.skipSC()),this.eof===!1&&this.tokenType!==Sn.Semicolon&&this.isBalanceEdge(e)===!1&&this.error(),{type:"Declaration",loc:this.getLocation(t,this.tokenStart),important:h,property:n,value:f}}function QO(t){this.token(Sn.Ident,t.property),this.token(Sn.Colon,":"),this.node(t.value),t.important&&(this.token(Sn.Delim,"!"),this.token(Sn.Ident,t.important===!0?"important":t.important))}function JO(){let t=this.tokenStart;if(this.tokenType===Sn.Delim)switch(this.charCodeAt(this.tokenStart)){case qO:case HO:case UO:case _O:case WO:this.next();break;case _b:this.next(),this.isDelim(_b)&&this.next();break}return this.tokenType===Sn.Hash?this.eat(Sn.Hash):this.eat(Sn.Ident),this.substrToCursor(t)}function e4(){this.eat(Sn.Delim),this.skipSC();let t=this.consume(Sn.Ident);return t==="important"?!0:t}Ls.generate=QO;Ls.name=YO;Ls.parse=ZO;Ls.structure=KO;Ls.walkContext=XO});var Fd=De(tl=>{"use strict";var el=Ot(),t4=38;function Bd(t){return this.Raw(t,this.consumeUntilSemicolonIncluded,!0)}var i4="DeclarationList",n4={children:[["Declaration","Atrule","Rule"]]};function r4(){let t=this.createList();for(;!this.eof;)switch(this.tokenType){case el.WhiteSpace:case el.Comment:case el.Semicolon:this.next();break;case el.AtKeyword:t.push(this.parseWithFallback(this.Atrule.bind(this,!0),Bd));break;default:this.isDelim(t4)?t.push(this.parseWithFallback(this.Rule,Bd)):t.push(this.parseWithFallback(this.Declaration,Bd))}return{type:"DeclarationList",loc:this.getLocationFromList(t),children:t}}function o4(t){this.children(t,e=>{e.type==="Declaration"&&this.token(el.Semicolon,";")})}tl.generate=o4;tl.name=i4;tl.parse=r4;tl.structure=n4});var _d=De(il=>{"use strict";var Wb=Ot(),s4="Dimension",a4={value:String,unit:String};function l4(){let t=this.tokenStart,e=this.consumeNumber(Wb.Dimension);return{type:"Dimension",loc:this.getLocation(t,this.tokenStart),value:e,unit:this.substring(t+e.length,this.tokenStart)}}function c4(t){this.token(Wb.Dimension,t.value+t.unit)}il.generate=c4;il.name=s4;il.parse=l4;il.structure=a4});var Wd=De(As=>{"use strict";var Hd=Ot(),u4="Function",h4="function",f4={name:String,children:[[]]};function d4(t,e){let n=this.tokenStart,r=this.consumeFunctionName(),s=r.toLowerCase(),a;return a=e.hasOwnProperty(s)?e[s].call(this,e):t.call(this,e),this.eof||this.eat(Hd.RightParenthesis),{type:"Function",loc:this.getLocation(n,this.tokenStart),name:r,children:a}}function p4(t){this.token(Hd.Function,t.name+"("),this.children(t),this.token(Hd.RightParenthesis,")")}As.generate=p4;As.name=u4;As.parse=d4;As.structure=f4;As.walkContext=h4});var qd=De(Ms=>{"use strict";var qb=Ot(),g4="XXX",m4="Hash",y4={value:String};function v4(){let t=this.tokenStart;return this.eat(qb.Hash),{type:"Hash",loc:this.getLocation(t,this.tokenStart),value:this.substrToCursor(t+1)}}function x4(t){this.token(qb.Hash,"#"+t.value)}Ms.generate=x4;Ms.name=m4;Ms.parse=v4;Ms.structure=y4;Ms.xxx=g4});var Ud=De(nl=>{"use strict";var Ub=Ot(),b4="Identifier",w4={name:String};function k4(){return{type:"Identifier",loc:this.getLocation(this.tokenStart,this.tokenEnd),name:this.consume(Ub.Ident)}}function S4(t){this.token(Ub.Ident,t.name)}nl.generate=S4;nl.name=b4;nl.parse=k4;nl.structure=w4});var Gd=De(rl=>{"use strict";var Gb=Ot(),C4="IdSelector",T4={name:String};function L4(){let t=this.tokenStart;return this.eat(Gb.Hash),{type:"IdSelector",loc:this.getLocation(t,this.tokenStart),name:this.substrToCursor(t+1)}}function A4(t){this.token(Gb.Delim,"#"+t.name)}rl.generate=A4;rl.name=C4;rl.parse=L4;rl.structure=T4});var Vd=De(ol=>{"use strict";var Dn=Ot(),M4="MediaFeature",E4={name:String,value:["Identifier","Number","Dimension","Ratio",null]};function P4(){let t=this.tokenStart,e,n=null;if(this.eat(Dn.LeftParenthesis),this.skipSC(),e=this.consume(Dn.Ident),this.skipSC(),this.tokenType!==Dn.RightParenthesis){switch(this.eat(Dn.Colon),this.skipSC(),this.tokenType){case Dn.Number:this.lookupNonWSType(1)===Dn.Delim?n=this.Ratio():n=this.Number();break;case Dn.Dimension:n=this.Dimension();break;case Dn.Ident:n=this.Identifier();break;default:this.error("Number, dimension, ratio or identifier is expected")}this.skipSC()}return this.eat(Dn.RightParenthesis),{type:"MediaFeature",loc:this.getLocation(t,this.tokenStart),name:e,value:n}}function O4(t){this.token(Dn.LeftParenthesis,"("),this.token(Dn.Ident,t.name),t.value!==null&&(this.token(Dn.Colon,":"),this.node(t.value)),this.token(Dn.RightParenthesis,")")}ol.generate=O4;ol.name=M4;ol.parse=P4;ol.structure=E4});var $d=De(sl=>{"use strict";var hu=Ot(),N4="MediaQuery",D4={children:[["Identifier","MediaFeature","WhiteSpace"]]};function I4(){let t=this.createList(),e=null;this.skipSC();e:for(;!this.eof;){switch(this.tokenType){case hu.Comment:case hu.WhiteSpace:this.next();continue;case hu.Ident:e=this.Identifier();break;case hu.LeftParenthesis:e=this.MediaFeature();break;default:break e}t.push(e)}return e===null&&this.error("Identifier or parenthesis is expected"),{type:"MediaQuery",loc:this.getLocationFromList(t),children:t}}function R4(t){this.children(t)}sl.generate=R4;sl.name=N4;sl.parse=I4;sl.structure=D4});var Yd=De(al=>{"use strict";var Vb=Ot(),j4="MediaQueryList",z4={children:[["MediaQuery"]]};function B4(){let t=this.createList();for(this.skipSC();!this.eof&&(t.push(this.MediaQuery()),this.tokenType===Vb.Comma);)this.next();return{type:"MediaQueryList",loc:this.getLocationFromList(t),children:t}}function F4(t){this.children(t,()=>this.token(Vb.Comma,","))}al.generate=F4;al.name=j4;al.parse=B4;al.structure=z4});var Xd=De(ll=>{"use strict";var _4=Ot(),H4=38,W4="NestingSelector",q4={};function U4(){let t=this.tokenStart;return this.eatDelim(H4),{type:"NestingSelector",loc:this.getLocation(t,this.tokenStart)}}function G4(){this.token(_4.Delim,"&")}ll.generate=G4;ll.name=W4;ll.parse=U4;ll.structure=q4});var Kd=De(cl=>{"use strict";var V4=Ot(),$4="Nth",Y4={nth:["AnPlusB","Identifier"],selector:["SelectorList",null]};function X4(){this.skipSC();let t=this.tokenStart,e=t,n=null,r;return this.lookupValue(0,"odd")||this.lookupValue(0,"even")?r=this.Identifier():r=this.AnPlusB(),e=this.tokenStart,this.skipSC(),this.lookupValue(0,"of")&&(this.next(),n=this.SelectorList(),e=this.tokenStart),{type:"Nth",loc:this.getLocation(t,e),nth:r,selector:n}}function K4(t){this.node(t.nth),t.selector!==null&&(this.token(V4.Ident,"of"),this.node(t.selector))}cl.generate=K4;cl.name=$4;cl.parse=X4;cl.structure=Y4});var Zd=De(ul=>{"use strict";var $b=Ot(),Z4="Number",Q4={value:String};function J4(){return{type:"Number",loc:this.getLocation(this.tokenStart,this.tokenEnd),value:this.consume($b.Number)}}function eN(t){this.token($b.Number,t.value)}ul.generate=eN;ul.name=Z4;ul.parse=J4;ul.structure=Q4});var Qd=De(hl=>{"use strict";var tN="Operator",iN={value:String};function nN(){let t=this.tokenStart;return this.next(),{type:"Operator",loc:this.getLocation(t,this.tokenStart),value:this.substrToCursor(t)}}function rN(t){this.tokenize(t.value)}hl.generate=rN;hl.name=tN;hl.parse=nN;hl.structure=iN});var Jd=De(fl=>{"use strict";var fu=Ot(),oN="Parentheses",sN={children:[[]]};function aN(t,e){let n=this.tokenStart,r=null;return this.eat(fu.LeftParenthesis),r=t.call(this,e),this.eof||this.eat(fu.RightParenthesis),{type:"Parentheses",loc:this.getLocation(n,this.tokenStart),children:r}}function lN(t){this.token(fu.LeftParenthesis,"("),this.children(t),this.token(fu.RightParenthesis,")")}fl.generate=lN;fl.name=oN;fl.parse=aN;fl.structure=sN});var ep=De(dl=>{"use strict";var Yb=Ot(),cN="Percentage",uN={value:String};function hN(){return{type:"Percentage",loc:this.getLocation(this.tokenStart,this.tokenEnd),value:this.consumeNumber(Yb.Percentage)}}function fN(t){this.token(Yb.Percentage,t.value+"%")}dl.generate=fN;dl.name=cN;dl.parse=hN;dl.structure=uN});var tp=De(Es=>{"use strict";var lo=Ot(),dN="PseudoClassSelector",pN="function",gN={name:String,children:[["Raw"],null]};function mN(){let t=this.tokenStart,e=null,n,r;return this.eat(lo.Colon),this.tokenType===lo.Function?(n=this.consumeFunctionName(),r=n.toLowerCase(),hasOwnProperty.call(this.pseudo,r)?(this.skipSC(),e=this.pseudo[r].call(this),this.skipSC()):(e=this.createList(),e.push(this.Raw(this.tokenIndex,null,!1))),this.eat(lo.RightParenthesis)):n=this.consume(lo.Ident),{type:"PseudoClassSelector",loc:this.getLocation(t,this.tokenStart),name:n,children:e}}function yN(t){this.token(lo.Colon,":"),t.children===null?this.token(lo.Ident,t.name):(this.token(lo.Function,t.name+"("),this.children(t),this.token(lo.RightParenthesis,")"))}Es.generate=yN;Es.name=dN;Es.parse=mN;Es.structure=gN;Es.walkContext=pN});var ip=De(Ps=>{"use strict";var Cr=Ot(),vN="PseudoElementSelector",xN="function",bN={name:String,children:[["Raw"],null]};function wN(){let t=this.tokenStart,e=null,n,r;return this.eat(Cr.Colon),this.eat(Cr.Colon),this.tokenType===Cr.Function?(n=this.consumeFunctionName(),r=n.toLowerCase(),hasOwnProperty.call(this.pseudo,r)?(this.skipSC(),e=this.pseudo[r].call(this),this.skipSC()):(e=this.createList(),e.push(this.Raw(this.tokenIndex,null,!1))),this.eat(Cr.RightParenthesis)):n=this.consume(Cr.Ident),{type:"PseudoElementSelector",loc:this.getLocation(t,this.tokenStart),name:n,children:e}}function kN(t){this.token(Cr.Colon,":"),this.token(Cr.Colon,":"),t.children===null?this.token(Cr.Ident,t.name):(this.token(Cr.Function,t.name+"("),this.children(t),this.token(Cr.RightParenthesis,")"))}Ps.generate=kN;Ps.name=vN;Ps.parse=wN;Ps.structure=bN;Ps.walkContext=xN});var np=De(pl=>{"use strict";var du=Ot(),SN=On(),CN=47,TN=46;function Xb(){this.skipSC();let t=this.consume(du.Number);for(let e=0;e<t.length;e++){let n=t.charCodeAt(e);!SN.isDigit(n)&&n!==TN&&this.error("Unsigned number is expected",this.tokenStart-t.length+e)}return Number(t)===0&&this.error("Zero number is not allowed",this.tokenStart-t.length),t}var LN="Ratio",AN={left:String,right:String};function MN(){let t=this.tokenStart,e=Xb.call(this),n;return this.skipSC(),this.eatDelim(CN),n=Xb.call(this),{type:"Ratio",loc:this.getLocation(t,this.tokenStart),left:e,right:n}}function EN(t){this.token(du.Number,t.left),this.token(du.Delim,"/"),this.token(du.Number,t.right)}pl.generate=EN;pl.name=LN;pl.parse=MN;pl.structure=AN});var rp=De(gl=>{"use strict";var PN=Ot();function ON(){return this.tokenIndex>0&&this.lookupType(-1)===PN.WhiteSpace?this.tokenIndex>1?this.getTokenStart(this.tokenIndex-1):this.firstCharOffset:this.tokenStart}var NN="Raw",DN={value:String};function IN(t,e,n){let r=this.getTokenStart(t),s;return this.skipUntilBalanced(t,e||this.consumeUntilBalanceEnd),n&&this.tokenStart>r?s=ON.call(this):s=this.tokenStart,{type:"Raw",loc:this.getLocation(r,s),value:this.substring(r,s)}}function RN(t){this.tokenize(t.value)}gl.generate=RN;gl.name=NN;gl.parse=IN;gl.structure=DN});var op=De(Os=>{"use strict";var jN=Ot();function Kb(t){return this.Raw(t,this.consumeUntilLeftCurlyBracket,!0)}function zN(){let t=this.SelectorList();return t.type!=="Raw"&&this.eof===!1&&this.tokenType!==jN.LeftCurlyBracket&&this.error(),t}var BN="Rule",FN="rule",_N={prelude:["SelectorList","Raw"],block:["Block"]};function HN(){let t=this.tokenIndex,e=this.tokenStart,n,r;return this.parseRulePrelude?n=this.parseWithFallback(zN,Kb):n=Kb.call(this,t),r=this.Block(!0),{type:"Rule",loc:this.getLocation(e,this.tokenStart),prelude:n,block:r}}function WN(t){this.node(t.prelude),this.node(t.block)}Os.generate=WN;Os.name=BN;Os.parse=HN;Os.structure=_N;Os.walkContext=FN});var sp=De(ml=>{"use strict";var qN="Selector",UN={children:[["TypeSelector","IdSelector","ClassSelector","AttributeSelector","PseudoClassSelector","PseudoElementSelector","Combinator","WhiteSpace"]]};function GN(){let t=this.readSequence(this.scope.Selector);return this.getFirstListNode(t)===null&&this.error("Selector is expected"),{type:"Selector",loc:this.getLocationFromList(t),children:t}}function VN(t){this.children(t)}ml.generate=VN;ml.name=qN;ml.parse=GN;ml.structure=UN});var ap=De(Ns=>{"use strict";var Zb=Ot(),$N="SelectorList",YN="selector",XN={children:[["Selector","Raw"]]};function KN(){let t=this.createList();for(;!this.eof;){if(t.push(this.Selector()),this.tokenType===Zb.Comma){this.next();continue}break}return{type:"SelectorList",loc:this.getLocationFromList(t),children:t}}function ZN(t){this.children(t,()=>this.token(Zb.Comma,","))}Ns.generate=ZN;Ns.name=$N;Ns.parse=KN;Ns.structure=XN;Ns.walkContext=YN});var pu=De(up=>{"use strict";var lp=On(),Qb=xr(),cp=92,Jb=34,ew=39;function QN(t){let e=t.length,n=t.charCodeAt(0),r=n===Jb||n===ew?1:0,s=r===1&&e>1&&t.charCodeAt(e-1)===n?e-2:e-1,a="";for(let h=r;h<=s;h++){let f=t.charCodeAt(h);if(f===cp){if(h===s){h!==e-1&&(a=t.substr(h+1));break}if(f=t.charCodeAt(++h),lp.isValidEscape(cp,f)){let g=h-1,p=Qb.consumeEscaped(t,g);h=p-1,a+=Qb.decodeEscaped(t.substring(g+1,p))}else f===13&&t.charCodeAt(h+1)===10&&h++}else a+=t[h]}return a}function JN(t,e){let n=e?"'":'"',r=e?ew:Jb,s="",a=!1;for(let h=0;h<t.length;h++){let f=t.charCodeAt(h);if(f===0){s+="\uFFFD";continue}if(f<=31||f===127){s+="\\"+f.toString(16),a=!0;continue}f===r||f===cp?(s+="\\"+t.charAt(h),a=!1):(a&&(lp.isHexDigit(f)||lp.isWhiteSpace(f))&&(s+=" "),s+=t.charAt(h),a=!1)}return n+s+n}up.decode=QN;up.encode=JN});var hp=De(yl=>{"use strict";var tw=pu(),iw=Ot(),eD="String",tD={value:String};function iD(){return{type:"String",loc:this.getLocation(this.tokenStart,this.tokenEnd),value:tw.decode(this.consume(iw.String))}}function nD(t){this.token(iw.String,tw.encode(t.value))}yl.generate=nD;yl.name=eD;yl.parse=iD;yl.structure=tD});var fp=De(Ds=>{"use strict";var vl=Ot(),rD=33;function nw(t){return this.Raw(t,null,!1)}var oD="StyleSheet",sD="stylesheet",aD={children:[["Comment","CDO","CDC","Atrule","Rule","Raw"]]};function lD(){let t=this.tokenStart,e=this.createList(),n;for(;!this.eof;){switch(this.tokenType){case vl.WhiteSpace:this.next();continue;case vl.Comment:if(this.charCodeAt(this.tokenStart+2)!==rD){this.next();continue}n=this.Comment();break;case vl.CDO:n=this.CDO();break;case vl.CDC:n=this.CDC();break;case vl.AtKeyword:n=this.parseWithFallback(this.Atrule,nw);break;default:n=this.parseWithFallback(this.Rule,nw)}e.push(n)}return{type:"StyleSheet",loc:this.getLocation(t,this.tokenStart),children:e}}function cD(t){this.children(t)}Ds.generate=cD;Ds.name=oD;Ds.parse=lD;Ds.structure=aD;Ds.walkContext=sD});var pp=De(xl=>{"use strict";var uD=Ot(),hD=42,rw=124;function dp(){this.tokenType!==uD.Ident&&this.isDelim(hD)===!1&&this.error("Identifier or asterisk is expected"),this.next()}var fD="TypeSelector",dD={name:String};function pD(){let t=this.tokenStart;return this.isDelim(rw)?(this.next(),dp.call(this)):(dp.call(this),this.isDelim(rw)&&(this.next(),dp.call(this))),{type:"TypeSelector",loc:this.getLocation(t,this.tokenStart),name:this.substrToCursor(t)}}function gD(t){this.tokenize(t.name)}xl.generate=gD;xl.name=fD;xl.parse=pD;xl.structure=dD});var mp=De(kl=>{"use strict";var bl=Ot(),mD=On(),ow=43,sw=45,gp=63;function wl(t,e){let n=0;for(let r=this.tokenStart+t;r<this.tokenEnd;r++){let s=this.charCodeAt(r);if(s===sw&&e&&n!==0)return wl.call(this,t+n+1,!1),-1;mD.isHexDigit(s)||this.error(e&&n!==0?"Hyphen minus"+(n<6?" or hex digit":"")+" is expected":n<6?"Hex digit is expected":"Unexpected input",r),++n>6&&this.error("Too many hex digits",r)}return this.next(),n}function gu(t){let e=0;for(;this.isDelim(gp);)++e>t&&this.error("Too many question marks"),this.next()}function yD(t){this.charCodeAt(this.tokenStart)!==t&&this.error((t===ow?"Plus sign":"Hyphen minus")+" is expected")}function vD(){let t=0;switch(this.tokenType){case bl.Number:if(t=wl.call(this,1,!0),this.isDelim(gp)){gu.call(this,6-t);break}if(this.tokenType===bl.Dimension||this.tokenType===bl.Number){yD.call(this,sw),wl.call(this,1,!1);break}break;case bl.Dimension:t=wl.call(this,1,!0),t>0&&gu.call(this,6-t);break;default:if(this.eatDelim(ow),this.tokenType===bl.Ident){t=wl.call(this,0,!0),t>0&&gu.call(this,6-t);break}if(this.isDelim(gp)){this.next(),gu.call(this,5);break}this.error("Hex digit or question mark is expected")}}var xD="UnicodeRange",bD={value:String};function wD(){let t=this.tokenStart;return this.eatIdent("u"),vD.call(this),{type:"UnicodeRange",loc:this.getLocation(t,this.tokenStart),value:this.substrToCursor(t)}}function kD(t){this.tokenize(t.value)}kl.generate=kD;kl.name=xD;kl.parse=wD;kl.structure=bD});var xp=De(vp=>{"use strict";var mu=On(),aw=xr(),SD=32,yp=92,CD=34,TD=39,LD=40,lw=41;function AD(t){let e=t.length,n=4,r=t.charCodeAt(e-1)===lw?e-2:e-1,s="";for(;n<r&&mu.isWhiteSpace(t.charCodeAt(n));)n++;for(;n<r&&mu.isWhiteSpace(t.charCodeAt(r));)r--;for(let a=n;a<=r;a++){let h=t.charCodeAt(a);if(h===yp){if(a===r){a!==e-1&&(s=t.substr(a+1));break}if(h=t.charCodeAt(++a),mu.isValidEscape(yp,h)){let f=a-1,g=aw.consumeEscaped(t,f);a=g-1,s+=aw.decodeEscaped(t.substring(f+1,g))}else h===13&&t.charCodeAt(a+1)===10&&a++}else s+=t[a]}return s}function MD(t){let e="",n=!1;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s===0){e+="\uFFFD";continue}if(s<=31||s===127){e+="\\"+s.toString(16),n=!0;continue}s===SD||s===yp||s===CD||s===TD||s===LD||s===lw?(e+="\\"+t.charAt(r),n=!1):(n&&mu.isHexDigit(s)&&(e+=" "),e+=t.charAt(r),n=!1)}return"url("+e+")"}vp.decode=AD;vp.encode=MD});var bp=De(Sl=>{"use strict";var cw=xp(),ED=pu(),Do=Ot(),PD="Url",OD={value:String};function ND(){let t=this.tokenStart,e;switch(this.tokenType){case Do.Url:e=cw.decode(this.consume(Do.Url));break;case Do.Function:this.cmpStr(this.tokenStart,this.tokenEnd,"url(")||this.error("Function name must be `url`"),this.eat(Do.Function),this.skipSC(),e=ED.decode(this.consume(Do.String)),this.skipSC(),this.eof||this.eat(Do.RightParenthesis);break;default:this.error("Url or Function is expected")}return{type:"Url",loc:this.getLocation(t,this.tokenStart),value:e}}function DD(t){this.token(Do.Url,cw.encode(t.value))}Sl.generate=DD;Sl.name=PD;Sl.parse=ND;Sl.structure=OD});var wp=De(Cl=>{"use strict";var ID="Value",RD={children:[[]]};function jD(){let t=this.tokenStart,e=this.readSequence(this.scope.Value);return{type:"Value",loc:this.getLocation(t,this.tokenStart),children:e}}function zD(t){this.children(t)}Cl.generate=zD;Cl.name=ID;Cl.parse=jD;Cl.structure=RD});var kp=De(Tl=>{"use strict";var uw=Ot(),BD=Object.freeze({type:"WhiteSpace",loc:null,value:" "}),FD="WhiteSpace",_D={value:String};function HD(){return this.eat(uw.WhiteSpace),BD}function WD(t){this.token(uw.WhiteSpace,t.value)}Tl.generate=WD;Tl.name=FD;Tl.parse=HD;Tl.structure=_D});var Sp=De(qt=>{"use strict";var qD=Cd(),UD=Td(),GD=Ld(),VD=Md(),$D=Ed(),YD=Pd(),XD=Od(),KD=Nd(),ZD=Id(),QD=Rd(),JD=jd(),e5=zd(),t5=Fd(),i5=_d(),n5=Wd(),r5=qd(),o5=Ud(),s5=Gd(),a5=Vd(),l5=$d(),c5=Yd(),u5=Xd(),h5=Kd(),f5=Zd(),d5=Qd(),p5=Jd(),g5=ep(),m5=tp(),y5=ip(),v5=np(),x5=rp(),b5=op(),w5=sp(),k5=ap(),S5=hp(),C5=fp(),T5=pp(),L5=mp(),A5=bp(),M5=wp(),E5=kp();qt.AnPlusB=qD;qt.Atrule=UD;qt.AtrulePrelude=GD;qt.AttributeSelector=VD;qt.Block=$D;qt.Brackets=YD;qt.CDC=XD;qt.CDO=KD;qt.ClassSelector=ZD;qt.Combinator=QD;qt.Comment=JD;qt.Declaration=e5;qt.DeclarationList=t5;qt.Dimension=i5;qt.Function=n5;qt.Hash=r5;qt.Identifier=o5;qt.IdSelector=s5;qt.MediaFeature=a5;qt.MediaQuery=l5;qt.MediaQueryList=c5;qt.NestingSelector=u5;qt.Nth=h5;qt.Number=f5;qt.Operator=d5;qt.Parentheses=p5;qt.Percentage=g5;qt.PseudoClassSelector=m5;qt.PseudoElementSelector=y5;qt.Ratio=v5;qt.Raw=x5;qt.Rule=b5;qt.Selector=w5;qt.SelectorList=k5;qt.String=S5;qt.StyleSheet=C5;qt.TypeSelector=T5;qt.UnicodeRange=L5;qt.Url=A5;qt.Value=M5;qt.WhiteSpace=E5});var fw=De((K9,hw)=>{"use strict";var P5=Ab(),O5=Sp(),N5={generic:!0,...P5,node:O5};hw.exports=N5});var Cp=De((Z9,pw)=>{"use strict";var Gn=Ot(),D5=35,I5=42,dw=43,R5=45,j5=47,z5=117;function B5(t){switch(this.tokenType){case Gn.Hash:return this.Hash();case Gn.Comma:return this.Operator();case Gn.LeftParenthesis:return this.Parentheses(this.readSequence,t.recognizer);case Gn.LeftSquareBracket:return this.Brackets(this.readSequence,t.recognizer);case Gn.String:return this.String();case Gn.Dimension:return this.Dimension();case Gn.Percentage:return this.Percentage();case Gn.Number:return this.Number();case Gn.Function:return this.cmpStr(this.tokenStart,this.tokenEnd,"url(")?this.Url():this.Function(this.readSequence,t.recognizer);case Gn.Url:return this.Url();case Gn.Ident:return this.cmpChar(this.tokenStart,z5)&&this.cmpChar(this.tokenStart+1,dw)?this.UnicodeRange():this.Identifier();case Gn.Delim:{let e=this.charCodeAt(this.tokenStart);if(e===j5||e===I5||e===dw||e===R5)return this.Operator();e===D5&&this.error("Hex or identifier is expected",this.tokenStart+1);break}}}pw.exports=B5});var mw=De((Q9,gw)=>{"use strict";var F5=Cp(),_5={getNode:F5};gw.exports=_5});var xw=De((J9,vw)=>{"use strict";var Hr=Ot(),H5=35,W5=38,q5=42,U5=43,G5=47,yw=46,V5=62,$5=124,Y5=126;function X5(t,e){e.last!==null&&e.last.type!=="Combinator"&&t!==null&&t.type!=="Combinator"&&e.push({type:"Combinator",loc:null,name:" "})}function K5(){switch(this.tokenType){case Hr.LeftSquareBracket:return this.AttributeSelector();case Hr.Hash:return this.IdSelector();case Hr.Colon:return this.lookupType(1)===Hr.Colon?this.PseudoElementSelector():this.PseudoClassSelector();case Hr.Ident:return this.TypeSelector();case Hr.Number:case Hr.Percentage:return this.Percentage();case Hr.Dimension:this.charCodeAt(this.tokenStart)===yw&&this.error("Identifier is expected",this.tokenStart+1);break;case Hr.Delim:{switch(this.charCodeAt(this.tokenStart)){case U5:case V5:case Y5:case G5:return this.Combinator();case yw:return this.ClassSelector();case q5:case $5:return this.TypeSelector();case H5:return this.IdSelector();case W5:return this.NestingSelector()}break}}}var Z5={onWhiteSpace:X5,getNode:K5};vw.exports=Z5});var ww=De((eH,bw)=>{"use strict";function Q5(){return this.createSingleNodeList(this.Raw(this.tokenIndex,null,!1))}bw.exports=Q5});var Cw=De((tH,Sw)=>{"use strict";var kw=Ot();function J5(){let t=this.createList();if(this.skipSC(),t.push(this.Identifier()),this.skipSC(),this.tokenType===kw.Comma){t.push(this.Operator());let e=this.tokenIndex,n=this.parseCustomProperty?this.Value(null):this.Raw(this.tokenIndex,this.consumeUntilExclamationMarkOrSemicolon,!1);if(n.type==="Value"&&n.children.isEmpty){for(let r=e-this.tokenIndex;r<=0;r++)if(this.lookupType(r)===kw.WhiteSpace){n.children.appendData({type:"WhiteSpace",loc:null,value:" "});break}}t.push(n)}return t}Sw.exports=J5});var Aw=De((iH,Lw)=>{"use strict";var e6=Cp(),t6=ww(),i6=Cw();function Tw(t){return t!==null&&t.type==="Operator"&&(t.value[t.value.length-1]==="-"||t.value[t.value.length-1]==="+")}var n6={getNode:e6,onWhiteSpace(t,e){Tw(t)&&(t.value=" "+t.value),Tw(e.last)&&(e.last.value+=" ")},expression:t6,var:i6};Lw.exports=n6});var Mw=De(yu=>{"use strict";var r6=mw(),o6=xw(),s6=Aw();yu.AtrulePrelude=r6;yu.Selector=o6;yu.Value=s6});var Pw=De((rH,Ew)=>{"use strict";var a6={parse:{prelude:null,block(){return this.Block(!0)}}};Ew.exports=a6});var Nw=De((oH,Ow)=>{"use strict";var Ll=Ot(),l6={parse:{prelude(){let t=this.createList();switch(this.skipSC(),this.tokenType){case Ll.String:t.push(this.String());break;case Ll.Url:case Ll.Function:t.push(this.Url());break;default:this.error("String or url() is expected")}return(this.lookupNonWSType(0)===Ll.Ident||this.lookupNonWSType(0)===Ll.LeftParenthesis)&&t.push(this.MediaQueryList()),t},block:null}};Ow.exports=l6});var Iw=De((sH,Dw)=>{"use strict";var c6={parse:{prelude(){return this.createSingleNodeList(this.MediaQueryList())},block(t=!1){return this.Block(t)}}};Dw.exports=c6});var jw=De((aH,Rw)=>{"use strict";var u6={parse:{prelude(){return this.createSingleNodeList(this.SelectorList())},block(){return this.Block(!0)}}};Rw.exports=u6});var Bw=De((lH,zw)=>{"use strict";var h6={parse:{prelude(){return this.createSingleNodeList(this.SelectorList())},block(){return this.Block(!0)}}};zw.exports=h6});var Hw=De((cH,_w)=>{"use strict";var Io=Ot();function f6(){return this.createSingleNodeList(this.Raw(this.tokenIndex,null,!1))}function d6(){return this.skipSC(),this.tokenType===Io.Ident&&this.lookupNonWSType(1)===Io.Colon?this.createSingleNodeList(this.Declaration()):Fw.call(this)}function Fw(){let t=this.createList(),e;this.skipSC();e:for(;!this.eof;){switch(this.tokenType){case Io.Comment:case Io.WhiteSpace:this.next();continue;case Io.Function:e=this.Function(f6,this.scope.AtrulePrelude);break;case Io.Ident:e=this.Identifier();break;case Io.LeftParenthesis:e=this.Parentheses(d6,this.scope.AtrulePrelude);break;default:break e}t.push(e)}return t}var p6={parse:{prelude(){let t=Fw.call(this);return this.getFirstListNode(t)===null&&this.error("Condition is expected"),t},block(t=!1){return this.Block(t)}}};_w.exports=p6});var qw=De((uH,Ww)=>{"use strict";var g6=Pw(),m6=Nw(),y6=Iw(),v6=jw(),x6=Bw(),b6=Hw(),w6={"font-face":g6,import:m6,media:y6,nest:v6,page:x6,supports:b6};Ww.exports=w6});var Vw=De((hH,Gw)=>{"use strict";var Ro={parse(){return this.createSingleNodeList(this.SelectorList())}},Tp={parse(){return this.createSingleNodeList(this.Selector())}},Uw={parse(){return this.createSingleNodeList(this.Identifier())}},vu={parse(){return this.createSingleNodeList(this.Nth())}},k6={dir:Uw,has:Ro,lang:Uw,matches:Ro,is:Ro,"-moz-any":Ro,"-webkit-any":Ro,where:Ro,not:Ro,"nth-child":vu,"nth-last-child":vu,"nth-last-of-type":vu,"nth-of-type":vu,slotted:Tp,host:Tp,"host-context":Tp};Gw.exports=k6});var $w=De(Ut=>{"use strict";var S6=Cd(),C6=Td(),T6=Ld(),L6=Md(),A6=Ed(),M6=Pd(),E6=Od(),P6=Nd(),O6=Id(),N6=Rd(),D6=jd(),I6=zd(),R6=Fd(),j6=_d(),z6=Wd(),B6=qd(),F6=Ud(),_6=Gd(),H6=Vd(),W6=$d(),q6=Yd(),U6=Xd(),G6=Kd(),V6=Zd(),$6=Qd(),Y6=Jd(),X6=ep(),K6=tp(),Z6=ip(),Q6=np(),J6=rp(),eI=op(),tI=sp(),iI=ap(),nI=hp(),rI=fp(),oI=pp(),sI=mp(),aI=bp(),lI=wp(),cI=kp();Ut.AnPlusB=S6.parse;Ut.Atrule=C6.parse;Ut.AtrulePrelude=T6.parse;Ut.AttributeSelector=L6.parse;Ut.Block=A6.parse;Ut.Brackets=M6.parse;Ut.CDC=E6.parse;Ut.CDO=P6.parse;Ut.ClassSelector=O6.parse;Ut.Combinator=N6.parse;Ut.Comment=D6.parse;Ut.Declaration=I6.parse;Ut.DeclarationList=R6.parse;Ut.Dimension=j6.parse;Ut.Function=z6.parse;Ut.Hash=B6.parse;Ut.Identifier=F6.parse;Ut.IdSelector=_6.parse;Ut.MediaFeature=H6.parse;Ut.MediaQuery=W6.parse;Ut.MediaQueryList=q6.parse;Ut.NestingSelector=U6.parse;Ut.Nth=G6.parse;Ut.Number=V6.parse;Ut.Operator=$6.parse;Ut.Parentheses=Y6.parse;Ut.Percentage=X6.parse;Ut.PseudoClassSelector=K6.parse;Ut.PseudoElementSelector=Z6.parse;Ut.Ratio=Q6.parse;Ut.Raw=J6.parse;Ut.Rule=eI.parse;Ut.Selector=tI.parse;Ut.SelectorList=iI.parse;Ut.String=nI.parse;Ut.StyleSheet=rI.parse;Ut.TypeSelector=oI.parse;Ut.UnicodeRange=sI.parse;Ut.Url=aI.parse;Ut.Value=lI.parse;Ut.WhiteSpace=cI.parse});var Xw=De((dH,Yw)=>{"use strict";var uI=Mw(),hI=qw(),fI=Vw(),dI=$w(),pI={parseContext:{default:"StyleSheet",stylesheet:"StyleSheet",atrule:"Atrule",atrulePrelude(t){return this.AtrulePrelude(t.atrule?String(t.atrule):null)},mediaQueryList:"MediaQueryList",mediaQuery:"MediaQuery",rule:"Rule",selectorList:"SelectorList",selector:"Selector",block(){return this.Block(!0)},declarationList:"DeclarationList",declaration:"Declaration",value:"Value"},scope:uI,atrule:hI,pseudo:fI,node:dI};Yw.exports=pI});var Zw=De((pH,Kw)=>{"use strict";var gI=Sp(),mI={node:gI};Kw.exports=mI});var Jw=De((gH,Qw)=>{"use strict";var yI=kd(),vI=fw(),xI=Xw(),bI=Zw(),wI=yI({...vI,...xI,...bI});Qw.exports=wI});var t1=De((mH,e1)=>{e1.exports="2.3.1"});var i1=De(Al=>{"use strict";var kI=Zf(),SI=Vc(),CI=ou(),TI=gd();Al.SyntaxError=kI.SyntaxError;Al.generate=SI.generate;Al.parse=CI.parse;Al.walk=TI.walk});var r1=De(n1=>{"use strict";var LI=Eo();function Lp(t){let e={};for(let n in t){let r=t[n];r&&(Array.isArray(r)||r instanceof LI.List?r=r.map(Lp):r.constructor===Object&&(r=Lp(r))),e[n]=r}return e}n1.clone=Lp});var l1=De(Ap=>{"use strict";var a1=On(),o1=xr(),s1=92;function AI(t){let e=t.length-1,n="";for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s===s1){if(r===e)break;if(s=t.charCodeAt(++r),a1.isValidEscape(s1,s)){let a=r-1,h=o1.consumeEscaped(t,a);r=h-1,n+=o1.decodeEscaped(t.substring(a+1,h))}else s===13&&t.charCodeAt(r+1)===10&&r++}else n+=t[r]}return n}function MI(t){let e="";if(t.length===1&&t.charCodeAt(0)===45)return"\\-";for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r===0){e+="\uFFFD";continue}if(r<=31||r===127||r>=48&&r<=57&&(n===0||n===1&&t.charCodeAt(0)===45)){e+="\\"+r.toString(16)+" ";continue}a1.isName(r)?e+=t.charAt(n):e+="\\"+t.charAt(n)}return e}Ap.decode=AI;Ap.encode=MI});var bu=De(fi=>{"use strict";var EI=Jw(),PI=t1(),OI=kd(),NI=Eo(),DI=xd(),II=i1(),RI=r1(),xu=Kc(),jI=l1(),zI=pu(),BI=xp(),FI=Ot(),_I=Ma(),HI=Hc(),{tokenize:WI,parse:qI,generate:UI,lexer:GI,createLexer:VI,walk:$I,find:YI,findLast:XI,findAll:KI,toPlainObject:ZI,fromPlainObject:QI,fork:JI}=EI;fi.version=PI.version;fi.createSyntax=OI;fi.List=NI.List;fi.Lexer=DI.Lexer;fi.definitionSyntax=II;fi.clone=RI.clone;fi.isCustomProperty=xu.isCustomProperty;fi.keyword=xu.keyword;fi.property=xu.property;fi.vendorPrefix=xu.vendorPrefix;fi.ident=jI;fi.string=zI;fi.url=BI;fi.tokenTypes=FI;fi.tokenNames=_I;fi.TokenStream=HI.TokenStream;fi.createLexer=VI;fi.find=YI;fi.findAll=KI;fi.findLast=XI;fi.fork=JI;fi.fromPlainObject=QI;fi.generate=UI;fi.lexer=GI;fi.parse=qI;fi.toPlainObject=ZI;fi.tokenize=WI;fi.walk=$I});var d1=De((wH,f1)=>{var Tr=bu(),{definitionSyntax:Is}=Tr,c1=new WeakMap;function u1(t){let{type:e,name:n,parent:r}=t||{};switch(e){case"Property":return"<'"+n+"'>";case"Type":return"<"+n+">";case"Function":return n+"()";case"Atrule":return"@"+n;case"AtrulePrelude":return"@"+n+":prelude";case"AtruleDescriptor":return"@"+r+"/"+n;default:return n}}function Mp(t,e,n){function r(p,m){return{type:"Group",terms:p,combinator:m,explicit:!1,disallowEmpty:!1}}function s(p,m){let x=m[m.length-1],v=x.terms.indexOf(p);for(var C=v;C<x.terms.length;C++)if(x.terms[C].type==="Token"&&x.terms[C].value===")"){C++;break}return r(x.terms.slice(v,C)," ")}function a(p){if(p&&p.syntax!==null){let m=[];Is.walk(p.syntax,{enter(x){if((x.type==="Token"&&x.value==="("||x.type==="Type"&&x.name==="function-token")&&g.push(null),x.type==="Type"||x.type==="Property"||x.type==="Function"){let v=x.type+":"+x.name;if(x.type==="Function"){g.push(f),f=x;let C=n.functions[f.name];C||(C=n.createDescriptor(r([],"|"),x.type,x.name),c1.set(C,new Set),n.functions[f.name]=C);let w=c1.get(C);if(!w.has(x)){let b=s(x,m),T=Is.generate(b);w.has(T)||C.syntax.terms.push(b),w.add(x),w.add(T)}}if(m.push(x),!(v in h))switch(h[v]=!0,x.type){case"Type":a(n.getType(x.name),!1);break;case"Property":a(n.getProperty(x.name),!1);break}}else m.push(x)},leave(x){m.pop(),x.type==="Token"&&x.value===")"&&(f=g.pop()||f)}})}}let h,f,g=[];for(let p in e){if(h=Object.create(null),h[t+":"+p]=!0,f=e[p],g.push(f),t==="Atrule"){a(f.prelude);for(let m in f.discriptors)a(f.descriptors[m])}else a(f);g.pop()}}function h1(t,e,n){let r=0,s=[];return typeof t=="string"&&(t=Is.parse(t)),t&&Is.walk(t,{enter:a=>{if(a.type in e){let h=e[a.type];n&&!(a.name in h)&&n.push(h[a.name]={type:a.type,name:a.name,syntax:null,match:null,refs:[]}),s.push({node:a,insideFunction:r>0,resolved:h[a.name]||null})}a.type==="Function"&&r++},leave:a=>{a.type==="Function"&&r--}}),s}f1.exports=function(t,{defineObjectMarker:e,addQueryHelpers:n,query:r}){let{properties:s,types:a,atrules:h}=Tr.lexer,f=Object.create(null),g=["Atrule","AtrulePrelude","AtruleDescriptor","Property","Type","Function"],p={Atrule:h,AtrulePrelude:Object.fromEntries(Object.entries(h).map(([x,{prelude:v}])=>v&&[x,v]).filter(Boolean)),AtruleDescriptor:Object.fromEntries(Object.entries(h).reduce((x,[v,{descriptors:C}])=>C?x.concat(Object.entries(C).map(([w,b])=>[v+"/"+w,b])):x,[])),Property:s,Type:a,Function:f},m=Object.fromEntries(Object.keys(p).map(x=>[x,e(x,{refs:[v=>`${v.type}:${v.name}`],lookupRefs:[v=>`${v.type}:${v.name}`],ref:"name",title:v=>u1(v),page:x})]));Tr.lexer.validate(),Tr.lexer.functions=f,Mp("Atrule",h,Tr.lexer),Mp("Property",s,Tr.lexer),Mp("Type",a,Tr.lexer),t.dict=[].concat(...Object.values(p).map(x=>Object.values(x)));for(let x of t.dict)x.refs=h1(x.syntax,p,t.dict),m[x.type](x);n({formatName:u1,typeSorting(x){let v=g.indexOf(x);return v!==-1?v:1/0},isProblem:x=>r('(no match and type != "Atrule") or refs.resolved.[no match]',x),mdn(x){if(x)switch(x.type){case"Atrule":case"AtrulePrelude":return t.mdn.atRules["@"+x.name]||null;case"AtruleDescriptor":{let v=t.mdn.atRules["@"+x.parent];return v&&v.descriptors&&v.descriptors[x.name]||null}case"Property":case"Type":return t.mdn[x.type==="Property"?"properties":"syntaxes"][x.name]||null}return null},name(x){let v=typeof x=="string"?x:x&&x.name||!1;return v?Tr.keyword(v):null},patch(x){return x&&(x.type==="Property"||x.type==="Type")&&t.patch[x.type==="Property"?"properties":"types"][x.name]||null},syntaxAst(x){let v=x?x.syntax||x:null;return typeof v=="string"?Is.parse(v):v||null},syntax(x){return x?x.syntax?Is.generate(x.syntax):(x.match,"(generic)"):"(unknown)"},refs(x){return x?x.refs||h1(x.syntax||x,p):[]},syntaxChildren(x){let v=[];return x&&(x.term&&v.push(x.term),x.terms&&v.push(...x.terms)),v},match(x,v){let{type:C,name:w}=x||{},b=C==="Function"?w+"("+v+")":v,T=!/\S/.test(b),M,L=null;try{T||(M=Tr.lexer.match(x,b))}catch(A){L=A.message+(A.sourceFragment?`
`+A.sourceFragment():"")}return M&&(L=M.error),{match:!L&&M&&M.matched||null,iterations:M&&M.iterations||null,error:L}}})};/^csstree.github.io$/i.test(location.host)&&(function(t,e,n,r,s,a,h){t.GoogleAnalyticsObject=s,t[s]=t[s]||function(){(t[s].q=t[s].q||[]).push(arguments)},t[s].l=1*new Date,a=e.createElement(n),h=e.getElementsByTagName(n)[0],a.async=1,a.src=r,h.parentNode.insertBefore(a,h)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-84136412-1","auto"),ga("send","pageview"));window.csstree=Tr});var m1={};tt(m1,{default:()=>eR});function eR(t){t.view.define("sidebar",{view:"content-filter",content:{view:"list",data:`
            dict.[
                type not in ["AtrulePrelude", "AtruleDescriptor"]
                and (name~=#.filter or descriptors.values().name~=#.filter)
            ]
            .group(=>type)
            .(
                // prepare items
                $items: value.({
                    type,
                    name,
                    parent,
                    nested: type = "Atrule" ? descriptors.values() : null,
                    syntax,
                    missed: no match and type != 'Atrule',
                    brokenRefs: (type != "Atrule" ? $ : (descriptors.values() or []) + (prelude or []))
                        .refs.resolved.[no match]
                }).sort(=>name);

                // section info
                {
                    type: key,
                    $items,
                    badSyntaxes: $items.[missed or brokenRefs]
                }
            )
            .sort(=>type.typeSorting())
        `,emptyText:"No matches",item:{view:"toc-section",header:["text:type",'pill-badge:{ text: items.size(), href: pageLink("report", "dict.[type=\\"" + type + "\\"]") }',{view:"pill-badge",when:"badSyntaxes",className:"danger-badge",data:`{
                        text: badSyntaxes.size()
                    }`}],content:{view:"list",data:"items",itemConfig:{className:e=>e.missed?"missed":""},item:[{view:"auto-link",content:"text-match:{ text, match: #.filter }"},{when:'type="Function" and syntax.terms.size() > 1',view:"html",data:'"<span class=variants> \xD7 " + syntax.terms.size() + "</span>"'},{view:"badge",className:"patched-badge",when:"patch() and mdn()",data:'{ text: "patched" }'},{view:"badge",className:"patched-badge",when:'type != "Function" and no mdn() and no missed',data:'{ text: "added" }'},{view:"pill-badge",className:"danger-badge",when:"brokenRefs",data:"{ text: brokenRefs.size() }"},{view:"list",className:"nested",when:"#.filter",data:"nested.[name~=#.filter]",whenData:!0,item:'auto-link{ content: "text-match:{ text: entity.name, match: #.filter }" }'}]}}}},{tag:!1})}var y1=Ki(()=>{});var x1=De((v1,wu)=>{"use strict";(function(t,e){typeof wu=="object"&&wu.exports?(e.default=e,wu.exports=t.document?e(t):e):typeof define=="function"&&define.amd?define("highcharts/highcharts",function(){return e(t)}):(t.Highcharts&&t.Highcharts.error(16,!0),t.Highcharts=e(t))})(typeof window<"u"?window:v1,function(t){function e(r,s,a,h){r.hasOwnProperty(s)||(r[s]=h.apply(null,a))}var n={};return e(n,"Core/Globals.js",[],function(){var r=typeof t<"u"?t:typeof window<"u"?window:{},s;return function(a){a.SVG_NS="http://www.w3.org/2000/svg",a.product="Highcharts",a.version="9.3.2",a.win=r,a.doc=a.win.document,a.svg=a.doc&&a.doc.createElementNS&&!!a.doc.createElementNS(a.SVG_NS,"svg").createSVGRect,a.userAgent=a.win.navigator&&a.win.navigator.userAgent||"",a.isChrome=a.userAgent.indexOf("Chrome")!==-1,a.isFirefox=a.userAgent.indexOf("Firefox")!==-1,a.isMS=/(edge|msie|trident)/i.test(a.userAgent)&&!a.win.opera,a.isSafari=!a.isChrome&&a.userAgent.indexOf("Safari")!==-1,a.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(a.userAgent),a.isWebKit=a.userAgent.indexOf("AppleWebKit")!==-1,a.deg2rad=2*Math.PI/360,a.hasBidiBug=a.isFirefox&&4>parseInt(a.userAgent.split("Firefox/")[1],10),a.hasTouch=!!a.win.TouchEvent,a.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],a.noop=function(){},a.supportsPassiveEvents=function(){var h=!1;if(!a.isMS){var f=Object.defineProperty({},"passive",{get:function(){h=!0}});a.win.addEventListener&&a.win.removeEventListener&&(a.win.addEventListener("testPassive",a.noop,f),a.win.removeEventListener("testPassive",a.noop,f))}return h}(),a.charts=[],a.dateFormats={},a.seriesTypes={},a.symbolSizes={},a.chartCount=0}(s||(s={})),s}),e(n,"Core/Utilities.js",[n["Core/Globals.js"]],function(r){function s(d,N,R,q){var ee=N?"Highcharts error":"Highcharts warning";d===32&&(d=ee+": Deprecated member");var ue=v(d),ae=ue?ee+" #"+d+": www.highcharts.com/errors/"+d+"/":d.toString();if(typeof q<"u"){var $="";ue&&(ae+="?"),E(q,function(ie,j){$+=`
 - `+j+": "+ie,ue&&(ae+=encodeURI(j)+"="+encodeURI(ie))}),ae+=$}B(r,"displayError",{chart:R,code:d,message:ae,params:q},function(){if(N)throw Error(ae);O.console&&s.messages.indexOf(ae)===-1&&console.warn(ae)}),s.messages.push(ae)}function a(d,N){var R={};return E(d,function(q,ee){p(d[ee],!0)&&!d.nodeType&&N[ee]?(q=a(d[ee],N[ee]),Object.keys(q).length&&(R[ee]=q)):(p(d[ee])||d[ee]!==N[ee])&&(R[ee]=d[ee])}),R}function h(d,N){return parseInt(d,N||10)}function f(d){return typeof d=="string"}function g(d){return d=Object.prototype.toString.call(d),d==="[object Array]"||d==="[object Array Iterator]"}function p(d,N){return!!d&&typeof d=="object"&&(!N||!g(d))}function m(d){return p(d)&&typeof d.nodeType=="number"}function x(d){var N=d&&d.constructor;return!(!p(d,!0)||m(d)||!N||!N.name||N.name==="Object")}function v(d){return typeof d=="number"&&!isNaN(d)&&1/0>d&&-1/0<d}function C(d){return typeof d<"u"&&d!==null}function w(d,N,R){var q;return f(N)?C(R)?d.setAttribute(N,R):d&&d.getAttribute&&((q=d.getAttribute(N))||N!=="class"||(q=d.getAttribute(N+"Name"))):E(N,function(ee,ue){C(ee)?d.setAttribute(ue,ee):d.removeAttribute(ue)}),q}function b(d,N){var R;d||(d={});for(R in N)d[R]=N[R];return d}function T(){for(var d=arguments,N=d.length,R=0;R<N;R++){var q=d[R];if(typeof q<"u"&&q!==null)return q}}function M(d,N){r.isMS&&!r.svg&&N&&typeof N.opacity<"u"&&(N.filter="alpha(opacity="+100*N.opacity+")"),b(d.style,N)}function L(d,N){return 1e14<d?d:parseFloat(d.toPrecision(N||14))}function A(d,N,R){var q=r.getStyle||A;if(N==="width")return N=Math.min(d.offsetWidth,d.scrollWidth),R=d.getBoundingClientRect&&d.getBoundingClientRect().width,R<N&&R>=N-1&&(N=Math.floor(R)),Math.max(0,N-(q(d,"padding-left",!0)||0)-(q(d,"padding-right",!0)||0));if(N==="height")return Math.max(0,Math.min(d.offsetHeight,d.scrollHeight)-(q(d,"padding-top",!0)||0)-(q(d,"padding-bottom",!0)||0));if(O.getComputedStyle||s(27,!0),d=O.getComputedStyle(d,void 0)){var ee=d.getPropertyValue(N);T(R,N!=="opacity")&&(ee=h(ee))}return ee}function E(d,N,R){for(var q in d)Object.hasOwnProperty.call(d,q)&&N.call(R||d[q],d[q],q,d)}function D(d,N,R){function q($,ie){var j=d.removeEventListener||r.removeEventListenerPolyfill;j&&j.call(d,$,ie,!1)}function ee($){var ie;if(d.nodeName){if(N){var j={};j[N]=!0}else j=$;E(j,function(H,U){if($[U])for(ie=$[U].length;ie--;)q(U,$[U][ie].fn)})}}var ue=typeof d=="function"&&d.prototype||d;if(Object.hasOwnProperty.call(ue,"hcEvents")){var ae=ue.hcEvents;N?(ue=ae[N]||[],R?(ae[N]=ue.filter(function($){return R!==$.fn}),q(N,R)):(ee(ae),ae[N]=[])):(ee(ae),delete ue.hcEvents)}}function B(d,N,R,q){if(R=R||{},I.createEvent&&(d.dispatchEvent||d.fireEvent&&d!==r)){var ee=I.createEvent("Events");ee.initEvent(N,!0,!0),R=b(ee,R),d.dispatchEvent?d.dispatchEvent(R):d.fireEvent(N,R)}else if(d.hcEvents){R.target||b(R,{preventDefault:function(){R.defaultPrevented=!0},target:d,type:N}),ee=[];for(var ue=d,ae=!1;ue.hcEvents;)Object.hasOwnProperty.call(ue,"hcEvents")&&ue.hcEvents[N]&&(ee.length&&(ae=!0),ee.unshift.apply(ee,ue.hcEvents[N])),ue=Object.getPrototypeOf(ue);ae&&ee.sort(function($,ie){return $.order-ie.order}),ee.forEach(function($){$.fn.call(d,R)===!1&&R.preventDefault()})}q&&!R.defaultPrevented&&q.call(d,R)}var z=r.charts,I=r.doc,O=r.win;(s||(s={})).messages=[],Math.easeInOutSine=function(d){return-.5*(Math.cos(Math.PI*d)-1)};var S=Array.prototype.find?function(d,N){return d.find(N)}:function(d,N){var R,q=d.length;for(R=0;R<q;R++)if(N(d[R],R))return d[R]};E({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(d,N){r[N]=function(R){var q;return s(32,!1,void 0,(q={},q["Highcharts."+N]="use Array."+d,q)),Array.prototype[d].apply(R,[].slice.call(arguments,1))}});var P,k=function(){var d=Math.random().toString(36).substring(2,9)+"-",N=0;return function(){return"highcharts-"+(P?"":d)+N++}}();return O.jQuery&&(O.jQuery.fn.highcharts=function(){var d=[].slice.call(arguments);if(this[0])return d[0]?(new r[f(d[0])?d.shift():"Chart"](this[0],d[0],d[1]),this):z[w(this[0],"data-highcharts-chart")]}),S={addEvent:function(d,N,R,q){q===void 0&&(q={});var ee=typeof d=="function"&&d.prototype||d;Object.hasOwnProperty.call(ee,"hcEvents")||(ee.hcEvents={}),ee=ee.hcEvents,r.Point&&d instanceof r.Point&&d.series&&d.series.chart&&(d.series.chart.runTrackerClick=!0);var ue=d.addEventListener||r.addEventListenerPolyfill;return ue&&ue.call(d,N,R,r.supportsPassiveEvents?{passive:q.passive===void 0?N.indexOf("touch")!==-1:q.passive,capture:!1}:!1),ee[N]||(ee[N]=[]),ee[N].push({fn:R,order:typeof q.order=="number"?q.order:1/0}),ee[N].sort(function(ae,$){return ae.order-$.order}),function(){D(d,N,R)}},arrayMax:function(d){for(var N=d.length,R=d[0];N--;)d[N]>R&&(R=d[N]);return R},arrayMin:function(d){for(var N=d.length,R=d[0];N--;)d[N]<R&&(R=d[N]);return R},attr:w,clamp:function(d,N,R){return d>N?d<R?d:R:N},cleanRecursively:a,clearTimeout:function(d){C(d)&&clearTimeout(d)},correctFloat:L,createElement:function(d,N,R,q,ee){return d=I.createElement(d),N&&b(d,N),ee&&M(d,{padding:"0",border:"none",margin:"0"}),R&&M(d,R),q&&q.appendChild(d),d},css:M,defined:C,destroyObjectProperties:function(d,N){E(d,function(R,q){R&&R!==N&&R.destroy&&R.destroy(),delete d[q]})},discardElement:function(d){d&&d.parentElement&&d.parentElement.removeChild(d)},erase:function(d,N){for(var R=d.length;R--;)if(d[R]===N){d.splice(R,1);break}},error:s,extend:b,extendClass:function(d,N){var R=function(){};return R.prototype=new d,b(R.prototype,N),R},find:S,fireEvent:B,getMagnitude:function(d){return Math.pow(10,Math.floor(Math.log(d)/Math.LN10))},getNestedProperty:function(d,N){for(d=d.split(".");d.length&&C(N);){var R=d.shift();if(typeof R>"u"||R==="__proto__"||(N=N[R],!C(N)||typeof N=="function"||typeof N.nodeType=="number"||N===O))return}return N},getStyle:A,inArray:function(d,N,R){return s(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),N.indexOf(d,R)},isArray:g,isClass:x,isDOMElement:m,isFunction:function(d){return typeof d=="function"},isNumber:v,isObject:p,isString:f,keys:function(d){return s(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(d)},merge:function(){var d,N=arguments,R={},q=function(ue,ae){return typeof ue!="object"&&(ue={}),E(ae,function($,ie){ie!=="__proto__"&&ie!=="constructor"&&(!p($,!0)||x($)||m($)?ue[ie]=ae[ie]:ue[ie]=q(ue[ie]||{},$))}),ue};N[0]===!0&&(R=N[1],N=Array.prototype.slice.call(N,2));var ee=N.length;for(d=0;d<ee;d++)R=q(R,N[d]);return R},normalizeTickInterval:function(d,N,R,q,ee){var ue=d;R=T(R,1);var ae=d/R;for(N||(N=ee?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],q===!1&&(R===1?N=N.filter(function($){return $%1===0}):.1>=R&&(N=[1/R]))),q=0;q<N.length&&(ue=N[q],!(ee&&ue*R>=d||!ee&&ae<=(N[q]+(N[q+1]||N[q]))/2));q++);return ue=L(ue*R,-Math.round(Math.log(.001)/Math.LN10))},objectEach:E,offset:function(d){var N=I.documentElement;return d=d.parentElement||d.parentNode?d.getBoundingClientRect():{top:0,left:0,width:0,height:0},{top:d.top+(O.pageYOffset||N.scrollTop)-(N.clientTop||0),left:d.left+(O.pageXOffset||N.scrollLeft)-(N.clientLeft||0),width:d.width,height:d.height}},pad:function(d,N,R){return Array((N||2)+1-String(d).replace("-","").length).join(R||"0")+d},pick:T,pInt:h,relativeLength:function(d,N,R){return/%$/.test(d)?N*parseFloat(d)/100+(R||0):parseFloat(d)},removeEvent:D,splat:function(d){return g(d)?d:[d]},stableSort:function(d,N){var R=d.length,q,ee;for(ee=0;ee<R;ee++)d[ee].safeI=ee;for(d.sort(function(ue,ae){return q=N(ue,ae),q===0?ue.safeI-ae.safeI:q}),ee=0;ee<R;ee++)delete d[ee].safeI},syncTimeout:function(d,N,R){return 0<N?setTimeout(d,N,R):(d.call(0,R),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:k,useSerialIds:function(d){return P=T(d,P)},wrap:function(d,N,R){var q=d[N];d[N]=function(){var ee=Array.prototype.slice.call(arguments),ue=arguments,ae=this;return ae.proceed=function(){q.apply(ae,arguments.length?arguments:ue)},ee.unshift(q),ee=R.apply(this,ee),ae.proceed=null,ee}}},S}),e(n,"Core/Chart/ChartDefaults.js",[],function(){return{panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},zoomBySingleTouch:!1,width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),e(n,"Core/Color/Color.js",[n["Core/Globals.js"],n["Core/Utilities.js"]],function(r,s){var a=s.isNumber,h=s.merge,f=s.pInt;return s=function(){function g(p){this.rgba=[NaN,NaN,NaN,NaN],this.input=p;var m=r.Color;if(m&&m!==g)return new m(p);if(!(this instanceof g))return new g(p);this.init(p)}return g.parse=function(p){return p?new g(p):g.None},g.prototype.init=function(p){var m;if(typeof p=="object"&&typeof p.stops<"u")this.stops=p.stops.map(function(w){return new g(w[1])});else if(typeof p=="string"){if(this.input=p=g.names[p.toLowerCase()]||p,p.charAt(0)==="#"){var x=p.length,v=parseInt(p.substr(1),16);x===7?m=[(v&16711680)>>16,(v&65280)>>8,v&255,1]:x===4&&(m=[(v&3840)>>4|(v&3840)>>8,(v&240)>>4|v&240,(v&15)<<4|v&15,1])}if(!m)for(v=g.parsers.length;v--&&!m;){var C=g.parsers[v];(x=C.regex.exec(p))&&(m=C.parse(x))}}m&&(this.rgba=m)},g.prototype.get=function(p){var m=this.input,x=this.rgba;if(typeof m=="object"&&typeof this.stops<"u"){var v=h(m);return v.stops=[].slice.call(v.stops),this.stops.forEach(function(C,w){v.stops[w]=[v.stops[w][0],C.get(p)]}),v}return x&&a(x[0])?p==="rgb"||!p&&x[3]===1?"rgb("+x[0]+","+x[1]+","+x[2]+")":p==="a"?""+x[3]:"rgba("+x.join(",")+")":m},g.prototype.brighten=function(p){var m=this.rgba;if(this.stops)this.stops.forEach(function(v){v.brighten(p)});else if(a(p)&&p!==0)for(var x=0;3>x;x++)m[x]+=f(255*p),0>m[x]&&(m[x]=0),255<m[x]&&(m[x]=255);return this},g.prototype.setOpacity=function(p){return this.rgba[3]=p,this},g.prototype.tweenTo=function(p,m){var x=this.rgba,v=p.rgba;return!a(x[0])||!a(v[0])?p.input||"none":(p=v[3]!==1||x[3]!==1,(p?"rgba(":"rgb(")+Math.round(v[0]+(x[0]-v[0])*(1-m))+","+Math.round(v[1]+(x[1]-v[1])*(1-m))+","+Math.round(v[2]+(x[2]-v[2])*(1-m))+(p?","+(v[3]+(x[3]-v[3])*(1-m)):"")+")")},g.names={white:"#ffffff",black:"#000000"},g.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(p){return[f(p[1]),f(p[2]),f(p[3]),parseFloat(p[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(p){return[f(p[1]),f(p[2]),f(p[3]),1]}}],g.None=new g(""),g}(),s}),e(n,"Core/Color/Palettes.js",[],function(){return{colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")}}),e(n,"Core/Time.js",[n["Core/Globals.js"],n["Core/Utilities.js"]],function(r,s){var a=r.win,h=s.defined,f=s.error,g=s.extend,p=s.isObject,m=s.merge,x=s.objectEach,v=s.pad,C=s.pick,w=s.splat,b=s.timeUnits,T=r.isSafari&&a.Intl&&a.Intl.DateTimeFormat.prototype.formatRange,M=r.isSafari&&a.Intl&&!a.Intl.DateTimeFormat.prototype.formatRange;return s=function(){function L(A){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=a.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(A)}return L.prototype.get=function(A,E){if(this.variableTimezone||this.timezoneOffset){var D=E.getTime(),B=D-this.getTimezoneOffset(E);return E.setTime(B),A=E["getUTC"+A](),E.setTime(D),A}return this.useUTC?E["getUTC"+A]():E["get"+A]()},L.prototype.set=function(A,E,D){if(this.variableTimezone||this.timezoneOffset){if(A==="Milliseconds"||A==="Seconds"||A==="Minutes"&&this.getTimezoneOffset(E)%36e5===0)return E["setUTC"+A](D);var B=this.getTimezoneOffset(E);return B=E.getTime()-B,E.setTime(B),E["setUTC"+A](D),A=this.getTimezoneOffset(E),B=E.getTime()+A,E.setTime(B)}return this.useUTC||T&&A==="FullYear"?E["setUTC"+A](D):E["set"+A](D)},L.prototype.update=function(A){var E=C(A&&A.useUTC,!0);this.options=A=m(!0,this.options||{},A),this.Date=A.Date||a.Date||Date,this.timezoneOffset=(this.useUTC=E)&&A.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=E&&!(!A.getTimezoneOffset&&!A.timezone)},L.prototype.makeTime=function(A,E,D,B,z,I){if(this.useUTC){var O=this.Date.UTC.apply(0,arguments),S=this.getTimezoneOffset(O);O+=S;var P=this.getTimezoneOffset(O);S!==P?O+=P-S:S-36e5!==this.getTimezoneOffset(O-36e5)||M||(O-=36e5)}else O=new this.Date(A,E,C(D,1),C(B,0),C(z,0),C(I,0)).getTime();return O},L.prototype.timezoneOffsetFunction=function(){var A=this,E=this.options,D=E.getTimezoneOffset,B=E.moment||a.moment;if(!this.useUTC)return function(z){return 6e4*new Date(z.toString()).getTimezoneOffset()};if(E.timezone){if(B)return function(z){return 6e4*-B.tz(z,E.timezone).utcOffset()};f(25)}return this.useUTC&&D?function(z){return 6e4*D(z.valueOf())}:function(){return 6e4*(A.timezoneOffset||0)}},L.prototype.dateFormat=function(A,E,D){if(!h(E)||isNaN(E))return r.defaultOptions.lang&&r.defaultOptions.lang.invalidDate||"";A=C(A,"%Y-%m-%d %H:%M:%S");var B=this,z=new this.Date(E),I=this.get("Hours",z),O=this.get("Day",z),S=this.get("Date",z),P=this.get("Month",z),k=this.get("FullYear",z),d=r.defaultOptions.lang,N=d&&d.weekdays,R=d&&d.shortWeekdays;return z=g({a:R?R[O]:N[O].substr(0,3),A:N[O],d:v(S),e:v(S,2," "),w:O,b:d.shortMonths[P],B:d.months[P],m:v(P+1),o:P+1,y:k.toString().substr(2,2),Y:k,H:v(I),k:I,I:v(I%12||12),l:I%12||12,M:v(this.get("Minutes",z)),p:12>I?"AM":"PM",P:12>I?"am":"pm",S:v(z.getSeconds()),L:v(Math.floor(E%1e3),3)},r.dateFormats),x(z,function(q,ee){for(;A.indexOf("%"+ee)!==-1;)A=A.replace("%"+ee,typeof q=="function"?q.call(B,E):q)}),D?A.substr(0,1).toUpperCase()+A.substr(1):A},L.prototype.resolveDTLFormat=function(A){return p(A,!0)?A:(A=w(A),{main:A[0],from:A[1],to:A[2]})},L.prototype.getTimeTicks=function(A,E,D,B){var z=this,I=[],O={},S=new z.Date(E),P=A.unitRange,k=A.count||1,d;if(B=C(B,1),h(E)){if(z.set("Milliseconds",S,P>=b.second?0:k*Math.floor(z.get("Milliseconds",S)/k)),P>=b.second&&z.set("Seconds",S,P>=b.minute?0:k*Math.floor(z.get("Seconds",S)/k)),P>=b.minute&&z.set("Minutes",S,P>=b.hour?0:k*Math.floor(z.get("Minutes",S)/k)),P>=b.hour&&z.set("Hours",S,P>=b.day?0:k*Math.floor(z.get("Hours",S)/k)),P>=b.day&&z.set("Date",S,P>=b.month?1:Math.max(1,k*Math.floor(z.get("Date",S)/k))),P>=b.month){z.set("Month",S,P>=b.year?0:k*Math.floor(z.get("Month",S)/k));var N=z.get("FullYear",S)}P>=b.year&&z.set("FullYear",S,N-N%k),P===b.week&&(N=z.get("Day",S),z.set("Date",S,z.get("Date",S)-N+B+(N<B?-7:0))),N=z.get("FullYear",S),B=z.get("Month",S);var R=z.get("Date",S),q=z.get("Hours",S);for(E=S.getTime(),!z.variableTimezone&&z.useUTC||!h(D)||(d=D-E>4*b.month||z.getTimezoneOffset(E)!==z.getTimezoneOffset(D)),E=S.getTime(),S=1;E<D;)I.push(E),E=P===b.year?z.makeTime(N+S*k,0):P===b.month?z.makeTime(N,B+S*k):!d||P!==b.day&&P!==b.week?d&&P===b.hour&&1<k?z.makeTime(N,B,R,q+S*k):E+P*k:z.makeTime(N,B,R+S*k*(P===b.day?1:7)),S++;I.push(E),P<=b.hour&&1e4>I.length&&I.forEach(function(ee){ee%18e5===0&&z.dateFormat("%H%M%S%L",ee)==="000000000"&&(O[ee]="day")})}return I.info=g(A,{higherRanks:O,totalRange:P*k}),I},L.prototype.getDateFormat=function(A,E,D,B){var z=this.dateFormat("%m-%d %H:%M:%S.%L",E),I={millisecond:15,second:12,minute:9,hour:6,day:3},O="millisecond";for(S in b){if(A===b.week&&+this.dateFormat("%w",E)===D&&z.substr(6)==="00:00:00.000"){var S="week";break}if(b[S]>A){S=O;break}if(I[S]&&z.substr(I[S])!=="01-01 00:00:00.000".substr(I[S]))break;S!=="week"&&(O=S)}if(S)var P=this.resolveDTLFormat(B[S]).main;return P},L}(),s}),e(n,"Core/DefaultOptions.js",[n["Core/Chart/ChartDefaults.js"],n["Core/Color/Color.js"],n["Core/Globals.js"],n["Core/Color/Palettes.js"],n["Core/Time.js"],n["Core/Utilities.js"]],function(r,s,a,h,f,g){s=s.parse;var p=g.merge,m={colors:h.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:r,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:a.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:a.isTouchDevice?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25CF</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:s("#f7f7f7").setOpacity(.85).get(),borderWidth:1,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"12px",whiteSpace:"nowrap"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}};m.chart.styledMode=!1;var x=new f(p(m.global,m.time));return r={defaultOptions:m,defaultTime:x,getOptions:function(){return m},setOptions:function(v){return p(!0,m,v),(v.time||v.global)&&(a.time?a.time.update(p(m.global,m.time,v.global,v.time)):a.time=x),m}},r}),e(n,"Core/Animation/Fx.js",[n["Core/Color/Color.js"],n["Core/Globals.js"],n["Core/Utilities.js"]],function(r,s,a){var h=r.parse,f=s.win,g=a.isNumber,p=a.objectEach;return function(){function m(x,v,C){this.pos=NaN,this.options=v,this.elem=x,this.prop=C}return m.prototype.dSetter=function(){var x=this.paths,v=x&&x[0];x=x&&x[1];var C=this.now||0,w=[];if(C!==1&&v&&x)if(v.length===x.length&&1>C)for(var b=0;b<x.length;b++){for(var T=v[b],M=x[b],L=[],A=0;A<M.length;A++){var E=T[A],D=M[A];g(E)&&g(D)&&(M[0]!=="A"||A!==4&&A!==5)?L[A]=E+C*(D-E):L[A]=D}w.push(L)}else w=x;else w=this.toD||[];this.elem.attr("d",w,void 0,!0)},m.prototype.update=function(){var x=this.elem,v=this.prop,C=this.now,w=this.options.step;this[v+"Setter"]?this[v+"Setter"]():x.attr?x.element&&x.attr(v,C,null,!0):x.style[v]=C+this.unit,w&&w.call(x,C,this)},m.prototype.run=function(x,v,C){var w=this,b=w.options,T=function(A){return T.stopped?!1:w.step(A)},M=f.requestAnimationFrame||function(A){setTimeout(A,13)},L=function(){for(var A=0;A<m.timers.length;A++)m.timers[A]()||m.timers.splice(A--,1);m.timers.length&&M(L)};x!==v||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=x,this.end=v,this.unit=C,this.now=this.start,this.pos=0,T.elem=this.elem,T.prop=this.prop,T()&&m.timers.push(T)===1&&M(L)):(delete b.curAnim[this.prop],b.complete&&Object.keys(b.curAnim).length===0&&b.complete.call(this.elem))},m.prototype.step=function(x){var v=+new Date,C=this.options,w=this.elem,b=C.complete,T=C.duration,M=C.curAnim;if(w.attr&&!w.element)x=!1;else if(x||v>=T+this.startTime){this.now=this.end,this.pos=1,this.update();var L=M[this.prop]=!0;p(M,function(A){A!==!0&&(L=!1)}),L&&b&&b.call(w),x=!1}else this.pos=C.easing((v-this.startTime)/T),this.now=this.start+(this.end-this.start)*this.pos,this.update(),x=!0;return x},m.prototype.initPath=function(x,v,C){function w(z,I){for(;z.length<B;){var O=z[0],S=I[B-z.length];S&&O[0]==="M"&&(z[0]=S[0]==="C"?["C",O[1],O[2],O[1],O[2],O[1],O[2]]:["L",O[1],O[2]]),z.unshift(O),L&&(O=z.pop(),z.push(z[z.length-1],O))}}function b(z,I){for(;z.length<B;)if(I=z[Math.floor(z.length/A)-1].slice(),I[0]==="C"&&(I[1]=I[5],I[2]=I[6]),L){var O=z[Math.floor(z.length/A)].slice();z.splice(z.length/2,0,I,O)}else z.push(I)}var T=x.startX,M=x.endX;C=C.slice();var L=x.isArea,A=L?2:1;if(v=v&&v.slice(),!v)return[C,C];if(T&&M&&M.length){for(x=0;x<T.length;x++)if(T[x]===M[0]){var E=x;break}else if(T[0]===M[M.length-T.length+x]){E=x;var D=!0;break}else if(T[T.length-1]===M[M.length-T.length+x]){E=T.length-x;break}typeof E>"u"&&(v=[])}if(v.length&&g(E)){var B=C.length+E*A;D?(w(v,C),b(C,v)):(w(C,v),b(v,C))}return[v,C]},m.prototype.fillSetter=function(){m.prototype.strokeSetter.apply(this,arguments)},m.prototype.strokeSetter=function(){this.elem.attr(this.prop,h(this.start).tweenTo(h(this.end),this.pos),void 0,!0)},m.timers=[],m}()}),e(n,"Core/Animation/AnimationUtilities.js",[n["Core/Animation/Fx.js"],n["Core/Utilities.js"]],function(r,s){function a(b){return x(b)?v({duration:500,defer:0},b):{duration:b?500:0,defer:0}}function h(b,T){for(var M=r.timers.length;M--;)r.timers[M].elem!==b||T&&T!==r.timers[M].prop||(r.timers[M].stopped=!0)}var f=s.defined,g=s.getStyle,p=s.isArray,m=s.isNumber,x=s.isObject,v=s.merge,C=s.objectEach,w=s.pick;return{animate:function(b,T,M){var L,A="",E,D;if(!x(M)){var B=arguments;M={duration:B[2],easing:B[3],complete:B[4]}}m(M.duration)||(M.duration=400),M.easing=typeof M.easing=="function"?M.easing:Math[M.easing]||Math.easeInOutSine,M.curAnim=v(T),C(T,function(z,I){h(b,I),D=new r(b,M,I),E=void 0,I==="d"&&p(T.d)?(D.paths=D.initPath(b,b.pathArray,T.d),D.toD=T.d,L=0,E=1):b.attr?L=b.attr(I):(L=parseFloat(g(b,I))||0,I!=="opacity"&&(A="px")),E||(E=z),typeof E=="string"&&E.match("px")&&(E=E.replace(/px/g,"")),D.run(L,E,A)})},animObject:a,getDeferredAnimation:function(b,T,M){var L=a(T),A=0,E=0;return(M?[M]:b.series).forEach(function(D){D=a(D.options.animation),A=T&&f(T.defer)?L.defer:Math.max(A,D.duration+D.defer),E=Math.min(L.duration,D.duration)}),b.renderer.forExport&&(A=0),{defer:Math.max(0,A-E),duration:Math.min(A,E)}},setAnimation:function(b,T){T.renderer.globalAnimation=w(b,T.options.chart.animation,!0)},stop:h}}),e(n,"Core/Renderer/HTML/AST.js",[n["Core/Globals.js"],n["Core/Utilities.js"]],function(r,s){var a=r.SVG_NS,h=s.attr,f=s.createElement,g=s.error,p=s.isFunction,m=s.isString,x=s.objectEach,v=s.splat,C=(s=r.win.trustedTypes)&&p(s.createPolicy)&&s.createPolicy("highcharts",{createHTML:function(T){return T}}),w=C?C.createHTML(""):"";try{var b=!!new DOMParser().parseFromString(w,"text/html")}catch{b=!1}return p=function(){function T(M){this.nodes=typeof M=="string"?this.parseMarkup(M):M}return T.filterUserAttributes=function(M){return x(M,function(L,A){var E=!0;T.allowedAttributes.indexOf(A)===-1&&(E=!1),["background","dynsrc","href","lowsrc","src"].indexOf(A)!==-1&&(E=m(L)&&T.allowedReferences.some(function(D){return L.indexOf(D)===0})),E||(g("Highcharts warning: Invalid attribute '"+A+"' in config"),delete M[A])}),M},T.setElementHTML=function(M,L){M.innerHTML=T.emptyHTML,L&&new T(L).addToDOM(M)},T.prototype.addToDOM=function(M){function L(A,E){var D;return v(A).forEach(function(B){var z=B.tagName,I=B.textContent?r.doc.createTextNode(B.textContent):void 0;if(z)if(z==="#text")var O=I;else if(T.allowedTags.indexOf(z)!==-1){z=r.doc.createElementNS(z==="svg"?a:E.namespaceURI||a,z);var S=B.attributes||{};x(B,function(P,k){k!=="tagName"&&k!=="attributes"&&k!=="children"&&k!=="textContent"&&(S[k]=P)}),h(z,T.filterUserAttributes(S)),I&&z.appendChild(I),L(B.children||[],z),O=z}else g("Highcharts warning: Invalid tagName "+z+" in config");O&&E.appendChild(O),D=O}),D}return L(this.nodes,M)},T.prototype.parseMarkup=function(M){var L=[];if(M=M.trim(),b)M=new DOMParser().parseFromString(C?C.createHTML(M):M,"text/html");else{var A=f("div");A.innerHTML=M,M={body:A}}var E=function(D,B){var z=D.nodeName.toLowerCase(),I={tagName:z};if(z==="#text"&&(I.textContent=D.textContent||""),z=D.attributes){var O={};[].forEach.call(z,function(P){O[P.name]=P.value}),I.attributes=O}if(D.childNodes.length){var S=[];[].forEach.call(D.childNodes,function(P){E(P,S)}),S.length&&(I.children=S)}B.push(I)};return[].forEach.call(M.body.childNodes,function(D){return E(D,L)}),L},T.allowedAttributes="aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align textAnchor textLength title type valign width x x1 x2 y y1 y2 zIndex".split(" "),T.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),T.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text thead tbody tspan td th tr u ul #text".split(" "),T.emptyHTML=w,T}(),p}),e(n,"Core/FormatUtilities.js",[n["Core/DefaultOptions.js"],n["Core/Utilities.js"]],function(r,s){function a(v,C,w,b){v=+v||0,C=+C;var T=h.lang,M=(v.toString().split(".")[1]||"").split("e")[0].length,L=v.toString().split("e"),A=C;if(C===-1)C=Math.min(M,20);else if(!p(C))C=2;else if(C&&L[1]&&0>L[1]){var E=C+ +L[1];0<=E?(L[0]=(+L[0]).toExponential(E).split("e")[0],C=E):(L[0]=L[0].split(".")[0]||0,v=20>C?(L[0]*Math.pow(10,L[1])).toFixed(C):0,L[1]=0)}E=(Math.abs(L[1]?L[0]:v)+Math.pow(10,-Math.max(C,M)-1)).toFixed(C),M=String(x(E));var D=3<M.length?M.length%3:0;return w=m(w,T.decimalPoint),b=m(b,T.thousandsSep),v=(0>v?"-":"")+(D?M.substr(0,D)+b:""),v=0>+L[1]&&!A?"0":v+M.substr(D).replace(/(\d{3})(?=\d)/g,"$1"+b),C&&(v+=w+E.slice(-C)),L[1]&&+v!=0&&(v+="e"+L[1]),v}var h=r.defaultOptions,f=r.defaultTime,g=s.getNestedProperty,p=s.isNumber,m=s.pick,x=s.pInt;return{dateFormat:function(v,C,w){return f.dateFormat(v,C,w)},format:function(v,C,w){var b="{",T=!1,M=/f$/,L=/\.([0-9])/,A=h.lang,E=w&&w.time||f;w=w&&w.numberFormatter||a;for(var D=[];v;){var B=v.indexOf(b);if(B===-1)break;var z=v.slice(0,B);if(T){if(z=z.split(":"),b=g(z.shift()||"",C),z.length&&typeof b=="number")if(z=z.join(":"),M.test(z)){var I=parseInt((z.match(L)||["","-1"])[1],10);b!==null&&(b=w(b,I,A.decimalPoint,-1<z.indexOf(",")?A.thousandsSep:""))}else b=E.dateFormat(z,b);D.push(b)}else D.push(z);v=v.slice(B+1),b=(T=!T)?"}":"{"}return D.push(v),D.join("")},numberFormat:a}}),e(n,"Core/Renderer/RendererUtilities.js",[n["Core/Utilities.js"]],function(r){var s=r.clamp,a=r.pick,h=r.stableSort,f;return function(g){function p(m,x,v){var C=m,w=C.reducedLen||x,b=function(D,B){return(B.rank||0)-(D.rank||0)},T=function(D,B){return D.target-B.target},M,L=!0,A=[],E=0;for(M=m.length;M--;)E+=m[M].size;if(E>w){for(h(m,b),E=M=0;E<=w;)E+=m[M].size,M++;A=m.splice(M-1,m.length)}for(h(m,T),m=m.map(function(D){return{size:D.size,targets:[D.target],align:a(D.align,.5)}});L;){for(M=m.length;M--;)w=m[M],b=(Math.min.apply(0,w.targets)+Math.max.apply(0,w.targets))/2,w.pos=s(b-w.size*w.align,0,x-w.size);for(M=m.length,L=!1;M--;)0<M&&m[M-1].pos+m[M-1].size>m[M].pos&&(m[M-1].size+=m[M].size,m[M-1].targets=m[M-1].targets.concat(m[M].targets),m[M-1].align=.5,m[M-1].pos+m[M-1].size>x&&(m[M-1].pos=x-m[M-1].size),m.splice(M,1),L=!0)}return C.push.apply(C,A),M=0,m.some(function(D){var B=0;return(D.targets||[]).some(function(){return C[M].pos=D.pos+B,typeof v<"u"&&Math.abs(C[M].pos-C[M].target)>v?(C.slice(0,M+1).forEach(function(z){return delete z.pos}),C.reducedLen=(C.reducedLen||x)-.1*x,C.reducedLen>.1*x&&p(C,x,v),!0):(B+=C[M].size,M++,!1)})}),h(C,T),C}g.distribute=p}(f||(f={})),f}),e(n,"Core/Renderer/SVG/SVGElement.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Renderer/HTML/AST.js"],n["Core/Color/Color.js"],n["Core/Globals.js"],n["Core/Utilities.js"]],function(r,s,a,h,f){var g=r.animate,p=r.animObject,m=r.stop,x=h.deg2rad,v=h.doc,C=h.noop,w=h.svg,b=h.SVG_NS,T=h.win,M=f.addEvent,L=f.attr,A=f.createElement,E=f.css,D=f.defined,B=f.erase,z=f.extend,I=f.fireEvent,O=f.isArray,S=f.isFunction,P=f.isNumber,k=f.isString,d=f.merge,N=f.objectEach,R=f.pick,q=f.pInt,ee=f.syncTimeout,ue=f.uniqueKey;return r=function(){function ae(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=b,this.symbolCustomAttribs="x y width height r start end innerR anchorX anchorY rounded".split(" ")}return ae.prototype._defaultGetter=function($){return $=R(this[$+"Value"],this[$],this.element?this.element.getAttribute($):null,0),/^[\-0-9\.]+$/.test($)&&($=parseFloat($)),$},ae.prototype._defaultSetter=function($,ie,j){j.setAttribute(ie,$)},ae.prototype.add=function($){var ie=this.renderer,j=this.element;if($&&(this.parentGroup=$),this.parentInverted=$&&$.inverted,typeof this.textStr<"u"&&this.element.nodeName==="text"&&ie.buildText(this),this.added=!0,!$||$.handleZ||this.zIndex)var H=this.zIndexSetter();return H||($?$.element:ie.box).appendChild(j),this.onAdd&&this.onAdd(),this},ae.prototype.addClass=function($,ie){var j=ie?"":this.attr("class")||"";return $=($||"").split(/ /g).reduce(function(H,U){return j.indexOf(U)===-1&&H.push(U),H},j?[j]:[]).join(" "),$!==j&&this.attr("class",$),this},ae.prototype.afterSetters=function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},ae.prototype.align=function($,ie,j){var H={},U=this.renderer,Z=U.alignedObjects,te,ne,_;$?(this.alignOptions=$,this.alignByTranslate=ie,(!j||k(j))&&(this.alignTo=te=j||"renderer",B(Z,this),Z.push(this),j=void 0)):($=this.alignOptions,ie=this.alignByTranslate,te=this.alignTo),j=R(j,U[te],te==="scrollablePlotBox"?U.plotBox:void 0,U),te=$.align;var K=$.verticalAlign;return U=(j.x||0)+($.x||0),Z=(j.y||0)+($.y||0),te==="right"?ne=1:te==="center"&&(ne=2),ne&&(U+=(j.width-($.width||0))/ne),H[ie?"translateX":"x"]=Math.round(U),K==="bottom"?_=1:K==="middle"&&(_=2),_&&(Z+=(j.height-($.height||0))/_),H[ie?"translateY":"y"]=Math.round(Z),this[this.placed?"animate":"attr"](H),this.placed=!0,this.alignAttr=H,this},ae.prototype.alignSetter=function($){var ie={left:"start",center:"middle",right:"end"};ie[$]&&(this.alignValue=$,this.element.setAttribute("text-anchor",ie[$]))},ae.prototype.animate=function($,ie,j){var H=this,U=p(R(ie,this.renderer.globalAnimation,!0));return ie=U.defer,R(v.hidden,v.msHidden,v.webkitHidden,!1)&&(U.duration=0),U.duration!==0?(j&&(U.complete=j),ee(function(){H.element&&g(H,$,U)},ie)):(this.attr($,void 0,j),N($,function(Z,te){U.step&&U.step.call(this,Z,{prop:te,pos:1,elem:this})},this)),this},ae.prototype.applyTextOutline=function($){var ie=this.element;$.indexOf("contrast")!==-1&&($=$.replace(/contrast/g,this.renderer.getContrast(ie.style.fill)));var j=$.split(" ");if($=j[j.length-1],(j=j[0])&&j!=="none"&&h.svg){this.fakeTS=!0,this.ySetter=this.xSetter,j=j.replace(/(^[\d\.]+)(.*?)$/g,function(Z,te,ne){return 2*Number(te)+ne}),this.removeTextOutline();var H=v.createElementNS(b,"tspan");L(H,{class:"highcharts-text-outline",fill:$,stroke:$,"stroke-width":j,"stroke-linejoin":"round"}),[].forEach.call(ie.childNodes,function(Z){var te=Z.cloneNode(!0);te.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(function(ne){return te.removeAttribute(ne)}),H.appendChild(te)});var U=v.createElementNS(b,"tspan");U.textContent="\u200B",["x","y"].forEach(function(Z){var te=ie.getAttribute(Z);te&&U.setAttribute(Z,te)}),H.appendChild(U),ie.insertBefore(H,ie.firstChild)}},ae.prototype.attr=function($,ie,j,H){var U=this.element,Z=this.symbolCustomAttribs,te,ne=this,_,K;if(typeof $=="string"&&typeof ie<"u"){var V=$;$={},$[V]=ie}return typeof $=="string"?ne=(this[$+"Getter"]||this._defaultGetter).call(this,$,U):(N($,function(re,oe){_=!1,H||m(this,oe),this.symbolName&&Z.indexOf(oe)!==-1&&(te||(this.symbolAttr($),te=!0),_=!0),!this.rotation||oe!=="x"&&oe!=="y"||(this.doTransform=!0),_||(K=this[oe+"Setter"]||this._defaultSetter,K.call(this,re,oe,U),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(oe)&&this.updateShadows(oe,re,K))},this),this.afterSetters()),j&&j.call(this),ne},ae.prototype.clip=function($){return this.attr("clip-path",$?"url("+this.renderer.url+"#"+$.id+")":"none")},ae.prototype.crisp=function($,ie){ie=ie||$.strokeWidth||0;var j=Math.round(ie)%2/2;return $.x=Math.floor($.x||this.x||0)+j,$.y=Math.floor($.y||this.y||0)+j,$.width=Math.floor(($.width||this.width||0)-2*j),$.height=Math.floor(($.height||this.height||0)-2*j),D($.strokeWidth)&&($.strokeWidth=ie),$},ae.prototype.complexColor=function($,ie,j){var H=this.renderer,U,Z,te,ne,_,K,V,re,oe,ge,fe=[],ve;I(this.renderer,"complexColor",{args:arguments},function(){if($.radialGradient?Z="radialGradient":$.linearGradient&&(Z="linearGradient"),Z){if(te=$[Z],_=H.gradients,K=$.stops,oe=j.radialReference,O(te)&&($[Z]=te={x1:te[0],y1:te[1],x2:te[2],y2:te[3],gradientUnits:"userSpaceOnUse"}),Z==="radialGradient"&&oe&&!D(te.gradientUnits)&&(ne=te,te=d(te,H.getRadialAttr(oe,ne),{gradientUnits:"userSpaceOnUse"})),N(te,function(Le,ze){ze!=="id"&&fe.push(ze,Le)}),N(K,function(Le){fe.push(Le)}),fe=fe.join(","),_[fe])ge=_[fe].attr("id");else{te.id=ge=ue();var me=_[fe]=H.createElement(Z).attr(te).add(H.defs);me.radAttr=ne,me.stops=[],K.forEach(function(Le){Le[1].indexOf("rgba")===0?(U=a.parse(Le[1]),V=U.get("rgb"),re=U.get("a")):(V=Le[1],re=1),Le=H.createElement("stop").attr({offset:Le[0],"stop-color":V,"stop-opacity":re}).add(me),me.stops.push(Le)})}ve="url("+H.url+"#"+ge+")",j.setAttribute(ie,ve),j.gradient=fe,$.toString=function(){return ve}}})},ae.prototype.css=function($){var ie=this.styles,j={},H=this.element,U=["textOutline","textOverflow","width"],Z="",te=!ie;if($&&$.color&&($.fill=$.color),ie&&N($,function(K,V){ie&&ie[V]!==K&&(j[V]=K,te=!0)}),te){if(ie&&($=z(ie,j)),$){if($.width===null||$.width==="auto")delete this.textWidth;else if(H.nodeName.toLowerCase()==="text"&&$.width)var ne=this.textWidth=q($.width)}if(this.styles=$,ne&&!w&&this.renderer.forExport&&delete $.width,H.namespaceURI===this.SVG_NS){var _=function(K,V){return"-"+V.toLowerCase()};N($,function(K,V){U.indexOf(V)===-1&&(Z+=V.replace(/([A-Z])/g,_)+":"+K+";")}),Z&&L(H,"style",Z)}else E(H,$);this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),$&&$.textOutline&&this.applyTextOutline($.textOutline))}return this},ae.prototype.dashstyleSetter=function($){var ie=this["stroke-width"];if(ie==="inherit"&&(ie=1),$=$&&$.toLowerCase()){var j=$.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for($=j.length;$--;)j[$]=""+q(j[$])*R(ie,NaN);$=j.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",$)}},ae.prototype.destroy=function(){var $=this,ie=$.element||{},j=$.renderer,H=ie.ownerSVGElement,U=j.isSVG&&ie.nodeName==="SPAN"&&$.parentGroup||void 0;if(ie.onclick=ie.onmouseout=ie.onmouseover=ie.onmousemove=ie.point=null,m($),$.clipPath&&H){var Z=$.clipPath;[].forEach.call(H.querySelectorAll("[clip-path],[CLIP-PATH]"),function(te){-1<te.getAttribute("clip-path").indexOf(Z.element.id)&&te.removeAttribute("clip-path")}),$.clipPath=Z.destroy()}if($.stops){for(H=0;H<$.stops.length;H++)$.stops[H].destroy();$.stops.length=0,$.stops=void 0}for($.safeRemoveChild(ie),j.styledMode||$.destroyShadows();U&&U.div&&U.div.childNodes.length===0;)ie=U.parentGroup,$.safeRemoveChild(U.div),delete U.div,U=ie;$.alignTo&&B(j.alignedObjects,$),N($,function(te,ne){$[ne]&&$[ne].parentGroup===$&&$[ne].destroy&&$[ne].destroy(),delete $[ne]})},ae.prototype.destroyShadows=function(){(this.shadows||[]).forEach(function($){this.safeRemoveChild($)},this),this.shadows=void 0},ae.prototype.destroyTextPath=function($,ie){var j=$.getElementsByTagName("text")[0];if(j){if(j.removeAttribute("dx"),j.removeAttribute("dy"),ie.element.setAttribute("id",""),this.textPathWrapper&&j.getElementsByTagName("textPath").length){for($=this.textPathWrapper.element.childNodes;$.length;)j.appendChild($[0]);j.removeChild(this.textPathWrapper.element)}}else($.getAttribute("dx")||$.getAttribute("dy"))&&($.removeAttribute("dx"),$.removeAttribute("dy"));this.textPathWrapper&&(this.textPathWrapper=this.textPathWrapper.destroy())},ae.prototype.dSetter=function($,ie,j){O($)&&(typeof $[0]=="string"&&($=this.renderer.pathToSegments($)),this.pathArray=$,$=$.reduce(function(H,U,Z){return U&&U.join?(Z?H+" ":"")+U.join(" "):(U||"").toString()},"")),/(NaN| {2}|^$)/.test($)&&($="M 0 0"),this[ie]!==$&&(j.setAttribute(ie,$),this[ie]=$)},ae.prototype.fadeOut=function($){var ie=this;ie.animate({opacity:0},{duration:R($,150),complete:function(){ie.attr({y:-9999}).hide()}})},ae.prototype.fillSetter=function($,ie,j){typeof $=="string"?j.setAttribute(ie,$):$&&this.complexColor($,ie,j)},ae.prototype.getBBox=function($,ie){var j=this.renderer,H=this.element,U=this.styles,Z=this.textStr,te=j.cache,ne=j.cacheKeys,_=H.namespaceURI===this.SVG_NS;ie=R(ie,this.rotation,0);var K=j.styledMode?H&&ae.prototype.getStyle.call(H,"font-size"):U&&U.fontSize,V;if(D(Z)){var re=Z.toString();re.indexOf("<")===-1&&(re=re.replace(/[0-9]/g,"0")),re+=["",ie,K,this.textWidth,U&&U.textOverflow,U&&U.fontWeight].join()}if(re&&!$&&(V=te[re]),!V){if(_||j.forExport){try{var oe=this.fakeTS&&function(ge){var fe=H.querySelector(".highcharts-text-outline");fe&&E(fe,{display:ge})};S(oe)&&oe("none"),V=H.getBBox?z({},H.getBBox()):{width:H.offsetWidth,height:H.offsetHeight},S(oe)&&oe("")}catch{}(!V||0>V.width)&&(V={width:0,height:0})}else V=this.htmlGetBBox();if(j.isSVG&&($=V.width,j=V.height,_&&(V.height=j={"11px,17":14,"13px,20":16}[(K||"")+","+Math.round(j)]||j),ie&&(_=ie*x,V.width=Math.abs(j*Math.sin(_))+Math.abs($*Math.cos(_)),V.height=Math.abs(j*Math.cos(_))+Math.abs($*Math.sin(_)))),re&&(Z===""||0<V.height)){for(;250<ne.length;)delete te[ne.shift()];te[re]||ne.push(re),te[re]=V}}return V},ae.prototype.getStyle=function($){return T.getComputedStyle(this.element||this,"").getPropertyValue($)},ae.prototype.hasClass=function($){return(""+this.attr("class")).split(" ").indexOf($)!==-1},ae.prototype.hide=function($){return $?this.attr({y:-9999}):this.attr({visibility:"hidden"}),this},ae.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}},ae.prototype.init=function($,ie){this.element=ie==="span"?A(ie):v.createElementNS(this.SVG_NS,ie),this.renderer=$,I(this,"afterInit")},ae.prototype.invert=function($){return this.inverted=$,this.updateTransform(),this},ae.prototype.on=function($,ie){var j=this.onEvents;return j[$]&&j[$](),j[$]=M(this.element,$,ie),this},ae.prototype.opacitySetter=function($,ie,j){this.opacity=$=Number(Number($).toFixed(3)),j.setAttribute(ie,$)},ae.prototype.removeClass=function($){return this.attr("class",(""+this.attr("class")).replace(k($)?new RegExp("(^| )"+$+"( |$)"):$," ").replace(/ +/g," ").trim())},ae.prototype.removeTextOutline=function(){var $=this.element.querySelector("tspan.highcharts-text-outline");$&&this.safeRemoveChild($)},ae.prototype.safeRemoveChild=function($){var ie=$.parentNode;ie&&ie.removeChild($)},ae.prototype.setRadialReference=function($){var ie=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=$,ie&&ie.radAttr&&ie.animate(this.renderer.getRadialAttr($,ie.radAttr)),this},ae.prototype.setTextPath=function($,ie){var j=this.element,H=this.text?this.text.element:j,U={textAnchor:"text-anchor"},Z=!1,te=this.textPathWrapper,ne=!te;ie=d(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},ie);var _=s.filterUserAttributes(ie.attributes);if($&&ie&&ie.enabled){te&&te.element.parentNode===null?(ne=!0,te=te.destroy()):te&&this.removeTextOutline.call(te.parentGroup),this.options&&this.options.padding&&(_.dx=-this.options.padding),te||(this.textPathWrapper=te=this.renderer.createElement("textPath"),Z=!0);var K=te.element;if((ie=$.element.getAttribute("id"))||$.element.setAttribute("id",ie=ue()),ne)for(H.setAttribute("y",0),P(_.dx)&&H.setAttribute("x",-_.dx),$=[].slice.call(H.childNodes),ne=0;ne<$.length;ne++){var V=$[ne];V.nodeType!==T.Node.TEXT_NODE&&V.nodeName!=="tspan"||K.appendChild(V)}Z&&te&&te.add({element:H}),K.setAttributeNS("http://www.w3.org/1999/xlink","href",this.renderer.url+"#"+ie),D(_.dy)&&(K.parentNode.setAttribute("dy",_.dy),delete _.dy),D(_.dx)&&(K.parentNode.setAttribute("dx",_.dx),delete _.dx),N(_,function(re,oe){K.setAttribute(U[oe]||oe,re)}),j.removeAttribute("transform"),this.removeTextOutline.call(te),this.text&&!this.renderer.styledMode&&this.attr({fill:"none","stroke-width":0}),this.applyTextOutline=this.updateTransform=C}else te&&(delete this.updateTransform,delete this.applyTextOutline,this.destroyTextPath(j,$),this.updateTransform(),this.options&&this.options.rotation&&this.applyTextOutline(this.options.style.textOutline));return this},ae.prototype.shadow=function($,ie,j){var H=[],U=this.element,Z=this.oldShadowOptions,te={color:"#000000",offsetX:this.parentInverted?-1:1,offsetY:this.parentInverted?-1:1,opacity:.15,width:3},ne=!1,_;if($===!0?_=te:typeof $=="object"&&(_=z(te,$)),_&&(_&&Z&&N(_,function(ge,fe){ge!==Z[fe]&&(ne=!0)}),ne&&this.destroyShadows(),this.oldShadowOptions=_),!_)this.destroyShadows();else if(!this.shadows){var K=_.opacity/_.width,V=this.parentInverted?"translate("+_.offsetY+", "+_.offsetX+")":"translate("+_.offsetX+", "+_.offsetY+")";for(te=1;te<=_.width;te++){var re=U.cloneNode(!1),oe=2*_.width+1-2*te;L(re,{stroke:$.color||"#000000","stroke-opacity":K*te,"stroke-width":oe,transform:V,fill:"none"}),re.setAttribute("class",(re.getAttribute("class")||"")+" highcharts-shadow"),j&&(L(re,"height",Math.max(L(re,"height")-oe,0)),re.cutHeight=oe),ie?ie.element.appendChild(re):U.parentNode&&U.parentNode.insertBefore(re,U),H.push(re)}this.shadows=H}return this},ae.prototype.show=function($){return this.attr({visibility:$?"inherit":"visible"})},ae.prototype.strokeSetter=function($,ie,j){this[ie]=$,this.stroke&&this["stroke-width"]?(ae.prototype.fillSetter.call(this,this.stroke,"stroke",j),j.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):ie==="stroke-width"&&$===0&&this.hasStroke?(j.removeAttribute("stroke"),this.hasStroke=!1):this.renderer.styledMode&&this["stroke-width"]&&(j.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0)},ae.prototype.strokeWidth=function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var $=this.getStyle("stroke-width"),ie=0;if($.indexOf("px")===$.length-2)ie=q($);else if($!==""){var j=v.createElementNS(b,"rect");L(j,{width:$,"stroke-width":0}),this.element.parentNode.appendChild(j),ie=j.getBBox().width,j.parentNode.removeChild(j)}return ie},ae.prototype.symbolAttr=function($){var ie=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach(function(j){ie[j]=R($[j],ie[j])}),ie.attr({d:ie.renderer.symbols[ie.symbolName](ie.x,ie.y,ie.width,ie.height,ie)})},ae.prototype.textSetter=function($){$!==this.textStr&&(delete this.textPxLength,this.textStr=$,this.added&&this.renderer.buildText(this))},ae.prototype.titleSetter=function($){var ie=this.element,j=ie.getElementsByTagName("title")[0]||v.createElementNS(this.SVG_NS,"title");ie.insertBefore?ie.insertBefore(j,ie.firstChild):ie.appendChild(j),j.textContent=String(R($,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")},ae.prototype.toFront=function(){var $=this.element;return $.parentNode.appendChild($),this},ae.prototype.translate=function($,ie){return this.attr({translateX:$,translateY:ie})},ae.prototype.updateShadows=function($,ie,j){var H=this.shadows;if(H)for(var U=H.length;U--;)j.call(H[U],$==="height"?Math.max(ie-(H[U].cutHeight||0),0):$==="d"?this.d:ie,$,H[U])},ae.prototype.updateTransform=function(){var $=this.scaleX,ie=this.scaleY,j=this.inverted,H=this.rotation,U=this.matrix,Z=this.element,te=this.translateX||0,ne=this.translateY||0;j&&(te+=this.width,ne+=this.height),te=["translate("+te+","+ne+")"],D(U)&&te.push("matrix("+U.join(",")+")"),j?te.push("rotate(90) scale(-1,1)"):H&&te.push("rotate("+H+" "+R(this.rotationOriginX,Z.getAttribute("x"),0)+" "+R(this.rotationOriginY,Z.getAttribute("y")||0)+")"),(D($)||D(ie))&&te.push("scale("+R($,1)+" "+R(ie,1)+")"),te.length&&Z.setAttribute("transform",te.join(" "))},ae.prototype.visibilitySetter=function($,ie,j){$==="inherit"?j.removeAttribute(ie):this[ie]!==$&&j.setAttribute(ie,$),this[ie]=$},ae.prototype.xGetter=function($){return this.element.nodeName==="circle"&&($==="x"?$="cx":$==="y"&&($="cy")),this._defaultGetter($)},ae.prototype.zIndexSetter=function($,ie){var j=this.renderer,H=this.parentGroup,U=(H||j).element||j.box,Z=this.element;j=U===j.box;var te=!1,ne=this.added,_;if(D($)?(Z.setAttribute("data-z-index",$),$=+$,this[ie]===$&&(ne=!1)):D(this[ie])&&Z.removeAttribute("data-z-index"),this[ie]=$,ne){for(($=this.zIndex)&&H&&(H.handleZ=!0),ie=U.childNodes,_=ie.length-1;0<=_&&!te;_--){H=ie[_],ne=H.getAttribute("data-z-index");var K=!D(ne);H!==Z&&(0>$&&K&&!j&&!_?(U.insertBefore(Z,ie[_]),te=!0):(q(ne)<=$||K&&(!D($)||0<=$))&&(U.insertBefore(Z,ie[_+1]||null),te=!0))}te||(U.insertBefore(Z,ie[j?3:0]||null),te=!0)}return te},ae}(),r.prototype["stroke-widthSetter"]=r.prototype.strokeSetter,r.prototype.yGetter=r.prototype.xGetter,r.prototype.matrixSetter=r.prototype.rotationOriginXSetter=r.prototype.rotationOriginYSetter=r.prototype.rotationSetter=r.prototype.scaleXSetter=r.prototype.scaleYSetter=r.prototype.translateXSetter=r.prototype.translateYSetter=r.prototype.verticalAlignSetter=function(ae,$){this[$]=ae,this.doTransform=!0},r}),e(n,"Core/Renderer/RendererRegistry.js",[n["Core/Globals.js"]],function(r){var s;return function(a){a.rendererTypes={};var h;a.getRendererType=function(f){return f===void 0&&(f=h),a.rendererTypes[f]||a.rendererTypes[h]},a.registerRendererType=function(f,g,p){a.rendererTypes[f]=g,(!h||p)&&(h=f,r.Renderer=g)}}(s||(s={})),s}),e(n,"Core/Renderer/SVG/SVGLabel.js",[n["Core/Renderer/SVG/SVGElement.js"],n["Core/Utilities.js"]],function(r,s){var a=this&&this.__extends||function(){var v=function(C,w){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,T){b.__proto__=T}||function(b,T){for(var M in T)T.hasOwnProperty(M)&&(b[M]=T[M])},v(C,w)};return function(C,w){function b(){this.constructor=C}v(C,w),C.prototype=w===null?Object.create(w):(b.prototype=w.prototype,new b)}}(),h=s.defined,f=s.extend,g=s.isNumber,p=s.merge,m=s.pick,x=s.removeEvent;return function(v){function C(w,b,T,M,L,A,E,D,B,z){var I=v.call(this)||this;I.paddingLeftSetter=I.paddingSetter,I.paddingRightSetter=I.paddingSetter,I.init(w,"g"),I.textStr=b,I.x=T,I.y=M,I.anchorX=A,I.anchorY=E,I.baseline=B,I.className=z,I.addClass(z==="button"?"highcharts-no-tooltip":"highcharts-label"),z&&I.addClass("highcharts-"+z),I.text=w.text(void 0,0,0,D).attr({zIndex:1});var O;return typeof L=="string"&&((O=/^url\((.*?)\)$/.test(L))||I.renderer.symbols[L])&&(I.symbolKey=L),I.bBox=C.emptyBBox,I.padding=3,I.baselineOffset=0,I.needsBox=w.styledMode||O,I.deferredAttr={},I.alignFactor=0,I}return a(C,v),C.prototype.alignSetter=function(w){w={left:0,center:.5,right:1}[w],w!==this.alignFactor&&(this.alignFactor=w,this.bBox&&g(this.xSetting)&&this.attr({x:this.xSetting}))},C.prototype.anchorXSetter=function(w,b){this.anchorX=w,this.boxAttr(b,Math.round(w)-this.getCrispAdjust()-this.xSetting)},C.prototype.anchorYSetter=function(w,b){this.anchorY=w,this.boxAttr(b,w-this.ySetting)},C.prototype.boxAttr=function(w,b){this.box?this.box.attr(w,b):this.deferredAttr[w]=b},C.prototype.css=function(w){if(w){var b={};w=p(w),C.textProps.forEach(function(M){typeof w[M]<"u"&&(b[M]=w[M],delete w[M])}),this.text.css(b);var T="width"in b;"fontSize"in b||"fontWeight"in b?this.updateTextPadding():T&&this.updateBoxSize()}return r.prototype.css.call(this,w)},C.prototype.destroy=function(){x(this.element,"mouseenter"),x(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),r.prototype.destroy.call(this)},C.prototype.fillSetter=function(w,b){w&&(this.needsBox=!0),this.fill=w,this.boxAttr(b,w)},C.prototype.getBBox=function(){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();var w=this.padding,b=m(this.paddingLeft,w);return{width:this.width,height:this.height,x:this.bBox.x-b,y:this.bBox.y-w}},C.prototype.getCrispAdjust=function(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2},C.prototype.heightSetter=function(w){this.heightSetting=w},C.prototype.onAdd=function(){var w=this.textStr;this.text.add(this),this.attr({text:h(w)?w:"",x:this.x,y:this.y}),this.box&&h(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})},C.prototype.paddingSetter=function(w,b){g(w)?w!==this[b]&&(this[b]=w,this.updateTextPadding()):this[b]=void 0},C.prototype.rSetter=function(w,b){this.boxAttr(b,w)},C.prototype.shadow=function(w){return w&&!this.renderer.styledMode&&(this.updateBoxSize(),this.box&&this.box.shadow(w)),this},C.prototype.strokeSetter=function(w,b){this.stroke=w,this.boxAttr(b,w)},C.prototype["stroke-widthSetter"]=function(w,b){w&&(this.needsBox=!0),this["stroke-width"]=w,this.boxAttr(b,w)},C.prototype["text-alignSetter"]=function(w){this.textAlign=w},C.prototype.textSetter=function(w){typeof w<"u"&&this.text.attr({text:w}),this.updateTextPadding()},C.prototype.updateBoxSize=function(){var w=this.text.element.style,b={},T=this.padding,M=this.bBox=g(this.widthSetting)&&g(this.heightSetting)&&!this.textAlign||!h(this.text.textStr)?C.emptyBBox:this.text.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||M.height||0)+2*T,w=this.renderer.fontMetrics(w&&w.fontSize,this.text),this.baselineOffset=T+Math.min((this.text.firstLineMetrics||w).b,M.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-w.h)/2),this.needsBox&&(this.box||(T=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect(),T.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),T.add(this)),T=this.getCrispAdjust(),b.x=T,b.y=(this.baseline?-this.baselineOffset:0)+T,b.width=Math.round(this.width),b.height=Math.round(this.height),this.box.attr(f(b,this.deferredAttr)),this.deferredAttr={})},C.prototype.updateTextPadding=function(){var w=this.text;this.updateBoxSize();var b=this.baseline?0:this.baselineOffset,T=m(this.paddingLeft,this.padding);h(this.widthSetting)&&this.bBox&&(this.textAlign==="center"||this.textAlign==="right")&&(T+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(T!==w.x||b!==w.y)&&(w.attr("x",T),w.hasBoxWidthChanged&&(this.bBox=w.getBBox(!0)),typeof b<"u"&&w.attr("y",b)),w.x=T,w.y=b},C.prototype.widthSetter=function(w){this.widthSetting=g(w)?w:void 0},C.prototype.getPaddedWidth=function(){var w=this.padding,b=m(this.paddingLeft,w);return w=m(this.paddingRight,w),(this.widthSetting||this.bBox.width||0)+b+w},C.prototype.xSetter=function(w){this.x=w,this.alignFactor&&(w-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(w),this.attr("translateX",this.xSetting)},C.prototype.ySetter=function(w){this.ySetting=this.y=Math.round(w),this.attr("translateY",this.ySetting)},C.emptyBBox={width:0,height:0,x:0,y:0},C.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow width".split(" "),C}(r)}),e(n,"Core/Renderer/SVG/Symbols.js",[n["Core/Utilities.js"]],function(r){function s(m,x,v,C,w){var b=[];if(w){var T=w.start||0,M=p(w.r,v);v=p(w.r,C||v);var L=(w.end||0)-.001;C=w.innerR;var A=p(w.open,.001>Math.abs((w.end||0)-T-2*Math.PI)),E=Math.cos(T),D=Math.sin(T),B=Math.cos(L),z=Math.sin(L);T=p(w.longArc,.001>L-T-Math.PI?0:1),b.push(["M",m+M*E,x+v*D],["A",M,v,0,T,p(w.clockwise,1),m+M*B,x+v*z]),f(C)&&b.push(A?["M",m+C*B,x+C*z]:["L",m+C*B,x+C*z],["A",C,C,0,T,f(w.clockwise)?1-w.clockwise:0,m+C*E,x+C*D]),A||b.push(["Z"])}return b}function a(m,x,v,C,w){return w&&w.r?h(m,x,v,C,w):[["M",m,x],["L",m+v,x],["L",m+v,x+C],["L",m,x+C],["Z"]]}function h(m,x,v,C,w){return w=w&&w.r||0,[["M",m+w,x],["L",m+v-w,x],["C",m+v,x,m+v,x,m+v,x+w],["L",m+v,x+C-w],["C",m+v,x+C,m+v,x+C,m+v-w,x+C],["L",m+w,x+C],["C",m,x+C,m,x+C,m,x+C-w],["L",m,x+w],["C",m,x,m,x,m+w,x]]}var f=r.defined,g=r.isNumber,p=r.pick;return{arc:s,callout:function(m,x,v,C,w){var b=Math.min(w&&w.r||0,v,C),T=b+6,M=w&&w.anchorX;w=w&&w.anchorY||0;var L=h(m,x,v,C,{r:b});return g(M)&&(m+M>=v?w>x+T&&w<x+C-T?L.splice(3,1,["L",m+v,w-6],["L",m+v+6,w],["L",m+v,w+6],["L",m+v,x+C-b]):L.splice(3,1,["L",m+v,C/2],["L",M,w],["L",m+v,C/2],["L",m+v,x+C-b]):0>=m+M?w>x+T&&w<x+C-T?L.splice(7,1,["L",m,w+6],["L",m-6,w],["L",m,w-6],["L",m,x+b]):L.splice(7,1,["L",m,C/2],["L",M,w],["L",m,C/2],["L",m,x+b]):w&&w>C&&M>m+T&&M<m+v-T?L.splice(5,1,["L",M+6,x+C],["L",M,x+C+6],["L",M-6,x+C],["L",m+b,x+C]):w&&0>w&&M>m+T&&M<m+v-T&&L.splice(1,1,["L",M-6,x],["L",M,x-6],["L",M+6,x],["L",v-b,x])),L},circle:function(m,x,v,C){return s(m+v/2,x+C/2,v/2,C/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(m,x,v,C){return[["M",m+v/2,x],["L",m+v,x+C/2],["L",m+v/2,x+C],["L",m,x+C/2],["Z"]]},rect:a,roundedRect:h,square:a,triangle:function(m,x,v,C){return[["M",m+v/2,x],["L",m+v,x+C],["L",m,x+C],["Z"]]},"triangle-down":function(m,x,v,C){return[["M",m,x],["L",m+v,x],["L",m+v/2,x+C],["Z"]]}}}),e(n,"Core/Renderer/SVG/TextBuilder.js",[n["Core/Renderer/HTML/AST.js"],n["Core/Globals.js"],n["Core/Utilities.js"]],function(r,s,a){var h=s.doc,f=s.SVG_NS,g=s.win,p=a.attr,m=a.isString,x=a.objectEach,v=a.pick;return function(){function C(w){var b=w.styles;this.renderer=w.renderer,this.svgElement=w,this.width=w.textWidth,this.textLineHeight=b&&b.lineHeight,this.textOutline=b&&b.textOutline,this.ellipsis=!(!b||b.textOverflow!=="ellipsis"),this.noWrap=!(!b||b.whiteSpace!=="nowrap"),this.fontSize=b&&b.fontSize}return C.prototype.buildSVG=function(){var w=this.svgElement,b=w.element,T=w.renderer,M=v(w.textStr,"").toString(),L=M.indexOf("<")!==-1,A=b.childNodes;T=this.width&&!w.added&&T.box;var E=/<br.*?>/g,D=[M,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,this.fontSize,this.width].join();if(D!==w.textCache){for(w.textCache=D,delete w.actualWidth,D=A.length;D--;)b.removeChild(A[D]);L||this.ellipsis||this.width||M.indexOf(" ")!==-1&&(!this.noWrap||E.test(M))?M!==""&&(T&&T.appendChild(b),M=new r(M),this.modifyTree(M.nodes),M.addToDOM(w.element),this.modifyDOM(),this.ellipsis&&(b.textContent||"").indexOf("\u2026")!==-1&&w.attr("title",this.unescapeEntities(w.textStr||"",["&lt;","&gt;"])),T&&T.removeChild(b)):b.appendChild(h.createTextNode(this.unescapeEntities(M))),m(this.textOutline)&&w.applyTextOutline&&w.applyTextOutline(this.textOutline)}},C.prototype.modifyDOM=function(){var w=this,b=this.svgElement,T=p(b.element,"x");b.firstLineMetrics=void 0;for(var M;(M=b.element.firstChild)&&/^[\s\u200B]*$/.test(M.textContent||" ");)b.element.removeChild(M);[].forEach.call(b.element.querySelectorAll("tspan.highcharts-br"),function(D,B){D.nextSibling&&D.previousSibling&&(B===0&&D.previousSibling.nodeType===1&&(b.firstLineMetrics=b.renderer.fontMetrics(void 0,D.previousSibling)),p(D,{dy:w.getLineHeight(D.nextSibling),x:T}))});var L=this.width||0;if(L){var A=function(D,B){var z=D.textContent||"",I=z.replace(/([^\^])-/g,"$1- ").split(" "),O=!w.noWrap&&(1<I.length||1<b.element.childNodes.length),S=w.getLineHeight(B),P=0,k=b.actualWidth;if(w.ellipsis)z&&w.truncate(D,z,void 0,0,Math.max(0,L-parseInt(w.fontSize||12,10)),function(d,N){return d.substring(0,N)+"\u2026"});else if(O){for(z=[],O=[];B.firstChild&&B.firstChild!==D;)O.push(B.firstChild),B.removeChild(B.firstChild);for(;I.length;)I.length&&!w.noWrap&&0<P&&(z.push(D.textContent||""),D.textContent=I.join(" ").replace(/- /g,"-")),w.truncate(D,void 0,I,P===0&&k||0,L,function(d,N){return I.slice(0,N).join(" ").replace(/- /g,"-")}),k=b.actualWidth,P++;O.forEach(function(d){B.insertBefore(d,D)}),z.forEach(function(d){B.insertBefore(h.createTextNode(d),D),d=h.createElementNS(f,"tspan"),d.textContent="\u200B",p(d,{dy:S,x:T}),B.insertBefore(d,D)})}},E=function(D){[].slice.call(D.childNodes).forEach(function(B){B.nodeType===g.Node.TEXT_NODE?A(B,D):(B.className.baseVal.indexOf("highcharts-br")!==-1&&(b.actualWidth=0),E(B))})};E(b.element)}},C.prototype.getLineHeight=function(w){var b;return w=w.nodeType===g.Node.TEXT_NODE?w.parentElement:w,this.renderer.styledMode||(b=w&&/(px|em)$/.test(w.style.fontSize)?w.style.fontSize:this.fontSize||this.renderer.style.fontSize||12),this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(b,w||this.svgElement.element).h},C.prototype.modifyTree=function(w){var b=this,T=function(M,L){var A=M.attributes;A=A===void 0?{}:A;var E=M.children,D=M.tagName,B=b.renderer.styledMode;D==="b"||D==="strong"?B?A.class="highcharts-strong":A.style="font-weight:bold;"+(A.style||""):(D==="i"||D==="em")&&(B?A.class="highcharts-emphasized":A.style="font-style:italic;"+(A.style||"")),m(A.style)&&(A.style=A.style.replace(/(;| |^)color([ :])/,"$1fill$2")),D==="br"?(A.class="highcharts-br",M.textContent="\u200B",(L=w[L+1])&&L.textContent&&(L.textContent=L.textContent.replace(/^ +/gm,""))):D==="a"&&E&&E.some(function(z){return z.tagName==="#text"})&&(M.children=[{children:E,tagName:"tspan"}]),D!=="#text"&&D!=="a"&&(M.tagName="tspan"),M.attributes=A,E&&E.filter(function(z){return z.tagName!=="#text"}).forEach(T)};w.forEach(T)},C.prototype.truncate=function(w,b,T,M,L,A){var E=this.svgElement,D=E.renderer,B=E.rotation,z=[],I=T?1:0,O=(b||T||"").length,S=O,P,k=function(N,R){R=R||N;var q=w.parentNode;if(q&&typeof z[R]>"u")if(q.getSubStringLength)try{z[R]=M+q.getSubStringLength(0,T?R+1:R)}catch{}else D.getSpanWidth&&(w.textContent=A(b||T,N),z[R]=M+D.getSpanWidth(E,w));return z[R]};E.rotation=0;var d=k(w.textContent.length);if(M+d>L){for(;I<=O;)S=Math.ceil((I+O)/2),T&&(P=A(T,S)),d=k(S,P&&P.length-1),I===O?I=O+1:d>L?O=S-1:I=S;O===0?w.textContent="":b&&O===b.length-1||(w.textContent=P||A(b||T,S))}T&&T.splice(0,S),E.actualWidth=d,E.rotation=B},C.prototype.unescapeEntities=function(w,b){return x(this.renderer.escapes,function(T,M){b&&b.indexOf(T)!==-1||(w=w.toString().replace(new RegExp(T,"g"),M))}),w},C}()}),e(n,"Core/Renderer/SVG/SVGRenderer.js",[n["Core/Renderer/HTML/AST.js"],n["Core/Color/Color.js"],n["Core/Globals.js"],n["Core/Renderer/RendererRegistry.js"],n["Core/Renderer/SVG/SVGElement.js"],n["Core/Renderer/SVG/SVGLabel.js"],n["Core/Renderer/SVG/Symbols.js"],n["Core/Renderer/SVG/TextBuilder.js"],n["Core/Utilities.js"]],function(r,s,a,h,f,g,p,m,x){var v=a.charts,C=a.deg2rad,w=a.doc,b=a.isFirefox,T=a.isMS,M=a.isWebKit,L=a.noop,A=a.SVG_NS,E=a.symbolSizes,D=a.win,B=x.addEvent,z=x.attr,I=x.createElement,O=x.css,S=x.defined,P=x.destroyObjectProperties,k=x.extend,d=x.isArray,N=x.isNumber,R=x.isObject,q=x.isString,ee=x.merge,ue=x.pick,ae=x.pInt,$=x.uniqueKey,ie;return a=function(){function j(H,U,Z,te,ne,_,K){this.width=this.url=this.style=this.isSVG=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(H,U,Z,te,ne,_,K)}return j.prototype.init=function(H,U,Z,te,ne,_,K){var V=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),re=V.element;K||V.css(this.getStyle(te)),H.appendChild(re),z(H,"dir","ltr"),H.innerHTML.indexOf("xmlns")===-1&&z(re,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=re,this.boxWrapper=V,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(w.createTextNode("Created with Highcharts 9.3.2")),this.defs=this.createElement("defs").add(),this.allowHTML=_,this.forExport=ne,this.styledMode=K,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(U,Z,!1);var oe;b&&H.getBoundingClientRect&&(U=function(){O(H,{left:0,top:0}),oe=H.getBoundingClientRect(),O(H,{left:Math.ceil(oe.left)-oe.left+"px",top:Math.ceil(oe.top)-oe.top+"px"})},U(),this.unSubPixelFix=B(D,"resize",U))},j.prototype.definition=function(H){return new r([H]).addToDOM(this.defs.element)},j.prototype.getReferenceURL=function(){if((b||M)&&w.getElementsByTagName("base").length){if(!S(ie)){var H=$();H=new r([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:H},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":"url(#"+H+")",fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(w.body),O(H,{position:"fixed",top:0,left:0,zIndex:9e5});var U=w.elementFromPoint(6,6);ie=(U&&U.id)==="hitme",w.body.removeChild(H)}if(ie)return D.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""},j.prototype.getStyle=function(H){return this.style=k({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},H)},j.prototype.setStyle=function(H){this.boxWrapper.css(this.getStyle(H))},j.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width},j.prototype.destroy=function(){var H=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),P(this.gradients||{}),this.gradients=null,H&&(this.defs=H.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},j.prototype.createElement=function(H){var U=new this.Element;return U.init(this,H),U},j.prototype.getRadialAttr=function(H,U){return{cx:H[0]-H[2]/2+(U.cx||0)*H[2],cy:H[1]-H[2]/2+(U.cy||0)*H[2],r:(U.r||0)*H[2]}},j.prototype.buildText=function(H){new m(H).buildSVG()},j.prototype.getContrast=function(H){return H=s.parse(H).rgba,H[0]*=1,H[1]*=1.2,H[2]*=.5,459<H[0]+H[1]+H[2]?"#000000":"#FFFFFF"},j.prototype.button=function(H,U,Z,te,ne,_,K,V,re,oe){var ge=this.label(H,U,Z,re,void 0,void 0,oe,void 0,"button"),fe=this.styledMode,ve=0,me=ne?ee(ne):{};if(H=me&&me.style||{},me=r.filterUserAttributes(me),ge.attr(ee({padding:8,r:2},me)),!fe){me=ee({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},{style:H},me);var Le=me.style;delete me.style,_=ee(me,{fill:"#e6e6e6"},r.filterUserAttributes(_||{}));var ze=_.style;delete _.style,K=ee(me,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},r.filterUserAttributes(K||{}));var Ae=K.style;delete K.style,V=ee(me,{style:{color:"#cccccc"}},r.filterUserAttributes(V||{}));var he=V.style;delete V.style}return B(ge.element,T?"mouseover":"mouseenter",function(){ve!==3&&ge.setState(1)}),B(ge.element,T?"mouseout":"mouseleave",function(){ve!==3&&ge.setState(ve)}),ge.setState=function(de){de!==1&&(ge.state=ve=de),ge.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][de||0]),fe||ge.attr([me,_,K,V][de||0]).css([Le,ze,Ae,he][de||0])},fe||ge.attr(me).css(k({cursor:"default"},Le)),ge.on("touchstart",function(de){return de.stopPropagation()}).on("click",function(de){ve!==3&&te.call(ge,de)})},j.prototype.crispLine=function(H,U,Z){Z===void 0&&(Z="round");var te=H[0],ne=H[1];return S(te[1])&&te[1]===ne[1]&&(te[1]=ne[1]=Math[Z](te[1])-U%2/2),S(te[2])&&te[2]===ne[2]&&(te[2]=ne[2]=Math[Z](te[2])+U%2/2),H},j.prototype.path=function(H){var U=this.styledMode?{}:{fill:"none"};return d(H)?U.d=H:R(H)&&k(U,H),this.createElement("path").attr(U)},j.prototype.circle=function(H,U,Z){return H=R(H)?H:typeof H>"u"?{}:{x:H,y:U,r:Z},U=this.createElement("circle"),U.xSetter=U.ySetter=function(te,ne,_){_.setAttribute("c"+ne,te)},U.attr(H)},j.prototype.arc=function(H,U,Z,te,ne,_){return R(H)?(te=H,U=te.y,Z=te.r,H=te.x):te={innerR:te,start:ne,end:_},H=this.symbol("arc",H,U,Z,Z,te),H.r=Z,H},j.prototype.rect=function(H,U,Z,te,ne,_){ne=R(H)?H.r:ne;var K=this.createElement("rect");return H=R(H)?H:typeof H>"u"?{}:{x:H,y:U,width:Math.max(Z,0),height:Math.max(te,0)},this.styledMode||(typeof _<"u"&&(H["stroke-width"]=_,H=K.crisp(H)),H.fill="none"),ne&&(H.r=ne),K.rSetter=function(V,re,oe){K.r=V,z(oe,{rx:V,ry:V})},K.rGetter=function(){return K.r||0},K.attr(H)},j.prototype.setSize=function(H,U,Z){this.width=H,this.height=U,this.boxWrapper.animate({width:H,height:U},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:ue(Z,!0)?void 0:0}),this.alignElements()},j.prototype.g=function(H){var U=this.createElement("g");return H?U.attr({class:"highcharts-"+H}):U},j.prototype.image=function(H,U,Z,te,ne,_){var K={preserveAspectRatio:"none"},V=function(oe,ge){oe.setAttributeNS?oe.setAttributeNS("http://www.w3.org/1999/xlink","href",ge):oe.setAttribute("hc-svg-href",ge)};N(U)&&(K.x=U),N(Z)&&(K.y=Z),N(te)&&(K.width=te),N(ne)&&(K.height=ne);var re=this.createElement("image").attr(K);return U=function(oe){V(re.element,H),_.call(re,oe)},_?(V(re.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),Z=new D.Image,B(Z,"load",U),Z.src=H,Z.complete&&U({})):V(re.element,H),re},j.prototype.symbol=function(H,U,Z,te,ne,_){var K=this,V=/^url\((.*?)\)$/,re=V.test(H),oe=!re&&(this.symbols[H]?H:"circle"),ge=oe&&this.symbols[oe],fe;if(ge){typeof U=="number"&&(fe=ge.call(this.symbols,Math.round(U||0),Math.round(Z||0),te||0,ne||0,_));var ve=this.path(fe);K.styledMode||ve.attr("fill","none"),k(ve,{symbolName:oe||void 0,x:U,y:Z,width:te,height:ne}),_&&k(ve,_)}else if(re){var me=H.match(V)[1],Le=ve=this.image(me);Le.imgwidth=ue(E[me]&&E[me].width,_&&_.width),Le.imgheight=ue(E[me]&&E[me].height,_&&_.height);var ze=function(Ae){return Ae.attr({width:Ae.width,height:Ae.height})};["width","height"].forEach(function(Ae){Le[Ae+"Setter"]=function(he,de){var G=this["img"+de];this[de]=he,S(G)&&(_&&_.backgroundSize==="within"&&this.width&&this.height&&(G=Math.round(G*Math.min(this.width/this.imgwidth,this.height/this.imgheight))),this.element&&this.element.setAttribute(de,G),this.alignByTranslate||(he=((this[de]||0)-G)/2,this.attr(de==="width"?{translateX:he}:{translateY:he})))}}),S(U)&&Le.attr({x:U,y:Z}),Le.isImg=!0,S(Le.imgwidth)&&S(Le.imgheight)?ze(Le):(Le.attr({width:0,height:0}),I("img",{onload:function(){var Ae=v[K.chartIndex];this.width===0&&(O(this,{position:"absolute",top:"-999em"}),w.body.appendChild(this)),E[me]={width:this.width,height:this.height},Le.imgwidth=this.width,Le.imgheight=this.height,Le.element&&ze(Le),this.parentNode&&this.parentNode.removeChild(this),K.imgCount--,!K.imgCount&&Ae&&!Ae.hasLoaded&&Ae.onload()},src:me}),this.imgCount++)}return ve},j.prototype.clipRect=function(H,U,Z,te){var ne=$()+"-",_=this.createElement("clipPath").attr({id:ne}).add(this.defs);return H=this.rect(H,U,Z,te,0).add(_),H.id=ne,H.clipPath=_,H.count=0,H},j.prototype.text=function(H,U,Z,te){var ne={};return te&&(this.allowHTML||!this.forExport)?this.html(H,U,Z):(ne.x=Math.round(U||0),Z&&(ne.y=Math.round(Z)),S(H)&&(ne.text=H),H=this.createElement("text").attr(ne),(!te||this.forExport&&!this.allowHTML)&&(H.xSetter=function(_,K,V){for(var re=V.getElementsByTagName("tspan"),oe=V.getAttribute(K),ge=0,fe;ge<re.length;ge++)fe=re[ge],fe.getAttribute(K)===oe&&fe.setAttribute(K,_);V.setAttribute(K,_)}),H)},j.prototype.fontMetrics=function(H,U){return H=!this.styledMode&&/px/.test(H)||!D.getComputedStyle?H||U&&U.style&&U.style.fontSize||this.style&&this.style.fontSize:U&&f.prototype.getStyle.call(U,"font-size"),H=/px/.test(H)?ae(H):12,U=24>H?H+3:Math.round(1.2*H),{h:U,b:Math.round(.8*U),f:H}},j.prototype.rotCorr=function(H,U,Z){var te=H;return U&&Z&&(te=Math.max(te*Math.cos(U*C),4)),{x:-H/3*Math.sin(U*C),y:te}},j.prototype.pathToSegments=function(H){for(var U=[],Z=[],te={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2},ne=0;ne<H.length;ne++)q(Z[0])&&N(H[ne])&&Z.length===te[Z[0].toUpperCase()]&&H.splice(ne,0,Z[0].replace("M","L").replace("m","l")),typeof H[ne]=="string"&&(Z.length&&U.push(Z.slice(0)),Z.length=0),Z.push(H[ne]);return U.push(Z.slice(0)),U},j.prototype.label=function(H,U,Z,te,ne,_,K,V,re){return new g(this,H,U,Z,te,ne,_,K,V,re)},j.prototype.alignElements=function(){this.alignedObjects.forEach(function(H){return H.align()})},j}(),k(a.prototype,{Element:f,SVG_NS:A,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:p,draw:L}),h.registerRendererType("svg",a,!0),a}),e(n,"Core/Renderer/HTML/HTMLElement.js",[n["Core/Globals.js"],n["Core/Renderer/SVG/SVGElement.js"],n["Core/Utilities.js"]],function(r,s,a){var h=this&&this.__extends||function(){var T=function(M,L){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,E){A.__proto__=E}||function(A,E){for(var D in E)E.hasOwnProperty(D)&&(A[D]=E[D])},T(M,L)};return function(M,L){function A(){this.constructor=M}T(M,L),M.prototype=L===null?Object.create(L):(A.prototype=L.prototype,new A)}}(),f=r.isFirefox,g=r.isMS,p=r.isWebKit,m=r.win,x=a.css,v=a.defined,C=a.extend,w=a.pick,b=a.pInt;return function(T){function M(){return T!==null&&T.apply(this,arguments)||this}return h(M,T),M.compose=function(L){if(M.composedClasses.indexOf(L)===-1){M.composedClasses.push(L);var A=M.prototype,E=L.prototype;E.getSpanCorrection=A.getSpanCorrection,E.htmlCss=A.htmlCss,E.htmlGetBBox=A.htmlGetBBox,E.htmlUpdateTransform=A.htmlUpdateTransform,E.setSpanRotation=A.setSpanRotation}return L},M.prototype.getSpanCorrection=function(L,A,E){this.xCorr=-L*E,this.yCorr=-A},M.prototype.htmlCss=function(L){var A=this.element.tagName==="SPAN"&&L&&"width"in L,E=w(A&&L.width,void 0);if(A){delete L.width,this.textWidth=E;var D=!0}return L&&L.textOverflow==="ellipsis"&&(L.whiteSpace="nowrap",L.overflow="hidden"),this.styles=C(this.styles,L),x(this.element,L),D&&this.htmlUpdateTransform(),this},M.prototype.htmlGetBBox=function(){var L=this.element;return{x:L.offsetLeft,y:L.offsetTop,width:L.offsetWidth,height:L.offsetHeight}},M.prototype.htmlUpdateTransform=function(){if(this.added){var L=this.renderer,A=this.element,E=this.translateX||0,D=this.translateY||0,B=this.x||0,z=this.y||0,I=this.textAlign||"left",O={left:0,center:.5,right:1}[I],S=this.styles;if(S=S&&S.whiteSpace,x(A,{marginLeft:E,marginTop:D}),!L.styledMode&&this.shadows&&this.shadows.forEach(function(q){x(q,{marginLeft:E+1,marginTop:D+1})}),this.inverted&&[].forEach.call(A.childNodes,function(q){L.invertChild(q,A)}),A.tagName==="SPAN"){var P=this.rotation,k=this.textWidth&&b(this.textWidth),d=[P,I,A.innerHTML,this.textWidth,this.textAlign].join(),N=void 0;if(N=!1,k!==this.oldTextWidth){if(this.textPxLength)var R=this.textPxLength;else x(A,{width:"",whiteSpace:S||"nowrap"}),R=A.offsetWidth;(k>this.oldTextWidth||R>k)&&(/[ \-]/.test(A.textContent||A.innerText)||A.style.textOverflow==="ellipsis")&&(x(A,{width:R>k||P?k+"px":"auto",display:"block",whiteSpace:S||"normal"}),this.oldTextWidth=k,N=!0)}this.hasBoxWidthChanged=N,d!==this.cTT&&(N=L.fontMetrics(A.style.fontSize,A).b,!v(P)||P===(this.oldRotation||0)&&I===this.oldAlign||this.setSpanRotation(P,O,N),this.getSpanCorrection(!v(P)&&this.textPxLength||A.offsetWidth,N,O,P,I)),x(A,{left:B+(this.xCorr||0)+"px",top:z+(this.yCorr||0)+"px"}),this.cTT=d,this.oldRotation=P,this.oldAlign=I}}else this.alignOnAdd=!0},M.prototype.setSpanRotation=function(L,A,E){var D={},B=g&&!/Edge/.test(m.navigator.userAgent)?"-ms-transform":p?"-webkit-transform":f?"MozTransform":m.opera?"-o-transform":void 0;B&&(D[B]=D.transform="rotate("+L+"deg)",D[B+(f?"Origin":"-origin")]=D.transformOrigin=100*A+"% "+E+"px",x(this.element,D))},M.composedClasses=[],M}(s)}),e(n,"Core/Renderer/HTML/HTMLRenderer.js",[n["Core/Renderer/HTML/AST.js"],n["Core/Renderer/SVG/SVGElement.js"],n["Core/Renderer/SVG/SVGRenderer.js"],n["Core/Utilities.js"]],function(r,s,a,h){var f=this&&this.__extends||function(){var v=function(C,w){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,T){b.__proto__=T}||function(b,T){for(var M in T)T.hasOwnProperty(M)&&(b[M]=T[M])},v(C,w)};return function(C,w){function b(){this.constructor=C}v(C,w),C.prototype=w===null?Object.create(w):(b.prototype=w.prototype,new b)}}(),g=h.attr,p=h.createElement,m=h.extend,x=h.pick;return function(v){function C(){return v!==null&&v.apply(this,arguments)||this}return f(C,v),C.compose=function(w){return C.composedClasses.indexOf(w)===-1&&(C.composedClasses.push(w),w.prototype.html=C.prototype.html),w},C.prototype.html=function(w,b,T){var M=this.createElement("span"),L=M.element,A=M.renderer,E=A.isSVG,D=function(B,z){["opacity","visibility"].forEach(function(I){B[I+"Setter"]=function(O,S,P){var k=B.div?B.div.style:z;s.prototype[I+"Setter"].call(this,O,S,P),k&&(k[S]=O)}}),B.addedSetters=!0};return M.textSetter=function(B){B!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,r.setElementHTML(this.element,x(B,"")),this.textStr=B,M.doTransform=!0)},E&&D(M,M.element.style),M.xSetter=M.ySetter=M.alignSetter=M.rotationSetter=function(B,z){z==="align"?M.alignValue=M.textAlign=B:M[z]=B,M.doTransform=!0},M.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},M.attr({text:w,x:Math.round(b),y:Math.round(T)}).css({position:"absolute"}),A.styledMode||M.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),L.style.whiteSpace="nowrap",M.css=M.htmlCss,E&&(M.add=function(B){var z=A.box.parentNode,I=[];if(this.parentGroup=B){var O=B.div;if(!O){for(;B;)I.push(B),B=B.parentGroup;I.reverse().forEach(function(S){function P(R,q){S[q]=R,q==="translateX"?N.left=R+"px":N.top=R+"px",S.doTransform=!0}var k=g(S.element,"class"),d=S.styles||{};O=S.div=S.div||p("div",k?{className:k}:void 0,{position:"absolute",left:(S.translateX||0)+"px",top:(S.translateY||0)+"px",display:S.display,opacity:S.opacity,cursor:d.cursor,pointerEvents:d.pointerEvents,visibility:S.visibility},O||z);var N=O.style;m(S,{classSetter:function(R){return function(q){this.element.setAttribute("class",q),R.className=q}}(O),on:function(){return I[0].div&&M.on.apply({element:I[0].div,onEvents:S.onEvents},arguments),S},translateXSetter:P,translateYSetter:P}),S.addedSetters||D(S)})}}else O=z;return O.appendChild(L),M.added=!0,M.alignOnAdd&&M.htmlUpdateTransform(),M}),M},C.composedClasses=[],C}(a)}),e(n,"Core/Axis/AxisDefaults.js",[],function(){var r;return function(s){s.defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:void 0,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,x:0,zIndex:7,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#ccd6eb"},s.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){var a=this.axis.chart.numberFormatter;return a(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},s.defaultLeftAxisOptions={labels:{x:-15},title:{rotation:270}},s.defaultRightAxisOptions={labels:{x:15},title:{rotation:90}},s.defaultBottomAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},s.defaultTopAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}}}(r||(r={})),r}),e(n,"Core/Foundation.js",[n["Core/Utilities.js"]],function(r){var s=r.addEvent,a=r.isFunction,h=r.objectEach,f=r.removeEvent,g;return function(p){p.registerEventOptions=function(m,x){m.eventOptions=m.eventOptions||{},h(x.events,function(v,C){m.eventOptions[C]!==v&&(m.eventOptions[C]&&(f(m,C,m.eventOptions[C]),delete m.eventOptions[C]),a(v)&&(m.eventOptions[C]=v,s(m,C,v)))})}}(g||(g={})),g}),e(n,"Core/Axis/Tick.js",[n["Core/FormatUtilities.js"],n["Core/Globals.js"],n["Core/Utilities.js"]],function(r,s,a){var h=s.deg2rad,f=a.clamp,g=a.correctFloat,p=a.defined,m=a.destroyObjectProperties,x=a.extend,v=a.fireEvent,C=a.isNumber,w=a.merge,b=a.objectEach,T=a.pick;return s=function(){function M(L,A,E,D,B){this.isNewLabel=this.isNew=!0,this.axis=L,this.pos=A,this.type=E||"",this.parameters=B||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,v(this,"init"),E||D||this.addLabel()}return M.prototype.addLabel=function(){var L=this,A=L.axis,E=A.options,D=A.chart,B=A.categories,z=A.logarithmic,I=A.names,O=L.pos,S=T(L.options&&L.options.labels,E.labels),P=A.tickPositions,k=O===P[0],d=O===P[P.length-1],N=(!S.step||S.step===1)&&A.tickInterval===1;P=P.info;var R=L.label,q;if(B=this.parameters.category||(B?T(B[O],I[O],O):O),z&&C(B)&&(B=g(z.lin2log(B))),A.dateTime)if(P)var ee=D.time.resolveDTLFormat(E.dateTimeLabelFormats[!E.grid&&P.higherRanks[O]||P.unitName]),ue=ee.main;else C(B)&&(ue=A.dateTime.getXDateFormat(B,E.dateTimeLabelFormats||{}));L.isFirst=k,L.isLast=d;var ae={axis:A,chart:D,dateTimeLabelFormat:ue,isFirst:k,isLast:d,pos:O,tick:L,tickPositionInfo:P,value:B};v(this,"labelFormat",ae);var $=function(j){return S.formatter?S.formatter.call(j,j):S.format?(j.text=A.defaultLabelFormatter.call(j),r.format(S.format,j,D)):A.defaultLabelFormatter.call(j,j)};E=$.call(ae,ae);var ie=ee&&ee.list;L.shortenLabel=ie?function(){for(q=0;q<ie.length;q++)if(x(ae,{dateTimeLabelFormat:ie[q]}),R.attr({text:$.call(ae,ae)}),R.getBBox().width<A.getSlotWidth(L)-2*S.padding)return;R.attr({text:""})}:void 0,N&&A._addedPlotLB&&L.moveLabel(E,S),p(R)||L.movedLabel?R&&R.textStr!==E&&!N&&(!R.textWidth||S.style.width||R.styles.width||R.css({width:null}),R.attr({text:E}),R.textPxLength=R.getBBox().width):(L.label=R=L.createLabel({x:0,y:0},E,S),L.rotation=0)},M.prototype.createLabel=function(L,A,E){var D=this.axis,B=D.chart;return(L=p(A)&&E.enabled?B.renderer.text(A,L.x,L.y,E.useHTML).add(D.labelGroup):null)&&(B.styledMode||L.css(w(E.style)),L.textPxLength=L.getBBox().width),L},M.prototype.destroy=function(){m(this,this.axis)},M.prototype.getPosition=function(L,A,E,D){var B=this.axis,z=B.chart,I=D&&z.oldChartHeight||z.chartHeight;return L={x:L?g(B.translate(A+E,null,null,D)+B.transB):B.left+B.offset+(B.opposite?(D&&z.oldChartWidth||z.chartWidth)-B.right-B.left:0),y:L?I-B.bottom+B.offset-(B.opposite?B.height:0):g(I-B.translate(A+E,null,null,D)-B.transB)},L.y=f(L.y,-1e5,1e5),v(this,"afterGetPosition",{pos:L}),L},M.prototype.getLabelPosition=function(L,A,E,D,B,z,I,O){var S=this.axis,P=S.transA,k=S.isLinked&&S.linkedParent?S.linkedParent.reversed:S.reversed,d=S.staggerLines,N=S.tickRotCorr||{x:0,y:0},R=D||S.reserveSpaceDefault?0:-S.labelOffset*(S.labelAlign==="center"?.5:1),q={},ee=B.y;return p(ee)||(ee=S.side===0?E.rotation?-8:-E.getBBox().height:S.side===2?N.y+8:Math.cos(E.rotation*h)*(N.y-E.getBBox(!1,0).height/2)),L=L+B.x+R+N.x-(z&&D?z*P*(k?-1:1):0),A=A+ee-(z&&!D?z*P*(k?1:-1):0),d&&(E=I/(O||1)%d,S.opposite&&(E=d-E-1),A+=S.labelOffset/d*E),q.x=L,q.y=Math.round(A),v(this,"afterGetLabelPosition",{pos:q,tickmarkOffset:z,index:I}),q},M.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},M.prototype.getMarkPath=function(L,A,E,D,B,z){return z.crispLine([["M",L,A],["L",L+(B?0:-E),A+(B?E:0)]],D)},M.prototype.handleOverflow=function(L){var A=this.axis,E=A.options.labels,D=L.x,B=A.chart.chartWidth,z=A.chart.spacing,I=T(A.labelLeft,Math.min(A.pos,z[3]));z=T(A.labelRight,Math.max(A.isRadial?0:A.pos+A.len,B-z[1]));var O=this.label,S=this.rotation,P={left:0,center:.5,right:1}[A.labelAlign||O.attr("align")],k=O.getBBox().width,d=A.getSlotWidth(this),N={},R=d,q=1,ee;S||E.overflow!=="justify"?0>S&&D-P*k<I?ee=Math.round(D/Math.cos(S*h)-I):0<S&&D+P*k>z&&(ee=Math.round((B-D)/Math.cos(S*h))):(B=D+(1-P)*k,D-P*k<I?R=L.x+R*(1-P)-I:B>z&&(R=z-L.x+R*P,q=-1),R=Math.min(d,R),R<d&&A.labelAlign==="center"&&(L.x+=q*(d-R-P*(d-Math.min(k,R)))),(k>R||A.autoRotation&&(O.styles||{}).width)&&(ee=R)),ee&&(this.shortenLabel?this.shortenLabel():(N.width=Math.floor(ee)+"px",(E.style||{}).textOverflow||(N.textOverflow="ellipsis"),O.css(N)))},M.prototype.moveLabel=function(L,A){var E=this,D=E.label,B=E.axis,z=B.reversed,I=!1;if(D&&D.textStr===L?(E.movedLabel=D,I=!0,delete E.label):b(B.ticks,function(S){I||S.isNew||S===E||!S.label||S.label.textStr!==L||(E.movedLabel=S.label,I=!0,S.labelPos=E.movedLabel.xy,delete S.label)}),!I&&(E.labelPos||D)){var O=E.labelPos||D.xy;D=B.horiz?z?0:B.width+B.left:O.x,B=B.horiz?O.y:z?B.width+B.left:0,E.movedLabel=E.createLabel({x:D,y:B},L,A),E.movedLabel&&E.movedLabel.attr({opacity:0})}},M.prototype.render=function(L,A,E){var D=this.axis,B=D.horiz,z=this.pos,I=T(this.tickmarkOffset,D.tickmarkOffset);z=this.getPosition(B,z,I,A),I=z.x;var O=z.y;D=B&&I===D.pos+D.len||!B&&O===D.pos?-1:1,B=T(E,this.label&&this.label.newOpacity,1),E=T(E,1),this.isActive=!0,this.renderGridLine(A,E,D),this.renderMark(z,E,D),this.renderLabel(z,A,B,L),this.isNew=!1,v(this,"afterRender")},M.prototype.renderGridLine=function(L,A,E){var D=this.axis,B=D.options,z={},I=this.pos,O=this.type,S=T(this.tickmarkOffset,D.tickmarkOffset),P=D.chart.renderer,k=this.gridLine,d=B.gridLineWidth,N=B.gridLineColor,R=B.gridLineDashStyle;this.type==="minor"&&(d=B.minorGridLineWidth,N=B.minorGridLineColor,R=B.minorGridLineDashStyle),k||(D.chart.styledMode||(z.stroke=N,z["stroke-width"]=d||0,z.dashstyle=R),O||(z.zIndex=1),L&&(A=0),this.gridLine=k=P.path().attr(z).addClass("highcharts-"+(O?O+"-":"")+"grid-line").add(D.gridGroup)),k&&(E=D.getPlotLinePath({value:I+S,lineWidth:k.strokeWidth()*E,force:"pass",old:L}))&&k[L||this.isNew?"attr":"animate"]({d:E,opacity:A})},M.prototype.renderMark=function(L,A,E){var D=this.axis,B=D.options,z=D.chart.renderer,I=this.type,O=D.tickSize(I?I+"Tick":"tick"),S=L.x;L=L.y;var P=T(B[I!=="minor"?"tickWidth":"minorTickWidth"],!I&&D.isXAxis?1:0);B=B[I!=="minor"?"tickColor":"minorTickColor"];var k=this.mark,d=!k;O&&(D.opposite&&(O[0]=-O[0]),k||(this.mark=k=z.path().addClass("highcharts-"+(I?I+"-":"")+"tick").add(D.axisGroup),D.chart.styledMode||k.attr({stroke:B,"stroke-width":P})),k[d?"attr":"animate"]({d:this.getMarkPath(S,L,O[0],k.strokeWidth()*E,D.horiz,z),opacity:A}))},M.prototype.renderLabel=function(L,A,E,D){var B=this.axis,z=B.horiz,I=B.options,O=this.label,S=I.labels,P=S.step;B=T(this.tickmarkOffset,B.tickmarkOffset);var k=L.x;L=L.y;var d=!0;O&&C(k)&&(O.xy=L=this.getLabelPosition(k,L,O,z,S,B,D,P),this.isFirst&&!this.isLast&&!I.showFirstLabel||this.isLast&&!this.isFirst&&!I.showLastLabel?d=!1:!z||S.step||S.rotation||A||E===0||this.handleOverflow(L),P&&D%P&&(d=!1),d&&C(L.y)?(L.opacity=E,O[this.isNewLabel?"attr":"animate"](L),this.isNewLabel=!1):(O.attr("y",-9999),this.isNewLabel=!0))},M.prototype.replaceMovedLabel=function(){var L=this.label,A=this.axis,E=A.reversed;if(L&&!this.isNew){var D=A.horiz?E?A.left:A.width+A.left:L.xy.x;E=A.horiz?L.xy.y:E?A.width+A.top:A.top,L.animate({x:D,y:E,opacity:0},void 0,L.destroy),delete this.label}A.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel},M}(),s}),e(n,"Core/Axis/Axis.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Axis/AxisDefaults.js"],n["Core/Color/Color.js"],n["Core/DefaultOptions.js"],n["Core/Foundation.js"],n["Core/Globals.js"],n["Core/Axis/Tick.js"],n["Core/Utilities.js"]],function(r,s,a,h,f,g,p,m){var x=r.animObject,v=h.defaultOptions,C=f.registerEventOptions,w=g.deg2rad,b=m.arrayMax,T=m.arrayMin,M=m.clamp,L=m.correctFloat,A=m.defined,E=m.destroyObjectProperties,D=m.erase,B=m.error,z=m.extend,I=m.fireEvent,O=m.getMagnitude,S=m.isArray,P=m.isNumber,k=m.isString,d=m.merge,N=m.normalizeTickInterval,R=m.objectEach,q=m.pick,ee=m.relativeLength,ue=m.removeEvent,ae=m.splat,$=m.syncTimeout;return r=function(){function ie(j,H){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.categories=this.bottom=this.alternateBands=void 0,this.init(j,H)}return ie.prototype.init=function(j,H){var U=H.isX;this.chart=j,this.horiz=j.inverted&&!this.isZAxis?!U:U,this.isXAxis=U,this.coll=this.coll||(U?"xAxis":"yAxis"),I(this,"init",{userOptions:H}),this.opposite=q(H.opposite,this.opposite),this.side=q(H.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(H);var Z=this.options,te=Z.labels,ne=Z.type;this.userOptions=H,this.minPixelPadding=0,this.reversed=q(Z.reversed,this.reversed),this.visible=Z.visible,this.zoomEnabled=Z.zoomEnabled,this.hasNames=ne==="category"||Z.categories===!0,this.categories=Z.categories||this.hasNames,this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=A(Z.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=Z.minRange||Z.maxZoom,this.range=Z.range,this.offset=Z.offset||0,this.min=this.max=null,H=q(Z.crosshair,ae(j.options.tooltip.crosshairs)[U?0:1]),this.crosshair=H===!0?{}:H,j.axes.indexOf(this)===-1&&(U?j.axes.splice(j.xAxis.length,0,this):j.axes.push(this),j[this.coll].push(this)),this.series=this.series||[],j.inverted&&!this.isZAxis&&U&&typeof this.reversed>"u"&&(this.reversed=!0),this.labelRotation=P(te.rotation)?te.rotation:void 0,C(this,Z),I(this,"afterInit")},ie.prototype.setOptions=function(j){this.options=d(s.defaultXAxisOptions,this.coll==="yAxis"&&s.defaultYAxisOptions,[s.defaultTopAxisOptions,s.defaultRightAxisOptions,s.defaultBottomAxisOptions,s.defaultLeftAxisOptions][this.side],d(v[this.coll],j)),I(this,"afterSetOptions",{userOptions:j})},ie.prototype.defaultLabelFormatter=function(j){var H=this.axis;j=this.chart.numberFormatter;var U=P(this.value)?this.value:NaN,Z=H.chart.time,te=this.dateTimeLabelFormat,ne=v.lang,_=ne.numericSymbols;ne=ne.numericSymbolMagnitude||1e3;var K=H.logarithmic?Math.abs(U):H.tickInterval,V=_&&_.length;if(H.categories)var re=""+this.value;else if(te)re=Z.dateFormat(te,U);else if(V&&1e3<=K)for(;V--&&typeof re>"u";)H=Math.pow(ne,V+1),K>=H&&10*U%H===0&&_[V]!==null&&U!==0&&(re=j(U/H,-1)+_[V]);return typeof re>"u"&&(re=1e4<=Math.abs(U)?j(U,-1):j(U,-1,void 0,"")),re},ie.prototype.getSeriesExtremes=function(){var j=this,H=j.chart,U;I(this,"getSeriesExtremes",null,function(){j.hasVisibleSeries=!1,j.dataMin=j.dataMax=j.threshold=null,j.softThreshold=!j.isXAxis,j.stacking&&j.stacking.buildStacks(),j.series.forEach(function(Z){if(Z.visible||!H.options.chart.ignoreHiddenSeries){var te=Z.options,ne=te.threshold;if(j.hasVisibleSeries=!0,j.positiveValuesOnly&&0>=ne&&(ne=null),j.isXAxis){if(te=Z.xData,te.length){te=j.logarithmic?te.filter(j.validatePositiveValue):te,U=Z.getXExtremes(te);var _=U.min,K=U.max;P(_)||_ instanceof Date||(te=te.filter(P),U=Z.getXExtremes(te),_=U.min,K=U.max),te.length&&(j.dataMin=Math.min(q(j.dataMin,_),_),j.dataMax=Math.max(q(j.dataMax,K),K))}}else Z=Z.applyExtremes(),P(Z.dataMin)&&(_=Z.dataMin,j.dataMin=Math.min(q(j.dataMin,_),_)),P(Z.dataMax)&&(K=Z.dataMax,j.dataMax=Math.max(q(j.dataMax,K),K)),A(ne)&&(j.threshold=ne),(!te.softThreshold||j.positiveValuesOnly)&&(j.softThreshold=!1)}})}),I(this,"afterGetSeriesExtremes")},ie.prototype.translate=function(j,H,U,Z,te,ne){var _=this.linkedParent||this,K=Z&&_.old?_.old.min:_.min,V=_.minPixelPadding;te=(_.isOrdinal||_.brokenAxis&&_.brokenAxis.hasBreaks||_.logarithmic&&te)&&_.lin2val;var re=1,oe=0;return Z=Z&&_.old?_.old.transA:_.transA,Z||(Z=_.transA),U&&(re*=-1,oe=_.len),_.reversed&&(re*=-1,oe-=re*(_.sector||_.len)),H?(j=(j*re+oe-V)/Z+K,te&&(j=_.lin2val(j))):(te&&(j=_.val2lin(j)),j=P(K)?re*(j-K)*Z+oe+re*V+(P(ne)?Z*ne:0):void 0),j},ie.prototype.toPixels=function(j,H){return this.translate(j,!1,!this.horiz,null,!0)+(H?0:this.pos)},ie.prototype.toValue=function(j,H){return this.translate(j-(H?0:this.pos),!0,!this.horiz,null,!0)},ie.prototype.getPlotLinePath=function(j){function H(de,G,ce){return(ve!=="pass"&&de<G||de>ce)&&(ve?de=M(de,G,ce):he=!0),de}var U=this,Z=U.chart,te=U.left,ne=U.top,_=j.old,K=j.value,V=j.lineWidth,re=_&&Z.oldChartHeight||Z.chartHeight,oe=_&&Z.oldChartWidth||Z.chartWidth,ge=U.transB,fe=j.translatedValue,ve=j.force,me,Le,ze,Ae,he;return j={value:K,lineWidth:V,old:_,force:ve,acrossPanes:j.acrossPanes,translatedValue:fe},I(this,"getPlotLinePath",j,function(de){fe=q(fe,U.translate(K,null,null,_)),fe=M(fe,-1e5,1e5),me=ze=Math.round(fe+ge),Le=Ae=Math.round(re-fe-ge),P(fe)?U.horiz?(Le=ne,Ae=re-U.bottom,me=ze=H(me,te,te+U.width)):(me=te,ze=oe-U.right,Le=Ae=H(Le,ne,ne+U.height)):(he=!0,ve=!1),de.path=he&&!ve?null:Z.renderer.crispLine([["M",me,Le],["L",ze,Ae]],V||1)}),j.path},ie.prototype.getLinearTickPositions=function(j,H,U){var Z=L(Math.floor(H/j)*j);U=L(Math.ceil(U/j)*j);var te=[],ne;if(L(Z+j)===Z&&(ne=20),this.single)return[H];for(H=Z;H<=U&&(te.push(H),H=L(H+j,ne),H!==_);)var _=H;return te},ie.prototype.getMinorTickInterval=function(){var j=this.options;return j.minorTicks===!0?q(j.minorTickInterval,"auto"):j.minorTicks===!1?null:j.minorTickInterval},ie.prototype.getMinorTickPositions=function(){var j=this.options,H=this.tickPositions,U=this.minorTickInterval,Z=this.pointRangePadding||0,te=this.min-Z;Z=this.max+Z;var ne=Z-te,_=[];if(ne&&ne/U<this.len/3){var K=this.logarithmic;if(K)this.paddedTicks.forEach(function(V,re,oe){re&&_.push.apply(_,K.getLogTickPositions(U,oe[re-1],oe[re],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")_=_.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(U),te,Z,j.startOfWeek));else for(j=te+(H[0]-te)%U;j<=Z&&j!==_[0];j+=U)_.push(j)}return _.length!==0&&this.trimTicks(_),_},ie.prototype.adjustForMinRange=function(){var j=this.options,H=this.logarithmic,U=this.min,Z=this.max,te=0,ne,_,K,V;if(this.isXAxis&&typeof this.minRange>"u"&&!H&&(A(j.min)||A(j.max)||A(j.floor)||A(j.ceiling)?this.minRange=null:(this.series.forEach(function(fe){if(K=fe.xData,V=fe.xIncrement?1:K.length-1,1<K.length)for(ne=V;0<ne;ne--)_=K[ne]-K[ne-1],(!te||_<te)&&(te=_)}),this.minRange=Math.min(5*te,this.dataMax-this.dataMin))),Z-U<this.minRange){var re=this.dataMax-this.dataMin>=this.minRange,oe=this.minRange,ge=(oe-Z+U)/2;ge=[U-ge,q(j.min,U-ge)],re&&(ge[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),U=b(ge),Z=[U+oe,q(j.max,U+oe)],re&&(Z[2]=H?H.log2lin(this.dataMax):this.dataMax),Z=T(Z),Z-U<oe&&(ge[0]=Z-oe,ge[1]=q(j.min,Z-oe),U=b(ge))}this.min=U,this.max=Z},ie.prototype.getClosest=function(){var j;return this.categories?j=1:this.series.forEach(function(H){var U=H.closestPointRange,Z=H.visible||!H.chart.options.chart.ignoreHiddenSeries;!H.noSharedTooltip&&A(U)&&Z&&(j=A(j)?Math.min(j,U):U)}),j},ie.prototype.nameToX=function(j){var H=S(this.categories),U=H?this.categories:this.names,Z=j.options.x;if(j.series.requireSorting=!1,A(Z)||(Z=this.options.uniqueNames?H?U.indexOf(j.name):q(U.keys[j.name],-1):j.series.autoIncrement()),Z===-1){if(!H)var te=U.length}else te=Z;return typeof te<"u"&&(this.names[te]=j.name,this.names.keys[j.name]=te),te},ie.prototype.updateNames=function(){var j=this,H=this.names;0<H.length&&(Object.keys(H.keys).forEach(function(U){delete H.keys[U]}),H.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(U){U.xIncrement=null,(!U.points||U.isDirtyData)&&(j.max=Math.max(j.max,U.xData.length-1),U.processData(),U.generatePoints()),U.data.forEach(function(Z,te){if(Z&&Z.options&&typeof Z.name<"u"){var ne=j.nameToX(Z);typeof ne<"u"&&ne!==Z.x&&(Z.x=ne,U.xData[te]=ne)}})}))},ie.prototype.setAxisTranslation=function(){var j=this,H=j.max-j.min,U=j.linkedParent,Z=!!j.categories,te=j.isXAxis,ne=j.axisPointRange||0,_=0,K=0,V=j.transA;if(te||Z||ne){var re=j.getClosest();U?(_=U.minPointOffset,K=U.pointRangePadding):j.series.forEach(function(oe){var ge=Z?1:te?q(oe.options.pointRange,re,0):j.axisPointRange||0,fe=oe.options.pointPlacement;ne=Math.max(ne,ge),(!j.single||Z)&&(oe=oe.is("xrange")?!te:te,_=Math.max(_,oe&&k(fe)?0:ge/2),K=Math.max(K,oe&&fe==="on"?0:ge))}),U=j.ordinal&&j.ordinal.slope&&re?j.ordinal.slope/re:1,j.minPointOffset=_*=U,j.pointRangePadding=K*=U,j.pointRange=Math.min(ne,j.single&&Z?1:H),te&&(j.closestPointRange=re)}j.translationSlope=j.transA=V=j.staticScale||j.len/(H+K||1),j.transB=j.horiz?j.left:j.bottom,j.minPixelPadding=V*_,I(this,"afterSetAxisTranslation")},ie.prototype.minFromRange=function(){return this.max-this.range},ie.prototype.setTickInterval=function(j){var H=this.chart,U=this.logarithmic,Z=this.options,te=this.isXAxis,ne=this.isLinked,_=Z.tickPixelInterval,K=this.categories,V=this.softThreshold,re=Z.maxPadding,oe=Z.minPadding,ge=P(Z.tickInterval)&&0<=Z.tickInterval?Z.tickInterval:void 0,fe=P(this.threshold)?this.threshold:null;this.dateTime||K||ne||this.getTickAmount();var ve=q(this.userMin,Z.min),me=q(this.userMax,Z.max);if(ne){this.linkedParent=H[this.coll][Z.linkedTo];var Le=this.linkedParent.getExtremes();this.min=q(Le.min,Le.dataMin),this.max=q(Le.max,Le.dataMax),Z.type!==this.linkedParent.options.type&&B(11,1,H)}else{if(V&&A(fe)){if(this.dataMin>=fe)Le=fe,oe=0;else if(this.dataMax<=fe){var ze=fe;re=0}}this.min=q(ve,Le,this.dataMin),this.max=q(me,ze,this.dataMax)}if(U&&(this.positiveValuesOnly&&!j&&0>=Math.min(this.min,q(this.dataMin,this.min))&&B(10,1,H),this.min=L(U.log2lin(this.min),16),this.max=L(U.log2lin(this.max),16)),this.range&&A(this.max)&&(this.userMin=this.min=ve=Math.max(this.dataMin,this.minFromRange()),this.userMax=me=this.max,this.range=null),I(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(K||this.axisPointRange||this.stacking&&this.stacking.usePercentage||ne)&&A(this.min)&&A(this.max)&&(H=this.max-this.min)&&(!A(ve)&&oe&&(this.min-=H*oe),!A(me)&&re&&(this.max+=H*re)),P(this.userMin)||(P(Z.softMin)&&Z.softMin<this.min&&(this.min=ve=Z.softMin),P(Z.floor)&&(this.min=Math.max(this.min,Z.floor))),P(this.userMax)||(P(Z.softMax)&&Z.softMax>this.max&&(this.max=me=Z.softMax),P(Z.ceiling)&&(this.max=Math.min(this.max,Z.ceiling))),V&&A(this.dataMin)&&(fe=fe||0,!A(ve)&&this.min<fe&&this.dataMin>=fe?this.min=this.options.minRange?Math.min(fe,this.max-this.minRange):fe:!A(me)&&this.max>fe&&this.dataMax<=fe&&(this.max=this.options.minRange?Math.max(fe,this.min+this.minRange):fe)),P(this.min)&&P(this.max)&&!this.chart.polar&&this.min>this.max&&(A(this.options.min)?this.max=this.min:A(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||typeof this.min>"u"||typeof this.max>"u"?1:ne&&this.linkedParent&&!ge&&_===this.linkedParent.options.tickPixelInterval?ge=this.linkedParent.tickInterval:q(ge,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,K?1:(this.max-this.min)*_/Math.max(this.len,_)),te&&!j){var Ae=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(he){he.forceCrop=he.forceCropping&&he.forceCropping(),he.processData(Ae)}),I(this,"postProcessData",{hasExtemesChanged:Ae})}this.setAxisTranslation(),I(this,"initialAxisTranslation"),this.pointRange&&!ge&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),j=q(Z.minTickInterval,this.dateTime&&!this.series.some(function(he){return he.noSharedTooltip})?this.closestPointRange:0),!ge&&this.tickInterval<j&&(this.tickInterval=j),this.dateTime||this.logarithmic||ge||(this.tickInterval=N(this.tickInterval,void 0,O(this.tickInterval),q(Z.allowDecimals,.5>this.tickInterval||this.tickAmount!==void 0),!!this.tickAmount)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()},ie.prototype.setTickPositions=function(){var j=this.options,H=j.tickPositions,U=this.getMinorTickInterval(),Z=this.hasVerticalPanning(),te=this.coll==="colorAxis",ne=(te||!Z)&&j.startOnTick;Z=(te||!Z)&&j.endOnTick,te=j.tickPositioner,this.tickmarkOffset=this.categories&&j.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.minorTickInterval=U==="auto"&&this.tickInterval?this.tickInterval/5:U,this.single=this.min===this.max&&A(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||j.allowDecimals!==!1),this.tickPositions=U=H&&H.slice(),!U&&(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))?U=this.dateTime?this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,j.units),this.min,this.max,j.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0):this.logarithmic?this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max):(U=[this.min,this.max],B(19,!1,this.chart)),U.length>this.len&&(U=[U[0],U.pop()],U[0]===U[1]&&(U.length=1)),this.tickPositions=U,te&&(te=te.apply(this,[this.min,this.max])))&&(this.tickPositions=U=te),this.paddedTicks=U.slice(0),this.trimTicks(U,ne,Z),this.isLinked||(this.single&&2>U.length&&!this.categories&&!this.series.some(function(_){return _.is("heatmap")&&_.options.pointPlacement==="between"})&&(this.min-=.5,this.max+=.5),H||te||this.adjustTickAmount()),I(this,"afterSetTickPositions")},ie.prototype.trimTicks=function(j,H,U){var Z=j[0],te=j[j.length-1],ne=!this.isOrdinal&&this.minPointOffset||0;if(I(this,"trimTicks"),!this.isLinked){if(H&&Z!==-1/0)this.min=Z;else for(;this.min-ne>j[0];)j.shift();if(U)this.max=te;else for(;this.max+ne<j[j.length-1];)j.pop();j.length===0&&A(Z)&&!this.options.tickPositions&&j.push((te+Z)/2)}},ie.prototype.alignToOthers=function(){var j={},H=this.options,U;return this.chart.options.chart.alignTicks!==!1&&H.alignTicks&&H.startOnTick!==!1&&H.endOnTick!==!1&&!this.logarithmic&&this.chart[this.coll].forEach(function(Z){var te=Z.options;te=[Z.horiz?te.left:te.top,te.width,te.height,te.pane].join(),Z.series.length&&(j[te]?U=!0:j[te]=1)}),U},ie.prototype.getTickAmount=function(){var j=this.options,H=j.tickPixelInterval,U=j.tickAmount;!A(j.tickInterval)&&!U&&this.len<H&&!this.isRadial&&!this.logarithmic&&j.startOnTick&&j.endOnTick&&(U=2),!U&&this.alignToOthers()&&(U=Math.ceil(this.len/H)+1),4>U&&(this.finalTickAmt=U,U=5),this.tickAmount=U},ie.prototype.adjustTickAmount=function(){var j=this.options,H=this.tickInterval,U=this.tickPositions,Z=this.tickAmount,te=this.finalTickAmt,ne=U&&U.length,_=q(this.threshold,this.softThreshold?0:null);if(this.hasData()&&P(this.min)&&P(this.max)){if(ne<Z){for(;U.length<Z;)U.length%2||this.min===_?U.push(L(U[U.length-1]+H)):U.unshift(L(U[0]-H));this.transA*=(ne-1)/(Z-1),this.min=j.startOnTick?U[0]:Math.min(this.min,U[0]),this.max=j.endOnTick?U[U.length-1]:Math.max(this.max,U[U.length-1])}else ne>Z&&(this.tickInterval*=2,this.setTickPositions());if(A(te)){for(H=j=U.length;H--;)(te===3&&H%2===1||2>=te&&0<H&&H<j-1)&&U.splice(H,1);this.finalTickAmt=void 0}}},ie.prototype.setScale=function(){var j=!1,H=!1;this.series.forEach(function(Z){j=j||Z.isDirtyData||Z.isDirty,H=H||Z.xAxis&&Z.xAxis.isDirty||!1}),this.setAxisSize();var U=this.len!==(this.old&&this.old.len);U||j||H||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&this.stacking.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=U||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),j&&this.panningState&&(this.panningState.isDirty=!0),I(this,"afterSetScale")},ie.prototype.setExtremes=function(j,H,U,Z,te){var ne=this,_=ne.chart;U=q(U,!0),ne.series.forEach(function(K){delete K.kdTree}),te=z(te,{min:j,max:H}),I(ne,"setExtremes",te,function(){ne.userMin=j,ne.userMax=H,ne.eventArgs=te,U&&_.redraw(Z)})},ie.prototype.zoom=function(j,H){var U=this,Z=this.dataMin,te=this.dataMax,ne=this.options,_=Math.min(Z,q(ne.min,Z)),K=Math.max(te,q(ne.max,te));return j={newMin:j,newMax:H},I(this,"zoom",j,function(V){var re=V.newMin,oe=V.newMax;(re!==U.min||oe!==U.max)&&(U.allowZoomOutside||(A(Z)&&(re<_&&(re=_),re>K&&(re=K)),A(te)&&(oe<_&&(oe=_),oe>K&&(oe=K))),U.displayBtn=typeof re<"u"||typeof oe<"u",U.setExtremes(re,oe,!1,void 0,{trigger:"zoom"})),V.zoomed=!0}),j.zoomed},ie.prototype.setAxisSize=function(){var j=this.chart,H=this.options,U=H.offsets||[0,0,0,0],Z=this.horiz,te=this.width=Math.round(ee(q(H.width,j.plotWidth-U[3]+U[1]),j.plotWidth)),ne=this.height=Math.round(ee(q(H.height,j.plotHeight-U[0]+U[2]),j.plotHeight)),_=this.top=Math.round(ee(q(H.top,j.plotTop+U[0]),j.plotHeight,j.plotTop));H=this.left=Math.round(ee(q(H.left,j.plotLeft+U[3]),j.plotWidth,j.plotLeft)),this.bottom=j.chartHeight-ne-_,this.right=j.chartWidth-te-H,this.len=Math.max(Z?te:ne,0),this.pos=Z?H:_},ie.prototype.getExtremes=function(){var j=this.logarithmic;return{min:j?L(j.lin2log(this.min)):this.min,max:j?L(j.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},ie.prototype.getThreshold=function(j){var H=this.logarithmic,U=H?H.lin2log(this.min):this.min;return H=H?H.lin2log(this.max):this.max,j===null||j===-1/0?j=U:j===1/0?j=H:U>j?j=U:H<j&&(j=H),this.translate(j,0,1,0,1)},ie.prototype.autoLabelAlign=function(j){var H=(q(j,0)-90*this.side+720)%360;return j={align:"center"},I(this,"autoLabelAlign",j,function(U){15<H&&165>H?U.align="right":195<H&&345>H&&(U.align="left")}),j.align},ie.prototype.tickSize=function(j){var H=this.options,U=q(H[j==="tick"?"tickWidth":"minorTickWidth"],j==="tick"&&this.isXAxis&&!this.categories?1:0),Z=H[j==="tick"?"tickLength":"minorTickLength"];if(U&&Z){H[j+"Position"]==="inside"&&(Z=-Z);var te=[Z,U]}return j={tickSize:te},I(this,"afterTickSize",j),j.tickSize},ie.prototype.labelMetrics=function(){var j=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[j]&&this.ticks[j].label)},ie.prototype.unsquish=function(){var j=this.options.labels,H=this.horiz,U=this.tickInterval,Z=this.len/(((this.categories?1:0)+this.max-this.min)/U),te=j.rotation,ne=this.labelMetrics(),_=Math.max(this.max-this.min,0),K=function(ve){var me=ve/(Z||1);return me=1<me?Math.ceil(me):1,me*U>_&&ve!==1/0&&Z!==1/0&&_&&(me=Math.ceil(_/U)),L(me*U)},V=U,re,oe,ge=Number.MAX_VALUE;if(H){if(!j.staggerLines&&!j.step)if(P(te))var fe=[te];else Z<j.autoRotationLimit&&(fe=j.autoRotation);fe&&fe.forEach(function(ve){if(ve===te||ve&&-90<=ve&&90>=ve){oe=K(Math.abs(ne.h/Math.sin(w*ve)));var me=oe+Math.abs(ve/360);me<ge&&(ge=me,re=ve,V=oe)}})}else j.step||(V=K(ne.h));return this.autoRotation=fe,this.labelRotation=q(re,P(te)?te:0),V},ie.prototype.getSlotWidth=function(j){var H=this.chart,U=this.horiz,Z=this.options.labels,te=Math.max(this.tickPositions.length-(this.categories?0:1),1),ne=H.margin[3];if(j&&P(j.slotWidth))return j.slotWidth;if(U&&2>Z.step)return Z.rotation?0:(this.staggerLines||1)*this.len/te;if(!U){if(j=Z.style.width,j!==void 0)return parseInt(String(j),10);if(ne)return ne-H.spacing[3]}return .33*H.chartWidth},ie.prototype.renderUnsquish=function(){var j=this.chart,H=j.renderer,U=this.tickPositions,Z=this.ticks,te=this.options.labels,ne=te.style,_=this.horiz,K=this.getSlotWidth(),V=Math.max(1,Math.round(K-2*te.padding)),re={},oe=this.labelMetrics(),ge=ne.textOverflow,fe=0;if(k(te.rotation)||(re.rotation=te.rotation||0),U.forEach(function(ze){ze=Z[ze],ze.movedLabel&&ze.replaceMovedLabel(),ze&&ze.label&&ze.label.textPxLength>fe&&(fe=ze.label.textPxLength)}),this.maxLabelLength=fe,this.autoRotation)fe>V&&fe>oe.h?re.rotation=this.labelRotation:this.labelRotation=0;else if(K){var ve=V;if(!ge){var me="clip";for(V=U.length;!_&&V--;){var Le=U[V];(Le=Z[Le].label)&&(Le.styles&&Le.styles.textOverflow==="ellipsis"?Le.css({textOverflow:"clip"}):Le.textPxLength>K&&Le.css({width:K+"px"}),Le.getBBox().height>this.len/U.length-(oe.h-oe.f)&&(Le.specificTextOverflow="ellipsis"))}}}re.rotation&&(ve=fe>.5*j.chartHeight?.33*j.chartHeight:fe,ge||(me="ellipsis")),(this.labelAlign=te.align||this.autoLabelAlign(this.labelRotation))&&(re.align=this.labelAlign),U.forEach(function(ze){var Ae=(ze=Z[ze])&&ze.label,he=ne.width,de={};Ae&&(Ae.attr(re),ze.shortenLabel?ze.shortenLabel():ve&&!he&&ne.whiteSpace!=="nowrap"&&(ve<Ae.textPxLength||Ae.element.tagName==="SPAN")?(de.width=ve+"px",ge||(de.textOverflow=Ae.specificTextOverflow||me),Ae.css(de)):Ae.styles&&Ae.styles.width&&!de.width&&!he&&Ae.css({width:null}),delete Ae.specificTextOverflow,ze.rotation=re.rotation)},this),this.tickRotCorr=H.rotCorr(oe.b,this.labelRotation||0,this.side!==0)},ie.prototype.hasData=function(){return this.series.some(function(j){return j.hasData()})||this.options.showEmpty&&A(this.min)&&A(this.max)},ie.prototype.addTitle=function(j){var H=this.chart.renderer,U=this.horiz,Z=this.opposite,te=this.options.title,ne=this.chart.styledMode,_;this.axisTitle||((_=te.textAlign)||(_=(U?{low:"left",middle:"center",high:"right"}:{low:Z?"right":"left",middle:"center",high:Z?"left":"right"})[te.align]),this.axisTitle=H.text(te.text||"",0,0,te.useHTML).attr({zIndex:7,rotation:te.rotation,align:_}).addClass("highcharts-axis-title"),ne||this.axisTitle.css(d(te.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),ne||te.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[j?"show":"hide"](j)},ie.prototype.generateTick=function(j){var H=this.ticks;H[j]?H[j].addLabel():H[j]=new p(this,j)},ie.prototype.getOffset=function(){var j=this,H=this,U=H.chart,Z=H.horiz,te=H.options,ne=H.side,_=H.ticks,K=H.tickPositions,V=H.coll,re=H.axisParent,oe=U.renderer,ge=U.inverted&&!H.isZAxis?[1,0,3,2][ne]:ne,fe=H.hasData(),ve=te.title,me=te.labels,Le=U.axisOffset;U=U.clipOffset;var ze=[-1,1,1,-1][ne],Ae=te.className,he,de=0,G=0,ce=0;if(H.showAxis=he=fe||te.showEmpty,H.staggerLines=H.horiz&&me.staggerLines||void 0,!H.axisGroup){var X=function(le,ye,ke){return oe.g(le).attr({zIndex:ke}).addClass("highcharts-"+V.toLowerCase()+ye+" "+(j.isRadial?"highcharts-radial-axis"+ye+" ":"")+(Ae||"")).add(re)};H.gridGroup=X("grid","-grid",te.gridZIndex),H.axisGroup=X("axis","",te.zIndex),H.labelGroup=X("axis-labels","-labels",me.zIndex)}if(fe||H.isLinked?(K.forEach(function(le){H.generateTick(le)}),H.renderUnsquish(),H.reserveSpaceDefault=ne===0||ne===2||{1:"left",3:"right"}[ne]===H.labelAlign,q(me.reserveSpace,H.labelAlign==="center"?!0:null,H.reserveSpaceDefault)&&K.forEach(function(le){ce=Math.max(_[le].getLabelSize(),ce)}),H.staggerLines&&(ce*=H.staggerLines),H.labelOffset=ce*(H.opposite?-1:1)):R(_,function(le,ye){le.destroy(),delete _[ye]}),ve&&ve.text&&ve.enabled!==!1&&(H.addTitle(he),he&&ve.reserveSpace!==!1)){H.titleOffset=de=H.axisTitle.getBBox()[Z?"height":"width"];var Q=ve.offset;G=A(Q)?0:q(ve.margin,Z?5:10)}H.renderLine(),H.offset=ze*q(te.offset,Le[ne]?Le[ne]+(te.margin||0):0),H.tickRotCorr=H.tickRotCorr||{x:0,y:0},ve=ne===0?-H.labelMetrics().h:ne===2?H.tickRotCorr.y:0,fe=Math.abs(ce)+G,ce&&(fe=fe-ve+ze*(Z?q(me.y,H.tickRotCorr.y+8*ze):me.x)),H.axisTitleMargin=q(Q,fe),H.getMaxLabelDimensions&&(H.maxLabelDimensions=H.getMaxLabelDimensions(_,K)),V!=="colorAxis"&&(Z=this.tickSize("tick"),Le[ne]=Math.max(Le[ne],(H.axisTitleMargin||0)+de+ze*H.offset,fe,K&&K.length&&Z?Z[0]+ze*H.offset:0),te=!H.axisLine||te.offset?0:2*Math.floor(H.axisLine.strokeWidth()/2),U[ge]=Math.max(U[ge],te)),I(this,"afterGetOffset")},ie.prototype.getLinePath=function(j){var H=this.chart,U=this.opposite,Z=this.offset,te=this.horiz,ne=this.left+(U?this.width:0)+Z;return Z=H.chartHeight-this.bottom-(U?this.height:0)+Z,U&&(j*=-1),H.renderer.crispLine([["M",te?this.left:ne,te?Z:this.top],["L",te?H.chartWidth-this.right:ne,te?Z:H.chartHeight-this.bottom]],j)},ie.prototype.renderLine=function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},ie.prototype.getTitlePosition=function(){var j=this.horiz,H=this.left,U=this.top,Z=this.len,te=this.options.title,ne=j?H:U,_=this.opposite,K=this.offset,V=te.x,re=te.y,oe=this.axisTitle,ge=this.chart.renderer.fontMetrics(te.style.fontSize,oe);return oe=Math.max(oe.getBBox(null,0).height-ge.h-1,0),Z={low:ne+(j?0:Z),middle:ne+Z/2,high:ne+(j?Z:0)}[te.align],H=(j?U+this.height:H)+(j?1:-1)*(_?-1:1)*this.axisTitleMargin+[-oe,oe,ge.f,-oe][this.side],j={x:j?Z+V:H+(_?this.width:0)+K+V,y:j?H+re-(_?this.height:0)+K:Z+re},I(this,"afterGetTitlePosition",{titlePosition:j}),j},ie.prototype.renderMinorTick=function(j,H){var U=this.minorTicks;U[j]||(U[j]=new p(this,j,"minor")),H&&U[j].isNew&&U[j].render(null,!0),U[j].render(null,!1,1)},ie.prototype.renderTick=function(j,H,U){var Z=this.ticks;(!this.isLinked||j>=this.min&&j<=this.max||this.grid&&this.grid.isColumn)&&(Z[j]||(Z[j]=new p(this,j)),U&&Z[j].isNew&&Z[j].render(H,!0,-1),Z[j].render(H))},ie.prototype.render=function(){var j=this,H=j.chart,U=j.logarithmic,Z=j.options,te=j.isLinked,ne=j.tickPositions,_=j.axisTitle,K=j.ticks,V=j.minorTicks,re=j.alternateBands,oe=Z.stackLabels,ge=Z.alternateGridColor,fe=j.tickmarkOffset,ve=j.axisLine,me=j.showAxis,Le=x(H.renderer.globalAnimation),ze,Ae;if(j.labelEdge.length=0,j.overlap=!1,[K,V,re].forEach(function(de){R(de,function(G){G.isActive=!1})}),j.hasData()||te){var he=j.chart.hasRendered&&j.old&&P(j.old.min);j.minorTickInterval&&!j.categories&&j.getMinorTickPositions().forEach(function(de){j.renderMinorTick(de,he)}),ne.length&&(ne.forEach(function(de,G){j.renderTick(de,G,he)}),fe&&(j.min===0||j.single)&&(K[-1]||(K[-1]=new p(j,-1,null,!0)),K[-1].render(-1))),ge&&ne.forEach(function(de,G){Ae=typeof ne[G+1]<"u"?ne[G+1]+fe:j.max-fe,G%2===0&&de<j.max&&Ae<=j.max+(H.polar?-fe:fe)&&(re[de]||(re[de]=new g.PlotLineOrBand(j)),ze=de+fe,re[de].options={from:U?U.lin2log(ze):ze,to:U?U.lin2log(Ae):Ae,color:ge,className:"highcharts-alternate-grid"},re[de].render(),re[de].isActive=!0)}),j._addedPlotLB||(j._addedPlotLB=!0,(Z.plotLines||[]).concat(Z.plotBands||[]).forEach(function(de){j.addPlotBandOrLine(de)}))}[K,V,re].forEach(function(de){var G=[],ce=Le.duration;R(de,function(X,Q){X.isActive||(X.render(Q,!1,0),X.isActive=!1,G.push(Q))}),$(function(){for(var X=G.length;X--;)de[G[X]]&&!de[G[X]].isActive&&(de[G[X]].destroy(),delete de[G[X]])},de!==re&&H.hasRendered&&ce?ce:0)}),ve&&(ve[ve.isPlaced?"animate":"attr"]({d:this.getLinePath(ve.strokeWidth())}),ve.isPlaced=!0,ve[me?"show":"hide"](me)),_&&me&&(Z=j.getTitlePosition(),P(Z.y)?(_[_.isNew?"attr":"animate"](Z),_.isNew=!1):(_.attr("y",-9999),_.isNew=!0)),oe&&oe.enabled&&j.stacking&&j.stacking.renderStackTotals(),j.old={len:j.len,max:j.max,min:j.min,transA:j.transA,userMax:j.userMax,userMin:j.userMin},j.isDirty=!1,I(this,"afterRender")},ie.prototype.redraw=function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(j){j.render()})),this.series.forEach(function(j){j.isDirty=!0})},ie.prototype.getKeepProps=function(){return this.keepProps||ie.keepProps},ie.prototype.destroy=function(j){var H=this,U=H.plotLinesAndBands,Z=this.eventOptions;if(I(this,"destroy",{keepEvents:j}),j||ue(H),[H.ticks,H.minorTicks,H.alternateBands].forEach(function(ne){E(ne)}),U)for(j=U.length;j--;)U[j].destroy();"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(ne){H[ne]&&(H[ne]=H[ne].destroy())});for(var te in H.plotLinesAndBandsGroups)H.plotLinesAndBandsGroups[te]=H.plotLinesAndBandsGroups[te].destroy();R(H,function(ne,_){H.getKeepProps().indexOf(_)===-1&&delete H[_]}),this.eventOptions=Z},ie.prototype.drawCrosshair=function(j,H){var U=this.crosshair,Z=q(U&&U.snap,!0),te=this.chart,ne,_=this.cross;if(I(this,"drawCrosshair",{e:j,point:H}),j||(j=this.cross&&this.cross.e),U&&(A(H)||!Z)!==!1){if(Z?A(H)&&(ne=q(this.coll!=="colorAxis"?H.crosshairPos:null,this.isXAxis?H.plotX:this.len-H.plotY)):ne=j&&(this.horiz?j.chartX-this.pos:this.len-j.chartY+this.pos),A(ne)){var K={value:H&&(this.isXAxis?H.x:q(H.stackY,H.y)),translatedValue:ne};te.polar&&z(K,{isCrosshair:!0,chartX:j&&j.chartX,chartY:j&&j.chartY,point:H}),K=this.getPlotLinePath(K)||null}if(!A(K)){this.hideCrosshair();return}Z=this.categories&&!this.isRadial,_||(this.cross=_=te.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(Z?"category ":"thin ")+(U.className||"")).attr({zIndex:q(U.zIndex,2)}).add(),te.styledMode||(_.attr({stroke:U.color||(Z?a.parse("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":q(U.width,1)}).css({"pointer-events":"none"}),U.dashStyle&&_.attr({dashstyle:U.dashStyle}))),_.show().attr({d:K}),Z&&!U.width&&_.attr({"stroke-width":this.transA}),this.cross.e=j}else this.hideCrosshair();I(this,"afterDrawCrosshair",{e:j,point:H})},ie.prototype.hideCrosshair=function(){this.cross&&this.cross.hide(),I(this,"afterHideCrosshair")},ie.prototype.hasVerticalPanning=function(){var j=this.chart.options.chart.panning;return!!(j&&j.enabled&&/y/.test(j.type))},ie.prototype.validatePositiveValue=function(j){return P(j)&&0<j},ie.prototype.update=function(j,H){var U=this.chart;j=d(this.userOptions,j),this.destroy(!0),this.init(U,j),U.isDirtyBox=!0,q(H,!0)&&U.redraw()},ie.prototype.remove=function(j){for(var H=this.chart,U=this.coll,Z=this.series,te=Z.length;te--;)Z[te]&&Z[te].remove(!1);D(H.axes,this),D(H[U],this),H[U].forEach(function(ne,_){ne.options.index=ne.userOptions.index=_}),this.destroy(),H.isDirtyBox=!0,q(j,!0)&&H.redraw()},ie.prototype.setTitle=function(j,H){this.update({title:j},H)},ie.prototype.setCategories=function(j,H){this.update({categories:j},H)},ie.defaultOptions=s.defaultXAxisOptions,ie.keepProps="extKey hcEvents names series userMax userMin".split(" "),ie}(),r}),e(n,"Core/Axis/DateTimeAxis.js",[n["Core/Utilities.js"]],function(r){var s=r.addEvent,a=r.getMagnitude,h=r.normalizeTickInterval,f=r.timeUnits,g;return function(p){function m(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function x(w){w.userOptions.type!=="datetime"?this.dateTime=void 0:this.dateTime||(this.dateTime=new C(this))}var v=[];p.compose=function(w){return v.indexOf(w)===-1&&(v.push(w),w.keepProps.push("dateTime"),w.prototype.getTimeTicks=m,s(w,"init",x)),w};var C=function(){function w(b){this.axis=b}return w.prototype.normalizeTimeTickInterval=function(b,T){var M=T||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];T=M[M.length-1];var L=f[T[0]],A=T[1],E;for(E=0;E<M.length&&(T=M[E],L=f[T[0]],A=T[1],!(M[E+1]&&b<=(L*A[A.length-1]+f[M[E+1][0]])/2));E++);return L===f.year&&b<5*L&&(A=[1,2,5]),b=h(b/L,A,T[0]==="year"?Math.max(a(b/L),1):1),{unitRange:L,count:b,unitName:T[0]}},w.prototype.getXDateFormat=function(b,T){var M=this.axis;return M.closestPointRange?M.chart.time.getDateFormat(M.closestPointRange,b,M.options.startOfWeek,T)||T.year:T.day},w}();p.Additions=C}(g||(g={})),g}),e(n,"Core/Axis/LogarithmicAxis.js",[n["Core/Utilities.js"]],function(r){var s=r.addEvent,a=r.getMagnitude,h=r.normalizeTickInterval,f=r.pick,g;return function(p){function m(w){var b=this.logarithmic;w.userOptions.type!=="logarithmic"?this.logarithmic=void 0:b||(this.logarithmic=new C(this))}function x(){var w=this.logarithmic;w&&(this.lin2val=function(b){return w.lin2log(b)},this.val2lin=function(b){return w.log2lin(b)})}var v=[];p.compose=function(w){return v.indexOf(w)===-1&&(v.push(w),w.keepProps.push("logarithmic"),s(w,"init",m),s(w,"afterInit",x)),w};var C=function(){function w(b){this.axis=b}return w.prototype.getLogTickPositions=function(b,T,M,L){var A=this.axis,E=A.len,D=A.options,B=[];if(L||(this.minorAutoInterval=void 0),.5<=b)b=Math.round(b),B=A.getLinearTickPositions(b,T,M);else if(.08<=b){var z=Math.floor(T),I,O=D=void 0;for(E=.3<b?[1,2,4]:.15<b?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];z<M+1&&!O;z++){var S=E.length;for(I=0;I<S&&!O;I++){var P=this.log2lin(this.lin2log(z)*E[I]);P>T&&(!L||D<=M)&&typeof D<"u"&&B.push(D),D>M&&(O=!0),D=P}}}else T=this.lin2log(T),M=this.lin2log(M),b=L?A.getMinorTickInterval():D.tickInterval,b=f(b==="auto"?null:b,this.minorAutoInterval,D.tickPixelInterval/(L?5:1)*(M-T)/((L?E/A.tickPositions.length:E)||1)),b=h(b,void 0,a(b)),B=A.getLinearTickPositions(b,T,M).map(this.log2lin),L||(this.minorAutoInterval=b/5);return L||(A.tickInterval=b),B},w.prototype.lin2log=function(b){return Math.pow(10,b)},w.prototype.log2lin=function(b){return Math.log(b)/Math.LN10},w}();p.Additions=C}(g||(g={})),g}),e(n,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[n["Core/Utilities.js"]],function(r){var s=r.erase,a=r.extend,h=r.isNumber,f;return function(g){var p=[],m;g.compose=function(v,C){return m||(m=v),p.indexOf(C)===-1&&(p.push(C),a(C.prototype,x.prototype)),C};var x=function(){function v(){}return v.prototype.getPlotBandPath=function(C,w,b){b===void 0&&(b=this.options);var T=this.getPlotLinePath({value:w,force:!0,acrossPanes:b.acrossPanes}),M=[],L=this.horiz;if(w=!h(this.min)||!h(this.max)||C<this.min&&w<this.min||C>this.max&&w>this.max,C=this.getPlotLinePath({value:C,force:!0,acrossPanes:b.acrossPanes}),b=1,C&&T){if(w){var A=C.toString()===T.toString();b=0}for(w=0;w<C.length;w+=2){var E=C[w],D=C[w+1],B=T[w],z=T[w+1];E[0]!=="M"&&E[0]!=="L"||D[0]!=="M"&&D[0]!=="L"||B[0]!=="M"&&B[0]!=="L"||z[0]!=="M"&&z[0]!=="L"||(L&&B[1]===E[1]?(B[1]+=b,z[1]+=b):L||B[2]!==E[2]||(B[2]+=b,z[2]+=b),M.push(["M",E[1],E[2]],["L",D[1],D[2]],["L",z[1],z[2]],["L",B[1],B[2]],["Z"])),M.isFlat=A}}return M},v.prototype.addPlotBand=function(C){return this.addPlotBandOrLine(C,"plotBands")},v.prototype.addPlotLine=function(C){return this.addPlotBandOrLine(C,"plotLines")},v.prototype.addPlotBandOrLine=function(C,w){var b=this,T=this.userOptions,M=new m(this,C);if(this.visible&&(M=M.render()),M){if(this._addedPlotLB||(this._addedPlotLB=!0,(T.plotLines||[]).concat(T.plotBands||[]).forEach(function(A){b.addPlotBandOrLine(A)})),w){var L=T[w]||[];L.push(C),T[w]=L}this.plotLinesAndBands.push(M)}return M},v.prototype.removePlotBandOrLine=function(C){var w=this.plotLinesAndBands,b=this.options,T=this.userOptions;if(w){for(var M=w.length;M--;)w[M].id===C&&w[M].destroy();[b.plotLines||[],T.plotLines||[],b.plotBands||[],T.plotBands||[]].forEach(function(L){for(M=L.length;M--;)(L[M]||{}).id===C&&s(L,L[M])})}},v.prototype.removePlotBand=function(C){this.removePlotBandOrLine(C)},v.prototype.removePlotLine=function(C){this.removePlotBandOrLine(C)},v}()}(f||(f={})),f}),e(n,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[n["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],n["Core/Utilities.js"]],function(r,s){var a=s.arrayMax,h=s.arrayMin,f=s.defined,g=s.destroyObjectProperties,p=s.erase,m=s.fireEvent,x=s.merge,v=s.objectEach,C=s.pick;return s=function(){function w(b,T){this.axis=b,T&&(this.options=T,this.id=T.id)}return w.compose=function(b){return r.compose(w,b)},w.prototype.render=function(){m(this,"render");var b=this,T=b.axis,M=T.horiz,L=T.logarithmic,A=b.options,E=A.color,D=C(A.zIndex,0),B=A.events,z={},I=T.chart.renderer,O=A.label,S=b.label,P=A.to,k=A.from,d=A.value,N=b.svgElem,R=[],q=f(k)&&f(P);R=f(d);var ee=!N,ue={class:"highcharts-plot-"+(q?"band ":"line ")+(A.className||"")},ae=q?"bands":"lines";if(L&&(k=L.log2lin(k),P=L.log2lin(P),d=L.log2lin(d)),T.chart.styledMode||(R?(ue.stroke=E||"#999999",ue["stroke-width"]=C(A.width,1),A.dashStyle&&(ue.dashstyle=A.dashStyle)):q&&(ue.fill=E||"#e6ebf5",A.borderWidth&&(ue.stroke=A.borderColor,ue["stroke-width"]=A.borderWidth))),z.zIndex=D,ae+="-"+D,(L=T.plotLinesAndBandsGroups[ae])||(T.plotLinesAndBandsGroups[ae]=L=I.g("plot-"+ae).attr(z).add()),ee&&(b.svgElem=N=I.path().attr(ue).add(L)),R)R=T.getPlotLinePath({value:d,lineWidth:N.strokeWidth(),acrossPanes:A.acrossPanes});else if(q)R=T.getPlotBandPath(k,P,A);else return;return!b.eventsAdded&&B&&(v(B,function($,ie){N.on(ie,function(j){B[ie].apply(b,[j])})}),b.eventsAdded=!0),(ee||!N.d)&&R&&R.length?N.attr({d:R}):N&&(R?(N.show(!0),N.animate({d:R})):N.d&&(N.hide(),S&&(b.label=S=S.destroy()))),O&&(f(O.text)||f(O.formatter))&&R&&R.length&&0<T.width&&0<T.height&&!R.isFlat?(O=x({align:M&&q&&"center",x:M?!q&&4:10,verticalAlign:!M&&q&&"middle",y:M?q?16:10:q?6:-4,rotation:M&&!q&&90},O),this.renderLabel(O,R,q,D)):S&&S.hide(),b},w.prototype.renderLabel=function(b,T,M,L){var A=this.axis,E=A.chart.renderer,D=this.label;D||(this.label=D=E.text(this.getLabelText(b),0,0,b.useHTML).attr({align:b.textAlign||b.align,rotation:b.rotation,class:"highcharts-plot-"+(M?"band":"line")+"-label "+(b.className||""),zIndex:L}).add(),A.chart.styledMode||D.css(x({textOverflow:"ellipsis"},b.style))),L=T.xBounds||[T[0][1],T[1][1],M?T[2][1]:T[0][1]],T=T.yBounds||[T[0][2],T[1][2],M?T[2][2]:T[0][2]],M=h(L),E=h(T),D.align(b,!1,{x:M,y:E,width:a(L)-M,height:a(T)-E}),D.alignValue&&D.alignValue!=="left"||D.css({width:(D.rotation===90?A.height-(D.alignAttr.y-A.top):A.width-(D.alignAttr.x-A.left))+"px"}),D.show(!0)},w.prototype.getLabelText=function(b){return f(b.formatter)?b.formatter.call(this):b.text},w.prototype.destroy=function(){p(this.axis.plotLinesAndBands,this),delete this.axis,g(this)},w}(),s}),e(n,"Core/Tooltip.js",[n["Core/FormatUtilities.js"],n["Core/Globals.js"],n["Core/Renderer/RendererUtilities.js"],n["Core/Renderer/RendererRegistry.js"],n["Core/Utilities.js"]],function(r,s,a,h,f){var g=r.format,p=s.doc,m=a.distribute,x=f.addEvent,v=f.clamp,C=f.css,w=f.defined,b=f.discardElement,T=f.extend,M=f.fireEvent,L=f.isArray,A=f.isNumber,E=f.isString,D=f.merge,B=f.pick,z=f.splat,I=f.syncTimeout;return r=function(){function O(S,P){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=S,this.init(S,P)}return O.prototype.applyFilter=function(){var S=this.chart;S.renderer.definition({tagName:"filter",attributes:{id:"drop-shadow-"+S.index,opacity:.5},children:[{tagName:"feGaussianBlur",attributes:{in:"SourceAlpha",stdDeviation:1}},{tagName:"feOffset",attributes:{dx:1,dy:1}},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",attributes:{type:"linear",slope:.3}}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",attributes:{in:"SourceGraphic"}}]}]})},O.prototype.bodyFormatter=function(S){return S.map(function(P){var k=P.series.tooltipOptions;return(k[(P.point.formatPrefix||"point")+"Formatter"]||P.point.tooltipFormatter).call(P.point,k[(P.point.formatPrefix||"point")+"Format"]||"")})},O.prototype.cleanSplit=function(S){this.chart.series.forEach(function(P){var k=P&&P.tt;k&&(!k.isActive||S?P.tt=k.destroy():k.isActive=!1)})},O.prototype.defaultFormatter=function(S){var P=this.points||z(this),k=[S.tooltipFooterHeaderFormatter(P[0])];return k=k.concat(S.bodyFormatter(P)),k.push(S.tooltipFooterHeaderFormatter(P[0],!0)),k},O.prototype.destroy=function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),b(this.container)),f.clearTimeout(this.hideTimer),f.clearTimeout(this.tooltipTimeout)},O.prototype.getAnchor=function(S,P){var k=this.chart,d=k.pointer,N=k.inverted,R=k.plotTop,q=k.plotLeft,ee,ue,ae=0,$=0;return S=z(S),this.followPointer&&P?(typeof P.chartX>"u"&&(P=d.normalize(P)),d=[P.chartX-q,P.chartY-R]):S[0].tooltipPos?d=S[0].tooltipPos:(S.forEach(function(ie){ee=ie.series.yAxis,ue=ie.series.xAxis,ae+=ie.plotX||0,$+=ie.plotLow?(ie.plotLow+(ie.plotHigh||0))/2:ie.plotY||0,ue&&ee&&(N?(ae+=R+k.plotHeight-ue.len-ue.pos,$+=q+k.plotWidth-ee.len-ee.pos):(ae+=ue.pos-q,$+=ee.pos-R))}),ae/=S.length,$/=S.length,d=[N?k.plotWidth-$:ae,N?k.plotHeight-ae:$],this.shared&&1<S.length&&P&&(N?d[0]=P.chartX-q:d[1]=P.chartY-R)),d.map(Math.round)},O.prototype.getLabel=function(){var S=this,P=this.chart.styledMode,k=this.options,d=this.split&&this.allowShared,N="tooltip"+(w(k.className)?" "+k.className:""),R=k.style.pointerEvents||(!this.followPointer&&k.stickOnContact?"auto":"none"),q=function(){S.inContact=!0},ee=function(Z){var te=S.chart.hoverSeries;S.inContact=S.shouldStickOnContact()&&S.chart.pointer.inClass(Z.relatedTarget,"highcharts-tooltip"),!S.inContact&&te&&te.onMouseOut&&te.onMouseOut()},ue,ae=this.chart.renderer;if(S.label){var $=!S.label.hasClass("highcharts-label");(d&&!$||!d&&$)&&S.destroy()}if(!this.label){if(this.outside){$=this.chart.options.chart.style;var ie=h.getRendererType();this.container=ue=s.doc.createElement("div"),ue.className="highcharts-tooltip-container",C(ue,{position:"absolute",top:"1px",pointerEvents:R,zIndex:Math.max(this.options.style.zIndex||0,($&&$.zIndex||0)+3)}),x(ue,"mouseenter",q),x(ue,"mouseleave",ee),s.doc.body.appendChild(ue),this.renderer=ae=new ie(ue,0,0,$,void 0,void 0,ae.styledMode)}if(d?this.label=ae.g(N):(this.label=ae.label("",0,0,k.shape,void 0,void 0,k.useHTML,void 0,N).attr({padding:k.padding,r:k.borderRadius}),P||this.label.attr({fill:k.backgroundColor,"stroke-width":k.borderWidth}).css(k.style).css({pointerEvents:R}).shadow(k.shadow)),P&&k.shadow&&(this.applyFilter(),this.label.attr({filter:"url(#drop-shadow-"+this.chart.index+")"})),S.outside&&!S.split){var j=this.label,H=j.xSetter,U=j.ySetter;j.xSetter=function(Z){H.call(j,S.distance),ue.style.left=Z+"px"},j.ySetter=function(Z){U.call(j,S.distance),ue.style.top=Z+"px"}}this.label.on("mouseenter",q).on("mouseleave",ee).attr({zIndex:8}).add()}return this.label},O.prototype.getPosition=function(S,P,k){var d=this.chart,N=this.distance,R={},q=d.inverted&&k.h||0,ee=this.outside,ue=ee?p.documentElement.clientWidth-2*N:d.chartWidth,ae=ee?Math.max(p.body.scrollHeight,p.documentElement.scrollHeight,p.body.offsetHeight,p.documentElement.offsetHeight,p.documentElement.clientHeight):d.chartHeight,$=d.pointer.getChartPosition(),ie=function(V){var re=V==="x";return[V,re?ue:ae,re?S:P].concat(ee?[re?S*$.scaleX:P*$.scaleY,re?$.left-N+(k.plotX+d.plotLeft)*$.scaleX:$.top-N+(k.plotY+d.plotTop)*$.scaleY,0,re?ue:ae]:[re?S:P,re?k.plotX+d.plotLeft:k.plotY+d.plotTop,re?d.plotLeft:d.plotTop,re?d.plotLeft+d.plotWidth:d.plotTop+d.plotHeight])},j=ie("y"),H=ie("x"),U;ie=!!k.negative,!d.polar&&d.hoverSeries&&d.hoverSeries.yAxis&&d.hoverSeries.yAxis.reversed&&(ie=!ie);var Z=!this.followPointer&&B(k.ttBelow,!d.inverted===ie),te=function(V,re,oe,ge,fe,ve,me){var Le=ee?V==="y"?N*$.scaleY:N*$.scaleX:N,ze=(oe-ge)/2,Ae=ge<fe-N,he=fe+N+ge<re,de=fe-Le-oe+ze;if(fe=fe+Le-ze,Z&&he)R[V]=fe;else if(!Z&&Ae)R[V]=de;else if(Ae)R[V]=Math.min(me-ge,0>de-q?de:de-q);else if(he)R[V]=Math.max(ve,fe+q+oe>re?fe:fe+q);else return!1},ne=function(V,re,oe,ge,fe){var ve;return fe<N||fe>re-N?ve=!1:R[V]=fe<oe/2?1:fe>re-ge/2?re-ge-2:fe-oe/2,ve},_=function(V){var re=j;j=H,H=re,U=V},K=function(){te.apply(0,j)!==!1?ne.apply(0,H)!==!1||U||(_(!0),K()):U?R.x=R.y=0:(_(!0),K())};return(d.inverted||1<this.len)&&_(),K(),R},O.prototype.hide=function(S){var P=this;f.clearTimeout(this.hideTimer),S=B(S,this.options.hideDelay),this.isHidden||(this.hideTimer=I(function(){P.getLabel().fadeOut(S&&void 0),P.isHidden=!0},S))},O.prototype.init=function(S,P){this.chart=S,this.options=P,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=P.split&&!S.inverted&&!S.polar,this.shared=P.shared||this.split,this.outside=B(P.outside,!(!S.scrollablePixelsX&&!S.scrollablePixelsY))},O.prototype.shouldStickOnContact=function(){return!(this.followPointer||!this.options.stickOnContact)},O.prototype.isStickyOnContact=function(){return!(!this.shouldStickOnContact()||!this.inContact)},O.prototype.move=function(S,P,k,d){var N=this,R=N.now,q=N.options.animation!==!1&&!N.isHidden&&(1<Math.abs(S-R.x)||1<Math.abs(P-R.y)),ee=N.followPointer||1<N.len;T(R,{x:q?(2*R.x+S)/3:S,y:q?(R.y+P)/2:P,anchorX:ee?void 0:q?(2*R.anchorX+k)/3:k,anchorY:ee?void 0:q?(R.anchorY+d)/2:d}),N.getLabel().attr(R),N.drawTracker(),q&&(f.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){N&&N.move(S,P,k,d)},32))},O.prototype.refresh=function(S,P){var k=this.chart,d=this.options,N=z(S),R=N[0],q=[],ee=d.formatter||this.defaultFormatter,ue=this.shared,ae=k.styledMode,$={};if(d.enabled){f.clearTimeout(this.hideTimer),this.allowShared=!(!L(S)&&S.series&&S.series.noSharedTooltip),this.followPointer=!this.split&&R.series.tooltipOptions.followPointer,S=this.getAnchor(S,P);var ie=S[0],j=S[1];if(ue&&this.allowShared?(k.pointer.applyInactiveState(N),N.forEach(function(Z){Z.setState("hover"),q.push(Z.getLabelConfig())}),$={x:R.category,y:R.y},$.points=q):$=R.getLabelConfig(),this.len=q.length,ee=ee.call($,this),ue=R.series,this.distance=B(ue.tooltipOptions.distance,16),ee===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(ee,N);else{var H=ie,U=j;if(P&&k.pointer.isDirectTouch&&(H=P.chartX-k.plotLeft,U=P.chartY-k.plotTop),k.polar||ue.options.clip===!1||N.some(function(Z){return Z.series.shouldShowTooltip(H,U)}))P=this.getLabel(),d.style.width&&!ae||P.css({width:this.chart.spacingBox.width+"px"}),P.attr({text:ee&&ee.join?ee.join(""):ee}),P.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+B(R.colorIndex,ue.colorIndex)),ae||P.attr({stroke:d.borderColor||R.color||ue.color||"#666666"}),this.updatePosition({plotX:ie,plotY:j,negative:R.negative,ttBelow:R.ttBelow,h:S[2]||0});else{this.hide();return}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}M(this,"refresh")}},O.prototype.renderSplit=function(S,P){function k(he,de,G,ce,X){return X===void 0&&(X=!0),G?(de=ge?0:Le,he=v(he-ce/2,V.left,V.right-ce-(d.outside?fe:0))):(de-=ve,he=X?he-ce-ne:he+ne,he=v(he,X?he:V.left,V.right)),{x:he,y:de}}var d=this,N=d.chart,R=d.chart,q=R.chartWidth,ee=R.chartHeight,ue=R.plotHeight,ae=R.plotLeft,$=R.plotTop,ie=R.pointer,j=R.scrollablePixelsY;j=j===void 0?0:j;var H=R.scrollablePixelsX,U=R.scrollingContainer;U=U===void 0?{scrollLeft:0,scrollTop:0}:U;var Z=U.scrollLeft;U=U.scrollTop;var te=R.styledMode,ne=d.distance,_=d.options,K=d.options.positioner,V=d.outside&&typeof H!="number"?p.documentElement.getBoundingClientRect():{left:Z,right:Z+q,top:U,bottom:U+ee},re=d.getLabel(),oe=this.renderer||N.renderer,ge=!(!N.xAxis[0]||!N.xAxis[0].opposite);N=ie.getChartPosition();var fe=N.left;N=N.top;var ve=$+U,me=0,Le=ue-j;E(S)&&(S=[!1,S]),S=S.slice(0,P.length+1).reduce(function(he,de,G){if(de!==!1&&de!==""){G=P[G-1]||{isHeader:!0,plotX:P[0].plotX,plotY:ue,series:{}};var ce=G.isHeader,X=ce?d:G.series;de=de.toString();var Q=X.tt,le=G.isHeader,ye=G.series,ke="highcharts-color-"+B(G.colorIndex,ye.colorIndex,"none");if(Q||(Q={padding:_.padding,r:_.borderRadius},te||(Q.fill=_.backgroundColor,Q["stroke-width"]=_.borderWidth),Q=oe.label("",0,0,_[le?"headerShape":"shape"],void 0,void 0,_.useHTML).addClass((le?"highcharts-tooltip-header ":"")+"highcharts-tooltip-box "+ke).attr(Q).add(re)),Q.isActive=!0,Q.attr({text:de}),te||Q.css(_.style).shadow(_.shadow).attr({stroke:_.borderColor||G.color||ye.color||"#333333"}),X=X.tt=Q,le=X.getBBox(),de=le.width+X.strokeWidth(),ce&&(me=le.height,Le+=me,ge&&(ve-=me)),ye=G.plotX,ye=ye===void 0?0:ye,ke=G.plotY,ke=ke===void 0?0:ke,Q=G.series,G.isHeader){ye=ae+ye;var Ce=$+ue/2}else{var Re=Q.xAxis,Oe=Q.yAxis;ye=Re.pos+v(ye,-ne,Re.len+ne),Q.shouldShowTooltip(0,Oe.pos-$+ke,{ignoreX:!0})&&(Ce=Oe.pos+ke)}ye=v(ye,V.left-ne,V.right+ne),typeof Ce=="number"?(le=le.height+1,ke=K?K.call(d,de,le,G):k(ye,Ce,ce,de),he.push({align:K?0:void 0,anchorX:ye,anchorY:Ce,boxWidth:de,point:G,rank:B(ke.rank,ce?1:0),size:le,target:ke.y,tt:X,x:ke.x})):X.isActive=!1}return he},[]),!K&&S.some(function(he){var de=(d.outside?fe:0)+he.anchorX;return de<V.left&&de+he.boxWidth<V.right?!0:de<fe-V.left+he.boxWidth&&V.right-de>de})&&(S=S.map(function(he){var de=k(he.anchorX,he.anchorY,he.point.isHeader,he.boxWidth,!1);return T(he,{target:de.y,x:de.x})})),d.cleanSplit(),m(S,Le);var ze=fe,Ae=fe;S.forEach(function(he){var de=he.x,G=he.boxWidth;he=he.isHeader,he||(d.outside&&fe+de<ze&&(ze=fe+de),!he&&d.outside&&ze+G>Ae&&(Ae=fe+de))}),S.forEach(function(he){var de=he.x,G=he.anchorX,ce=he.pos,X=he.point.isHeader;if(ce={visibility:typeof ce>"u"?"hidden":"inherit",x:de,y:ce+ve,anchorX:G,anchorY:he.anchorY},d.outside&&de<G){var Q=fe-ze;0<Q&&(X||(ce.x=de+Q,ce.anchorX=G+Q),X&&(ce.x=(Ae-ze)/2,ce.anchorX=G+Q))}he.tt.attr(ce)}),S=d.container,j=d.renderer,d.outside&&S&&j&&(R=re.getBBox(),j.setSize(R.width+R.x,R.height+R.y,!1),S.style.left=ze+"px",S.style.top=N+"px")},O.prototype.drawTracker=function(){if(this.followPointer||!this.options.stickOnContact)this.tracker&&this.tracker.destroy();else{var S=this.chart,P=this.label,k=this.shared?S.hoverPoints:S.hoverPoint;if(P&&k){var d={x:0,y:0,width:0,height:0};k=this.getAnchor(k);var N=P.getBBox();k[0]+=S.plotLeft-P.translateX,k[1]+=S.plotTop-P.translateY,d.x=Math.min(0,k[0]),d.y=Math.min(0,k[1]),d.width=0>k[0]?Math.max(Math.abs(k[0]),N.width-k[0]):Math.max(Math.abs(k[0]),N.width),d.height=0>k[1]?Math.max(Math.abs(k[1]),N.height-Math.abs(k[1])):Math.max(Math.abs(k[1]),N.height),this.tracker?this.tracker.attr(d):(this.tracker=P.renderer.rect(d).addClass("highcharts-tracker").add(P),S.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}},O.prototype.styledModeFormat=function(S){return S.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex}"')},O.prototype.tooltipFooterHeaderFormatter=function(S,P){var k=S.series,d=k.tooltipOptions,N=k.xAxis,R=N&&N.dateTime;N={isFooter:P,labelConfig:S};var q=d.xDateFormat,ee=d[P?"footerFormat":"headerFormat"];return M(this,"headerFormatter",N,function(ue){R&&!q&&A(S.key)&&(q=R.getXDateFormat(S.key,d.dateTimeLabelFormats)),R&&q&&(S.point&&S.point.tooltipDateKeys||["key"]).forEach(function(ae){ee=ee.replace("{point."+ae+"}","{point."+ae+":"+q+"}")}),k.chart.styledMode&&(ee=this.styledModeFormat(ee)),ue.text=g(ee,{point:S,series:k},this.chart)}),N.text},O.prototype.update=function(S){this.destroy(),D(!0,this.chart.options.tooltip.userOptions,S),this.init(this.chart,D(!0,this.options,S))},O.prototype.updatePosition=function(S){var P=this.chart,k=this.options,d=P.pointer,N=this.getLabel();d=d.getChartPosition();var R=(k.positioner||this.getPosition).call(this,N.width,N.height,S),q=S.plotX+P.plotLeft;S=S.plotY+P.plotTop,this.outside&&(k=k.borderWidth+2*this.distance,this.renderer.setSize(N.width+k,N.height+k,!1),(d.scaleX!==1||d.scaleY!==1)&&(C(this.container,{transform:"scale("+d.scaleX+", "+d.scaleY+")"}),q*=d.scaleX,S*=d.scaleY),q+=d.left-R.x,S+=d.top-R.y),this.move(Math.round(R.x),Math.round(R.y||0),q,S)},O}(),r}),e(n,"Core/Series/Point.js",[n["Core/Renderer/HTML/AST.js"],n["Core/Animation/AnimationUtilities.js"],n["Core/DefaultOptions.js"],n["Core/FormatUtilities.js"],n["Core/Utilities.js"]],function(r,s,a,h,f){var g=s.animObject,p=a.defaultOptions,m=h.format,x=f.addEvent,v=f.defined,C=f.erase,w=f.extend,b=f.fireEvent,T=f.getNestedProperty,M=f.isArray,L=f.isFunction,A=f.isNumber,E=f.isObject,D=f.merge,B=f.objectEach,z=f.pick,I=f.syncTimeout,O=f.removeEvent,S=f.uniqueKey;return s=function(){function P(){this.colorIndex=this.category=void 0,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.series=void 0,this.visible=!0,this.x=void 0}return P.prototype.animateBeforeDestroy=function(){var k=this,d={x:k.startXPos,opacity:0},N=k.getGraphicalProps();N.singular.forEach(function(R){k[R]=k[R].animate(R==="dataLabel"?{x:k[R].startXPos,y:k[R].startYPos,opacity:0}:d)}),N.plural.forEach(function(R){k[R].forEach(function(q){q.element&&q.animate(w({x:k.startXPos},q.startYPos?{x:q.startXPos,y:q.startYPos}:{}))})})},P.prototype.applyOptions=function(k,d){var N=this.series,R=N.options.pointValKey||N.pointValKey;return k=P.prototype.optionsToObject.call(this,k),w(this,k),this.options=this.options?w(this.options,k):k,k.group&&delete this.group,k.dataLabels&&delete this.dataLabels,R&&(this.y=P.prototype.getNestedProperty.call(this,R)),this.formatPrefix=(this.isNull=z(this.isValid&&!this.isValid(),this.x===null||!A(this.y)))?"null":"point",this.selected&&(this.state="select"),"name"in this&&typeof d>"u"&&N.xAxis&&N.xAxis.hasNames&&(this.x=N.xAxis.nameToX(this)),typeof this.x>"u"&&N?this.x=typeof d>"u"?N.autoIncrement():d:A(k.x)&&N.options.relativeXValue&&(this.x=N.autoIncrement(k.x)),this},P.prototype.destroy=function(){function k(){(d.graphic||d.dataLabel||d.dataLabels)&&(O(d),d.destroyElements());for(ue in d)d[ue]=null}var d=this,N=d.series,R=N.chart;N=N.options.dataSorting;var q=R.hoverPoints,ee=g(d.series.chart.renderer.globalAnimation),ue;d.legendItem&&R.legend.destroyItem(d),q&&(d.setState(),C(q,d),q.length||(R.hoverPoints=null)),d===R.hoverPoint&&d.onMouseOut(),N&&N.enabled?(this.animateBeforeDestroy(),I(k,ee.duration)):k(),R.pointCount--},P.prototype.destroyElements=function(k){var d=this;k=d.getGraphicalProps(k),k.singular.forEach(function(N){d[N]=d[N].destroy()}),k.plural.forEach(function(N){d[N].forEach(function(R){R.element&&R.destroy()}),delete d[N]})},P.prototype.firePointEvent=function(k,d,N){var R=this,q=this.series.options;(q.point.events[k]||R.options&&R.options.events&&R.options.events[k])&&R.importEvents(),k==="click"&&q.allowPointSelect&&(N=function(ee){R.select&&R.select(null,ee.ctrlKey||ee.metaKey||ee.shiftKey)}),b(R,k,d,N)},P.prototype.getClassName=function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(typeof this.colorIndex<"u"?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},P.prototype.getGraphicalProps=function(k){var d=this,N=[],R={singular:[],plural:[]},q;for(k=k||{graphic:1,dataLabel:1},k.graphic&&N.push("graphic","upperGraphic","shadowGroup"),k.dataLabel&&N.push("dataLabel","dataLabelUpper","connector"),q=N.length;q--;){var ee=N[q];d[ee]&&R.singular.push(ee)}return["dataLabel","connector"].forEach(function(ue){var ae=ue+"s";k[ue]&&d[ae]&&R.plural.push(ae)}),R},P.prototype.getLabelConfig=function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},P.prototype.getNestedProperty=function(k){if(k)return k.indexOf("custom.")===0?T(k,this.options):this[k]},P.prototype.getZone=function(){var k=this.series,d=k.zones;k=k.zoneAxis||"y";var N,R=0;for(N=d[R];this[k]>=N.value;)N=d[++R];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=N&&N.color&&!this.options.color?N.color:this.nonZonedColor,N},P.prototype.hasNewShapeType=function(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType},P.prototype.init=function(k,d,N){return this.series=k,this.applyOptions(d,N),this.id=v(this.id)?this.id:S(),this.resolveColor(),k.chart.pointCount++,b(this,"afterInit"),this},P.prototype.optionsToObject=function(k){var d=this.series,N=d.options.keys,R=N||d.pointArrayMap||["y"],q=R.length,ee={},ue=0,ae=0;if(A(k)||k===null)ee[R[0]]=k;else if(M(k))for(!N&&k.length>q&&(d=typeof k[0],d==="string"?ee.name=k[0]:d==="number"&&(ee.x=k[0]),ue++);ae<q;)N&&typeof k[ue]>"u"||(0<R[ae].indexOf(".")?P.prototype.setNestedProperty(ee,k[ue],R[ae]):ee[R[ae]]=k[ue]),ue++,ae++;else typeof k=="object"&&(ee=k,k.dataLabels&&(d._hasPointLabels=!0),k.marker&&(d._hasPointMarkers=!0));return ee},P.prototype.resolveColor=function(){var k=this.series,d=k.chart.styledMode,N=k.chart.options.chart.colorCount;if(delete this.nonZonedColor,k.options.colorByPoint){if(!d){N=k.options.colors||k.chart.options.colors;var R=N[k.colorCounter];N=N.length}d=k.colorCounter,k.colorCounter++,k.colorCounter===N&&(k.colorCounter=0)}else d||(R=k.color),d=k.colorIndex;this.colorIndex=z(this.options.colorIndex,d),this.color=z(this.options.color,R)},P.prototype.setNestedProperty=function(k,d,N){return N.split(".").reduce(function(R,q,ee,ue){return R[q]=ue.length-1===ee?d:E(R[q],!0)?R[q]:{},R[q]},k),k},P.prototype.tooltipFormatter=function(k){var d=this.series,N=d.tooltipOptions,R=z(N.valueDecimals,""),q=N.valuePrefix||"",ee=N.valueSuffix||"";return d.chart.styledMode&&(k=d.chart.tooltip.styledModeFormat(k)),(d.pointArrayMap||["y"]).forEach(function(ue){ue="{point."+ue,(q||ee)&&(k=k.replace(RegExp(ue+"}","g"),q+ue+"}"+ee)),k=k.replace(RegExp(ue+"}","g"),ue+":,."+R+"f}")}),m(k,{point:this,series:this.series},d.chart)},P.prototype.update=function(k,d,N,R){function q(){ee.applyOptions(k);var H=ae&&ee.hasDummyGraphic;H=ee.y===null?!H:H,ae&&H&&(ee.graphic=ae.destroy(),delete ee.hasDummyGraphic),E(k,!0)&&(ae&&ae.element&&k&&k.marker&&typeof k.marker.symbol<"u"&&(ee.graphic=ae.destroy()),k&&k.dataLabels&&ee.dataLabel&&(ee.dataLabel=ee.dataLabel.destroy()),ee.connector&&(ee.connector=ee.connector.destroy())),j=ee.index,ue.updateParallelArrays(ee,j),ie.data[j]=E(ie.data[j],!0)||E(k,!0)?ee.options:z(k,ie.data[j]),ue.isDirty=ue.isDirtyData=!0,!ue.fixedBox&&ue.hasCartesianSeries&&($.isDirtyBox=!0),ie.legendType==="point"&&($.isDirtyLegend=!0),d&&$.redraw(N)}var ee=this,ue=ee.series,ae=ee.graphic,$=ue.chart,ie=ue.options,j;d=z(d,!0),R===!1?q():ee.firePointEvent("update",{options:k},q)},P.prototype.remove=function(k,d){this.series.removePoint(this.series.data.indexOf(this),k,d)},P.prototype.select=function(k,d){var N=this,R=N.series,q=R.chart;this.selectedStaging=k=z(k,!N.selected),N.firePointEvent(k?"select":"unselect",{accumulate:d},function(){N.selected=N.options.selected=k,R.options.data[R.data.indexOf(N)]=N.options,N.setState(k&&"select"),d||q.getSelectedPoints().forEach(function(ee){var ue=ee.series;ee.selected&&ee!==N&&(ee.selected=ee.options.selected=!1,ue.options.data[ue.data.indexOf(ee)]=ee.options,ee.setState(q.hoverPoints&&ue.options.inactiveOtherPoints?"inactive":""),ee.firePointEvent("unselect"))})}),delete this.selectedStaging},P.prototype.onMouseOver=function(k){var d=this.series.chart,N=d.pointer;k=k?N.normalize(k):N.getChartCoordinatesFromPoint(this,d.inverted),N.runPointActions(k,this)},P.prototype.onMouseOut=function(){var k=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(k.hoverPoints||[]).forEach(function(d){d.setState()}),k.hoverPoints=k.hoverPoint=null},P.prototype.importEvents=function(){if(!this.hasImportedEvents){var k=this,d=D(k.series.options.point,k.options).events;k.events=d,B(d,function(N,R){L(N)&&x(k,R,N)}),this.hasImportedEvents=!0}},P.prototype.setState=function(k,d){var N=this.series,R=this.state,q=N.options.states[k||"normal"]||{},ee=p.plotOptions[N.type].marker&&N.options.marker,ue=ee&&ee.enabled===!1,ae=ee&&ee.states&&ee.states[k||"normal"]||{},$=ae.enabled===!1,ie=this.marker||{},j=N.chart,H=ee&&N.markerAttribs,U=N.halo,Z,te=N.stateMarkerGraphic;if(k=k||"",!(k===this.state&&!d||this.selected&&k!=="select"||q.enabled===!1||k&&($||ue&&ae.enabled===!1)||k&&ie.states&&ie.states[k]&&ie.states[k].enabled===!1)){if(this.state=k,H&&(Z=N.markerAttribs(this,k)),this.graphic&&!this.hasDummyGraphic){if(R&&this.graphic.removeClass("highcharts-point-"+R),k&&this.graphic.addClass("highcharts-point-"+k),!j.styledMode){var ne=N.pointAttribs(this,k),_=z(j.options.chart.animation,q.animation);N.options.inactiveOtherPoints&&A(ne.opacity)&&((this.dataLabels||[]).forEach(function(K){K&&K.animate({opacity:ne.opacity},_)}),this.connector&&this.connector.animate({opacity:ne.opacity},_)),this.graphic.animate(ne,_)}Z&&this.graphic.animate(Z,z(j.options.chart.animation,ae.animation,ee.animation)),te&&te.hide()}else k&&ae&&(R=ie.symbol||N.symbol,te&&te.currentSymbol!==R&&(te=te.destroy()),Z&&(te?te[d?"animate":"attr"]({x:Z.x,y:Z.y}):R&&(N.stateMarkerGraphic=te=j.renderer.symbol(R,Z.x,Z.y,Z.width,Z.height).add(N.markerGroup),te.currentSymbol=R)),!j.styledMode&&te&&this.state!=="inactive"&&te.attr(N.pointAttribs(this,k))),te&&(te[k&&this.isInside?"show":"hide"](),te.element.point=this,te.addClass(this.getClassName(),!0));q=q.halo,Z=(te=this.graphic||te)&&te.visibility||"inherit",q&&q.size&&te&&Z!=="hidden"&&!this.isCluster?(U||(N.halo=U=j.renderer.path().add(te.parentGroup)),U.show()[d?"animate":"attr"]({d:this.haloPath(q.size)}),U.attr({class:"highcharts-halo highcharts-color-"+z(this.colorIndex,N.colorIndex)+(this.className?" "+this.className:""),visibility:Z,zIndex:-1}),U.point=this,j.styledMode||U.attr(w({fill:this.color||N.color,"fill-opacity":q.opacity},r.filterUserAttributes(q.attributes||{})))):U&&U.point&&U.point.haloPath&&U.animate({d:U.point.haloPath(0)},null,U.hide),b(this,"afterSetState",{state:k})}},P.prototype.haloPath=function(k){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-k,this.plotY-k,2*k,2*k)},P}(),s}),e(n,"Core/Pointer.js",[n["Core/Color/Color.js"],n["Core/Globals.js"],n["Core/Tooltip.js"],n["Core/Utilities.js"]],function(r,s,a,h){var f=r.parse,g=s.charts,p=s.noop,m=h.addEvent,x=h.attr,v=h.css,C=h.defined,w=h.extend,b=h.find,T=h.fireEvent,M=h.isNumber,L=h.isObject,A=h.objectEach,E=h.offset,D=h.pick,B=h.splat;return r=function(){function z(I,O){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=I,this.hasDragged=!1,this.options=O,this.init(I,O)}return z.prototype.applyInactiveState=function(I){var O=[],S;(I||[]).forEach(function(P){S=P.series,O.push(S),S.linkedParent&&O.push(S.linkedParent),S.linkedSeries&&(O=O.concat(S.linkedSeries)),S.navigatorSeries&&O.push(S.navigatorSeries)}),this.chart.series.forEach(function(P){O.indexOf(P)===-1?P.setState("inactive",!0):P.options.inactiveOtherPoints&&P.setAllPointsToState("inactive")})},z.prototype.destroy=function(){var I=this;this.eventsToUnbind.forEach(function(O){return O()}),this.eventsToUnbind=[],s.chartCount||(z.unbindDocumentMouseUp&&(z.unbindDocumentMouseUp=z.unbindDocumentMouseUp()),z.unbindDocumentTouchEnd&&(z.unbindDocumentTouchEnd=z.unbindDocumentTouchEnd())),clearInterval(I.tooltipTimeout),A(I,function(O,S){I[S]=void 0})},z.prototype.drag=function(I){var O=this.chart,S=O.options.chart,P=this.zoomHor,k=this.zoomVert,d=O.plotLeft,N=O.plotTop,R=O.plotWidth,q=O.plotHeight,ee=this.mouseDownX||0,ue=this.mouseDownY||0,ae=L(S.panning)?S.panning&&S.panning.enabled:S.panning,$=S.panKey&&I[S.panKey+"Key"],ie=I.chartX,j=I.chartY,H=this.selectionMarker;if((!H||!H.touch)&&(ie<d?ie=d:ie>d+R&&(ie=d+R),j<N?j=N:j>N+q&&(j=N+q),this.hasDragged=Math.sqrt(Math.pow(ee-ie,2)+Math.pow(ue-j,2)),10<this.hasDragged)){var U=O.isInsidePlot(ee-d,ue-N,{visiblePlotOnly:!0});!O.hasCartesianSeries&&!O.mapView||!this.zoomX&&!this.zoomY||!U||$||H||(this.selectionMarker=H=O.renderer.rect(d,N,P?1:R,k?1:q,0).attr({class:"highcharts-selection-marker",zIndex:7}).add(),O.styledMode||H.attr({fill:S.selectionMarkerFill||f("#335cad").setOpacity(.25).get()})),H&&P&&(P=ie-ee,H.attr({width:Math.abs(P),x:(0<P?0:P)+ee})),H&&k&&(P=j-ue,H.attr({height:Math.abs(P),y:(0<P?0:P)+ue})),U&&!H&&ae&&O.pan(I,S.panning)}},z.prototype.dragStart=function(I){var O=this.chart;O.mouseIsDown=I.type,O.cancelClick=!1,O.mouseDownX=this.mouseDownX=I.chartX,O.mouseDownY=this.mouseDownY=I.chartY},z.prototype.drop=function(I){var O=this,S=this.chart,P=this.hasPinched;if(this.selectionMarker){var k=this.selectionMarker,d=k.attr?k.attr("x"):k.x,N=k.attr?k.attr("y"):k.y,R=k.attr?k.attr("width"):k.width,q=k.attr?k.attr("height"):k.height,ee={originalEvent:I,xAxis:[],yAxis:[],x:d,y:N,width:R,height:q},ue=!!S.mapView;(this.hasDragged||P)&&(S.axes.forEach(function(ae){if(ae.zoomEnabled&&C(ae.min)&&(P||O[{xAxis:"zoomX",yAxis:"zoomY"}[ae.coll]])&&M(d)&&M(N)){var $=ae.horiz,ie=I.type==="touchend"?ae.minPixelPadding:0,j=ae.toValue(($?d:N)+ie);$=ae.toValue(($?d+R:N+q)-ie),ee[ae.coll].push({axis:ae,min:Math.min(j,$),max:Math.max(j,$)}),ue=!0}}),ue&&T(S,"selection",ee,function(ae){S.zoom(w(ae,P?{animation:!1}:null))})),M(S.index)&&(this.selectionMarker=this.selectionMarker.destroy()),P&&this.scaleGroups()}S&&M(S.index)&&(v(S.container,{cursor:S._cursor}),S.cancelClick=10<this.hasDragged,S.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},z.prototype.findNearestKDPoint=function(I,O,S){var P=this.chart,k=P.hoverPoint;if(P=P.tooltip,k&&P&&P.isStickyOnContact())return k;var d;return I.forEach(function(N){var R=!(N.noSharedTooltip&&O)&&0>N.options.findNearestPointBy.indexOf("y");if(N=N.searchPoint(S,R),(R=L(N,!0)&&N.series)&&!(R=!L(d,!0))){R=d.distX-N.distX;var q=d.dist-N.dist,ee=(N.series.group&&N.series.group.zIndex)-(d.series.group&&d.series.group.zIndex);R=0<(R!==0&&O?R:q!==0?q:ee!==0?ee:d.series.index>N.series.index?-1:1)}R&&(d=N)}),d},z.prototype.getChartCoordinatesFromPoint=function(I,O){var S=I.series,P=S.xAxis;S=S.yAxis;var k=I.shapeArgs;if(P&&S){var d=D(I.clientX,I.plotX),N=I.plotY||0;return I.isNode&&k&&M(k.x)&&M(k.y)&&(d=k.x,N=k.y),O?{chartX:S.len+S.pos-N,chartY:P.len+P.pos-d}:{chartX:d+P.pos,chartY:N+S.pos}}if(k&&k.x&&k.y)return{chartX:k.x,chartY:k.y}},z.prototype.getChartPosition=function(){if(this.chartPosition)return this.chartPosition;var I=this.chart.container,O=E(I);this.chartPosition={left:O.left,top:O.top,scaleX:1,scaleY:1};var S=I.offsetWidth;return I=I.offsetHeight,2<S&&2<I&&(this.chartPosition.scaleX=O.width/S,this.chartPosition.scaleY=O.height/I),this.chartPosition},z.prototype.getCoordinates=function(I){var O={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(S){O[S.isXAxis?"xAxis":"yAxis"].push({axis:S,value:S.toValue(I[S.horiz?"chartX":"chartY"])})}),O},z.prototype.getHoverData=function(I,O,S,P,k,d){var N=[];P=!(!P||!I);var R={chartX:d?d.chartX:void 0,chartY:d?d.chartY:void 0,shared:k};T(this,"beforeGetHoverData",R);var q=O&&!O.stickyTracking?[O]:S.filter(function(ue){return R.filter?R.filter(ue):ue.visible&&!(!k&&ue.directTouch)&&D(ue.options.enableMouseTracking,!0)&&ue.stickyTracking}),ee=P||!d?I:this.findNearestKDPoint(q,k,d);return O=ee&&ee.series,ee&&(k&&!O.noSharedTooltip?(q=S.filter(function(ue){return R.filter?R.filter(ue):ue.visible&&!(!k&&ue.directTouch)&&D(ue.options.enableMouseTracking,!0)&&!ue.noSharedTooltip}),q.forEach(function(ue){var ae=b(ue.points,function($){return $.x===ee.x&&!$.isNull});L(ae)&&(ue.chart.isBoosting&&(ae=ue.getPoint(ae)),N.push(ae))})):N.push(ee)),R={hoverPoint:ee},T(this,"afterGetHoverData",R),{hoverPoint:R.hoverPoint,hoverSeries:O,hoverPoints:N}},z.prototype.getPointFromEvent=function(I){I=I.target;for(var O;I&&!O;)O=I.point,I=I.parentNode;return O},z.prototype.onTrackerMouseOut=function(I){I=I.relatedTarget||I.toElement;var O=this.chart.hoverSeries;this.isDirectTouch=!1,!O||!I||O.stickyTracking||this.inClass(I,"highcharts-tooltip")||this.inClass(I,"highcharts-series-"+O.index)&&this.inClass(I,"highcharts-tracker")||O.onMouseOut()},z.prototype.inClass=function(I,O){for(var S;I;){if(S=x(I,"class")){if(S.indexOf(O)!==-1)return!0;if(S.indexOf("highcharts-container")!==-1)return!1}I=I.parentNode}},z.prototype.init=function(I,O){this.options=O,this.chart=I,this.runChartClick=!(!O.chart.events||!O.chart.events.click),this.pinchDown=[],this.lastValidTouch={},a&&(I.tooltip=new a(I,O.tooltip),this.followTouchMove=D(O.tooltip.followTouchMove,!0)),this.setDOMEvents()},z.prototype.normalize=function(I,O){var S=I.touches,P=S?S.length?S.item(0):D(S.changedTouches,I.changedTouches)[0]:I;return O||(O=this.getChartPosition()),S=P.pageX-O.left,P=P.pageY-O.top,S/=O.scaleX,P/=O.scaleY,w(I,{chartX:Math.round(S),chartY:Math.round(P)})},z.prototype.onContainerClick=function(I){var O=this.chart,S=O.hoverPoint;I=this.normalize(I);var P=O.plotLeft,k=O.plotTop;O.cancelClick||(S&&this.inClass(I.target,"highcharts-tracker")?(T(S.series,"click",w(I,{point:S})),O.hoverPoint&&S.firePointEvent("click",I)):(w(I,this.getCoordinates(I)),O.isInsidePlot(I.chartX-P,I.chartY-k,{visiblePlotOnly:!0})&&T(O,"click",I)))},z.prototype.onContainerMouseDown=function(I){var O=((I.buttons||I.button)&1)===1;I=this.normalize(I),s.isFirefox&&I.button!==0&&this.onContainerMouseMove(I),(typeof I.button>"u"||O)&&(this.zoomOption(I),O&&I.preventDefault&&I.preventDefault(),this.dragStart(I))},z.prototype.onContainerMouseLeave=function(I){var O=g[D(z.hoverChartIndex,-1)],S=this.chart.tooltip;S&&S.shouldStickOnContact()&&this.inClass(I.relatedTarget,"highcharts-tooltip-container")||(I=this.normalize(I),O&&(I.relatedTarget||I.toElement)&&(O.pointer.reset(),O.pointer.chartPosition=void 0),S&&!S.isHidden&&this.reset())},z.prototype.onContainerMouseEnter=function(I){delete this.chartPosition},z.prototype.onContainerMouseMove=function(I){var O=this.chart;I=this.normalize(I),this.setHoverChartIndex(),I.preventDefault||(I.returnValue=!1),(O.mouseIsDown==="mousedown"||this.touchSelect(I))&&this.drag(I),O.openMenu||!this.inClass(I.target,"highcharts-tracker")&&!O.isInsidePlot(I.chartX-O.plotLeft,I.chartY-O.plotTop,{visiblePlotOnly:!0})||(this.inClass(I.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(I))},z.prototype.onDocumentTouchEnd=function(I){var O=g[D(z.hoverChartIndex,-1)];O&&O.pointer.drop(I)},z.prototype.onContainerTouchMove=function(I){this.touchSelect(I)?this.onContainerMouseMove(I):this.touch(I)},z.prototype.onContainerTouchStart=function(I){this.touchSelect(I)?this.onContainerMouseDown(I):(this.zoomOption(I),this.touch(I,!0))},z.prototype.onDocumentMouseMove=function(I){var O=this.chart,S=this.chartPosition;I=this.normalize(I,S);var P=O.tooltip;!S||P&&P.isStickyOnContact()||O.isInsidePlot(I.chartX-O.plotLeft,I.chartY-O.plotTop,{visiblePlotOnly:!0})||this.inClass(I.target,"highcharts-tracker")||this.reset()},z.prototype.onDocumentMouseUp=function(I){var O=g[D(z.hoverChartIndex,-1)];O&&O.pointer.drop(I)},z.prototype.pinch=function(I){var O=this,S=O.chart,P=O.pinchDown,k=I.touches||[],d=k.length,N=O.lastValidTouch,R=O.hasZoom,q={},ee=d===1&&(O.inClass(I.target,"highcharts-tracker")&&S.runTrackerClick||O.runChartClick),ue={},ae=O.selectionMarker;1<d?O.initiated=!0:d===1&&this.followTouchMove&&(O.initiated=!1),R&&O.initiated&&!ee&&I.cancelable!==!1&&I.preventDefault(),[].map.call(k,function($){return O.normalize($)}),I.type==="touchstart"?([].forEach.call(k,function($,ie){P[ie]={chartX:$.chartX,chartY:$.chartY}}),N.x=[P[0].chartX,P[1]&&P[1].chartX],N.y=[P[0].chartY,P[1]&&P[1].chartY],S.axes.forEach(function($){if($.zoomEnabled){var ie=S.bounds[$.horiz?"h":"v"],j=$.minPixelPadding,H=$.toPixels(Math.min(D($.options.min,$.dataMin),$.dataMin)),U=$.toPixels(Math.max(D($.options.max,$.dataMax),$.dataMax)),Z=Math.max(H,U);ie.min=Math.min($.pos,Math.min(H,U)-j),ie.max=Math.max($.pos+$.len,Z+j)}}),O.res=!0):O.followTouchMove&&d===1?this.runPointActions(O.normalize(I)):P.length&&(T(S,"touchpan",{originalEvent:I},function(){ae||(O.selectionMarker=ae=w({destroy:p,touch:!0},S.plotBox)),O.pinchTranslate(P,k,q,ae,ue,N),O.hasPinched=R,O.scaleGroups(q,ue)}),O.res&&(O.res=!1,this.reset(!1,0)))},z.prototype.pinchTranslate=function(I,O,S,P,k,d){this.zoomHor&&this.pinchTranslateDirection(!0,I,O,S,P,k,d),this.zoomVert&&this.pinchTranslateDirection(!1,I,O,S,P,k,d)},z.prototype.pinchTranslateDirection=function(I,O,S,P,k,d,N,R){var q=this.chart,ee=I?"x":"y",ue=I?"X":"Y",ae="chart"+ue,$=I?"width":"height",ie=q["plot"+(I?"Left":"Top")],j=q.inverted,H=q.bounds[I?"h":"v"],U=O.length===1,Z=O[0][ae],te=!U&&O[1][ae];O=function(){typeof re=="number"&&20<Math.abs(Z-te)&&(K=R||Math.abs(V-re)/Math.abs(Z-te)),_=(ie-V)/K+Z,ne=q["plot"+(I?"Width":"Height")]/K};var ne,_,K=R||1,V=S[0][ae],re=!U&&S[1][ae];if(O(),S=_,S<H.min){S=H.min;var oe=!0}else S+ne>H.max&&(S=H.max-ne,oe=!0);oe?(V-=.8*(V-N[ee][0]),typeof re=="number"&&(re-=.8*(re-N[ee][1])),O()):N[ee]=[V,re],j||(d[ee]=_-ie,d[$]=ne),d=j?1/K:K,k[$]=ne,k[ee]=S,P[j?I?"scaleY":"scaleX":"scale"+ue]=K,P["translate"+ue]=d*ie+(V-d*Z)},z.prototype.reset=function(I,O){var S=this.chart,P=S.hoverSeries,k=S.hoverPoint,d=S.hoverPoints,N=S.tooltip,R=N&&N.shared?d:k;I&&R&&B(R).forEach(function(q){q.series.isCartesian&&typeof q.plotX>"u"&&(I=!1)}),I?N&&R&&B(R).length&&(N.refresh(R),N.shared&&d?d.forEach(function(q){q.setState(q.state,!0),q.series.isCartesian&&(q.series.xAxis.crosshair&&q.series.xAxis.drawCrosshair(null,q),q.series.yAxis.crosshair&&q.series.yAxis.drawCrosshair(null,q))}):k&&(k.setState(k.state,!0),S.axes.forEach(function(q){q.crosshair&&k.series[q.coll]===q&&q.drawCrosshair(null,k)}))):(k&&k.onMouseOut(),d&&d.forEach(function(q){q.setState()}),P&&P.onMouseOut(),N&&N.hide(O),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),S.axes.forEach(function(q){q.hideCrosshair()}),this.hoverX=S.hoverPoints=S.hoverPoint=null)},z.prototype.runPointActions=function(I,O){var S=this.chart,P=S.tooltip&&S.tooltip.options.enabled?S.tooltip:void 0,k=P?P.shared:!1,d=O||S.hoverPoint,N=d&&d.series||S.hoverSeries;O=this.getHoverData(d,N,S.series,(!I||I.type!=="touchmove")&&(!!O||N&&N.directTouch&&this.isDirectTouch),k,I),d=O.hoverPoint,N=O.hoverSeries;var R=O.hoverPoints;if(O=N&&N.tooltipOptions.followPointer&&!N.tooltipOptions.split,k=k&&N&&!N.noSharedTooltip,d&&(d!==S.hoverPoint||P&&P.isHidden)){if((S.hoverPoints||[]).forEach(function(q){R.indexOf(q)===-1&&q.setState()}),S.hoverSeries!==N&&N.onMouseOver(),this.applyInactiveState(R),(R||[]).forEach(function(q){q.setState("hover")}),S.hoverPoint&&S.hoverPoint.firePointEvent("mouseOut"),!d.series)return;S.hoverPoints=R,S.hoverPoint=d,d.firePointEvent("mouseOver"),P&&P.refresh(k?R:d,I)}else O&&P&&!P.isHidden&&(d=P.getAnchor([{}],I),S.isInsidePlot(d[0],d[1],{visiblePlotOnly:!0})&&P.updatePosition({plotX:d[0],plotY:d[1]}));this.unDocMouseMove||(this.unDocMouseMove=m(S.container.ownerDocument,"mousemove",function(q){var ee=g[z.hoverChartIndex];ee&&ee.pointer.onDocumentMouseMove(q)}),this.eventsToUnbind.push(this.unDocMouseMove)),S.axes.forEach(function(q){var ee=D((q.crosshair||{}).snap,!0),ue;ee&&((ue=S.hoverPoint)&&ue.series[q.coll]===q||(ue=b(R,function(ae){return ae.series[q.coll]===q}))),ue||!ee?q.drawCrosshair(I,ue):q.hideCrosshair()})},z.prototype.scaleGroups=function(I,O){var S=this.chart;S.series.forEach(function(P){var k=I||P.getPlotBox();P.group&&(P.xAxis&&P.xAxis.zoomEnabled||S.mapView)&&(P.group.attr(k),P.markerGroup&&(P.markerGroup.attr(k),P.markerGroup.clip(O?S.clipRect:null)),P.dataLabelsGroup&&P.dataLabelsGroup.attr(k))}),S.clipRect.attr(O||S.clipBox)},z.prototype.setDOMEvents=function(){var I=this,O=this.chart.container,S=O.ownerDocument;O.onmousedown=this.onContainerMouseDown.bind(this),O.onmousemove=this.onContainerMouseMove.bind(this),O.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(m(O,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(m(O,"mouseleave",this.onContainerMouseLeave.bind(this))),z.unbindDocumentMouseUp||(z.unbindDocumentMouseUp=m(S,"mouseup",this.onDocumentMouseUp.bind(this)));for(var P=this.chart.renderTo.parentElement;P&&P.tagName!=="BODY";)this.eventsToUnbind.push(m(P,"scroll",function(){delete I.chartPosition})),P=P.parentElement;s.hasTouch&&(this.eventsToUnbind.push(m(O,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(m(O,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),z.unbindDocumentTouchEnd||(z.unbindDocumentTouchEnd=m(S,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))},z.prototype.setHoverChartIndex=function(){var I=this.chart,O=s.charts[D(z.hoverChartIndex,-1)];O&&O!==I&&O.pointer.onContainerMouseLeave({relatedTarget:!0}),O&&O.mouseIsDown||(z.hoverChartIndex=I.index)},z.prototype.touch=function(I,O){var S=this.chart,P;if(this.setHoverChartIndex(),I.touches.length===1)if(I=this.normalize(I),(P=S.isInsidePlot(I.chartX-S.plotLeft,I.chartY-S.plotTop,{visiblePlotOnly:!0}))&&!S.openMenu){if(O&&this.runPointActions(I),I.type==="touchmove"){O=this.pinchDown;var k=O[0]?4<=Math.sqrt(Math.pow(O[0].chartX-I.chartX,2)+Math.pow(O[0].chartY-I.chartY,2)):!1}D(k,!0)&&this.pinch(I)}else O&&this.reset();else I.touches.length===2&&this.pinch(I)},z.prototype.touchSelect=function(I){return!(!this.chart.options.chart.zoomBySingleTouch||!I.touches||I.touches.length!==1)},z.prototype.zoomOption=function(I){var O=this.chart,S=O.options.chart;O=O.inverted;var P=S.zoomType||"";/touch/.test(I.type)&&(P=D(S.pinchType,P)),this.zoomX=I=/x/.test(P),this.zoomY=S=/y/.test(P),this.zoomHor=I&&!O||S&&O,this.zoomVert=S&&!O||I&&O,this.hasZoom=I||S},z}(),r}),e(n,"Core/MSPointer.js",[n["Core/Globals.js"],n["Core/Pointer.js"],n["Core/Utilities.js"]],function(r,s,a){function h(){var A=[];return A.item=function(E){return this[E]},b(M,function(E){A.push({pageX:E.pageX,pageY:E.pageY,target:E.target})}),A}function f(A,E,D,B){var z=p[s.hoverChartIndex||NaN];A.pointerType!=="touch"&&A.pointerType!==A.MSPOINTER_TYPE_TOUCH||!z||(z=z.pointer,B(A),z[E]({type:D,target:A.currentTarget,preventDefault:x,touches:h()}))}var g=this&&this.__extends||function(){var A=function(E,D){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,z){B.__proto__=z}||function(B,z){for(var I in z)z.hasOwnProperty(I)&&(B[I]=z[I])},A(E,D)};return function(E,D){function B(){this.constructor=E}A(E,D),E.prototype=D===null?Object.create(D):(B.prototype=D.prototype,new B)}}(),p=r.charts,m=r.doc,x=r.noop,v=r.win,C=a.addEvent,w=a.css,b=a.objectEach,T=a.removeEvent,M={},L=!!v.PointerEvent;return function(A){function E(){return A!==null&&A.apply(this,arguments)||this}return g(E,A),E.isRequired=function(){return!(r.hasTouch||!v.PointerEvent&&!v.MSPointerEvent)},E.prototype.batchMSEvents=function(D){D(this.chart.container,L?"pointerdown":"MSPointerDown",this.onContainerPointerDown),D(this.chart.container,L?"pointermove":"MSPointerMove",this.onContainerPointerMove),D(m,L?"pointerup":"MSPointerUp",this.onDocumentPointerUp)},E.prototype.destroy=function(){this.batchMSEvents(T),A.prototype.destroy.call(this)},E.prototype.init=function(D,B){A.prototype.init.call(this,D,B),this.hasZoom&&w(D.container,{"-ms-touch-action":"none","touch-action":"none"})},E.prototype.onContainerPointerDown=function(D){f(D,"onContainerTouchStart","touchstart",function(B){M[B.pointerId]={pageX:B.pageX,pageY:B.pageY,target:B.currentTarget}})},E.prototype.onContainerPointerMove=function(D){f(D,"onContainerTouchMove","touchmove",function(B){M[B.pointerId]={pageX:B.pageX,pageY:B.pageY},M[B.pointerId].target||(M[B.pointerId].target=B.currentTarget)})},E.prototype.onDocumentPointerUp=function(D){f(D,"onDocumentTouchEnd","touchend",function(B){delete M[B.pointerId]})},E.prototype.setDOMEvents=function(){A.prototype.setDOMEvents.call(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(C)},E}(s)}),e(n,"Core/Legend/Legend.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/FormatUtilities.js"],n["Core/Globals.js"],n["Core/Series/Point.js"],n["Core/Renderer/RendererUtilities.js"],n["Core/Utilities.js"]],function(r,s,a,h,f,g){var p=r.animObject,m=r.setAnimation,x=s.format;r=a.isFirefox;var v=a.marginNames;a=a.win;var C=f.distribute,w=g.addEvent,b=g.createElement,T=g.css,M=g.defined,L=g.discardElement,A=g.find,E=g.fireEvent,D=g.isNumber,B=g.merge,z=g.pick,I=g.relativeLength,O=g.stableSort,S=g.syncTimeout;return f=g.wrap,g=function(){function P(k,d){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options={},this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=k,this.init(k,d)}return P.prototype.init=function(k,d){this.chart=k,this.setOptions(d),d.enabled&&(this.render(),w(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=w(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},P.prototype.setOptions=function(k){var d=z(k.padding,8);this.options=k,this.chart.styledMode||(this.itemStyle=k.itemStyle,this.itemHiddenStyle=B(this.itemStyle,k.itemHiddenStyle)),this.itemMarginTop=k.itemMarginTop||0,this.itemMarginBottom=k.itemMarginBottom||0,this.padding=d,this.initialItemY=d-5,this.symbolWidth=z(k.symbolWidth,16),this.pages=[],this.proximate=k.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0},P.prototype.update=function(k,d){var N=this.chart;this.setOptions(B(!0,this.options,k)),this.destroy(),N.isDirtyLegend=N.isDirtyBox=!0,z(d,!0)&&N.redraw(),E(this,"afterUpdate")},P.prototype.colorizeItem=function(k,d){if(k.legendGroup[d?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var N=this.options,R=k.legendItem,q=k.legendLine,ee=k.legendSymbol,ue=this.itemHiddenStyle.color;N=d?N.itemStyle.color:ue;var ae=d&&k.color||ue,$=k.options&&k.options.marker,ie={fill:ae};R&&R.css({fill:N,color:N}),q&&q.attr({stroke:ae}),ee&&($&&ee.isMarker&&(ie=k.pointAttribs(),d||(ie.stroke=ie.fill=ue)),ee.attr(ie))}E(this,"afterColorizeItem",{item:k,visible:d})},P.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},P.prototype.positionItem=function(k){var d=this,N=this.options,R=N.symbolPadding,q=!N.rtl,ee=k._legendItemPos;N=ee[0],ee=ee[1];var ue=k.checkbox,ae=k.legendGroup;ae&&ae.element&&(R={translateX:q?N:this.legendWidth-N-2*R-4,translateY:ee},q=function(){E(d,"afterPositionItem",{item:k})},M(ae.translateY)?ae.animate(R,void 0,q):(ae.attr(R),q())),ue&&(ue.x=N,ue.y=ee)},P.prototype.destroyItem=function(k){var d=k.checkbox;["legendItem","legendLine","legendSymbol","legendGroup"].forEach(function(N){k[N]&&(k[N]=k[N].destroy())}),d&&L(k.checkbox)},P.prototype.destroy=function(){function k(d){this[d]&&(this[d]=this[d].destroy())}this.getAllItems().forEach(function(d){["legendItem","legendGroup"].forEach(k,d)}),"clipRect up down pager nav box title group".split(" ").forEach(k,this),this.display=null},P.prototype.positionCheckboxes=function(){var k=this.group&&this.group.alignAttr,d=this.clipHeight||this.legendHeight,N=this.titleHeight;if(k){var R=k.translateY;this.allItems.forEach(function(q){var ee=q.checkbox;if(ee){var ue=R+N+ee.y+(this.scrollOffset||0)+3;T(ee,{left:k.translateX+q.checkboxOffset+ee.x-20+"px",top:ue+"px",display:this.proximate||ue>R-6&&ue<R+d-6?"":"none"})}},this)}},P.prototype.renderTitle=function(){var k=this.options,d=this.padding,N=k.title,R=0;N.text&&(this.title||(this.title=this.chart.renderer.label(N.text,d-3,d-4,null,null,null,k.useHTML,null,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(N.style),this.title.add(this.group)),N.width||this.title.css({width:this.maxLegendWidth+"px"}),k=this.title.getBBox(),R=k.height,this.offsetWidth=k.width,this.contentGroup.attr({translateY:R})),this.titleHeight=R},P.prototype.setText=function(k){var d=this.options;k.legendItem.attr({text:d.labelFormat?x(d.labelFormat,k,this.chart):d.labelFormatter.call(k)})},P.prototype.renderItem=function(k){var d=this.chart,N=d.renderer,R=this.options,q=this.symbolWidth,ee=R.symbolPadding||0,ue=this.itemStyle,ae=this.itemHiddenStyle,$=R.layout==="horizontal"?z(R.itemDistance,20):0,ie=!R.rtl,j=!k.series,H=!j&&k.series.drawLegendSymbol?k.series:k,U=H.options,Z=this.createCheckboxForItem&&U&&U.showCheckbox,te=R.useHTML,ne=k.options.className,_=k.legendItem;U=q+ee+$+(Z?20:0),_||(k.legendGroup=N.g("legend-item").addClass("highcharts-"+H.type+"-series highcharts-color-"+k.colorIndex+(ne?" "+ne:"")+(j?" highcharts-series-"+k.index:"")).attr({zIndex:1}).add(this.scrollGroup),k.legendItem=_=N.text("",ie?q+ee:-ee,this.baseline||0,te),d.styledMode||_.css(B(k.visible?ue:ae)),_.attr({align:ie?"left":"right",zIndex:2}).add(k.legendGroup),this.baseline||(this.fontMetrics=N.fontMetrics(d.styledMode?12:ue.fontSize,_),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,_.attr("y",this.baseline),this.symbolHeight=R.symbolHeight||this.fontMetrics.f,R.squareSymbol&&(this.symbolWidth=z(R.symbolWidth,Math.max(this.symbolHeight,16)),U=this.symbolWidth+ee+$+(Z?20:0),ie&&_.attr("x",this.symbolWidth+ee))),H.drawLegendSymbol(this,k),this.setItemEvents&&this.setItemEvents(k,_,te)),Z&&!k.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(k),this.colorizeItem(k,k.visible),!d.styledMode&&ue.width||_.css({width:(R.itemWidth||this.widthOption||d.spacingBox.width)-U+"px"}),this.setText(k),d=_.getBBox(),N=this.fontMetrics&&this.fontMetrics.h||0,k.itemWidth=k.checkboxOffset=R.itemWidth||k.legendItemWidth||d.width+U,this.maxItemWidth=Math.max(this.maxItemWidth,k.itemWidth),this.totalItemWidth+=k.itemWidth,this.itemHeight=k.itemHeight=Math.round(k.legendItemHeight||(d.height>1.5*N?d.height:N))},P.prototype.layoutItem=function(k){var d=this.options,N=this.padding,R=d.layout==="horizontal",q=k.itemHeight,ee=this.itemMarginBottom,ue=this.itemMarginTop,ae=R?z(d.itemDistance,20):0,$=this.maxLegendWidth;d=d.alignColumns&&this.totalItemWidth>$?this.maxItemWidth:k.itemWidth,R&&this.itemX-N+d>$&&(this.itemX=N,this.lastLineHeight&&(this.itemY+=ue+this.lastLineHeight+ee),this.lastLineHeight=0),this.lastItemY=ue+this.itemY+ee,this.lastLineHeight=Math.max(q,this.lastLineHeight),k._legendItemPos=[this.itemX,this.itemY],R?this.itemX+=d:(this.itemY+=ue+q+ee,this.lastLineHeight=q),this.offsetWidth=this.widthOption||Math.max((R?this.itemX-N-(k.checkbox?0:ae):d)+N,this.offsetWidth)},P.prototype.getAllItems=function(){var k=[];return this.chart.series.forEach(function(d){var N=d&&d.options;d&&z(N.showInLegend,M(N.linkedTo)?!1:void 0,!0)&&(k=k.concat(d.legendItems||(N.legendType==="point"?d.data:d)))}),E(this,"afterGetAllItems",{allItems:k}),k},P.prototype.getAlignment=function(){var k=this.options;return this.proximate?k.align.charAt(0)+"tv":k.floating?"":k.align.charAt(0)+k.verticalAlign.charAt(0)+k.layout.charAt(0)},P.prototype.adjustMargins=function(k,d){var N=this.chart,R=this.options,q=this.getAlignment();q&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(ee,ue){ee.test(q)&&!M(k[ue])&&(N[v[ue]]=Math.max(N[v[ue]],N.legend[(ue+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][ue]*R[ue%2?"x":"y"]+z(R.margin,12)+d[ue]+(N.titleOffset[ue]||0)))})},P.prototype.proximatePositions=function(){var k=this.chart,d=[],N=this.options.align==="left";this.allItems.forEach(function(R){var q,ee=N;if(R.yAxis){R.xAxis.options.reversed&&(ee=!ee),R.points&&(q=A(ee?R.points:R.points.slice(0).reverse(),function(ae){return D(ae.plotY)})),ee=this.itemMarginTop+R.legendItem.getBBox().height+this.itemMarginBottom;var ue=R.yAxis.top-k.plotTop;R.visible?(q=q?q.plotY:R.yAxis.height,q+=ue-.3*ee):q=ue+R.yAxis.height,d.push({target:q,size:ee,item:R})}},this),C(d,k.plotHeight).forEach(function(R){R.item._legendItemPos&&(R.item._legendItemPos[1]=k.plotTop-k.spacing[0]+R.pos)})},P.prototype.render=function(){var k=this.chart,d=k.renderer,N=this.options,R=this.padding,q=this.getAllItems(),ee=this.group,ue=this.box;this.itemX=R,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=I(N.width,k.spacingBox.width-R);var ae=k.spacingBox.width-2*R-N.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(ae/=2),this.maxLegendWidth=this.widthOption||ae,ee||(this.group=ee=d.g("legend").addClass(N.className||"").attr({zIndex:7}).add(),this.contentGroup=d.g().attr({zIndex:1}).add(ee),this.scrollGroup=d.g().add(this.contentGroup)),this.renderTitle(),O(q,function(ie,j){return(ie.options&&ie.options.legendIndex||0)-(j.options&&j.options.legendIndex||0)}),N.reversed&&q.reverse(),this.allItems=q,this.display=ae=!!q.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,q.forEach(this.renderItem,this),q.forEach(this.layoutItem,this),q=(this.widthOption||this.offsetWidth)+R;var $=this.lastItemY+this.lastLineHeight+this.titleHeight;$=this.handleOverflow($),$+=R,ue||(this.box=ue=d.rect().addClass("highcharts-legend-box").attr({r:N.borderRadius}).add(ee),ue.isNew=!0),k.styledMode||ue.attr({stroke:N.borderColor,"stroke-width":N.borderWidth||0,fill:N.backgroundColor||"none"}).shadow(N.shadow),0<q&&0<$&&(ue[ue.isNew?"attr":"animate"](ue.crisp.call({},{x:0,y:0,width:q,height:$},ue.strokeWidth())),ue.isNew=!1),ue[ae?"show":"hide"](),k.styledMode&&ee.getStyle("display")==="none"&&(q=$=0),this.legendWidth=q,this.legendHeight=$,ae&&this.align(),this.proximate||this.positionItems(),E(this,"afterRender")},P.prototype.align=function(k){k===void 0&&(k=this.chart.spacingBox);var d=this.chart,N=this.options,R=k.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<d.titleOffset[0]?R+=d.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<d.titleOffset[2]&&(R-=d.titleOffset[2]),R!==k.y&&(k=B(k,{y:R})),this.group.align(B(N,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":N.verticalAlign}),!0,k)},P.prototype.handleOverflow=function(k){var d=this,N=this.chart,R=N.renderer,q=this.options,ee=q.y,ue=q.verticalAlign==="top",ae=this.padding,$=q.maxHeight,ie=q.navigation,j=z(ie.animation,!0),H=ie.arrowSize||12,U=this.pages,Z=this.allItems,te=function(oe){typeof oe=="number"?re.attr({height:oe}):re&&(d.clipRect=re.destroy(),d.contentGroup.clip()),d.contentGroup.div&&(d.contentGroup.div.style.clip=oe?"rect("+ae+"px,9999px,"+(ae+oe)+"px,0)":"auto")},ne=function(oe){return d[oe]=R.circle(0,0,1.3*H).translate(H/2,H/2).add(V),N.styledMode||d[oe].attr("fill","rgba(0,0,0,0.0001)"),d[oe]},_,K;ee=N.spacingBox.height+(ue?-ee:ee)-ae;var V=this.nav,re=this.clipRect;return q.layout!=="horizontal"||q.verticalAlign==="middle"||q.floating||(ee/=2),$&&(ee=Math.min(ee,$)),U.length=0,k&&0<ee&&k>ee&&ie.enabled!==!1?(this.clipHeight=_=Math.max(ee-20-this.titleHeight-ae,0),this.currentPage=z(this.currentPage,1),this.fullHeight=k,Z.forEach(function(oe,ge){var fe=oe._legendItemPos[1],ve=Math.round(oe.legendItem.getBBox().height),me=U.length;(!me||fe-U[me-1]>_&&(K||fe)!==U[me-1])&&(U.push(K||fe),me++),oe.pageIx=me-1,K&&(Z[ge-1].pageIx=me-1),ge===Z.length-1&&fe+ve-U[me-1]>_&&ve<=_&&(U.push(fe),oe.pageIx=me),fe!==K&&(K=fe)}),re||(re=d.clipRect=R.clipRect(0,ae,9999,0),d.contentGroup.clip(re)),te(_),V||(this.nav=V=R.g().attr({zIndex:1}).add(this.group),this.up=R.symbol("triangle",0,0,H,H).add(V),ne("upTracker").on("click",function(){d.scroll(-1,j)}),this.pager=R.text("",15,10).addClass("highcharts-legend-navigation"),N.styledMode||this.pager.css(ie.style),this.pager.add(V),this.down=R.symbol("triangle-down",0,0,H,H).add(V),ne("downTracker").on("click",function(){d.scroll(1,j)})),d.scroll(0),k=ee):V&&(te(),this.nav=V.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),k},P.prototype.scroll=function(k,d){var N=this,R=this.chart,q=this.pages,ee=q.length,ue=this.clipHeight,ae=this.options.navigation,$=this.pager,ie=this.padding,j=this.currentPage+k;j>ee&&(j=ee),0<j&&(typeof d<"u"&&m(d,R),this.nav.attr({translateX:ie,translateY:ue+this.padding+7+this.titleHeight,visibility:"visible"}),[this.up,this.upTracker].forEach(function(H){H.attr({class:j===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),$.attr({text:j+"/"+ee}),[this.down,this.downTracker].forEach(function(H){H.attr({x:18+this.pager.getBBox().width,class:j===ee?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),R.styledMode||(this.up.attr({fill:j===1?ae.inactiveColor:ae.activeColor}),this.upTracker.css({cursor:j===1?"default":"pointer"}),this.down.attr({fill:j===ee?ae.inactiveColor:ae.activeColor}),this.downTracker.css({cursor:j===ee?"default":"pointer"})),this.scrollOffset=-q[j-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=j,this.positionCheckboxes(),k=p(z(d,R.renderer.globalAnimation,!0)),S(function(){E(N,"afterScroll",{currentPage:j})},k.duration))},P.prototype.setItemEvents=function(k,d,N){var R=this,q=R.chart.renderer.boxWrapper,ee=k instanceof h,ue="highcharts-legend-"+(ee?"point":"series")+"-active",ae=R.chart.styledMode,$=function(ie){R.allItems.forEach(function(j){k!==j&&[j].concat(j.linkedSeries||[]).forEach(function(H){H.setState(ie,!ee)})})};(N?[d,k.legendSymbol]:[k.legendGroup]).forEach(function(ie){ie&&ie.on("mouseover",function(){k.visible&&$("inactive"),k.setState("hover"),k.visible&&q.addClass(ue),ae||d.css(R.options.itemHoverStyle)}).on("mouseout",function(){R.chart.styledMode||d.css(B(k.visible?R.itemStyle:R.itemHiddenStyle)),$(""),q.removeClass(ue),k.setState()}).on("click",function(j){var H=function(){k.setVisible&&k.setVisible(),$(k.visible?"inactive":"")};q.removeClass(ue),j={browserEvent:j},k.firePointEvent?k.firePointEvent("legendItemClick",j,H):E(k,"legendItemClick",j,H)})})},P.prototype.createCheckboxForItem=function(k){k.checkbox=b("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:k.selected,defaultChecked:k.selected},this.options.itemCheckboxStyle,this.chart.container),w(k.checkbox,"click",function(d){E(k.series||k,"checkboxClick",{checked:d.target.checked,item:k},function(){k.select()})})},P}(),(/Trident\/7\.0/.test(a.navigator&&a.navigator.userAgent)||r)&&f(g.prototype,"positionItem",function(P,k){var d=this,N=function(){k._legendItemPos&&P.call(d,k)};N(),d.bubbleLegend||setTimeout(N)}),g}),e(n,"Core/Series/SeriesRegistry.js",[n["Core/Globals.js"],n["Core/DefaultOptions.js"],n["Core/Series/Point.js"],n["Core/Utilities.js"]],function(r,s,a,h){var f=s.defaultOptions,g=h.error,p=h.extendClass,m=h.merge,x;return function(v){function C(w,b){var T=f.plotOptions||{},M=b.defaultOptions;b.prototype.pointClass||(b.prototype.pointClass=a),b.prototype.type=w,M&&(T[w]=M),v.seriesTypes[w]=b}v.seriesTypes=r.seriesTypes,v.getSeries=function(w,b){b===void 0&&(b={});var T=w.options.chart;T=b.type||T.type||T.defaultSeriesType||"";var M=v.seriesTypes[T];return v||g(17,!0,w,{missingModuleFor:T}),T=new M,typeof T.init=="function"&&T.init(w,b),T},v.registerSeriesType=C,v.seriesType=function(w,b,T,M,L){var A=f.plotOptions||{};return b=b||"",A[w]=m(A[b],T),C(w,p(v.seriesTypes[b]||function(){},M)),v.seriesTypes[w].prototype.type=w,L&&(v.seriesTypes[w].prototype.pointClass=p(a,L)),v.seriesTypes[w]}}(x||(x={})),x}),e(n,"Core/Chart/Chart.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Axis/Axis.js"],n["Core/FormatUtilities.js"],n["Core/Foundation.js"],n["Core/Globals.js"],n["Core/Legend/Legend.js"],n["Core/MSPointer.js"],n["Core/DefaultOptions.js"],n["Core/Pointer.js"],n["Core/Renderer/RendererRegistry.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Renderer/SVG/SVGRenderer.js"],n["Core/Time.js"],n["Core/Utilities.js"],n["Core/Renderer/HTML/AST.js"]],function(r,s,a,h,f,g,p,m,x,v,C,w,b,T,M){var L=r.animate,A=r.animObject,E=r.setAnimation,D=a.numberFormat,B=h.registerEventOptions,z=f.charts,I=f.doc,O=f.marginNames,S=f.svg,P=f.win,k=m.defaultOptions,d=m.defaultTime,N=C.seriesTypes,R=T.addEvent,q=T.attr,ee=T.cleanRecursively,ue=T.createElement,ae=T.css,$=T.defined,ie=T.discardElement,j=T.erase,H=T.error,U=T.extend,Z=T.find,te=T.fireEvent,ne=T.getStyle,_=T.isArray,K=T.isNumber,V=T.isObject,re=T.isString,oe=T.merge,ge=T.objectEach,fe=T.pick,ve=T.pInt,me=T.relativeLength,Le=T.removeEvent,ze=T.splat,Ae=T.syncTimeout,he=T.uniqueKey;return r=function(){function de(G,ce,X){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.legend=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(G,ce,X)}return de.chart=function(G,ce,X){return new de(G,ce,X)},de.prototype.getArgs=function(G,ce,X){re(G)||G.nodeName?(this.renderTo=G,this.init(ce,X)):this.init(G,ce)},de.prototype.init=function(G,ce){var X=G.plotOptions||{};te(this,"init",{args:arguments},function(){var Q=oe(k,G),le=Q.chart;ge(Q.plotOptions,function(ye,ke){V(ye)&&(ye.tooltip=X[ke]&&oe(X[ke].tooltip)||void 0)}),Q.tooltip.userOptions=G.chart&&G.chart.forExport&&G.tooltip.userOptions||G.tooltip,this.userOptions=G,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=ce,this.isResizing=0,this.options=Q,this.axes=[],this.series=[],this.time=G.time&&Object.keys(G.time).length?new b(G.time):f.time,this.numberFormatter=le.numberFormatter||D,this.styledMode=le.styledMode,this.hasCartesianSeries=le.showAxes,this.index=z.length,z.push(this),f.chartCount++,B(this,le),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,te(this,"afterInit"),this.firstRender()})},de.prototype.initSeries=function(G){var ce=this.options.chart;ce=G.type||ce.type||ce.defaultSeriesType;var X=N[ce];return X||H(17,!0,this,{missingModuleFor:ce}),ce=new X,typeof ce.init=="function"&&ce.init(this,G),ce},de.prototype.setSeriesData=function(){this.getSeriesOrderByLinks().forEach(function(G){G.points||G.data||!G.enabledDataSorting||G.setData(G.options.data,!1)})},de.prototype.getSeriesOrderByLinks=function(){return this.series.concat().sort(function(G,ce){return G.linkedSeries.length||ce.linkedSeries.length?ce.linkedSeries.length-G.linkedSeries.length:0})},de.prototype.orderSeries=function(G){var ce=this.series;G=G||0;for(var X=ce.length;G<X;++G)ce[G]&&(ce[G].index=G,ce[G].name=ce[G].getName())},de.prototype.isInsidePlot=function(G,ce,X){X===void 0&&(X={});var Q=this.inverted,le=this.plotBox,ye=this.plotLeft,ke=this.plotTop,Ce=this.scrollablePlotBox,Re=0,Oe=0;X.visiblePlotOnly&&this.scrollingContainer&&(Oe=this.scrollingContainer,Re=Oe.scrollLeft,Oe=Oe.scrollTop);var Me=X.series;if(le=X.visiblePlotOnly&&Ce||le,Ce=X.inverted?ce:G,ce=X.inverted?G:ce,G={x:Ce,y:ce,isInsidePlot:!0},!X.ignoreX){var _e=Me&&(Q?Me.yAxis:Me.xAxis)||{pos:ye,len:1/0};Ce=X.paneCoordinates?_e.pos+Ce:ye+Ce,Ce>=Math.max(Re+ye,_e.pos)&&Ce<=Math.min(Re+ye+le.width,_e.pos+_e.len)||(G.isInsidePlot=!1)}return!X.ignoreY&&G.isInsidePlot&&(Q=Me&&(Q?Me.xAxis:Me.yAxis)||{pos:ke,len:1/0},X=X.paneCoordinates?Q.pos+ce:ke+ce,X>=Math.max(Oe+ke,Q.pos)&&X<=Math.min(Oe+ke+le.height,Q.pos+Q.len)||(G.isInsidePlot=!1)),te(this,"afterIsInsidePlot",G),G.isInsidePlot},de.prototype.redraw=function(G){te(this,"beforeRedraw");var ce=this.hasCartesianSeries?this.axes:this.colorAxis||[],X=this.series,Q=this.pointer,le=this.legend,ye=this.userOptions.legend,ke=this.renderer,Ce=ke.isHidden(),Re=[],Oe=this.isDirtyBox,Me=this.isDirtyLegend;for(this.setResponsive&&this.setResponsive(!1),E(this.hasRendered?G:!1,this),Ce&&this.temporaryDisplay(),this.layOutTitles(),G=X.length;G--;){var _e=X[G];if(_e.options.stacking||_e.options.centerInCategory){var Ve=!0;if(_e.isDirty){var Pe=!0;break}}}if(Pe)for(G=X.length;G--;)_e=X[G],_e.options.stacking&&(_e.isDirty=!0);X.forEach(function(He){He.isDirty&&(He.options.legendType==="point"?(typeof He.updateTotals=="function"&&He.updateTotals(),Me=!0):ye&&(ye.labelFormatter||ye.labelFormat)&&(Me=!0)),He.isDirtyData&&te(He,"updatedData")}),Me&&le&&le.options.enabled&&(le.render(),this.isDirtyLegend=!1),Ve&&this.getStacks(),ce.forEach(function(He){He.updateNames(),He.setScale()}),this.getMargins(),ce.forEach(function(He){He.isDirty&&(Oe=!0)}),ce.forEach(function(He){var nt=He.min+","+He.max;He.extKey!==nt&&(He.extKey=nt,Re.push(function(){te(He,"afterSetExtremes",U(He.eventArgs,He.getExtremes())),delete He.eventArgs})),(Oe||Ve)&&He.redraw()}),Oe&&this.drawChartBox(),te(this,"predraw"),X.forEach(function(He){(Oe||He.isDirty)&&He.visible&&He.redraw(),He.isDirtyData=!1}),Q&&Q.reset(!0),ke.draw(),te(this,"redraw"),te(this,"render"),Ce&&this.temporaryDisplay(!0),Re.forEach(function(He){He.call()})},de.prototype.get=function(G){function ce(ye){return ye.id===G||ye.options&&ye.options.id===G}for(var X=this.series,Q=Z(this.axes,ce)||Z(this.series,ce),le=0;!Q&&le<X.length;le++)Q=Z(X[le].points||[],ce);return Q},de.prototype.getAxes=function(){var G=this,ce=this.options,X=ce.xAxis=ze(ce.xAxis||{});ce=ce.yAxis=ze(ce.yAxis||{}),te(this,"getAxes"),X.forEach(function(Q,le){Q.index=le,Q.isX=!0}),ce.forEach(function(Q,le){Q.index=le}),X.concat(ce).forEach(function(Q){new s(G,Q)}),te(this,"afterGetAxes")},de.prototype.getSelectedPoints=function(){return this.series.reduce(function(G,ce){return ce.getPointsCollection().forEach(function(X){fe(X.selectedStaging,X.selected)&&G.push(X)}),G},[])},de.prototype.getSelectedSeries=function(){return this.series.filter(function(G){return G.selected})},de.prototype.setTitle=function(G,ce,X){this.applyDescription("title",G),this.applyDescription("subtitle",ce),this.applyDescription("caption",void 0),this.layOutTitles(X)},de.prototype.applyDescription=function(G,ce){var X=this,Q=G==="title"?{color:"#333333",fontSize:this.options.isStock?"16px":"18px"}:{color:"#666666"};Q=this.options[G]=oe(!this.styledMode&&{style:Q},this.options[G],ce);var le=this[G];le&&ce&&(this[G]=le=le.destroy()),Q&&!le&&(le=this.renderer.text(Q.text,0,0,Q.useHTML).attr({align:Q.align,class:"highcharts-"+G,zIndex:Q.zIndex||4}).add(),le.update=function(ye){X[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[G]](ye)},this.styledMode||le.css(Q.style),this[G]=le)},de.prototype.layOutTitles=function(G){var ce=[0,0,0],X=this.renderer,Q=this.spacingBox;["title","subtitle","caption"].forEach(function(ye){var ke=this[ye],Ce=this.options[ye],Re=Ce.verticalAlign||"top";ye=ye==="title"?Re==="top"?-3:0:Re==="top"?ce[0]+2:0;var Oe;if(ke){this.styledMode||(Oe=Ce.style&&Ce.style.fontSize),Oe=X.fontMetrics(Oe,ke).b,ke.css({width:(Ce.width||Q.width+(Ce.widthAdjust||0))+"px"});var Me=Math.round(ke.getBBox(Ce.useHTML).height);ke.align(U({y:Re==="bottom"?Oe:ye+Oe,height:Me},Ce),!1,"spacingBox"),Ce.floating||(Re==="top"?ce[0]=Math.ceil(ce[0]+Me):Re==="bottom"&&(ce[2]=Math.ceil(ce[2]+Me)))}},this),ce[0]&&(this.options.title.verticalAlign||"top")==="top"&&(ce[0]+=this.options.title.margin),ce[2]&&this.options.caption.verticalAlign==="bottom"&&(ce[2]+=this.options.caption.margin);var le=!this.titleOffset||this.titleOffset.join(",")!==ce.join(",");this.titleOffset=ce,te(this,"afterLayOutTitles"),!this.isDirtyBox&&le&&(this.isDirtyBox=this.isDirtyLegend=le,this.hasRendered&&fe(G,!0)&&this.isDirtyBox&&this.redraw())},de.prototype.getChartSize=function(){var G=this.options.chart,ce=G.width;G=G.height;var X=this.renderTo;$(ce)||(this.containerWidth=ne(X,"width")),$(G)||(this.containerHeight=ne(X,"height")),this.chartWidth=Math.max(0,ce||this.containerWidth||600),this.chartHeight=Math.max(0,me(G,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},de.prototype.temporaryDisplay=function(G){var ce=this.renderTo;if(G)for(;ce&&ce.style;)ce.hcOrigStyle&&(ae(ce,ce.hcOrigStyle),delete ce.hcOrigStyle),ce.hcOrigDetached&&(I.body.removeChild(ce),ce.hcOrigDetached=!1),ce=ce.parentNode;else for(;ce&&ce.style&&(I.body.contains(ce)||ce.parentNode||(ce.hcOrigDetached=!0,I.body.appendChild(ce)),(ne(ce,"display",!1)==="none"||ce.hcOricDetached)&&(ce.hcOrigStyle={display:ce.style.display,height:ce.style.height,overflow:ce.style.overflow},G={display:"block",overflow:"hidden"},ce!==this.renderTo&&(G.height=0),ae(ce,G),ce.offsetWidth||ce.style.setProperty("display","block","important")),ce=ce.parentNode,ce!==I.body););},de.prototype.setClassName=function(G){this.container.className="highcharts-container "+(G||"")},de.prototype.getContainer=function(){var G=this.options,ce=G.chart,X=he(),Q,le=this.renderTo;le||(this.renderTo=le=ce.renderTo),re(le)&&(this.renderTo=le=I.getElementById(le)),le||H(13,!0,this);var ye=ve(q(le,"data-highcharts-chart"));K(ye)&&z[ye]&&z[ye].hasRendered&&z[ye].destroy(),q(le,"data-highcharts-chart",this.index),le.innerHTML=M.emptyHTML,ce.skipClone||le.offsetWidth||this.temporaryDisplay(),this.getChartSize(),ye=this.chartWidth;var ke=this.chartHeight;if(ae(le,{overflow:"hidden"}),this.styledMode||(Q=U({position:"relative",overflow:"hidden",width:ye+"px",height:ke+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},ce.style||{})),this.container=X=ue("div",{id:X},Q,le),this._cursor=X.style.cursor,this.renderer=new(ce.renderer||!S?v.getRendererType(ce.renderer):w)(X,ye,ke,void 0,ce.forExport,G.exporting&&G.exporting.allowHTML,this.styledMode),E(void 0,this),this.setClassName(ce.className),this.styledMode)for(var Ce in G.defs)this.renderer.definition(G.defs[Ce]);else this.renderer.setStyle(ce.style);this.renderer.chartIndex=this.index,te(this,"afterGetContainer")},de.prototype.getMargins=function(G){var ce=this.spacing,X=this.margin,Q=this.titleOffset;this.resetMargins(),Q[0]&&!$(X[0])&&(this.plotTop=Math.max(this.plotTop,Q[0]+ce[0])),Q[2]&&!$(X[2])&&(this.marginBottom=Math.max(this.marginBottom,Q[2]+ce[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(X,ce),te(this,"getMargins"),G||this.getAxisMargins()},de.prototype.getAxisMargins=function(){var G=this,ce=G.axisOffset=[0,0,0,0],X=G.colorAxis,Q=G.margin,le=function(ye){ye.forEach(function(ke){ke.visible&&ke.getOffset()})};G.hasCartesianSeries?le(G.axes):X&&X.length&&le(X),O.forEach(function(ye,ke){$(Q[ke])||(G[ye]+=ce[ke])}),G.setChartSize()},de.prototype.reflow=function(G){var ce=this,X=ce.options.chart,Q=ce.renderTo,le=$(X.width)&&$(X.height),ye=X.width||ne(Q,"width");X=X.height||ne(Q,"height"),Q=G?G.target:P,delete ce.pointer.chartPosition,!le&&!ce.isPrinting&&ye&&X&&(Q===P||Q===I)&&((ye!==ce.containerWidth||X!==ce.containerHeight)&&(T.clearTimeout(ce.reflowTimeout),ce.reflowTimeout=Ae(function(){ce.container&&ce.setSize(void 0,void 0,!1)},G?100:0)),ce.containerWidth=ye,ce.containerHeight=X)},de.prototype.setReflow=function(G){var ce=this;G===!1||this.unbindReflow?G===!1&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=R(P,"resize",function(X){ce.options&&ce.reflow(X)}),R(this,"destroy",this.unbindReflow))},de.prototype.setSize=function(G,ce,X){var Q=this,le=Q.renderer;Q.isResizing+=1,E(X,Q),X=le.globalAnimation,Q.oldChartHeight=Q.chartHeight,Q.oldChartWidth=Q.chartWidth,typeof G<"u"&&(Q.options.chart.width=G),typeof ce<"u"&&(Q.options.chart.height=ce),Q.getChartSize(),Q.styledMode||(X?L:ae)(Q.container,{width:Q.chartWidth+"px",height:Q.chartHeight+"px"},X),Q.setChartSize(!0),le.setSize(Q.chartWidth,Q.chartHeight,X),Q.axes.forEach(function(ye){ye.isDirty=!0,ye.setScale()}),Q.isDirtyLegend=!0,Q.isDirtyBox=!0,Q.layOutTitles(),Q.getMargins(),Q.redraw(X),Q.oldChartHeight=null,te(Q,"resize"),Ae(function(){Q&&te(Q,"endResize",null,function(){--Q.isResizing})},A(X).duration)},de.prototype.setChartSize=function(G){var ce=this.inverted,X=this.renderer,Q=this.chartWidth,le=this.chartHeight,ye=this.options.chart,ke=this.spacing,Ce=this.clipOffset,Re,Oe,Me,_e;this.plotLeft=Re=Math.round(this.plotLeft),this.plotTop=Oe=Math.round(this.plotTop),this.plotWidth=Me=Math.max(0,Math.round(Q-Re-this.marginRight)),this.plotHeight=_e=Math.max(0,Math.round(le-Oe-this.marginBottom)),this.plotSizeX=ce?_e:Me,this.plotSizeY=ce?Me:_e,this.plotBorderWidth=ye.plotBorderWidth||0,this.spacingBox=X.spacingBox={x:ke[3],y:ke[0],width:Q-ke[3]-ke[1],height:le-ke[0]-ke[2]},this.plotBox=X.plotBox={x:Re,y:Oe,width:Me,height:_e},ce=2*Math.floor(this.plotBorderWidth/2),Q=Math.ceil(Math.max(ce,Ce[3])/2),le=Math.ceil(Math.max(ce,Ce[0])/2),this.clipBox={x:Q,y:le,width:Math.floor(this.plotSizeX-Math.max(ce,Ce[1])/2-Q),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(ce,Ce[2])/2-le))},G||(this.axes.forEach(function(Ve){Ve.setAxisSize(),Ve.setAxisTranslation()}),X.alignElements()),te(this,"afterSetChartSize",{skipAxes:G})},de.prototype.resetMargins=function(){te(this,"resetMargins");var G=this,ce=G.options.chart;["margin","spacing"].forEach(function(X){var Q=ce[X],le=V(Q)?Q:[Q,Q,Q,Q];["Top","Right","Bottom","Left"].forEach(function(ye,ke){G[X][ke]=fe(ce[X+ye],le[ke])})}),O.forEach(function(X,Q){G[X]=fe(G.margin[Q],G.spacing[Q])}),G.axisOffset=[0,0,0,0],G.clipOffset=[0,0,0,0]},de.prototype.drawChartBox=function(){var G=this.options.chart,ce=this.renderer,X=this.chartWidth,Q=this.chartHeight,le=this.styledMode,ye=this.plotBGImage,ke=G.backgroundColor,Ce=G.plotBackgroundColor,Re=G.plotBackgroundImage,Oe=this.plotLeft,Me=this.plotTop,_e=this.plotWidth,Ve=this.plotHeight,Pe=this.plotBox,He=this.clipRect,nt=this.clipBox,Je=this.chartBackground,qe=this.plotBackground,Jt=this.plotBorder,Gt,Pt="animate";if(Je||(this.chartBackground=Je=ce.rect().addClass("highcharts-background").add(),Pt="attr"),le)var _t=Gt=Je.strokeWidth();else _t=G.borderWidth||0,Gt=_t+(G.shadow?8:0),ke={fill:ke||"none"},(_t||Je["stroke-width"])&&(ke.stroke=G.borderColor,ke["stroke-width"]=_t),Je.attr(ke).shadow(G.shadow);Je[Pt]({x:Gt/2,y:Gt/2,width:X-Gt-_t%2,height:Q-Gt-_t%2,r:G.borderRadius}),Pt="animate",qe||(Pt="attr",this.plotBackground=qe=ce.rect().addClass("highcharts-plot-background").add()),qe[Pt](Pe),le||(qe.attr({fill:Ce||"none"}).shadow(G.plotShadow),Re&&(ye?(Re!==ye.attr("href")&&ye.attr("href",Re),ye.animate(Pe)):this.plotBGImage=ce.image(Re,Oe,Me,_e,Ve).add())),He?He.animate({width:nt.width,height:nt.height}):this.clipRect=ce.clipRect(nt),Pt="animate",Jt||(Pt="attr",this.plotBorder=Jt=ce.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),le||Jt.attr({stroke:G.plotBorderColor,"stroke-width":G.plotBorderWidth||0,fill:"none"}),Jt[Pt](Jt.crisp({x:Oe,y:Me,width:_e,height:Ve},-Jt.strokeWidth())),this.isDirtyBox=!1,te(this,"afterDrawChartBox")},de.prototype.propFromSeries=function(){var G=this,ce=G.options.chart,X=G.options.series,Q,le,ye;["inverted","angular","polar"].forEach(function(ke){for(le=N[ce.type||ce.defaultSeriesType],ye=ce[ke]||le&&le.prototype[ke],Q=X&&X.length;!ye&&Q--;)(le=N[X[Q].type])&&le.prototype[ke]&&(ye=!0);G[ke]=ye})},de.prototype.linkSeries=function(){var G=this,ce=G.series;ce.forEach(function(X){X.linkedSeries.length=0}),ce.forEach(function(X){var Q=X.options.linkedTo;re(Q)&&(Q=Q===":previous"?G.series[X.index-1]:G.get(Q))&&Q.linkedParent!==X&&(Q.linkedSeries.push(X),X.linkedParent=Q,Q.enabledDataSorting&&X.setDataSortingOptions(),X.visible=fe(X.options.visible,Q.options.visible,X.visible))}),te(this,"afterLinkSeries")},de.prototype.renderSeries=function(){this.series.forEach(function(G){G.translate(),G.render()})},de.prototype.renderLabels=function(){var G=this,ce=G.options.labels;ce.items&&ce.items.forEach(function(X){var Q=U(ce.style,X.style),le=ve(Q.left)+G.plotLeft,ye=ve(Q.top)+G.plotTop+12;delete Q.left,delete Q.top,G.renderer.text(X.html,le,ye).attr({zIndex:2}).css(Q).add()})},de.prototype.render=function(){var G=this.axes,ce=this.colorAxis,X=this.renderer,Q=this.options,le=function(Oe){Oe.forEach(function(Me){Me.visible&&Me.render()})},ye=0;this.setTitle(),this.legend=new g(this,Q.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),Q=this.plotWidth,G.some(function(Oe){if(Oe.horiz&&Oe.visible&&Oe.options.labels.enabled&&Oe.series.length)return ye=21,!0});var ke=this.plotHeight=Math.max(this.plotHeight-ye,0);G.forEach(function(Oe){Oe.setScale()}),this.getAxisMargins();var Ce=1.1<Q/this.plotWidth,Re=1.05<ke/this.plotHeight;(Ce||Re)&&(G.forEach(function(Oe){(Oe.horiz&&Ce||!Oe.horiz&&Re)&&Oe.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?le(G):ce&&ce.length&&le(ce),this.seriesGroup||(this.seriesGroup=X.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},de.prototype.addCredits=function(G){var ce=this,X=oe(!0,this.options.credits,G);X.enabled&&!this.credits&&(this.credits=this.renderer.text(X.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){X.href&&(P.location.href=X.href)}).attr({align:X.position.align,zIndex:8}),ce.styledMode||this.credits.css(X.style),this.credits.add().align(X.position),this.credits.update=function(Q){ce.credits=ce.credits.destroy(),ce.addCredits(Q)})},de.prototype.destroy=function(){var G=this,ce=G.axes,X=G.series,Q=G.container,le=Q&&Q.parentNode,ye;for(te(G,"destroy"),G.renderer.forExport?j(z,G):z[G.index]=void 0,f.chartCount--,G.renderTo.removeAttribute("data-highcharts-chart"),Le(G),ye=ce.length;ye--;)ce[ye]=ce[ye].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),ye=X.length;ye--;)X[ye]=X[ye].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(ke){var Ce=G[ke];Ce&&Ce.destroy&&(G[ke]=Ce.destroy())}),Q&&(Q.innerHTML=M.emptyHTML,Le(Q),le&&ie(Q)),ge(G,function(ke,Ce){delete G[Ce]})},de.prototype.firstRender=function(){var G=this,ce=G.options;(!G.isReadyToRender||G.isReadyToRender())&&(G.getContainer(),G.resetMargins(),G.setChartSize(),G.propFromSeries(),G.getAxes(),(_(ce.series)?ce.series:[]).forEach(function(X){G.initSeries(X)}),G.linkSeries(),G.setSeriesData(),te(G,"beforeRender"),x&&(p.isRequired()?G.pointer=new p(G,ce):G.pointer=new x(G,ce)),G.render(),G.pointer.getChartPosition(),!G.renderer.imgCount&&!G.hasLoaded&&G.onload(),G.temporaryDisplay(!0))},de.prototype.onload=function(){this.callbacks.concat([this.callback]).forEach(function(G){G&&typeof this.index<"u"&&G.apply(this,[this])},this),te(this,"load"),te(this,"render"),$(this.index)&&this.setReflow(this.options.chart.reflow),this.hasLoaded=!0},de.prototype.addSeries=function(G,ce,X){var Q=this,le;return G&&(ce=fe(ce,!0),te(Q,"addSeries",{options:G},function(){le=Q.initSeries(G),Q.isDirtyLegend=!0,Q.linkSeries(),le.enabledDataSorting&&le.setData(G.data,!1),te(Q,"afterAddSeries",{series:le}),ce&&Q.redraw(X)})),le},de.prototype.addAxis=function(G,ce,X,Q){return this.createAxis(ce?"xAxis":"yAxis",{axis:G,redraw:X,animation:Q})},de.prototype.addColorAxis=function(G,ce,X){return this.createAxis("colorAxis",{axis:G,redraw:ce,animation:X})},de.prototype.createAxis=function(G,ce){return G=new s(this,oe(ce.axis,{index:this[G].length,isX:G==="xAxis"})),fe(ce.redraw,!0)&&this.redraw(ce.animation),G},de.prototype.showLoading=function(G){var ce=this,X=ce.options,Q=X.loading,le=function(){ye&&ae(ye,{left:ce.plotLeft+"px",top:ce.plotTop+"px",width:ce.plotWidth+"px",height:ce.plotHeight+"px"})},ye=ce.loadingDiv,ke=ce.loadingSpan;ye||(ce.loadingDiv=ye=ue("div",{className:"highcharts-loading highcharts-loading-hidden"},null,ce.container)),ke||(ce.loadingSpan=ke=ue("span",{className:"highcharts-loading-inner"},null,ye),R(ce,"redraw",le)),ye.className="highcharts-loading",M.setElementHTML(ke,fe(G,X.lang.loading,"")),ce.styledMode||(ae(ye,U(Q.style,{zIndex:10})),ae(ke,Q.labelStyle),ce.loadingShown||(ae(ye,{opacity:0,display:""}),L(ye,{opacity:Q.style.opacity||.5},{duration:Q.showDuration||0}))),ce.loadingShown=!0,le()},de.prototype.hideLoading=function(){var G=this.options,ce=this.loadingDiv;ce&&(ce.className="highcharts-loading highcharts-loading-hidden",this.styledMode||L(ce,{opacity:0},{duration:G.loading.hideDuration||100,complete:function(){ae(ce,{display:"none"})}})),this.loadingShown=!1},de.prototype.update=function(G,ce,X,Q){var le=this,ye={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},ke=G.isResponsiveOptions,Ce=[],Re,Oe;te(le,"update",{options:G}),ke||le.setResponsive(!1,!0),G=ee(G,le.options),le.userOptions=oe(le.userOptions,G);var Me=G.chart;if(Me){if(oe(!0,le.options.chart,Me),"className"in Me&&le.setClassName(Me.className),"reflow"in Me&&le.setReflow(Me.reflow),"inverted"in Me||"polar"in Me||"type"in Me){le.propFromSeries();var _e=!0}"alignTicks"in Me&&(_e=!0),"events"in Me&&B(this,Me),ge(Me,function(Ve,Pe){le.propsRequireUpdateSeries.indexOf("chart."+Pe)!==-1&&(Re=!0),le.propsRequireDirtyBox.indexOf(Pe)!==-1&&(le.isDirtyBox=!0),le.propsRequireReflow.indexOf(Pe)!==-1&&(ke?le.isDirtyBox=!0:Oe=!0)}),!le.styledMode&&Me.style&&le.renderer.setStyle(le.options.chart.style||{})}!le.styledMode&&G.colors&&(this.options.colors=G.colors),G.time&&(this.time===d&&(this.time=new b(G.time)),oe(!0,le.options.time,G.time)),ge(G,function(Ve,Pe){le[Pe]&&typeof le[Pe].update=="function"?le[Pe].update(Ve,!1):typeof le[ye[Pe]]=="function"?le[ye[Pe]](Ve):Pe!=="colors"&&le.collectionsWithUpdate.indexOf(Pe)===-1&&oe(!0,le.options[Pe],G[Pe]),Pe!=="chart"&&le.propsRequireUpdateSeries.indexOf(Pe)!==-1&&(Re=!0)}),this.collectionsWithUpdate.forEach(function(Ve){if(G[Ve]){var Pe=[];le[Ve].forEach(function(He,nt){He.options.isInternal||Pe.push(fe(He.options.index,nt))}),ze(G[Ve]).forEach(function(He,nt){var Je=$(He.id),qe;Je&&(qe=le.get(He.id)),!qe&&le[Ve]&&(qe=le[Ve][Pe?Pe[nt]:nt])&&Je&&$(qe.options.id)&&(qe=void 0),qe&&qe.coll===Ve&&(qe.update(He,!1),X&&(qe.touched=!0)),!qe&&X&&le.collectionsWithInit[Ve]&&(le.collectionsWithInit[Ve][0].apply(le,[He].concat(le.collectionsWithInit[Ve][1]||[]).concat([!1])).touched=!0)}),X&&le[Ve].forEach(function(He){He.touched||He.options.isInternal?delete He.touched:Ce.push(He)})}}),Ce.forEach(function(Ve){Ve.chart&&Ve.remove&&Ve.remove(!1)}),_e&&le.axes.forEach(function(Ve){Ve.update({},!1)}),Re&&le.getSeriesOrderByLinks().forEach(function(Ve){Ve.chart&&Ve.update({},!1)},this),_e=Me&&Me.width,Me=Me&&(re(Me.height)?me(Me.height,_e||le.chartWidth):Me.height),Oe||K(_e)&&_e!==le.chartWidth||K(Me)&&Me!==le.chartHeight?le.setSize(_e,Me,Q):fe(ce,!0)&&le.redraw(Q),te(le,"afterUpdate",{options:G,redraw:ce,animation:Q})},de.prototype.setSubtitle=function(G,ce){this.applyDescription("subtitle",G),this.layOutTitles(ce)},de.prototype.setCaption=function(G,ce){this.applyDescription("caption",G),this.layOutTitles(ce)},de.prototype.showResetZoom=function(){function G(){ce.zoomOut()}var ce=this,X=k.lang,Q=ce.options.chart.resetZoomButton,le=Q.theme,ye=le.states,ke=Q.relativeTo==="chart"||Q.relativeTo==="spacingBox"?null:"scrollablePlotBox";te(this,"beforeShowResetZoom",null,function(){ce.resetZoomButton=ce.renderer.button(X.resetZoom,null,null,G,le,ye&&ye.hover).attr({align:Q.position.align,title:X.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(Q.position,!1,ke)}),te(this,"afterShowResetZoom")},de.prototype.zoomOut=function(){te(this,"selection",{resetSelection:!0},this.zoom)},de.prototype.zoom=function(G){var ce=this,X=ce.pointer,Q=ce.inverted?X.mouseDownX:X.mouseDownY,le=!1,ye;!G||G.resetSelection?(ce.axes.forEach(function(Ce){ye=Ce.zoom()}),X.initiated=!1):G.xAxis.concat(G.yAxis).forEach(function(Ce){var Re=Ce.axis,Oe=ce.inverted?Re.left:Re.top,Me=ce.inverted?Oe+Re.width:Oe+Re.height,_e=Re.isXAxis,Ve=!1;(!_e&&Q>=Oe&&Q<=Me||_e||!$(Q))&&(Ve=!0),X[_e?"zoomX":"zoomY"]&&Ve&&(ye=Re.zoom(Ce.min,Ce.max),Re.displayBtn&&(le=!0))});var ke=ce.resetZoomButton;le&&!ke?ce.showResetZoom():!le&&V(ke)&&(ce.resetZoomButton=ke.destroy()),ye&&ce.redraw(fe(ce.options.chart.animation,G&&G.animation,100>ce.pointCount))},de.prototype.pan=function(G,ce){var X=this,Q=X.hoverPoints;ce=typeof ce=="object"?ce:{enabled:ce,type:"x"};var le=X.options.chart,ye=X.options.mapNavigation&&X.options.mapNavigation.enabled;le&&le.panning&&(le.panning=ce);var ke=ce.type,Ce;te(this,"pan",{originalEvent:G},function(){Q&&Q.forEach(function(Me){Me.setState()});var Re=X.xAxis;ke==="xy"?Re=Re.concat(X.yAxis):ke==="y"&&(Re=X.yAxis);var Oe={};Re.forEach(function(Me){if(Me.options.panningEnabled&&!Me.options.isInternal){var _e=Me.horiz,Ve=G[_e?"chartX":"chartY"];_e=_e?"mouseDownX":"mouseDownY";var Pe=X[_e],He=Me.minPointOffset||0,nt=Me.reversed&&!X.inverted||!Me.reversed&&X.inverted?-1:1,Je=Me.getExtremes(),qe=Me.toValue(Pe-Ve,!0)+He*nt,Jt=Me.toValue(Pe+Me.len-Ve,!0)-(He*nt||Me.isXAxis&&Me.pointRangePadding||0),Gt=Jt<qe;nt=Me.hasVerticalPanning(),Pe=Gt?Jt:qe,qe=Gt?qe:Jt;var Pt=Me.panningState;!nt||Me.isXAxis||Pt&&!Pt.isDirty||Me.series.forEach(function(_t){var ni=_t.getProcessedData(!0);ni=_t.getExtremes(ni.yData,!0),Pt||(Pt={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),K(ni.dataMin)&&K(ni.dataMax)&&(Pt.startMin=Math.min(fe(_t.options.threshold,1/0),ni.dataMin,Pt.startMin),Pt.startMax=Math.max(fe(_t.options.threshold,-1/0),ni.dataMax,Pt.startMax))}),nt=Math.min(fe(Pt&&Pt.startMin,Je.dataMin),He?Je.min:Me.toValue(Me.toPixels(Je.min)-Me.minPixelPadding)),Jt=Math.max(fe(Pt&&Pt.startMax,Je.dataMax),He?Je.max:Me.toValue(Me.toPixels(Je.max)+Me.minPixelPadding)),Me.panningState=Pt,Me.isOrdinal||(He=nt-Pe,0<He&&(qe+=He,Pe=nt),He=qe-Jt,0<He&&(qe=Jt,Pe-=He),Me.series.length&&Pe!==Je.min&&qe!==Je.max&&Pe>=nt&&qe<=Jt&&(Me.setExtremes(Pe,qe,!1,!1,{trigger:"pan"}),X.resetZoomButton||ye||Pe===nt||qe===Jt||!ke.match("y")||(X.showResetZoom(),Me.displayBtn=!1),Ce=!0),Oe[_e]=Ve)}}),ge(Oe,function(Me,_e){X[_e]=Me}),Ce&&X.redraw(!1),ae(X.container,{cursor:"move"})})},de}(),U(r.prototype,{callbacks:[],collectionsWithInit:{xAxis:[r.prototype.addAxis,[!0]],yAxis:[r.prototype.addAxis,[!1]],series:[r.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),r}),e(n,"Core/Legend/LegendSymbol.js",[n["Core/Utilities.js"]],function(r){var s=r.merge,a=r.pick,h;return function(f){f.drawLineMarker=function(g){var p=this.options,m=g.symbolWidth,x=g.symbolHeight,v=x/2,C=this.chart.renderer,w=this.legendGroup;g=g.baseline-Math.round(.3*g.fontMetrics.b);var b={},T=p.marker;this.chart.styledMode||(b={"stroke-width":p.lineWidth||0},p.dashStyle&&(b.dashstyle=p.dashStyle)),this.legendLine=C.path([["M",0,g],["L",m,g]]).addClass("highcharts-graph").attr(b).add(w),T&&T.enabled!==!1&&m&&(p=Math.min(a(T.radius,v),v),this.symbol.indexOf("url")===0&&(T=s(T,{width:x,height:x}),p=0),this.legendSymbol=m=C.symbol(this.symbol,m/2-p,g-p,2*p,2*p,T).addClass("highcharts-point").add(w),m.isMarker=!0)},f.drawRectangle=function(g,p){var m=g.symbolHeight,x=g.options.squareSymbol;p.legendSymbol=this.chart.renderer.rect(x?(g.symbolWidth-m)/2:0,g.baseline-m+1,x?m:g.symbolWidth,m,a(g.options.symbolRadius,m/2)).addClass("highcharts-point").attr({zIndex:3}).add(p.legendGroup)}}(h||(h={})),h}),e(n,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",defer:!0,formatter:function(){var r=this.series.chart.numberFormatter;return typeof this.y!="number"?"":r(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),e(n,"Core/Series/Series.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/DefaultOptions.js"],n["Core/Foundation.js"],n["Core/Globals.js"],n["Core/Legend/LegendSymbol.js"],n["Core/Series/Point.js"],n["Core/Series/SeriesDefaults.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Renderer/SVG/SVGElement.js"],n["Core/Utilities.js"]],function(r,s,a,h,f,g,p,m,x,v){var C=r.animObject,w=r.setAnimation,b=s.defaultOptions,T=a.registerEventOptions,M=h.hasTouch,L=h.svg,A=h.win,E=m.seriesTypes,D=v.addEvent,B=v.arrayMax,z=v.arrayMin,I=v.clamp,O=v.cleanRecursively,S=v.correctFloat,P=v.defined,k=v.erase,d=v.error,N=v.extend,R=v.find,q=v.fireEvent,ee=v.getNestedProperty,ue=v.isArray,ae=v.isNumber,$=v.isString,ie=v.merge,j=v.objectEach,H=v.pick,U=v.removeEvent,Z=v.splat,te=v.syncTimeout;return r=function(){function ne(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}return ne.prototype.init=function(_,K){q(this,"init",{options:K});var V=this,re=_.series;this.eventsToUnbind=[],V.chart=_,V.options=V.setOptions(K),K=V.options,V.linkedSeries=[],V.bindAxes(),N(V,{name:K.name,state:"",visible:K.visible!==!1,selected:K.selected===!0}),T(this,K);var oe=K.events;(oe&&oe.click||K.point&&K.point.events&&K.point.events.click||K.allowPointSelect)&&(_.runTrackerClick=!0),V.getColor(),V.getSymbol(),V.parallelArrays.forEach(function(fe){V[fe+"Data"]||(V[fe+"Data"]=[])}),V.isCartesian&&(_.hasCartesianSeries=!0);var ge;re.length&&(ge=re[re.length-1]),V._i=H(ge&&ge._i,-1)+1,V.opacity=V.options.opacity,_.orderSeries(this.insert(re)),K.dataSorting&&K.dataSorting.enabled?V.setDataSortingOptions():V.points||V.data||V.setData(K.data,!1),q(this,"afterInit")},ne.prototype.is=function(_){return E[_]&&this instanceof E[_]},ne.prototype.insert=function(_){var K=this.options.index,V;if(ae(K)){for(V=_.length;V--;)if(K>=H(_[V].options.index,_[V]._i)){_.splice(V+1,0,this);break}V===-1&&_.unshift(this),V+=1}else _.push(this);return H(V,_.length-1)},ne.prototype.bindAxes=function(){var _=this,K=_.options,V=_.chart,re;q(this,"bindAxes",null,function(){(_.axisTypes||[]).forEach(function(oe){var ge=0;V[oe].forEach(function(fe){re=fe.options,(K[oe]===ge&&!re.isInternal||typeof K[oe]<"u"&&K[oe]===re.id||typeof K[oe]>"u"&&re.index===0)&&(_.insert(fe.series),_[oe]=fe,fe.isDirty=!0),re.isInternal||ge++}),_[oe]||_.optionalAxis===oe||d(18,!0,V)})}),q(this,"afterBindAxes")},ne.prototype.updateParallelArrays=function(_,K){var V=_.series,re=arguments,oe=ae(K)?function(ge){var fe=ge==="y"&&V.toYData?V.toYData(_):_[ge];V[ge+"Data"][K]=fe}:function(ge){Array.prototype[K].apply(V[ge+"Data"],Array.prototype.slice.call(re,2))};V.parallelArrays.forEach(oe)},ne.prototype.hasData=function(){return this.visible&&typeof this.dataMax<"u"&&typeof this.dataMin<"u"||this.visible&&this.yData&&0<this.yData.length},ne.prototype.autoIncrement=function(_){var K=this.options,V=K.pointIntervalUnit,re=K.relativeXValue,oe=this.chart.time,ge=this.xIncrement,fe;return ge=H(ge,K.pointStart,0),this.pointInterval=fe=H(this.pointInterval,K.pointInterval,1),re&&ae(_)&&(fe*=_),V&&(K=new oe.Date(ge),V==="day"?oe.set("Date",K,oe.get("Date",K)+fe):V==="month"?oe.set("Month",K,oe.get("Month",K)+fe):V==="year"&&oe.set("FullYear",K,oe.get("FullYear",K)+fe),fe=K.getTime()-ge),re&&ae(_)?ge+fe:(this.xIncrement=ge+fe,ge)},ne.prototype.setDataSortingOptions=function(){var _=this.options;N(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),P(_.pointRange)||(_.pointRange=1)},ne.prototype.setOptions=function(_){var K=this.chart,V=K.options,re=V.plotOptions,oe=K.userOptions||{};_=ie(_),K=K.styledMode;var ge={plotOptions:re,userOptions:_};q(this,"setOptions",ge);var fe=ge.plotOptions[this.type],ve=oe.plotOptions||{};return this.userOptions=ge.userOptions,oe=ie(fe,re.series,oe.plotOptions&&oe.plotOptions[this.type],_),this.tooltipOptions=ie(b.tooltip,b.plotOptions.series&&b.plotOptions.series.tooltip,b.plotOptions[this.type].tooltip,V.tooltip.userOptions,re.series&&re.series.tooltip,re[this.type].tooltip,_.tooltip),this.stickyTracking=H(_.stickyTracking,ve[this.type]&&ve[this.type].stickyTracking,ve.series&&ve.series.stickyTracking,this.tooltipOptions.shared&&!this.noSharedTooltip?!0:oe.stickyTracking),fe.marker===null&&delete oe.marker,this.zoneAxis=oe.zoneAxis,re=this.zones=(oe.zones||[]).slice(),!oe.negativeColor&&!oe.negativeFillColor||oe.zones||(V={value:oe[this.zoneAxis+"Threshold"]||oe.threshold||0,className:"highcharts-negative"},K||(V.color=oe.negativeColor,V.fillColor=oe.negativeFillColor),re.push(V)),re.length&&P(re[re.length-1].value)&&re.push(K?{}:{color:this.color,fillColor:this.fillColor}),q(this,"afterSetOptions",{options:oe}),oe},ne.prototype.getName=function(){return H(this.options.name,"Series "+(this.index+1))},ne.prototype.getCyclic=function(_,K,V){var re=this.chart,oe=this.userOptions,ge=_+"Index",fe=_+"Counter",ve=V?V.length:H(re.options.chart[_+"Count"],re[_+"Count"]);if(!K){var me=H(oe[ge],oe["_"+ge]);P(me)||(re.series.length||(re[fe]=0),oe["_"+ge]=me=re[fe]%ve,re[fe]+=1),V&&(K=V[me])}typeof me<"u"&&(this[ge]=me),this[_]=K},ne.prototype.getColor=function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||b.plotOptions[this.type].color,this.chart.options.colors)},ne.prototype.getPointsCollection=function(){return(this.hasGroupedData?this.points:this.data)||[]},ne.prototype.getSymbol=function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},ne.prototype.findPointIndex=function(_,K){var V=_.id,re=_.x,oe=this.points,ge=this.options.dataSorting,fe,ve;if(V)ge=this.chart.get(V),ge instanceof g&&(fe=ge);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(fe=function(Le){return!Le.touched&&Le.index===_.index},ge&&ge.matchByName?fe=function(Le){return!Le.touched&&Le.name===_.name}:this.options.relativeXValue&&(fe=function(Le){return!Le.touched&&Le.options.x===_.x}),fe=R(oe,fe),!fe))return;if(fe){var me=fe&&fe.index;typeof me<"u"&&(ve=!0)}return typeof me>"u"&&ae(re)&&(me=this.xData.indexOf(re,K)),me!==-1&&typeof me<"u"&&this.cropped&&(me=me>=this.cropStart?me-this.cropStart:me),!ve&&ae(me)&&oe[me]&&oe[me].touched&&(me=void 0),me},ne.prototype.updateData=function(_,K){var V=this.options,re=V.dataSorting,oe=this.points,ge=[],fe=this.requireSorting,ve=_.length===oe.length,me,Le,ze,Ae=!0;if(this.xIncrement=null,_.forEach(function(he,de){var G=P(he)&&this.pointClass.prototype.optionsToObject.call({series:this},he)||{},ce=G.x;G.id||ae(ce)?(G=this.findPointIndex(G,ze),G===-1||typeof G>"u"?ge.push(he):oe[G]&&he!==V.data[G]?(oe[G].update(he,!1,null,!1),oe[G].touched=!0,fe&&(ze=G+1)):oe[G]&&(oe[G].touched=!0),(!ve||de!==G||re&&re.enabled||this.hasDerivedData)&&(me=!0)):ge.push(he)},this),me)for(_=oe.length;_--;)(Le=oe[_])&&!Le.touched&&Le.remove&&Le.remove(!1,K);else!ve||re&&re.enabled?Ae=!1:(_.forEach(function(he,de){he!==oe[de].y&&oe[de].update&&oe[de].update(he,!1,null,!1)}),ge.length=0);return oe.forEach(function(he){he&&(he.touched=!1)}),Ae?(ge.forEach(function(he){this.addPoint(he,!1,null,null,!1)},this),this.xIncrement===null&&this.xData&&this.xData.length&&(this.xIncrement=B(this.xData),this.autoIncrement()),!0):!1},ne.prototype.setData=function(_,K,V,re){var oe=this,ge=oe.points,fe=ge&&ge.length||0,ve=oe.options,me=oe.chart,Le=ve.dataSorting,ze=oe.xAxis,Ae=ve.turboThreshold,he=this.xData,de=this.yData,G=oe.pointArrayMap;G=G&&G.length;var ce=ve.keys,X,Q=0,le=1,ye=null;_=_||[];var ke=_.length;if(K=H(K,!0),Le&&Le.enabled&&(_=this.sortData(_)),re!==!1&&ke&&fe&&!oe.cropped&&!oe.hasGroupedData&&oe.visible&&!oe.isSeriesBoosting&&(X=this.updateData(_,V)),!X){if(oe.xIncrement=null,oe.colorCounter=0,this.parallelArrays.forEach(function(Ce){oe[Ce+"Data"].length=0}),Ae&&ke>Ae)if(ye=oe.getFirstValidPoint(_),ae(ye))for(V=0;V<ke;V++)he[V]=this.autoIncrement(),de[V]=_[V];else if(ue(ye))if(G)if(ye.length===G)for(V=0;V<ke;V++)he[V]=this.autoIncrement(),de[V]=_[V];else for(V=0;V<ke;V++)re=_[V],he[V]=re[0],de[V]=re.slice(1,G+1);else if(ce&&(Q=ce.indexOf("x"),le=ce.indexOf("y"),Q=0<=Q?Q:0,le=0<=le?le:1),ye.length===1&&(le=0),Q===le)for(V=0;V<ke;V++)he[V]=this.autoIncrement(),de[V]=_[V][le];else for(V=0;V<ke;V++)re=_[V],he[V]=re[Q],de[V]=re[le];else d(12,!1,me);else for(V=0;V<ke;V++)typeof _[V]<"u"&&(re={series:oe},oe.pointClass.prototype.applyOptions.apply(re,[_[V]]),oe.updateParallelArrays(re,V));for(de&&$(de[0])&&d(14,!0,me),oe.data=[],oe.options.data=oe.userOptions.data=_,V=fe;V--;)ge[V]&&ge[V].destroy&&ge[V].destroy();ze&&(ze.minRange=ze.userMinRange),oe.isDirty=me.isDirtyBox=!0,oe.isDirtyData=!!ge,V=!1}ve.legendType==="point"&&(this.processData(),this.generatePoints()),K&&me.redraw(V)},ne.prototype.sortData=function(_){var K=this,V=K.options.dataSorting.sortKey||"y",re=function(oe,ge){return P(ge)&&oe.pointClass.prototype.optionsToObject.call({series:oe},ge)||{}};return _.forEach(function(oe,ge){_[ge]=re(K,oe),_[ge].index=ge},this),_.concat().sort(function(oe,ge){return oe=ee(V,oe),ge=ee(V,ge),ge<oe?-1:ge>oe?1:0}).forEach(function(oe,ge){oe.x=ge},this),K.linkedSeries&&K.linkedSeries.forEach(function(oe){var ge=oe.options,fe=ge.data;ge.dataSorting&&ge.dataSorting.enabled||!fe||(fe.forEach(function(ve,me){fe[me]=re(oe,ve),_[me]&&(fe[me].x=_[me].x,fe[me].index=me)}),oe.setData(fe,!1))}),_},ne.prototype.getProcessedData=function(_){var K=this.xAxis,V=this.options,re=V.cropThreshold,oe=_||this.getExtremesFromAll||V.getExtremesFromAll,ge=this.isCartesian;_=K&&K.val2lin,V=!(!K||!K.logarithmic);var fe=0,ve=this.xData,me=this.yData,Le=this.requireSorting,ze=!1,Ae=ve.length;if(K){ze=K.getExtremes();var he=ze.min,de=ze.max;ze=K.categories&&!K.names.length}if(ge&&this.sorted&&!oe&&(!re||Ae>re||this.forceCrop)){if(ve[Ae-1]<he||ve[0]>de)ve=[],me=[];else if(this.yData&&(ve[0]<he||ve[Ae-1]>de)){var G=this.cropData(this.xData,this.yData,he,de);ve=G.xData,me=G.yData,fe=G.start,G=!0}}for(re=ve.length||1;--re;)if(K=V?_(ve[re])-_(ve[re-1]):ve[re]-ve[re-1],0<K&&(typeof ce>"u"||K<ce))var ce=K;else 0>K&&Le&&!ze&&(d(15,!1,this.chart),Le=!1);return{xData:ve,yData:me,cropped:G,cropStart:fe,closestPointRange:ce}},ne.prototype.processData=function(_){var K=this.xAxis;if(this.isCartesian&&!this.isDirty&&!K.isDirty&&!this.yAxis.isDirty&&!_)return!1;_=this.getProcessedData(),this.cropped=_.cropped,this.cropStart=_.cropStart,this.processedXData=_.xData,this.processedYData=_.yData,this.closestPointRange=this.basePointRange=_.closestPointRange,q(this,"afterProcessData")},ne.prototype.cropData=function(_,K,V,re,oe){var ge=_.length,fe,ve=0,me=ge;for(oe=H(oe,this.cropShoulder),fe=0;fe<ge;fe++)if(_[fe]>=V){ve=Math.max(0,fe-oe);break}for(V=fe;V<ge;V++)if(_[V]>re){me=V+oe;break}return{xData:_.slice(ve,me),yData:K.slice(ve,me),start:ve,end:me}},ne.prototype.generatePoints=function(){var _=this.options,K=_.data,V=this.processedXData,re=this.processedYData,oe=this.pointClass,ge=V.length,fe=this.cropStart||0,ve=this.hasGroupedData,me=_.keys,Le=[];_=_.dataGrouping&&_.dataGrouping.groupAll?fe:0;var ze,Ae,he=this.data;if(!he&&!ve){var de=[];de.length=K.length,he=this.data=de}for(me&&ve&&(this.options.keys=!1),Ae=0;Ae<ge;Ae++){if(de=fe+Ae,ve){var G=new oe().init(this,[V[Ae]].concat(Z(re[Ae])));G.dataGroup=this.groupMap[_+Ae],G.dataGroup.options&&(G.options=G.dataGroup.options,N(G,G.dataGroup.options),delete G.dataLabels)}else(G=he[de])||typeof K[de]>"u"||(he[de]=G=new oe().init(this,K[de],V[Ae]));G&&(G.index=ve?_+Ae:de,Le[Ae]=G)}if(this.options.keys=me,he&&(ge!==(ze=he.length)||ve))for(Ae=0;Ae<ze;Ae++)Ae!==fe||ve||(Ae+=ge),he[Ae]&&(he[Ae].destroyElements(),he[Ae].plotX=void 0);this.data=he,this.points=Le,q(this,"afterGeneratePoints")},ne.prototype.getXExtremes=function(_){return{min:z(_),max:B(_)}},ne.prototype.getExtremes=function(_,K){var V=this.xAxis,re=this.yAxis,oe=this.processedXData||this.xData,ge=[],fe=this.requireSorting?this.cropShoulder:0;re=re?re.positiveValuesOnly:!1;var ve,me=0,Le=0,ze=0;_=_||this.stackedYData||this.processedYData||[];var Ae=_.length;if(V){var he=V.getExtremes();me=he.min,Le=he.max}for(ve=0;ve<Ae;ve++){var de=oe[ve];he=_[ve];var G=(ae(he)||ue(he))&&(he.length||0<he||!re);if(de=K||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!V||(oe[ve+fe]||de)>=me&&(oe[ve-fe]||de)<=Le,G&&de)if(G=he.length)for(;G--;)ae(he[G])&&(ge[ze++]=he[G]);else ge[ze++]=he}return _={activeYData:ge,dataMin:z(ge),dataMax:B(ge)},q(this,"afterGetExtremes",{dataExtremes:_}),_},ne.prototype.applyExtremes=function(){var _=this.getExtremes();return this.dataMin=_.dataMin,this.dataMax=_.dataMax,_},ne.prototype.getFirstValidPoint=function(_){for(var K=_.length,V=0,re=null;re===null&&V<K;)re=_[V],V++;return re},ne.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints();var _=this.options,K=_.stacking,V=this.xAxis,re=V.categories,oe=this.enabledDataSorting,ge=this.yAxis,fe=this.points,ve=fe.length,me=this.pointPlacementToXValue(),Le=!!me,ze=_.threshold,Ae=_.startFromThreshold?ze:0,he=this.zoneAxis||"y",de,G,ce=Number.MAX_VALUE;for(de=0;de<ve;de++){var X=fe[de],Q=X.x,le=void 0,ye=void 0,ke=X.y,Ce=X.low,Re=K&&ge.stacking&&ge.stacking.stacks[(this.negStacks&&ke<(Ae?0:ze)?"-":"")+this.stackKey];if((ge.positiveValuesOnly&&!ge.validatePositiveValue(ke)||V.positiveValuesOnly&&!V.validatePositiveValue(Q))&&(X.isNull=!0),X.plotX=G=S(I(V.translate(Q,0,0,0,1,me,this.type==="flags"),-1e5,1e5)),K&&this.visible&&Re&&Re[Q]){var Oe=this.getStackIndicator(Oe,Q,this.index);X.isNull||(le=Re[Q],ye=le.points[Oe.key])}if(ue(ye)&&(Ce=ye[0],ke=ye[1],Ce===Ae&&Oe.key===Re[Q].base&&(Ce=H(ae(ze)&&ze,ge.min)),ge.positiveValuesOnly&&0>=Ce&&(Ce=null),X.total=X.stackTotal=le.total,X.percentage=le.total&&X.y/le.total*100,X.stackY=ke,this.irregularWidths||le.setOffset(this.pointXOffset||0,this.barW||0)),X.yBottom=P(Ce)?I(ge.translate(Ce,0,1,0,1),-1e5,1e5):null,this.dataModify&&(ke=this.dataModify.modifyValue(ke,de)),X.plotY=void 0,ae(ke)&&(le=ge.translate(ke,!1,!0,!1,!0),typeof le<"u"&&(X.plotY=I(le,-1e5,1e5))),X.isInside=this.isPointInside(X),X.clientX=Le?S(V.translate(Q,0,0,0,1,me)):G,X.negative=X[he]<(_[he+"Threshold"]||ze||0),X.category=re&&typeof re[X.x]<"u"?re[X.x]:X.x,!X.isNull&&X.visible!==!1){typeof Me<"u"&&(ce=Math.min(ce,Math.abs(G-Me)));var Me=G}X.zone=this.zones.length?X.getZone():void 0,!X.graphic&&this.group&&oe&&(X.isNew=!0)}this.closestPointRangePx=ce,q(this,"afterTranslate")},ne.prototype.getValidPoints=function(_,K,V){var re=this.chart;return(_||this.points||[]).filter(function(oe){return K&&!re.isInsidePlot(oe.plotX,oe.plotY,{inverted:re.inverted})?!1:oe.visible!==!1&&(V||!oe.isNull)})},ne.prototype.getClipBox=function(){var _=this.chart,K=this.xAxis,V=this.yAxis,re=ie(_.clipBox);return K&&K.len!==_.plotSizeX&&(re.width=K.len),V&&V.len!==_.plotSizeY&&(re.height=V.len),re},ne.prototype.getSharedClipKey=function(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)},ne.prototype.setClip=function(){var _=this.chart,K=this.group,V=this.markerGroup,re=_.sharedClips;_=_.renderer;var oe=this.getClipBox(),ge=this.getSharedClipKey(),fe=re[ge];fe?fe.animate(oe):re[ge]=fe=_.clipRect(oe),K&&K.clip(this.options.clip===!1?void 0:fe),V&&V.clip()},ne.prototype.animate=function(_){var K=this.chart,V=this.group,re=this.markerGroup,oe=K.inverted,ge=C(this.options.animation),fe=[this.getSharedClipKey(),ge.duration,ge.easing,ge.defer].join(),ve=K.sharedClips[fe],me=K.sharedClips[fe+"m"];if(_&&V)ge=this.getClipBox(),ve?ve.attr("height",ge.height):(ge.width=0,oe&&(ge.x=K.plotHeight),ve=K.renderer.clipRect(ge),K.sharedClips[fe]=ve,me=K.renderer.clipRect({x:oe?(K.plotSizeX||0)+99:-99,y:oe?-K.plotLeft:-K.plotTop,width:99,height:oe?K.chartWidth:K.chartHeight}),K.sharedClips[fe+"m"]=me),V.clip(ve),re&&re.clip(me);else if(ve&&!ve.hasClass("highcharts-animating")){K=this.getClipBox();var Le=ge.step;re&&re.element.childNodes.length&&(ge.step=function(ze,Ae){Le&&Le.apply(Ae,arguments),me&&me.element&&me.attr(Ae.prop,Ae.prop==="width"?ze+99:ze)}),ve.addClass("highcharts-animating").animate(K,ge)}},ne.prototype.afterAnimate=function(){var _=this;this.setClip(),j(this.chart.sharedClips,function(K,V,re){K&&!_.chart.container.querySelector('[clip-path="url(#'+K.id+')"]')&&(K.destroy(),delete re[V])}),this.finishedAnimating=!0,q(this,"afterAnimate")},ne.prototype.drawPoints=function(){var _=this.points,K=this.chart,V=this.options.marker,re=this[this.specialGroup]||this.markerGroup,oe=this.xAxis,ge=H(V.enabled,!oe||oe.isRadial?!0:null,this.closestPointRangePx>=V.enabledThreshold*V.radius),fe,ve;if(V.enabled!==!1||this._hasPointMarkers)for(fe=0;fe<_.length;fe++){var me=_[fe],Le=(ve=me.graphic)?"animate":"attr",ze=me.marker||{},Ae=!!me.marker;if((ge&&typeof ze.enabled>"u"||ze.enabled)&&!me.isNull&&me.visible!==!1){var he=H(ze.symbol,this.symbol,"rect"),de=this.markerAttribs(me,me.selected&&"select");this.enabledDataSorting&&(me.startXPos=oe.reversed?-(de.width||0):oe.width);var G=me.isInside!==!1;ve?ve[G?"show":"hide"](G).animate(de):G&&(0<(de.width||0)||me.hasImage)&&(me.graphic=ve=K.renderer.symbol(he,de.x,de.y,de.width,de.height,Ae?ze:V).add(re),this.enabledDataSorting&&K.hasRendered&&(ve.attr({x:me.startXPos}),Le="animate")),ve&&Le==="animate"&&ve[G?"show":"hide"](G).animate(de),ve&&!K.styledMode&&ve[Le](this.pointAttribs(me,me.selected&&"select")),ve&&ve.addClass(me.getClassName(),!0)}else ve&&(me.graphic=ve.destroy())}},ne.prototype.markerAttribs=function(_,K){var V=this.options,re=V.marker,oe=_.marker||{},ge=oe.symbol||re.symbol,fe=H(oe.radius,re.radius);return K&&(re=re.states[K],K=oe.states&&oe.states[K],fe=H(K&&K.radius,re&&re.radius,fe+(re&&re.radiusPlus||0))),_.hasImage=ge&&ge.indexOf("url")===0,_.hasImage&&(fe=0),_={x:V.crisp?Math.floor(_.plotX-fe):_.plotX-fe,y:_.plotY-fe},fe&&(_.width=_.height=2*fe),_},ne.prototype.pointAttribs=function(_,K){var V=this.options.marker,re=_&&_.options,oe=re&&re.marker||{},ge=re&&re.color,fe=_&&_.color,ve=_&&_.zone&&_.zone.color,me=this.color;return _=H(oe.lineWidth,V.lineWidth),re=1,me=ge||ve||fe||me,ge=oe.fillColor||V.fillColor||me,fe=oe.lineColor||V.lineColor||me,K=K||"normal",V=V.states[K]||{},K=oe.states&&oe.states[K]||{},_=H(K.lineWidth,V.lineWidth,_+H(K.lineWidthPlus,V.lineWidthPlus,0)),ge=K.fillColor||V.fillColor||ge,fe=K.lineColor||V.lineColor||fe,re=H(K.opacity,V.opacity,re),{stroke:fe,"stroke-width":_,fill:ge,opacity:re}},ne.prototype.destroy=function(_){var K=this,V=K.chart,re=/AppleWebKit\/533/.test(A.navigator.userAgent),oe=K.data||[],ge,fe,ve,me;for(q(K,"destroy"),this.removeEvents(_),(K.axisTypes||[]).forEach(function(Le){(me=K[Le])&&me.series&&(k(me.series,K),me.isDirty=me.forceRedraw=!0)}),K.legendItem&&K.chart.legend.destroyItem(K),fe=oe.length;fe--;)(ve=oe[fe])&&ve.destroy&&ve.destroy();K.clips&&K.clips.forEach(function(Le){return Le.destroy()}),v.clearTimeout(K.animationTimeout),j(K,function(Le,ze){Le instanceof x&&!Le.survive&&(ge=re&&ze==="group"?"hide":"destroy",Le[ge]())}),V.hoverSeries===K&&(V.hoverSeries=void 0),k(V.series,K),V.orderSeries(),j(K,function(Le,ze){_&&ze==="hcEvents"||delete K[ze]})},ne.prototype.applyZones=function(){var _=this,K=this.chart,V=K.renderer,re=this.zones,oe=this.clips||[],ge=this.graph,fe=this.area,ve=Math.max(K.chartWidth,K.chartHeight),me=this[(this.zoneAxis||"y")+"Axis"],Le=K.inverted,ze,Ae,he,de,G,ce,X,Q,le=!1;if(re.length&&(ge||fe)&&me&&typeof me.min<"u"){var ye=me.reversed,ke=me.horiz;ge&&!this.showLine&&ge.hide(),fe&&fe.hide();var Ce=me.getExtremes();re.forEach(function(Re,Oe){ze=ye?ke?K.plotWidth:0:ke?0:me.toPixels(Ce.min)||0,ze=I(H(Ae,ze),0,ve),Ae=I(Math.round(me.toPixels(H(Re.value,Ce.max),!0)||0),0,ve),le&&(ze=Ae=me.toPixels(Ce.max)),de=Math.abs(ze-Ae),G=Math.min(ze,Ae),ce=Math.max(ze,Ae),me.isXAxis?(he={x:Le?ce:G,y:0,width:de,height:ve},ke||(he.x=K.plotHeight-he.x)):(he={x:0,y:Le?ce:G,width:ve,height:de},ke&&(he.y=K.plotWidth-he.y)),Le&&V.isVML&&(he=me.isXAxis?{x:0,y:ye?G:ce,height:he.width,width:K.chartWidth}:{x:he.y-K.plotLeft-K.spacingBox.x,y:0,width:he.height,height:K.chartHeight}),oe[Oe]?oe[Oe].animate(he):oe[Oe]=V.clipRect(he),X=_["zone-area-"+Oe],Q=_["zone-graph-"+Oe],ge&&Q&&Q.clip(oe[Oe]),fe&&X&&X.clip(oe[Oe]),le=Re.value>Ce.max,_.resetZones&&Ae===0&&(Ae=void 0)}),this.clips=oe}else _.visible&&(ge&&ge.show(!0),fe&&fe.show(!0))},ne.prototype.invertGroups=function(_){function K(){["group","markerGroup"].forEach(function(oe){V[oe]&&(re.renderer.isVML&&V[oe].attr({width:V.yAxis.len,height:V.xAxis.len}),V[oe].width=V.yAxis.len,V[oe].height=V.xAxis.len,V[oe].invert(V.isRadialSeries?!1:_))})}var V=this,re=V.chart;V.xAxis&&(V.eventsToUnbind.push(D(re,"resize",K)),K(),V.invertGroups=K)},ne.prototype.plotGroup=function(_,K,V,re,oe){var ge=this[_],fe=!ge;return V={visibility:V,zIndex:re||.1},typeof this.opacity>"u"||this.chart.styledMode||this.state==="inactive"||(V.opacity=this.opacity),fe&&(this[_]=ge=this.chart.renderer.g().add(oe)),ge.addClass("highcharts-"+K+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(P(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(ge.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),ge.attr(V)[fe?"attr":"animate"](this.getPlotBox()),ge},ne.prototype.getPlotBox=function(){var _=this.chart,K=this.xAxis,V=this.yAxis;return _.inverted&&(K=V,V=this.xAxis),{translateX:K?K.left:_.plotLeft,translateY:V?V.top:_.plotTop,scaleX:1,scaleY:1}},ne.prototype.removeEvents=function(_){_||U(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(K){K()}),this.eventsToUnbind.length=0)},ne.prototype.render=function(){var _=this,K=_.chart,V=_.options,re=C(V.animation),oe=_.visible?"inherit":"hidden",ge=V.zIndex,fe=_.hasRendered,ve=K.seriesGroup,me=K.inverted;K=!_.finishedAnimating&&K.renderer.isSVG?re.duration:0,q(this,"render");var Le=_.plotGroup("group","series",oe,ge,ve);_.markerGroup=_.plotGroup("markerGroup","markers",oe,ge,ve),V.clip!==!1&&_.setClip(),_.animate&&K&&_.animate(!0),Le.inverted=H(_.invertible,_.isCartesian)?me:!1,_.drawGraph&&(_.drawGraph(),_.applyZones()),_.visible&&_.drawPoints(),_.drawDataLabels&&_.drawDataLabels(),_.redrawPoints&&_.redrawPoints(),_.drawTracker&&_.options.enableMouseTracking!==!1&&_.drawTracker(),_.invertGroups(me),_.animate&&K&&_.animate(),fe||(K&&re.defer&&(K+=re.defer),_.animationTimeout=te(function(){_.afterAnimate()},K||0)),_.isDirty=!1,_.hasRendered=!0,q(_,"afterRender")},ne.prototype.redraw=function(){var _=this.chart,K=this.isDirty||this.isDirtyData,V=this.group,re=this.xAxis,oe=this.yAxis;V&&(_.inverted&&V.attr({width:_.plotWidth,height:_.plotHeight}),V.animate({translateX:H(re&&re.left,_.plotLeft),translateY:H(oe&&oe.top,_.plotTop)})),this.translate(),this.render(),K&&delete this.kdTree},ne.prototype.searchPoint=function(_,K){var V=this.xAxis,re=this.yAxis,oe=this.chart.inverted;return this.searchKDTree({clientX:oe?V.len-_.chartY+V.pos:_.chartX-V.pos,plotY:oe?re.len-_.chartX+re.pos:_.chartY-re.pos},K,_)},ne.prototype.buildKDTree=function(_){function K(oe,ge,fe){var ve=oe&&oe.length;if(ve){var me=V.kdAxisArray[ge%fe];return oe.sort(function(Le,ze){return Le[me]-ze[me]}),ve=Math.floor(ve/2),{point:oe[ve],left:K(oe.slice(0,ve),ge+1,fe),right:K(oe.slice(ve+1),ge+1,fe)}}}this.buildingKdTree=!0;var V=this,re=-1<V.options.findNearestPointBy.indexOf("y")?2:1;delete V.kdTree,te(function(){V.kdTree=K(V.getValidPoints(null,!V.directTouch),re,re),V.buildingKdTree=!1},V.options.kdNow||_&&_.type==="touchstart"?0:1)},ne.prototype.searchKDTree=function(_,K,V){function re(me,Le,ze,Ae){var he=Le.point,de=oe.kdAxisArray[ze%Ae],G=he,ce=P(me[ge])&&P(he[ge])?Math.pow(me[ge]-he[ge],2):null,X=P(me[fe])&&P(he[fe])?Math.pow(me[fe]-he[fe],2):null;return X=(ce||0)+(X||0),he.dist=P(X)?Math.sqrt(X):Number.MAX_VALUE,he.distX=P(ce)?Math.sqrt(ce):Number.MAX_VALUE,de=me[de]-he[de],X=0>de?"left":"right",ce=0>de?"right":"left",Le[X]&&(X=re(me,Le[X],ze+1,Ae),G=X[ve]<G[ve]?X:he),Le[ce]&&Math.sqrt(de*de)<G[ve]&&(me=re(me,Le[ce],ze+1,Ae),G=me[ve]<G[ve]?me:G),G}var oe=this,ge=this.kdAxisArray[0],fe=this.kdAxisArray[1],ve=K?"distX":"dist";if(K=-1<oe.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(V),this.kdTree)return re(_,this.kdTree,K,K)},ne.prototype.pointPlacementToXValue=function(){var _=this.options,K=_.pointRange,V=this.xAxis;return _=_.pointPlacement,_==="between"&&(_=V.reversed?-.5:.5),ae(_)?_*(K||V.pointRange):0},ne.prototype.isPointInside=function(_){var K=this.chart,V=this.xAxis,re=this.yAxis;return typeof _.plotY<"u"&&typeof _.plotX<"u"&&0<=_.plotY&&_.plotY<=(re?re.len:K.plotHeight)&&0<=_.plotX&&_.plotX<=(V?V.len:K.plotWidth)},ne.prototype.drawTracker=function(){var _=this,K=_.options,V=K.trackByArea,re=[].concat(V?_.areaPath:_.graphPath),oe=_.chart,ge=oe.pointer,fe=oe.renderer,ve=oe.options.tooltip.snap,me=_.tracker,Le=function(Ae){oe.hoverSeries!==_&&_.onMouseOver()},ze="rgba(192,192,192,"+(L?1e-4:.002)+")";me?me.attr({d:re}):_.graph&&(_.tracker=fe.path(re).attr({visibility:_.visible?"visible":"hidden",zIndex:2}).addClass(V?"highcharts-tracker-area":"highcharts-tracker-line").add(_.group),oe.styledMode||_.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:ze,fill:V?ze:"none","stroke-width":_.graph.strokeWidth()+(V?0:2*ve)}),[_.tracker,_.markerGroup,_.dataLabelsGroup].forEach(function(Ae){Ae&&(Ae.addClass("highcharts-tracker").on("mouseover",Le).on("mouseout",function(he){ge.onTrackerMouseOut(he)}),K.cursor&&!oe.styledMode&&Ae.css({cursor:K.cursor}),M)&&Ae.on("touchstart",Le)})),q(this,"afterDrawTracker")},ne.prototype.addPoint=function(_,K,V,re,oe){var ge=this.options,fe=this.data,ve=this.chart,me=this.xAxis;me=me&&me.hasNames&&me.names;var Le=ge.data,ze=this.xData,Ae;K=H(K,!0);var he={series:this};this.pointClass.prototype.applyOptions.apply(he,[_]);var de=he.x,G=ze.length;if(this.requireSorting&&de<ze[G-1])for(Ae=!0;G&&ze[G-1]>de;)G--;this.updateParallelArrays(he,"splice",G,0,0),this.updateParallelArrays(he,G),me&&he.name&&(me[de]=he.name),Le.splice(G,0,_),Ae&&(this.data.splice(G,0,null),this.processData()),ge.legendType==="point"&&this.generatePoints(),V&&(fe[0]&&fe[0].remove?fe[0].remove(!1):(fe.shift(),this.updateParallelArrays(he,"shift"),Le.shift())),oe!==!1&&q(this,"addPoint",{point:he}),this.isDirtyData=this.isDirty=!0,K&&ve.redraw(re)},ne.prototype.removePoint=function(_,K,V){var re=this,oe=re.data,ge=oe[_],fe=re.points,ve=re.chart,me=function(){fe&&fe.length===oe.length&&fe.splice(_,1),oe.splice(_,1),re.options.data.splice(_,1),re.updateParallelArrays(ge||{series:re},"splice",_,1),ge&&ge.destroy(),re.isDirty=!0,re.isDirtyData=!0,K&&ve.redraw()};w(V,ve),K=H(K,!0),ge?ge.firePointEvent("remove",null,me):me()},ne.prototype.remove=function(_,K,V,re){function oe(){ge.destroy(re),fe.isDirtyLegend=fe.isDirtyBox=!0,fe.linkSeries(),H(_,!0)&&fe.redraw(K)}var ge=this,fe=ge.chart;V!==!1?q(ge,"remove",null,oe):oe()},ne.prototype.update=function(_,K){_=O(_,this.userOptions),q(this,"update",{options:_});var V=this,re=V.chart,oe=V.userOptions,ge=V.initialType||V.type,fe=re.options.plotOptions,ve=E[ge].prototype,me=V.finishedAnimating&&{animation:!1},Le={},ze,Ae=["eventOptions","navigatorSeries","baseSeries"],he=_.type||oe.type||re.options.chart.type,de=!(this.hasDerivedData||he&&he!==this.type||typeof _.pointStart<"u"||typeof _.pointInterval<"u"||typeof _.relativeXValue<"u"||V.hasOptionChanged("dataGrouping")||V.hasOptionChanged("pointStart")||V.hasOptionChanged("pointInterval")||V.hasOptionChanged("pointIntervalUnit")||V.hasOptionChanged("keys"));if(he=he||ge,de&&(Ae.push("data","isDirtyData","points","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","mapMap","mapData","minY","maxY","minX","maxX"),_.visible!==!1&&Ae.push("area","graph"),V.parallelArrays.forEach(function(ce){Ae.push(ce+"Data")}),_.data&&(_.dataSorting&&N(V.options.dataSorting,_.dataSorting),this.setData(_.data,!1))),_=ie(oe,me,{index:typeof oe.index>"u"?V.index:oe.index,pointStart:H(fe&&fe.series&&fe.series.pointStart,oe.pointStart,V.xData[0])},!de&&{data:V.options.data},_),de&&_.data&&(_.data=V.options.data),Ae=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(Ae),Ae.forEach(function(ce){Ae[ce]=V[ce],delete V[ce]}),fe=!1,E[he]){if(fe=he!==V.type,V.remove(!1,!1,!1,!0),fe)if(Object.setPrototypeOf)Object.setPrototypeOf(V,E[he].prototype);else{me=Object.hasOwnProperty.call(V,"hcEvents")&&V.hcEvents;for(ze in ve)V[ze]=void 0;N(V,E[he].prototype),me?V.hcEvents=me:delete V.hcEvents}}else d(17,!0,re,{missingModuleFor:he});if(Ae.forEach(function(ce){V[ce]=Ae[ce]}),V.init(re,_),de&&this.points){var G=V.options;G.visible===!1?(Le.graphic=1,Le.dataLabel=1):V._hasPointLabels||(_=G.marker,ve=G.dataLabels,!_||_.enabled!==!1&&(oe.marker&&oe.marker.symbol)===_.symbol||(Le.graphic=1),ve&&ve.enabled===!1&&(Le.dataLabel=1)),this.points.forEach(function(ce){ce&&ce.series&&(ce.resolveColor(),Object.keys(Le).length&&ce.destroyElements(Le),G.showInLegend===!1&&ce.legendItem&&re.legend.destroyItem(ce))},this)}V.initialType=ge,re.linkSeries(),fe&&V.linkedSeries.length&&(V.isDirtyData=!0),q(this,"afterUpdate"),H(K,!0)&&re.redraw(de?void 0:!1)},ne.prototype.setName=function(_){this.name=this.options.name=this.userOptions.name=_,this.chart.isDirtyLegend=!0},ne.prototype.hasOptionChanged=function(_){var K=this.options[_],V=this.chart.options.plotOptions,re=this.userOptions[_];return re?K!==re:K!==H(V&&V[this.type]&&V[this.type][_],V&&V.series&&V.series[_],K)},ne.prototype.onMouseOver=function(){var _=this.chart,K=_.hoverSeries;_.pointer.setHoverChartIndex(),K&&K!==this&&K.onMouseOut(),this.options.events.mouseOver&&q(this,"mouseOver"),this.setState("hover"),_.hoverSeries=this},ne.prototype.onMouseOut=function(){var _=this.options,K=this.chart,V=K.tooltip,re=K.hoverPoint;K.hoverSeries=null,re&&re.onMouseOut(),this&&_.events.mouseOut&&q(this,"mouseOut"),!V||this.stickyTracking||V.shared&&!this.noSharedTooltip||V.hide(),K.series.forEach(function(oe){oe.setState("",!0)})},ne.prototype.setState=function(_,K){var V=this,re=V.options,oe=V.graph,ge=re.inactiveOtherPoints,fe=re.states,ve=H(fe[_||"normal"]&&fe[_||"normal"].animation,V.chart.options.chart.animation),me=re.lineWidth,Le=0,ze=re.opacity;if(_=_||"",V.state!==_&&([V.group,V.markerGroup,V.dataLabelsGroup].forEach(function(Ae){Ae&&(V.state&&Ae.removeClass("highcharts-series-"+V.state),_&&Ae.addClass("highcharts-series-"+_))}),V.state=_,!V.chart.styledMode)){if(fe[_]&&fe[_].enabled===!1)return;if(_&&(me=fe[_].lineWidth||me+(fe[_].lineWidthPlus||0),ze=H(fe[_].opacity,ze)),oe&&!oe.dashstyle)for(re={"stroke-width":me},oe.animate(re,ve);V["zone-graph-"+Le];)V["zone-graph-"+Le].animate(re,ve),Le+=1;ge||[V.group,V.markerGroup,V.dataLabelsGroup,V.labelBySeries].forEach(function(Ae){Ae&&Ae.animate({opacity:ze},ve)})}K&&ge&&V.points&&V.setAllPointsToState(_||void 0)},ne.prototype.setAllPointsToState=function(_){this.points.forEach(function(K){K.setState&&K.setState(_)})},ne.prototype.setVisible=function(_,K){var V=this,re=V.chart,oe=V.legendItem,ge=re.options.chart.ignoreHiddenSeries,fe=V.visible,ve=(V.visible=_=V.options.visible=V.userOptions.visible=typeof _>"u"?!fe:_)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(me){V[me]&&V[me][ve]()}),(re.hoverSeries===V||(re.hoverPoint&&re.hoverPoint.series)===V)&&V.onMouseOut(),oe&&re.legend.colorizeItem(V,_),V.isDirty=!0,V.options.stacking&&re.series.forEach(function(me){me.options.stacking&&me.visible&&(me.isDirty=!0)}),V.linkedSeries.forEach(function(me){me.setVisible(_,!1)}),ge&&(re.isDirtyBox=!0),q(V,ve),K!==!1&&re.redraw()},ne.prototype.show=function(){this.setVisible(!0)},ne.prototype.hide=function(){this.setVisible(!1)},ne.prototype.select=function(_){this.selected=_=this.options.selected=typeof _>"u"?!this.selected:_,this.checkbox&&(this.checkbox.checked=_),q(this,_?"select":"unselect")},ne.prototype.shouldShowTooltip=function(_,K,V){return V===void 0&&(V={}),V.series=this,V.visiblePlotOnly=!0,this.chart.isInsidePlot(_,K,V)},ne.defaultOptions=p,ne}(),N(r.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,drawLegendSymbol:f.drawLineMarker,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:g,requireSorting:!0,sorted:!0}),m.series=r,r}),e(n,"Extensions/ScrollablePlotArea.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Axis/Axis.js"],n["Core/Chart/Chart.js"],n["Core/Series/Series.js"],n["Core/Renderer/RendererRegistry.js"],n["Core/Utilities.js"]],function(r,s,a,h,f,g){var p=r.stop,m=g.addEvent,x=g.createElement,v=g.merge,C=g.pick;m(a,"afterSetChartSize",function(w){var b=this.options.chart.scrollablePlotArea,T=b&&b.minWidth;if(b=b&&b.minHeight,!this.renderer.forExport){if(T){if(this.scrollablePixelsX=T=Math.max(0,T-this.chartWidth)){this.scrollablePlotBox=this.renderer.scrollablePlotBox=v(this.plotBox),this.plotBox.width=this.plotWidth+=T,this.inverted?this.clipBox.height+=T:this.clipBox.width+=T;var M={1:{name:"right",value:T}}}}else b&&(this.scrollablePixelsY=T=Math.max(0,b-this.chartHeight))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=v(this.plotBox),this.plotBox.height=this.plotHeight+=T,this.inverted?this.clipBox.width+=T:this.clipBox.height+=T,M={2:{name:"bottom",value:T}});M&&!w.skipAxes&&this.axes.forEach(function(L){M[L.side]?L.getPlotLinePath=function(){var A=M[L.side].name,E=this[A];this[A]=E-M[L.side].value;var D=s.prototype.getPlotLinePath.apply(this,arguments);return this[A]=E,D}:(L.setAxisSize(),L.setAxisTranslation())})}}),m(a,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),a.prototype.setUpScrolling=function(){var w=this,b={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(b.overflowX="auto"),this.scrollablePixelsY&&(b.overflowY="auto"),this.scrollingParent=x("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=x("div",{className:"highcharts-scrolling"},b,this.scrollingParent),m(this.scrollingContainer,"scroll",function(){w.pointer&&delete w.pointer.chartPosition}),this.innerContainer=x("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},a.prototype.moveFixedElements=function(){var w=this.container,b=this.fixedRenderer,T=".highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" "),M;this.scrollablePixelsX&&!this.inverted?M=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?M=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(M=".highcharts-yaxis"),M&&T.push(M+":not(.highcharts-radial-axis)",M+"-labels:not(.highcharts-radial-axis-labels)"),T.forEach(function(L){[].forEach.call(w.querySelectorAll(L),function(A){(A.namespaceURI===b.SVG_NS?b.box:b.box.parentNode).appendChild(A),A.style.pointerEvents="auto"})})},a.prototype.applyFixed=function(){var w=!this.fixedDiv,b=this.options.chart,T=b.scrollablePlotArea,M=f.getRendererType();w?(this.fixedDiv=x("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(b.style&&b.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=b=new M(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=b.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":C(T.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),m(this,"afterShowResetZoom",this.moveFixedElements),m(this,"afterDrilldown",this.moveFixedElements),m(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||w)&&(this.scrollableDirty=!1,this.moveFixedElements()),b=this.chartWidth+(this.scrollablePixelsX||0),M=this.chartHeight+(this.scrollablePixelsY||0),p(this.container),this.container.style.width=b+"px",this.container.style.height=M+"px",this.renderer.boxWrapper.attr({width:b,height:M,viewBox:[0,0,b,M].join(" ")}),this.chartBackground.attr({width:b,height:M}),this.scrollingContainer.style.height=this.chartHeight+"px",w&&(T.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*T.scrollPositionX),T.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*T.scrollPositionY)),M=this.axisOffset,w=this.plotTop-M[0]-1,T=this.plotLeft-M[3]-1,b=this.plotTop+this.plotHeight+M[2]+1,M=this.plotLeft+this.plotWidth+M[1]+1;var L=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),A=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);w=this.scrollablePixelsX?[["M",0,w],["L",this.plotLeft-1,w],["L",this.plotLeft-1,b],["L",0,b],["Z"],["M",L,w],["L",this.chartWidth,w],["L",this.chartWidth,b],["L",L,b],["Z"]]:this.scrollablePixelsY?[["M",T,0],["L",T,this.plotTop-1],["L",M,this.plotTop-1],["L",M,0],["Z"],["M",T,A],["L",T,this.chartHeight],["L",M,this.chartHeight],["L",M,A],["Z"]]:[["M",0,0]],this.redrawTrigger!=="adjustHeight"&&this.scrollableMask.attr({d:w})},m(s,"afterInit",function(){this.chart.scrollableDirty=!0}),m(h,"show",function(){this.chart.scrollableDirty=!0})}),e(n,"Core/Axis/StackingAxis.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Axis/Axis.js"],n["Core/Utilities.js"]],function(r,s,a){var h=r.getDeferredAnimation,f=a.addEvent,g=a.destroyObjectProperties,p=a.fireEvent,m=a.isNumber,x=a.objectEach,v;return function(C){function w(){var L=this.stacking;if(L){var A=L.stacks;x(A,function(E,D){g(E),A[D]=null}),L&&L.stackTotalGroup&&L.stackTotalGroup.destroy()}}function b(){this.stacking||(this.stacking=new M(this))}var T=[];C.compose=function(L){return T.indexOf(L)===-1&&(T.push(L),f(L,"init",b),f(L,"destroy",w)),L};var M=function(){function L(A){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=A}return L.prototype.buildStacks=function(){var A=this.axis,E=A.series,D=A.options.reversedStacks,B=E.length,z;if(!A.isXAxis){for(this.usePercentage=!1,z=B;z--;){var I=E[D?z:B-z-1];I.setStackedPoints(),I.setGroupedPoints()}for(z=0;z<B;z++)E[z].modifyStacks();p(A,"afterBuildStacks")}},L.prototype.cleanStacks=function(){if(!this.axis.isXAxis){if(this.oldStacks)var A=this.stacks=this.oldStacks;x(A,function(E){x(E,function(D){D.cumulative=D.total})})}},L.prototype.resetStacks=function(){var A=this,E=A.stacks;A.axis.isXAxis||x(E,function(D){x(D,function(B,z){m(B.touched)&&B.touched<A.stacksTouched?(B.destroy(),delete D[z]):(B.total=null,B.cumulative=null)})})},L.prototype.renderStackTotals=function(){var A=this.axis,E=A.chart,D=E.renderer,B=this.stacks;A=h(E,A.options.stackLabels&&A.options.stackLabels.animation||!1);var z=this.stackTotalGroup=this.stackTotalGroup||D.g("stack-labels").attr({visibility:"visible",zIndex:6,opacity:0}).add();z.translate(E.plotLeft,E.plotTop),x(B,function(I){x(I,function(O){O.render(z)})}),z.animate({opacity:1},A)},L}();C.Additions=M}(v||(v={})),v}),e(n,"Extensions/Stacking.js",[n["Core/Axis/Axis.js"],n["Core/Chart/Chart.js"],n["Core/FormatUtilities.js"],n["Core/Globals.js"],n["Core/Series/Series.js"],n["Core/Axis/StackingAxis.js"],n["Core/Utilities.js"]],function(r,s,a,h,f,g,p){var m=a.format,x=p.correctFloat,v=p.defined,C=p.destroyObjectProperties,w=p.isArray,b=p.isNumber,T=p.objectEach,M=p.pick,L=function(){function A(E,D,B,z,I){var O=E.chart.inverted;this.axis=E,this.isNegative=B,this.options=D=D||{},this.x=z,this.total=null,this.points={},this.hasValidPoints=!1,this.stack=I,this.rightCliff=this.leftCliff=0,this.alignOptions={align:D.align||(O?B?"left":"right":"center"),verticalAlign:D.verticalAlign||(O?"middle":B?"bottom":"top"),y:D.y,x:D.x},this.textAlign=D.textAlign||(O?B?"right":"left":"center")}return A.prototype.destroy=function(){C(this,this.axis)},A.prototype.render=function(E){var D=this.axis.chart,B=this.options,z=B.format;z=z?m(z,this,D):B.formatter.call(this),this.label?this.label.attr({text:z,visibility:"hidden"}):(this.label=D.renderer.label(z,null,null,B.shape,null,null,B.useHTML,!1,"stack-labels"),z={r:B.borderRadius||0,text:z,rotation:B.rotation,padding:M(B.padding,5),visibility:"hidden"},D.styledMode||(z.fill=B.backgroundColor,z.stroke=B.borderColor,z["stroke-width"]=B.borderWidth,this.label.css(B.style)),this.label.attr(z),this.label.added||this.label.add(E)),this.label.labelrank=D.plotSizeY},A.prototype.setOffset=function(E,D,B,z,I){var O=this.axis,S=O.chart;z=O.translate(O.stacking.usePercentage?100:z||this.total,0,0,0,1),B=O.translate(B||0),B=v(z)&&Math.abs(z-B),E=M(I,S.xAxis[0].translate(this.x))+E,O=v(z)&&this.getStackBox(S,this,E,z,D,B,O),D=this.label,B=this.isNegative,E=M(this.options.overflow,"justify")==="justify";var P=this.textAlign;D&&O&&(I=D.getBBox(),z=D.padding,P=P==="left"?S.inverted?-z:z:P==="right"?I.width:S.inverted&&P==="center"?I.width/2:S.inverted?B?I.width+z:-z:I.width/2,B=S.inverted?I.height/2:B?-z:I.height,this.alignOptions.x=M(this.options.x,0),this.alignOptions.y=M(this.options.y,0),O.x-=P,O.y-=B,D.align(this.alignOptions,null,O),S.isInsidePlot(D.alignAttr.x+P-this.alignOptions.x,D.alignAttr.y+B-this.alignOptions.y)?D.show():(D.alignAttr.y=-9999,E=!1),E&&f.prototype.justifyDataLabel.call(this.axis,D,this.alignOptions,D.alignAttr,I,O),D.attr({x:D.alignAttr.x,y:D.alignAttr.y}),M(!E&&this.options.crop,!0)&&((S=b(D.x)&&b(D.y)&&S.isInsidePlot(D.x-z+D.width,D.y)&&S.isInsidePlot(D.x+z,D.y))||D.hide()))},A.prototype.getStackBox=function(E,D,B,z,I,O,S){var P=D.axis.reversed,k=E.inverted,d=S.height+S.pos-(k?E.plotLeft:E.plotTop);return D=D.isNegative&&!P||!D.isNegative&&P,{x:k?D?z-S.right:z-O+S.pos-E.plotLeft:B+E.xAxis[0].transB-E.plotLeft,y:k?S.height-B-I:D?d-z-O:d-z,width:k?O:I,height:k?I:O}},A}();return s.prototype.getStacks=function(){var A=this,E=A.inverted;A.yAxis.forEach(function(D){D.stacking&&D.stacking.stacks&&D.hasVisibleSeries&&(D.stacking.oldStacks=D.stacking.stacks)}),A.series.forEach(function(D){var B=D.xAxis&&D.xAxis.options||{};!D.options.stacking||D.visible!==!0&&A.options.chart.ignoreHiddenSeries!==!1||(D.stackKey=[D.type,M(D.options.stack,""),E?B.top:B.left,E?B.height:B.width].join())})},g.compose(r),f.prototype.setGroupedPoints=function(){var A=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?f.prototype.setStackedPoints.call(this,"group"):A&&T(A.stacks,function(E,D){D.slice(-5)==="group"&&(T(E,function(B){return B.destroy()}),delete A.stacks[D])})},f.prototype.setStackedPoints=function(A){var E=A||this.options.stacking;if(E&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var D=this.processedXData,B=this.processedYData,z=[],I=B.length,O=this.options,S=O.threshold,P=M(O.startFromThreshold&&S,0);O=O.stack,A=A?this.type+","+E:this.stackKey;var k="-"+A,d=this.negStacks,N=this.yAxis,R=N.stacking.stacks,q=N.stacking.oldStacks,ee,ue;for(N.stacking.stacksTouched+=1,ue=0;ue<I;ue++){var ae=D[ue],$=B[ue],ie=this.getStackIndicator(ie,ae,this.index),j=ie.key,H=(ee=d&&$<(P?0:S))?k:A;R[H]||(R[H]={}),R[H][ae]||(q[H]&&q[H][ae]?(R[H][ae]=q[H][ae],R[H][ae].total=null):R[H][ae]=new L(N,N.options.stackLabels,ee,ae,O)),H=R[H][ae],$!==null?(H.points[j]=H.points[this.index]=[M(H.cumulative,P)],v(H.cumulative)||(H.base=j),H.touched=N.stacking.stacksTouched,0<ie.index&&this.singleStacks===!1&&(H.points[j][0]=H.points[this.index+","+ae+",0"][0])):H.points[j]=H.points[this.index]=null,E==="percent"?(ee=ee?A:k,d&&R[ee]&&R[ee][ae]?(ee=R[ee][ae],H.total=ee.total=Math.max(ee.total,H.total)+Math.abs($)||0):H.total=x(H.total+(Math.abs($)||0))):E==="group"?(w($)&&($=$[0]),$!==null&&(H.total=(H.total||0)+1)):H.total=x(H.total+($||0)),H.cumulative=E==="group"?(H.total||1)-1:M(H.cumulative,P)+($||0),$!==null&&(H.points[j].push(H.cumulative),z[ue]=H.cumulative,H.hasValidPoints=!0)}E==="percent"&&(N.stacking.usePercentage=!0),E!=="group"&&(this.stackedYData=z),N.stacking.oldStacks={}}},f.prototype.modifyStacks=function(){var A=this,E=A.stackKey,D=A.yAxis.stacking.stacks,B=A.processedXData,z,I=A.options.stacking;A[I+"Stacker"]&&[E,"-"+E].forEach(function(O){for(var S=B.length,P,k;S--;)P=B[S],z=A.getStackIndicator(z,P,A.index,O),(k=(P=D[O]&&D[O][P])&&P.points[z.key])&&A[I+"Stacker"](k,P,S)})},f.prototype.percentStacker=function(A,E,D){E=E.total?100/E.total:0,A[0]=x(A[0]*E),A[1]=x(A[1]*E),this.stackedYData[D]=A[1]},f.prototype.getStackIndicator=function(A,E,D,B){return!v(A)||A.x!==E||B&&A.key!==B?A={x:E,index:0,key:B}:A.index++,A.key=[D,E,A.index].join(),A},h.StackItem=L,h.StackItem}),e(n,"Series/Line/LineSeries.js",[n["Core/Series/Series.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Utilities.js"]],function(r,s,a){var h=this&&this.__extends||function(){var p=function(m,x){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,C){v.__proto__=C}||function(v,C){for(var w in C)C.hasOwnProperty(w)&&(v[w]=C[w])},p(m,x)};return function(m,x){function v(){this.constructor=m}p(m,x),m.prototype=x===null?Object.create(x):(v.prototype=x.prototype,new v)}}(),f=a.defined,g=a.merge;return a=function(p){function m(){var x=p!==null&&p.apply(this,arguments)||this;return x.data=void 0,x.options=void 0,x.points=void 0,x}return h(m,p),m.prototype.drawGraph=function(){var x=this,v=this.options,C=(this.gappedPath||this.getGraphPath).call(this),w=this.chart.styledMode,b=[["graph","highcharts-graph"]];w||b[0].push(v.lineColor||this.color||"#cccccc",v.dashStyle),b=x.getZonesGraphs(b),b.forEach(function(T,M){var L=T[0],A=x[L],E=A?"animate":"attr";A?(A.endX=x.preventGraphAnimation?null:C.xMap,A.animate({d:C})):C.length&&(x[L]=A=x.chart.renderer.path(C).addClass(T[1]).attr({zIndex:1}).add(x.group)),A&&!w&&(L={stroke:T[2],"stroke-width":v.lineWidth,fill:x.fillGraph&&x.color||"none"},T[3]?L.dashstyle=T[3]:v.linecap!=="square"&&(L["stroke-linecap"]=L["stroke-linejoin"]="round"),A[E](L).shadow(2>M&&v.shadow)),A&&(A.startX=C.xMap,A.isArea=C.isArea)})},m.prototype.getGraphPath=function(x,v,C){var w=this,b=w.options,T=[],M=[],L,A=b.step;x=x||w.points;var E=x.reversed;return E&&x.reverse(),(A={right:1,center:2}[A]||A&&3)&&E&&(A=4-A),x=this.getValidPoints(x,!1,!(b.connectNulls&&!v&&!C)),x.forEach(function(D,B){var z=D.plotX,I=D.plotY,O=x[B-1];(D.leftCliff||O&&O.rightCliff)&&!C&&(L=!0),D.isNull&&!f(v)&&0<B?L=!b.connectNulls:D.isNull&&!v?L=!0:(B===0||L?B=[["M",D.plotX,D.plotY]]:w.getPointSpline?B=[w.getPointSpline(x,D,B)]:A?(B=A===1?[["L",O.plotX,I]]:A===2?[["L",(O.plotX+z)/2,O.plotY],["L",(O.plotX+z)/2,I]]:[["L",z,O.plotY]],B.push(["L",z,I])):B=[["L",z,I]],M.push(D.x),A&&(M.push(D.x),A===2&&M.push(D.x)),T.push.apply(T,B),L=!1)}),T.xMap=M,w.graphPath=T},m.prototype.getZonesGraphs=function(x){return this.zones.forEach(function(v,C){C=["zone-graph-"+C,"highcharts-graph highcharts-zone-graph-"+C+" "+(v.className||"")],this.chart.styledMode||C.push(v.color||this.color,v.dashStyle||this.options.dashStyle),x.push(C)},this),x},m.defaultOptions=g(r.defaultOptions,{}),m}(r),s.registerSeriesType("line",a),a}),e(n,"Series/Area/AreaSeries.js",[n["Core/Color/Color.js"],n["Core/Legend/LegendSymbol.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Utilities.js"]],function(r,s,a,h){var f=this&&this.__extends||function(){var C=function(w,b){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,M){T.__proto__=M}||function(T,M){for(var L in M)M.hasOwnProperty(L)&&(T[L]=M[L])},C(w,b)};return function(w,b){function T(){this.constructor=w}C(w,b),w.prototype=b===null?Object.create(b):(T.prototype=b.prototype,new T)}}(),g=r.parse,p=a.seriesTypes.line;r=h.extend;var m=h.merge,x=h.objectEach,v=h.pick;return h=function(C){function w(){var b=C!==null&&C.apply(this,arguments)||this;return b.data=void 0,b.options=void 0,b.points=void 0,b}return f(w,C),w.prototype.drawGraph=function(){this.areaPath=[],C.prototype.drawGraph.apply(this);var b=this,T=this.areaPath,M=this.options,L=[["area","highcharts-area",this.color,M.fillColor]];this.zones.forEach(function(A,E){L.push(["zone-area-"+E,"highcharts-area highcharts-zone-area-"+E+" "+A.className,A.color||b.color,A.fillColor||M.fillColor])}),L.forEach(function(A){var E=A[0],D=b[E],B=D?"animate":"attr",z={};D?(D.endX=b.preventGraphAnimation?null:T.xMap,D.animate({d:T})):(z.zIndex=0,D=b[E]=b.chart.renderer.path(T).addClass(A[1]).add(b.group),D.isArea=!0),b.chart.styledMode||(z.fill=v(A[3],g(A[2]).setOpacity(v(M.fillOpacity,.75)).get())),D[B](z),D.startX=T.xMap,D.shiftUnit=M.step?2:1})},w.prototype.getGraphPath=function(b){var T=p.prototype.getGraphPath,M=this.options,L=M.stacking,A=this.yAxis,E,D=[],B=[],z=this.index,I=A.stacking.stacks[this.stackKey],O=M.threshold,S=Math.round(A.getThreshold(M.threshold));M=v(M.connectNulls,L==="percent");var P=function(R,q,ee){var ue=b[R];R=L&&I[ue.x].points[z];var ae=ue[ee+"Null"]||0;if(ee=ue[ee+"Cliff"]||0,ue=!0,ee||ae){var $=(ae?R[0]:R[1])+ee,ie=R[0]+ee;ue=!!ae}else!L&&b[q]&&b[q].isNull&&($=ie=O);typeof $<"u"&&(B.push({plotX:d,plotY:$===null?S:A.getThreshold($),isNull:ue,isCliff:!0}),D.push({plotX:d,plotY:ie===null?S:A.getThreshold(ie),doCurve:!1}))};for(b=b||this.points,L&&(b=this.getStackPoints(b)),E=0;E<b.length;E++){L||(b[E].leftCliff=b[E].rightCliff=b[E].leftNull=b[E].rightNull=void 0);var k=b[E].isNull,d=v(b[E].rectPlotX,b[E].plotX),N=L?v(b[E].yBottom,S):S;(!k||M)&&(M||P(E,E-1,"left"),k&&!L&&M||(B.push(b[E]),D.push({x:E,plotX:d,plotY:N})),M||P(E,E+1,"right"))}return E=T.call(this,B,!0,!0),D.reversed=!0,k=T.call(this,D,!0,!0),(N=k[0])&&N[0]==="M"&&(k[0]=["L",N[1],N[2]]),k=E.concat(k),k.length&&k.push(["Z"]),T=T.call(this,B,!1,M),k.xMap=E.xMap,this.areaPath=k,T},w.prototype.getStackPoints=function(b){var T=this,M=[],L=[],A=this.xAxis,E=this.yAxis,D=E.stacking.stacks[this.stackKey],B={},z=E.series,I=z.length,O=E.options.reversedStacks?1:-1,S=z.indexOf(T);if(b=b||this.points,this.options.stacking){for(var P=0;P<b.length;P++)b[P].leftNull=b[P].rightNull=void 0,B[b[P].x]=b[P];x(D,function(d,N){d.total!==null&&L.push(N)}),L.sort(function(d,N){return d-N});var k=z.map(function(d){return d.visible});L.forEach(function(d,N){var R=0,q,ee;if(B[d]&&!B[d].isNull)M.push(B[d]),[-1,1].forEach(function(ae){var $=ae===1?"rightNull":"leftNull",ie=0,j=D[L[N+ae]];if(j)for(var H=S;0<=H&&H<I;){var U=z[H].index;q=j.points[U],q||(U===T.index?B[d][$]=!0:k[H]&&(ee=D[d].points[U])&&(ie-=ee[1]-ee[0])),H+=O}B[d][ae===1?"rightCliff":"leftCliff"]=ie});else{for(var ue=S;0<=ue&&ue<I;){if(q=D[d].points[z[ue].index]){R=q[1];break}ue+=O}R=v(R,0),R=E.translate(R,0,1,0,1),M.push({isNull:!0,plotX:A.translate(d,0,0,0,1),x:d,plotY:R,yBottom:R})}})}return M},w.defaultOptions=m(p.defaultOptions,{threshold:0}),w}(p),r(h.prototype,{singleStacks:!1,drawLegendSymbol:s.drawRectangle}),a.registerSeriesType("area",h),h}),e(n,"Series/Spline/SplineSeries.js",[n["Core/Series/SeriesRegistry.js"],n["Core/Utilities.js"]],function(r,s){var a=this&&this.__extends||function(){var p=function(m,x){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,C){v.__proto__=C}||function(v,C){for(var w in C)C.hasOwnProperty(w)&&(v[w]=C[w])},p(m,x)};return function(m,x){function v(){this.constructor=m}p(m,x),m.prototype=x===null?Object.create(x):(v.prototype=x.prototype,new v)}}(),h=r.seriesTypes.line,f=s.merge,g=s.pick;return s=function(p){function m(){var x=p!==null&&p.apply(this,arguments)||this;return x.data=void 0,x.options=void 0,x.points=void 0,x}return a(m,p),m.prototype.getPointSpline=function(x,v,C){var w=v.plotX||0,b=v.plotY||0,T=x[C-1];if(C=x[C+1],T&&!T.isNull&&T.doCurve!==!1&&!v.isCliff&&C&&!C.isNull&&C.doCurve!==!1&&!v.isCliff){x=T.plotY||0;var M=C.plotX||0;C=C.plotY||0;var L=0,A=(1.5*w+(T.plotX||0))/2.5,E=(1.5*b+x)/2.5;M=(1.5*w+M)/2.5;var D=(1.5*b+C)/2.5;M!==A&&(L=(D-E)*(M-w)/(M-A)+b-D),E+=L,D+=L,E>x&&E>b?(E=Math.max(x,b),D=2*b-E):E<x&&E<b&&(E=Math.min(x,b),D=2*b-E),D>C&&D>b?(D=Math.max(C,b),E=2*b-D):D<C&&D<b&&(D=Math.min(C,b),E=2*b-D),v.rightContX=M,v.rightContY=D}return v=["C",g(T.rightContX,T.plotX,0),g(T.rightContY,T.plotY,0),g(A,w,0),g(E,b,0),w,b],T.rightContX=T.rightContY=void 0,v},m.defaultOptions=f(h.defaultOptions),m}(h),r.registerSeriesType("spline",s),s}),e(n,"Series/AreaSpline/AreaSplineSeries.js",[n["Series/Area/AreaSeries.js"],n["Series/Spline/SplineSeries.js"],n["Core/Legend/LegendSymbol.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Utilities.js"]],function(r,s,a,h,f){var g=this&&this.__extends||function(){var v=function(C,w){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,T){b.__proto__=T}||function(b,T){for(var M in T)T.hasOwnProperty(M)&&(b[M]=T[M])},v(C,w)};return function(C,w){function b(){this.constructor=C}v(C,w),C.prototype=w===null?Object.create(w):(b.prototype=w.prototype,new b)}}(),p=r.prototype,m=f.extend,x=f.merge;return f=function(v){function C(){var w=v!==null&&v.apply(this,arguments)||this;return w.data=void 0,w.points=void 0,w.options=void 0,w}return g(C,v),C.defaultOptions=x(s.defaultOptions,r.defaultOptions),C}(s),m(f.prototype,{getGraphPath:p.getGraphPath,getStackPoints:p.getStackPoints,drawGraph:p.drawGraph,drawLegendSymbol:a.drawRectangle}),h.registerSeriesType("areaspline",f),f}),e(n,"Series/Column/ColumnSeries.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Color/Color.js"],n["Core/Globals.js"],n["Core/Legend/LegendSymbol.js"],n["Core/Series/Series.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Utilities.js"]],function(r,s,a,h,f,g,p){var m=this&&this.__extends||function(){var I=function(O,S){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,k){P.__proto__=k}||function(P,k){for(var d in k)k.hasOwnProperty(d)&&(P[d]=k[d])},I(O,S)};return function(O,S){function P(){this.constructor=O}I(O,S),O.prototype=S===null?Object.create(S):(P.prototype=S.prototype,new P)}}(),x=r.animObject,v=s.parse,C=a.hasTouch;r=a.noop;var w=p.clamp,b=p.css,T=p.defined,M=p.extend,L=p.fireEvent,A=p.isArray,E=p.isNumber,D=p.merge,B=p.pick,z=p.objectEach;return p=function(I){function O(){var S=I!==null&&I.apply(this,arguments)||this;return S.borderWidth=void 0,S.data=void 0,S.group=void 0,S.options=void 0,S.points=void 0,S}return m(O,I),O.prototype.animate=function(S){var P=this,k=this.yAxis,d=P.options,N=this.chart.inverted,R={},q=N?"translateX":"translateY";if(S)R.scaleY=.001,S=w(k.toPixels(d.threshold),k.pos,k.pos+k.len),N?R.translateX=S-k.len:R.translateY=S,P.clipBox&&P.setClip(),P.group.attr(R);else{var ee=Number(P.group.attr(q));P.group.animate({scaleY:1},M(x(P.options.animation),{step:function(ue,ae){P.group&&(R[q]=ee+ae.pos*(k.pos-ee),P.group.attr(R))}}))}},O.prototype.init=function(S,P){I.prototype.init.apply(this,arguments);var k=this;S=k.chart,S.hasRendered&&S.series.forEach(function(d){d.type===k.type&&(d.isDirty=!0)})},O.prototype.getColumnMetrics=function(){var S=this,P=S.options,k=S.xAxis,d=S.yAxis,N=k.options.reversedStacks;N=k.reversed&&!N||!k.reversed&&N;var R={},q,ee=0;P.grouping===!1?ee=1:S.chart.series.forEach(function(ie){var j=ie.yAxis,H=ie.options;if(ie.type===S.type&&(ie.visible||!S.chart.options.chart.ignoreHiddenSeries)&&d.len===j.len&&d.pos===j.pos){if(H.stacking&&H.stacking!=="group"){q=ie.stackKey,typeof R[q]>"u"&&(R[q]=ee++);var U=R[q]}else H.grouping!==!1&&(U=ee++);ie.columnIndex=U}});var ue=Math.min(Math.abs(k.transA)*(k.ordinal&&k.ordinal.slope||P.pointRange||k.closestPointRange||k.tickInterval||1),k.len),ae=ue*P.groupPadding,$=(ue-2*ae)/(ee||1);return P=Math.min(P.maxPointWidth||k.len,B(P.pointWidth,$*(1-2*P.pointPadding))),S.columnMetrics={width:P,offset:($-P)/2+(ae+((S.columnIndex||0)+(N?1:0))*$-ue/2)*(N?-1:1),paddedWidth:$,columnCount:ee},S.columnMetrics},O.prototype.crispCol=function(S,P,k,d){var N=this.chart,R=this.borderWidth,q=-(R%2?.5:0);return R=R%2?.5:1,N.inverted&&N.renderer.isVML&&(R+=1),this.options.crisp&&(k=Math.round(S+k)+q,S=Math.round(S)+q,k-=S),d=Math.round(P+d)+R,q=.5>=Math.abs(P)&&.5<d,P=Math.round(P)+R,d-=P,q&&d&&(--P,d+=1),{x:S,y:P,width:k,height:d}},O.prototype.adjustForMissingColumns=function(S,P,k,d){var N=this,R=this.options.stacking;if(!k.isNull&&1<d.columnCount){var q=0,ee=0;z(this.yAxis.stacking&&this.yAxis.stacking.stacks,function(ue){if(typeof k.x=="number"&&(ue=ue[k.x.toString()])){var ae=ue.points[N.index],$=ue.total;R?(ae&&(q=ee),ue.hasValidPoints&&ee++):A(ae)&&(q=ae[1],ee=$||0)}}),S=(k.plotX||0)+((ee-1)*d.paddedWidth+P)/2-P-q*d.paddedWidth}return S},O.prototype.translate=function(){var S=this,P=S.chart,k=S.options,d=S.dense=2>S.closestPointRange*S.xAxis.transA;d=S.borderWidth=B(k.borderWidth,d?0:1);var N=S.xAxis,R=S.yAxis,q=k.threshold,ee=S.translatedThreshold=R.getThreshold(q),ue=B(k.minPointLength,5),ae=S.getColumnMetrics(),$=ae.width,ie=S.pointXOffset=ae.offset,j=S.dataMin,H=S.dataMax,U=S.barW=Math.max($,1+2*d);P.inverted&&(ee-=.5),k.pointPadding&&(U=Math.ceil(U)),f.prototype.translate.apply(S),S.points.forEach(function(Z){var te=B(Z.yBottom,ee),ne=999+Math.abs(te),_=Z.plotX||0;ne=w(Z.plotY,-ne,R.len+ne);var K=Math.min(ne,te),V=Math.max(ne,te)-K,re=$,oe=_+ie,ge=U;ue&&Math.abs(V)<ue&&(V=ue,_=!R.reversed&&!Z.negative||R.reversed&&Z.negative,E(q)&&E(H)&&Z.y===q&&H<=q&&(R.min||0)<q&&(j!==H||(R.max||0)<=q)&&(_=!_),K=Math.abs(K-ee)>ue?te-ue:ee-(_?ue:0)),T(Z.options.pointWidth)&&(re=ge=Math.ceil(Z.options.pointWidth),oe-=Math.round((re-$)/2)),k.centerInCategory&&(oe=S.adjustForMissingColumns(oe,re,Z,ae)),Z.barX=oe,Z.pointWidth=re,Z.tooltipPos=P.inverted?[w(R.len+R.pos-P.plotLeft-ne,R.pos-P.plotLeft,R.len+R.pos-P.plotLeft),N.len+N.pos-P.plotTop-oe-ge/2,V]:[N.left-P.plotLeft+oe+ge/2,w(ne+R.pos-P.plotTop,R.pos-P.plotTop,R.len+R.pos-P.plotTop),V],Z.shapeType=S.pointClass.prototype.shapeType||"rect",Z.shapeArgs=S.crispCol.apply(S,Z.isNull?[oe,ee,ge,0]:[oe,K,ge,V])})},O.prototype.drawGraph=function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},O.prototype.pointAttribs=function(S,P){var k=this.options,d=this.pointAttrToOptions||{},N=d.stroke||"borderColor",R=d["stroke-width"]||"borderWidth",q=S&&S.color||this.color,ee=S&&S[N]||k[N]||q;d=S&&S.options.dashStyle||k.dashStyle;var ue=S&&S[R]||k[R]||this[R]||0,ae=B(S&&S.opacity,k.opacity,1);if(S&&this.zones.length){var $=S.getZone();q=S.options.color||$&&($.color||S.nonZonedColor)||this.color,$&&(ee=$.borderColor||ee,d=$.dashStyle||d,ue=$.borderWidth||ue)}return P&&S&&(S=D(k.states[P],S.options.states&&S.options.states[P]||{}),P=S.brightness,q=S.color||typeof P<"u"&&v(q).brighten(S.brightness).get()||q,ee=S[N]||ee,ue=S[R]||ue,d=S.dashStyle||d,ae=B(S.opacity,ae)),N={fill:q,stroke:ee,"stroke-width":ue,opacity:ae},d&&(N.dashstyle=d),N},O.prototype.drawPoints=function(){var S=this,P=this.chart,k=S.options,d=P.renderer,N=k.animationLimit||250,R;S.points.forEach(function(q){var ee=q.graphic,ue=!!ee,ae=ee&&P.pointCount<N?"animate":"attr";E(q.plotY)&&q.y!==null?(R=q.shapeArgs,ee&&q.hasNewShapeType()&&(ee=ee.destroy()),S.enabledDataSorting&&(q.startXPos=S.xAxis.reversed?-(R&&R.width||0):S.xAxis.width),ee||(q.graphic=ee=d[q.shapeType](R).add(q.group||S.group))&&S.enabledDataSorting&&P.hasRendered&&P.pointCount<N&&(ee.attr({x:q.startXPos}),ue=!0,ae="animate"),ee&&ue&&ee[ae](D(R)),k.borderRadius&&ee[ae]({r:k.borderRadius}),P.styledMode||ee[ae](S.pointAttribs(q,q.selected&&"select")).shadow(q.allowShadow!==!1&&k.shadow,null,k.stacking&&!k.borderRadius),ee&&(ee.addClass(q.getClassName(),!0),ee.attr({visibility:q.visible?"inherit":"hidden"}))):ee&&(q.graphic=ee.destroy())})},O.prototype.drawTracker=function(){var S=this,P=S.chart,k=P.pointer,d=function(R){var q=k.getPointFromEvent(R);typeof q<"u"&&(k.isDirectTouch=!0,q.onMouseOver(R))},N;S.points.forEach(function(R){N=A(R.dataLabels)?R.dataLabels:R.dataLabel?[R.dataLabel]:[],R.graphic&&(R.graphic.element.point=R),N.forEach(function(q){q.div?q.div.point=R:q.element.point=R})}),S._hasTracking||(S.trackerGroups.forEach(function(R){S[R]&&(S[R].addClass("highcharts-tracker").on("mouseover",d).on("mouseout",function(q){k.onTrackerMouseOut(q)}),C&&S[R].on("touchstart",d),!P.styledMode&&S.options.cursor&&S[R].css(b).css({cursor:S.options.cursor}))}),S._hasTracking=!0),L(this,"afterDrawTracker")},O.prototype.remove=function(){var S=this,P=S.chart;P.hasRendered&&P.series.forEach(function(k){k.type===S.type&&(k.isDirty=!0)}),f.prototype.remove.apply(S,arguments)},O.defaultOptions=D(f.defaultOptions,{borderRadius:0,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),O}(f),M(p.prototype,{cropShoulder:0,directTouch:!0,drawLegendSymbol:h.drawRectangle,getSymbol:r,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),g.registerSeriesType("column",p),p}),e(n,"Core/Series/DataLabel.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/FormatUtilities.js"],n["Core/Utilities.js"]],function(r,s,a){var h=r.getDeferredAnimation,f=s.format,g=a.defined,p=a.extend,m=a.fireEvent,x=a.isArray,v=a.merge,C=a.objectEach,w=a.pick,b=a.splat,T;return function(M){function L(O,S,P,k,d){var N=this,R=this.chart,q=this.isCartesian&&R.inverted,ee=this.enabledDataSorting,ue=w(O.dlBox&&O.dlBox.centerX,O.plotX,-9999),ae=w(O.plotY,-9999),$=S.getBBox(),ie=P.rotation,j=P.align,H=R.isInsidePlot(ue,Math.round(ae),{inverted:q,paneCoordinates:!0,series:N}),U=function(_){ee&&N.xAxis&&!Z&&N.setDataLabelStartPos(O,S,d,H,_)},Z=w(P.overflow,ee?"none":"justify")==="justify",te=this.visible&&O.visible!==!1&&(O.series.forceDL||ee&&!Z||H||w(P.inside,!!this.options.stacking)&&k&&R.isInsidePlot(ue,q?k.x+1:k.y+k.height-1,{inverted:q,paneCoordinates:!0,series:N}));if(te){var ne=R.renderer.fontMetrics(R.styledMode?void 0:P.style.fontSize,S).b;k=p({x:q?this.yAxis.len-ae:ue,y:Math.round(q?this.xAxis.len-ue:ae),width:0,height:0},k),p(P,{width:$.width,height:$.height}),ie?(Z=!1,ue=R.renderer.rotCorr(ne,ie),ue={x:k.x+(P.x||0)+k.width/2+ue.x,y:k.y+(P.y||0)+{top:0,middle:.5,bottom:1}[P.verticalAlign]*k.height},U(ue),S[d?"attr":"animate"](ue).attr({align:j}),U=(ie+720)%360,U=180<U&&360>U,j==="left"?ue.y-=U?$.height:0:j==="center"?(ue.x-=$.width/2,ue.y-=$.height/2):j==="right"&&(ue.x-=$.width,ue.y-=U?0:$.height),S.placed=!0,S.alignAttr=ue):(U(k),S.align(P,void 0,k),ue=S.alignAttr),Z&&0<=k.height?this.justifyDataLabel(S,P,ue,$,k,d):w(P.crop,!0)&&(te=R.isInsidePlot(ue.x,ue.y,{paneCoordinates:!0,series:N})&&R.isInsidePlot(ue.x+$.width,ue.y+$.height,{paneCoordinates:!0,series:N})),P.shape&&!ie&&S[d?"attr":"animate"]({anchorX:q?R.plotWidth-O.plotY:O.plotX,anchorY:q?R.plotHeight-O.plotX:O.plotY})}d&&ee&&(S.placed=!1),te||ee&&!Z||(S.hide(!0),S.placed=!1)}function A(O,S){var P=S.filter;return P?(S=P.operator,O=O[P.property],P=P.value,S===">"&&O>P||S==="<"&&O<P||S===">="&&O>=P||S==="<="&&O<=P||S==="=="&&O==P||S==="==="&&O===P):!0}function E(){var O=this,S=O.chart,P=O.options,k=O.points,d=O.hasRendered||0,N=S.renderer,R=P.dataLabels,q,ee=R.animation;if(ee=R.defer?h(S,ee,O):{defer:0,duration:0},R=B(B(S.options.plotOptions&&S.options.plotOptions.series&&S.options.plotOptions.series.dataLabels,S.options.plotOptions&&S.options.plotOptions[O.type]&&S.options.plotOptions[O.type].dataLabels),R),m(this,"drawDataLabels"),x(R)||R.enabled||O._hasPointLabels){var ue=O.plotGroup("dataLabelsGroup","data-labels",d?"inherit":"hidden",R.zIndex||6);ue.attr({opacity:+d}),!d&&(d=O.dataLabelsGroup)&&(O.visible&&ue.show(!0),d[P.animation?"animate":"attr"]({opacity:1},ee)),k.forEach(function(ae){q=b(B(R,ae.dlOptions||ae.options&&ae.options.dataLabels)),q.forEach(function($,ie){var j=$.enabled&&(!ae.isNull||ae.dataLabelOnNull)&&A(ae,$),H=ae.connectors?ae.connectors[ie]:ae.connector,U=ae.dataLabels?ae.dataLabels[ie]:ae.dataLabel,Z=w($.distance,ae.labelDistance),te=!U;if(j){var ne=ae.getLabelConfig(),_=w($[ae.formatPrefix+"Format"],$.format);ne=g(_)?f(_,ne,S):($[ae.formatPrefix+"Formatter"]||$.formatter).call(ne,$),_=$.style;var K=$.rotation;S.styledMode||(_.color=w($.color,_.color,O.color,"#000000"),_.color==="contrast"?(ae.contrastColor=N.getContrast(ae.color||O.color),_.color=!g(Z)&&$.inside||0>Z||P.stacking?ae.contrastColor:"#000000"):delete ae.contrastColor,P.cursor&&(_.cursor=P.cursor));var V={r:$.borderRadius||0,rotation:K,padding:$.padding,zIndex:1};S.styledMode||(V.fill=$.backgroundColor,V.stroke=$.borderColor,V["stroke-width"]=$.borderWidth),C(V,function(re,oe){typeof re>"u"&&delete V[oe]})}!U||j&&g(ne)&&!!U.div==!!$.useHTML||(ae.dataLabel=U=ae.dataLabel&&ae.dataLabel.destroy(),ae.dataLabels&&(ae.dataLabels.length===1?delete ae.dataLabels:delete ae.dataLabels[ie]),ie||delete ae.dataLabel,H&&(ae.connector=ae.connector.destroy(),ae.connectors&&(ae.connectors.length===1?delete ae.connectors:delete ae.connectors[ie]))),j&&g(ne)&&(U?V.text=ne:(ae.dataLabels=ae.dataLabels||[],U=ae.dataLabels[ie]=K?N.text(ne,0,-9999,$.useHTML).addClass("highcharts-data-label"):N.label(ne,0,-9999,$.shape,null,null,$.useHTML,null,"data-label"),ie||(ae.dataLabel=U),U.addClass(" highcharts-data-label-color-"+ae.colorIndex+" "+($.className||"")+($.useHTML?" highcharts-tracker":""))),U.options=$,U.attr(V),S.styledMode||U.css(_).shadow($.shadow),U.added||U.add(ue),$.textPath&&!$.useHTML&&(U.setTextPath(ae.getDataLabelPath&&ae.getDataLabelPath(U)||ae.graphic,$.textPath),ae.dataLabelPath&&!$.textPath.enabled&&(ae.dataLabelPath=ae.dataLabelPath.destroy())),O.alignDataLabel(ae,U,$,null,te))})})}m(this,"afterDrawDataLabels")}function D(O,S,P,k,d,N){var R=this.chart,q=S.align,ee=S.verticalAlign,ue=O.box?0:O.padding||0,ae=S.x;ae=ae===void 0?0:ae;var $=S.y;$=$===void 0?0:$;var ie=(P.x||0)+ue;if(0>ie){q==="right"&&0<=ae?(S.align="left",S.inside=!0):ae-=ie;var j=!0}return ie=(P.x||0)+k.width-ue,ie>R.plotWidth&&(q==="left"&&0>=ae?(S.align="right",S.inside=!0):ae+=R.plotWidth-ie,j=!0),ie=P.y+ue,0>ie&&(ee==="bottom"&&0<=$?(S.verticalAlign="top",S.inside=!0):$-=ie,j=!0),ie=(P.y||0)+k.height-ue,ie>R.plotHeight&&(ee==="top"&&0>=$?(S.verticalAlign="bottom",S.inside=!0):$+=R.plotHeight-ie,j=!0),j&&(S.x=ae,S.y=$,O.placed=!N,O.align(S,void 0,d)),j}function B(O,S){var P=[],k;if(x(O)&&!x(S))P=O.map(function(d){return v(d,S)});else if(x(S)&&!x(O))P=S.map(function(d){return v(O,d)});else if(x(O)||x(S))for(k=Math.max(O.length,S.length);k--;)P[k]=v(O[k],S[k]);else P=v(O,S);return P}function z(O,S,P,k,d){var N=this.chart,R=N.inverted,q=this.xAxis,ee=q.reversed,ue=R?S.height/2:S.width/2;O=(O=O.pointWidth)?O/2:0,S.startXPos=R?d.x:ee?-ue-O:q.width-ue+O,S.startYPos=R?ee?this.yAxis.height-ue+O:-ue-O:d.y,k?S.visibility==="hidden"&&(S.show(),S.attr({opacity:0}).animate({opacity:1})):S.attr({opacity:1}).animate({opacity:0},void 0,S.hide),N.hasRendered&&(P&&S.attr({x:S.startXPos,y:S.startYPos}),S.placed=!0)}var I=[];M.compose=function(O){if(I.indexOf(O)===-1){var S=O.prototype;I.push(O),S.alignDataLabel=L,S.drawDataLabels=E,S.justifyDataLabel=D,S.setDataLabelStartPos=z}}}(T||(T={})),T}),e(n,"Series/Column/ColumnDataLabel.js",[n["Core/Series/DataLabel.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Utilities.js"]],function(r,s,a){var h=s.series,f=a.merge,g=a.pick,p;return function(m){function x(C,w,b,T,M){var L=this.chart.inverted,A=C.series,E=(A.xAxis?A.xAxis.len:this.chart.plotSizeX)||0;A=(A.yAxis?A.yAxis.len:this.chart.plotSizeY)||0;var D=C.dlBox||C.shapeArgs,B=g(C.below,C.plotY>g(this.translatedThreshold,A)),z=g(b.inside,!!this.options.stacking);D&&(T=f(D),0>T.y&&(T.height+=T.y,T.y=0),D=T.y+T.height-A,0<D&&D<T.height&&(T.height-=D),L&&(T={x:A-T.y-T.height,y:E-T.x-T.width,width:T.height,height:T.width}),z||(L?(T.x+=B?0:T.width,T.width=0):(T.y+=B?T.height:0,T.height=0))),b.align=g(b.align,!L||z?"center":B?"right":"left"),b.verticalAlign=g(b.verticalAlign,L||z?"middle":B?"top":"bottom"),h.prototype.alignDataLabel.call(this,C,w,b,T,M),b.inside&&C.contrastColor&&w.css({color:C.contrastColor})}var v=[];m.compose=function(C){r.compose(h),v.indexOf(C)===-1&&(v.push(C),C.prototype.alignDataLabel=x)}}(p||(p={})),p}),e(n,"Series/Bar/BarSeries.js",[n["Series/Column/ColumnSeries.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Utilities.js"]],function(r,s,a){var h=this&&this.__extends||function(){var p=function(m,x){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,C){v.__proto__=C}||function(v,C){for(var w in C)C.hasOwnProperty(w)&&(v[w]=C[w])},p(m,x)};return function(m,x){function v(){this.constructor=m}p(m,x),m.prototype=x===null?Object.create(x):(v.prototype=x.prototype,new v)}}(),f=a.extend,g=a.merge;return a=function(p){function m(){var x=p!==null&&p.apply(this,arguments)||this;return x.data=void 0,x.options=void 0,x.points=void 0,x}return h(m,p),m.defaultOptions=g(r.defaultOptions,{}),m}(r),f(a.prototype,{inverted:!0}),s.registerSeriesType("bar",a),a}),e(n,"Series/Scatter/ScatterSeries.js",[n["Series/Column/ColumnSeries.js"],n["Series/Line/LineSeries.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Utilities.js"]],function(r,s,a,h){var f=this&&this.__extends||function(){var x=function(v,C){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,b){w.__proto__=b}||function(w,b){for(var T in b)b.hasOwnProperty(T)&&(w[T]=b[T])},x(v,C)};return function(v,C){function w(){this.constructor=v}x(v,C),v.prototype=C===null?Object.create(C):(w.prototype=C.prototype,new w)}}(),g=h.addEvent,p=h.extend,m=h.merge;return h=function(x){function v(){var C=x!==null&&x.apply(this,arguments)||this;return C.data=void 0,C.options=void 0,C.points=void 0,C}return f(v,x),v.prototype.applyJitter=function(){var C=this,w=this.options.jitter,b=this.points.length;w&&this.points.forEach(function(T,M){["x","y"].forEach(function(L,A){var E="plot"+L.toUpperCase();if(w[L]&&!T.isNull){var D=C[L+"Axis"],B=w[L]*D.transA;if(D&&!D.isLog){var z=Math.max(0,T[E]-B);D=Math.min(D.len,T[E]+B),A=1e4*Math.sin(M+A*b),T[E]=z+(D-z)*(A-Math.floor(A)),L==="x"&&(T.clientX=T.plotX)}}})})},v.prototype.drawGraph=function(){this.options.lineWidth?x.prototype.drawGraph.call(this):this.graph&&(this.graph=this.graph.destroy())},v.defaultOptions=m(s.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25CF</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),v}(s),p(h.prototype,{drawTracker:r.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),g(h,"afterTranslate",function(){this.applyJitter()}),a.registerSeriesType("scatter",h),h}),e(n,"Series/CenteredUtilities.js",[n["Core/Globals.js"],n["Core/Series/Series.js"],n["Core/Utilities.js"]],function(r,s,a){var h=r.deg2rad,f=a.isNumber,g=a.pick,p=a.relativeLength,m;return function(x){x.getCenter=function(){var v=this.options,C=this.chart,w=2*(v.slicedOffset||0),b=C.plotWidth-2*w,T=C.plotHeight-2*w,M=v.center,L=Math.min(b,T),A=v.size,E=v.innerSize||0;for(typeof A=="string"&&(A=parseFloat(A)),typeof E=="string"&&(E=parseFloat(E)),v=[g(M[0],"50%"),g(M[1],"50%"),g(A&&0>A?void 0:v.size,"100%"),g(E&&0>E?void 0:v.innerSize||0,"0%")],!C.angular||this instanceof s||(v[3]=0),M=0;4>M;++M)A=v[M],C=2>M||M===2&&/%$/.test(A),v[M]=p(A,[b,T,L,v[2]][M])+(C?w:0);return v[3]>v[2]&&(v[3]=v[2]),v},x.getStartAndEndRadians=function(v,C){return v=f(v)?v:0,C=f(C)&&C>v&&360>C-v?C:v+360,{start:h*(v+-90),end:h*(C+-90)}}}(m||(m={})),m}),e(n,"Series/Pie/PiePoint.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Series/Point.js"],n["Core/Utilities.js"]],function(r,s,a){var h=this&&this.__extends||function(){var C=function(w,b){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,M){T.__proto__=M}||function(T,M){for(var L in M)M.hasOwnProperty(L)&&(T[L]=M[L])},C(w,b)};return function(w,b){function T(){this.constructor=w}C(w,b),w.prototype=b===null?Object.create(b):(T.prototype=b.prototype,new T)}}(),f=r.setAnimation,g=a.addEvent,p=a.defined;r=a.extend;var m=a.isNumber,x=a.pick,v=a.relativeLength;return s=function(C){function w(){var b=C!==null&&C.apply(this,arguments)||this;return b.labelDistance=void 0,b.options=void 0,b.series=void 0,b}return h(w,C),w.prototype.getConnectorPath=function(){var b=this.labelPosition,T=this.series.options.dataLabels,M=this.connectorShapes,L=T.connectorShape;return M[L]&&(L=M[L]),L.call(this,{x:b.final.x,y:b.final.y,alignment:b.alignment},b.connectorPosition,T)},w.prototype.getTranslate=function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},w.prototype.haloPath=function(b){var T=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(T.x,T.y,T.r+b,T.r+b,{innerR:T.r-1,start:T.start,end:T.end})},w.prototype.init=function(){var b=this;C.prototype.init.apply(this,arguments),this.name=x(this.name,"Slice");var T=function(M){b.slice(M.type==="select")};return g(this,"select",T),g(this,"unselect",T),this},w.prototype.isValid=function(){return m(this.y)&&0<=this.y},w.prototype.setVisible=function(b,T){var M=this,L=this.series,A=L.chart,E=L.options.ignoreHiddenPoint;T=x(T,E),b!==this.visible&&(this.visible=this.options.visible=b=typeof b>"u"?!this.visible:b,L.options.data[L.data.indexOf(this)]=this.options,["graphic","dataLabel","connector","shadowGroup"].forEach(function(D){M[D]&&M[D][b?"show":"hide"](b)}),this.legendItem&&A.legend.colorizeItem(this,b),b||this.state!=="hover"||this.setState(""),E&&(L.isDirty=!0),T&&A.redraw())},w.prototype.slice=function(b,T,M){var L=this.series;f(M,L.chart),x(T,!0),this.sliced=this.options.sliced=p(b)?b:!this.sliced,L.options.data[L.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},w}(s),r(s.prototype,{connectorShapes:{fixedOffset:function(C,w,b){var T=w.breakAt;return w=w.touchingSliceAt,[["M",C.x,C.y],b.softConnector?["C",C.x+(C.alignment==="left"?-5:5),C.y,2*T.x-w.x,2*T.y-w.y,T.x,T.y]:["L",T.x,T.y],["L",w.x,w.y]]},straight:function(C,w){return w=w.touchingSliceAt,[["M",C.x,C.y],["L",w.x,w.y]]},crookedLine:function(C,w,b){w=w.touchingSliceAt;var T=this.series,M=T.center[0],L=T.chart.plotWidth,A=T.chart.plotLeft;T=C.alignment;var E=this.shapeArgs.r;return b=v(b.crookDistance,1),L=T==="left"?M+E+(L+A-M-E)*(1-b):A+(M-E)*b,b=["L",L,C.y],M=!0,(T==="left"?L>C.x||L<w.x:L<C.x||L>w.x)&&(M=!1),C=[["M",C.x,C.y]],M&&C.push(b),C.push(["L",w.x,w.y]),C}}}),s}),e(n,"Series/Pie/PieSeries.js",[n["Series/CenteredUtilities.js"],n["Series/Column/ColumnSeries.js"],n["Core/Globals.js"],n["Core/Legend/LegendSymbol.js"],n["Series/Pie/PiePoint.js"],n["Core/Series/Series.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Renderer/SVG/Symbols.js"],n["Core/Utilities.js"]],function(r,s,a,h,f,g,p,m,x){var v=this&&this.__extends||function(){var E=function(D,B){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,I){z.__proto__=I}||function(z,I){for(var O in I)I.hasOwnProperty(O)&&(z[O]=I[O])},E(D,B)};return function(D,B){function z(){this.constructor=D}E(D,B),D.prototype=B===null?Object.create(B):(z.prototype=B.prototype,new z)}}(),C=r.getStartAndEndRadians;a=a.noop;var w=x.clamp,b=x.extend,T=x.fireEvent,M=x.merge,L=x.pick,A=x.relativeLength;return x=function(E){function D(){var B=E!==null&&E.apply(this,arguments)||this;return B.center=void 0,B.data=void 0,B.maxLabelDistance=void 0,B.options=void 0,B.points=void 0,B}return v(D,E),D.prototype.animate=function(B){var z=this,I=z.points,O=z.startAngleRad;B||I.forEach(function(S){var P=S.graphic,k=S.shapeArgs;P&&k&&(P.attr({r:L(S.startR,z.center&&z.center[3]/2),start:O,end:O}),P.animate({r:k.r,start:k.start,end:k.end},z.options.animation))})},D.prototype.drawEmpty=function(){var B=this.startAngleRad,z=this.endAngleRad,I=this.options;if(this.total===0&&this.center){var O=this.center[0],S=this.center[1];this.graph||(this.graph=this.chart.renderer.arc(O,S,this.center[1]/2,0,B,z).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:m.arc(O,S,this.center[2]/2,0,{start:B,end:z,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":I.borderWidth,fill:I.fillColor||"none",stroke:I.color||"#cccccc"})}else this.graph&&(this.graph=this.graph.destroy())},D.prototype.drawPoints=function(){var B=this.chart.renderer;this.points.forEach(function(z){z.graphic&&z.hasNewShapeType()&&(z.graphic=z.graphic.destroy()),z.graphic||(z.graphic=B[z.shapeType](z.shapeArgs).add(z.series.group),z.delayedRendering=!0)})},D.prototype.generatePoints=function(){E.prototype.generatePoints.call(this),this.updateTotals()},D.prototype.getX=function(B,z,I){var O=this.center,S=this.radii?this.radii[I.index]||0:O[2]/2;return B=Math.asin(w((B-O[1])/(S+I.labelDistance),-1,1)),O[0]+(z?-1:1)*Math.cos(B)*(S+I.labelDistance)+(0<I.labelDistance?(z?-1:1)*this.options.dataLabels.padding:0)},D.prototype.hasData=function(){return!!this.processedXData.length},D.prototype.redrawPoints=function(){var B=this,z=B.chart,I=z.renderer,O=B.options.shadow,S,P,k,d;this.drawEmpty(),!O||B.shadowGroup||z.styledMode||(B.shadowGroup=I.g("shadow").attr({zIndex:-1}).add(B.group)),B.points.forEach(function(N){var R={};if(P=N.graphic,!N.isNull&&P){var q=void 0;d=N.shapeArgs,S=N.getTranslate(),z.styledMode||(q=N.shadowGroup,O&&!q&&(q=N.shadowGroup=I.g("shadow").add(B.shadowGroup)),q&&q.attr(S),k=B.pointAttribs(N,N.selected&&"select")),N.delayedRendering?(P.setRadialReference(B.center).attr(d).attr(S),z.styledMode||P.attr(k).attr({"stroke-linejoin":"round"}).shadow(O,q),N.delayedRendering=!1):(P.setRadialReference(B.center),z.styledMode||M(!0,R,k),M(!0,R,d,S),P.animate(R)),P.attr({visibility:N.visible?"inherit":"hidden"}),P.addClass(N.getClassName(),!0)}else P&&(N.graphic=P.destroy())})},D.prototype.sortByAngle=function(B,z){B.sort(function(I,O){return typeof I.angle<"u"&&(O.angle-I.angle)*z})},D.prototype.translate=function(B){this.generatePoints();var z=this.options,I=z.slicedOffset,O=I+(z.borderWidth||0),S=C(z.startAngle,z.endAngle),P=this.startAngleRad=S.start;S=(this.endAngleRad=S.end)-P;var k=this.points,d=z.dataLabels.distance;z=z.ignoreHiddenPoint;var N=k.length,R,q=0;for(B||(this.center=B=this.getCenter()),R=0;R<N;R++){var ee=k[R],ue=P+q*S;!ee.isValid()||z&&!ee.visible||(q+=ee.percentage/100);var ae=P+q*S,$={x:B[0],y:B[1],r:B[2]/2,innerR:B[3]/2,start:Math.round(1e3*ue)/1e3,end:Math.round(1e3*ae)/1e3};ee.shapeType="arc",ee.shapeArgs=$,ee.labelDistance=L(ee.options.dataLabels&&ee.options.dataLabels.distance,d),ee.labelDistance=A(ee.labelDistance,$.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,ee.labelDistance),ae=(ae+ue)/2,ae>1.5*Math.PI?ae-=2*Math.PI:ae<-Math.PI/2&&(ae+=2*Math.PI),ee.slicedTranslation={translateX:Math.round(Math.cos(ae)*I),translateY:Math.round(Math.sin(ae)*I)},$=Math.cos(ae)*B[2]/2;var ie=Math.sin(ae)*B[2]/2;ee.tooltipPos=[B[0]+.7*$,B[1]+.7*ie],ee.half=ae<-Math.PI/2||ae>Math.PI/2?1:0,ee.angle=ae,ue=Math.min(O,ee.labelDistance/5),ee.labelPosition={natural:{x:B[0]+$+Math.cos(ae)*ee.labelDistance,y:B[1]+ie+Math.sin(ae)*ee.labelDistance},final:{},alignment:0>ee.labelDistance?"center":ee.half?"right":"left",connectorPosition:{breakAt:{x:B[0]+$+Math.cos(ae)*ue,y:B[1]+ie+Math.sin(ae)*ue},touchingSliceAt:{x:B[0]+$,y:B[1]+ie}}}}T(this,"afterTranslate")},D.prototype.updateTotals=function(){var B=this.points,z=B.length,I=this.options.ignoreHiddenPoint,O,S=0;for(O=0;O<z;O++){var P=B[O];!P.isValid()||I&&!P.visible||(S+=P.y)}for(this.total=S,O=0;O<z;O++)P=B[O],P.percentage=0<S&&(P.visible||!I)?P.y/S*100:0,P.total=S},D.defaultOptions=M(g.defaultOptions,{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),D}(g),b(x.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawLegendSymbol:h.drawRectangle,drawTracker:s.prototype.drawTracker,getCenter:r.getCenter,getSymbol:a,isCartesian:!1,noSharedTooltip:!0,pointAttribs:s.prototype.pointAttribs,pointClass:f,requireSorting:!1,searchPoint:a,trackerGroups:["group","dataLabelsGroup"]}),p.registerSeriesType("pie",x),x}),e(n,"Series/Pie/PieDataLabel.js",[n["Core/Series/DataLabel.js"],n["Core/Globals.js"],n["Core/Renderer/RendererUtilities.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Utilities.js"]],function(r,s,a,h,f){var g=s.noop,p=a.distribute,m=h.series,x=f.arrayMax,v=f.clamp,C=f.defined,w=f.merge,b=f.pick,T=f.relativeLength,M;return function(L){function A(){var I=this,O=I.data,S=I.chart,P=I.options.dataLabels||{},k=P.connectorPadding,d=S.plotWidth,N=S.plotHeight,R=S.plotLeft,q=Math.round(S.chartWidth/3),ee=I.center,ue=ee[2]/2,ae=ee[1],$=[[],[]],ie=[0,0,0,0],j=I.dataLabelPositioners,H,U,Z,te,ne,_,K,V,re,oe,ge,fe;I.visible&&(P.enabled||I._hasPointLabels)&&(O.forEach(function(ve){ve.dataLabel&&ve.visible&&ve.dataLabel.shortened&&(ve.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),ve.dataLabel.shortened=!1)}),m.prototype.drawDataLabels.apply(I),O.forEach(function(ve){ve.dataLabel&&(ve.visible?($[ve.half].push(ve),ve.dataLabel._pos=null,!C(P.style.width)&&!C(ve.options.dataLabels&&ve.options.dataLabels.style&&ve.options.dataLabels.style.width)&&ve.dataLabel.getBBox().width>q&&(ve.dataLabel.css({width:Math.round(.7*q)+"px"}),ve.dataLabel.shortened=!0)):(ve.dataLabel=ve.dataLabel.destroy(),ve.dataLabels&&ve.dataLabels.length===1&&delete ve.dataLabels))}),$.forEach(function(ve,me){var Le=ve.length,ze=[],Ae;if(Le){if(I.sortByAngle(ve,me-.5),0<I.maxLabelDistance){var he=Math.max(0,ae-ue-I.maxLabelDistance),de=Math.min(ae+ue+I.maxLabelDistance,S.plotHeight);ve.forEach(function(G){0<G.labelDistance&&G.dataLabel&&(G.top=Math.max(0,ae-ue-G.labelDistance),G.bottom=Math.min(ae+ue+G.labelDistance,S.plotHeight),Ae=G.dataLabel.getBBox().height||21,G.distributeBox={target:G.labelPosition.natural.y-G.top+Ae/2,size:Ae,rank:G.y},ze.push(G.distributeBox))}),he=de+Ae-he,p(ze,he,he/5)}for(ge=0;ge<Le;ge++){if(H=ve[ge],_=H.labelPosition,te=H.dataLabel,oe=H.visible===!1?"hidden":"inherit",re=he=_.natural.y,ze&&C(H.distributeBox)&&(typeof H.distributeBox.pos>"u"?oe="hidden":(K=H.distributeBox.size,re=j.radialDistributionY(H))),delete H.positionIndex,P.justify)V=j.justify(H,ue,ee);else switch(P.alignTo){case"connectors":V=j.alignToConnectors(ve,me,d,R);break;case"plotEdges":V=j.alignToPlotEdges(te,me,d,R);break;default:V=j.radialDistributionX(I,H,re,he)}te._attr={visibility:oe,align:_.alignment},fe=H.options.dataLabels||{},te._pos={x:V+b(fe.x,P.x)+({left:k,right:-k}[_.alignment]||0),y:re+b(fe.y,P.y)-10},_.final.x=V,_.final.y=re,b(P.crop,!0)&&(ne=te.getBBox().width,he=null,V-ne<k&&me===1?(he=Math.round(ne-V+k),ie[3]=Math.max(he,ie[3])):V+ne>d-k&&me===0&&(he=Math.round(V+ne-d+k),ie[1]=Math.max(he,ie[1])),0>re-K/2?ie[0]=Math.max(Math.round(-re+K/2),ie[0]):re+K/2>N&&(ie[2]=Math.max(Math.round(re+K/2-N),ie[2])),te.sideOverflow=he)}}}),x(ie)===0||this.verifyDataLabelOverflow(ie))&&(this.placeDataLabels(),this.points.forEach(function(ve){if(fe=w(P,ve.options.dataLabels),U=b(fe.connectorWidth,1)){var me;Z=ve.connector,(te=ve.dataLabel)&&te._pos&&ve.visible&&0<ve.labelDistance?(oe=te._attr.visibility,(me=!Z)&&(ve.connector=Z=S.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+ve.colorIndex+(ve.className?" "+ve.className:"")).add(I.dataLabelsGroup),S.styledMode||Z.attr({"stroke-width":U,stroke:fe.connectorColor||ve.color||"#666666"})),Z[me?"attr":"animate"]({d:ve.getConnectorPath()}),Z.attr("visibility",oe)):Z&&(ve.connector=Z.destroy())}}))}function E(){this.points.forEach(function(I){var O=I.dataLabel,S;O&&I.visible&&((S=O._pos)?(O.sideOverflow&&(O._attr.width=Math.max(O.getBBox().width-O.sideOverflow,0),O.css({width:O._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),O.shortened=!0),O.attr(O._attr),O[O.moved?"animate":"attr"](S),O.moved=!0):O&&O.attr({y:-9999})),delete I.distributeBox},this)}function D(I){var O=this.center,S=this.options,P=S.center,k=S.minSize||80,d=S.size!==null;if(!d){if(P[0]!==null)var N=Math.max(O[2]-Math.max(I[1],I[3]),k);else N=Math.max(O[2]-I[1]-I[3],k),O[0]+=(I[3]-I[1])/2;P[1]!==null?N=v(N,k,O[2]-Math.max(I[0],I[2])):(N=v(N,k,O[2]-I[0]-I[2]),O[1]+=(I[0]-I[2])/2),N<O[2]?(O[2]=N,O[3]=Math.min(T(S.innerSize||0,N),N),this.translate(O),this.drawDataLabels&&this.drawDataLabels()):d=!0}return d}var B=[],z={radialDistributionY:function(I){return I.top+I.distributeBox.pos},radialDistributionX:function(I,O,S,P){return I.getX(S<O.top+2||S>O.bottom-2?P:S,O.half,O)},justify:function(I,O,S){return S[0]+(I.half?-1:1)*(O+I.labelDistance)},alignToPlotEdges:function(I,O,S,P){return I=I.getBBox().width,O?I+P:S-I-P},alignToConnectors:function(I,O,S,P){var k=0,d;return I.forEach(function(N){d=N.dataLabel.getBBox().width,d>k&&(k=d)}),O?k+P:S-k-P}};L.compose=function(I){r.compose(m),B.indexOf(I)===-1&&(B.push(I),I=I.prototype,I.dataLabelPositioners=z,I.alignDataLabel=g,I.drawDataLabels=A,I.placeDataLabels=E,I.verifyDataLabelOverflow=D)}}(M||(M={})),M}),e(n,"Extensions/OverlappingDataLabels.js",[n["Core/Chart/Chart.js"],n["Core/Utilities.js"]],function(r,s){function a(v,C){var w=!1;if(v){var b=v.newOpacity;v.oldOpacity!==b&&(v.alignAttr&&v.placed?(v[b?"removeClass":"addClass"]("highcharts-data-label-hidden"),w=!0,v.alignAttr.opacity=b,v[v.isOld?"animate":"attr"](v.alignAttr,null,function(){C.styledMode||v.css({pointerEvents:b?"auto":"none"})}),f(C,"afterHideOverlappingLabel")):v.attr({opacity:b})),v.isOld=!0}return w}var h=s.addEvent,f=s.fireEvent,g=s.isArray,p=s.isNumber,m=s.objectEach,x=s.pick;h(r,"render",function(){var v=this,C=[];(this.labelCollectors||[]).forEach(function(w){C=C.concat(w())}),(this.yAxis||[]).forEach(function(w){w.stacking&&w.options.stackLabels&&!w.options.stackLabels.allowOverlap&&m(w.stacking.stacks,function(b){m(b,function(T){T.label&&T.label.visibility!=="hidden"&&C.push(T.label)})})}),(this.series||[]).forEach(function(w){var b=w.options.dataLabels;w.visible&&(b.enabled!==!1||w._hasPointLabels)&&(b=function(T){return T.forEach(function(M){M.visible&&(g(M.dataLabels)?M.dataLabels:M.dataLabel?[M.dataLabel]:[]).forEach(function(L){var A=L.options;L.labelrank=x(A.labelrank,M.labelrank,M.shapeArgs&&M.shapeArgs.height),A.allowOverlap?(L.oldOpacity=L.opacity,L.newOpacity=1,a(L,v)):C.push(L)})})},b(w.nodes||[]),b(w.points))}),this.hideOverlappingLabels(C)}),r.prototype.hideOverlappingLabels=function(v){var C=this,w=v.length,b=C.renderer,T,M,L,A=!1,E=function(z){var I,O=z.box?0:z.padding||0,S=I=0,P;if(z&&(!z.alignAttr||z.placed)){var k=z.alignAttr||{x:z.attr("x"),y:z.attr("y")},d=z.parentGroup;z.width||(I=z.getBBox(),z.width=I.width,z.height=I.height,I=b.fontMetrics(null,z.element).h);var N=z.width-2*O;return(P={left:"0",center:"0.5",right:"1"}[z.alignValue])?S=+P*N:p(z.x)&&Math.round(z.x)!==z.translateX&&(S=z.x-z.translateX),{x:k.x+(d.translateX||0)+O-(S||0),y:k.y+(d.translateY||0)+O-I,width:z.width-2*O,height:z.height-2*O}}};for(M=0;M<w;M++)(T=v[M])&&(T.oldOpacity=T.opacity,T.newOpacity=1,T.absoluteBox=E(T));for(v.sort(function(z,I){return(I.labelrank||0)-(z.labelrank||0)}),M=0;M<w;M++){var D=(E=v[M])&&E.absoluteBox;for(T=M+1;T<w;++T){var B=(L=v[T])&&L.absoluteBox;!D||!B||E===L||E.newOpacity===0||L.newOpacity===0||B.x>=D.x+D.width||B.x+B.width<=D.x||B.y>=D.y+D.height||B.y+B.height<=D.y||((E.labelrank<L.labelrank?E:L).newOpacity=0)}}v.forEach(function(z){a(z,C)&&(A=!0)}),A&&f(C,"afterHideAllOverlappingLabels")}}),e(n,"Core/Responsive.js",[n["Core/Utilities.js"]],function(r){var s=r.extend,a=r.find,h=r.isArray,f=r.isObject,g=r.merge,p=r.objectEach,m=r.pick,x=r.splat,v=r.uniqueKey,C;return function(w){var b=[];w.compose=function(M){return b.indexOf(M)===-1&&(b.push(M),s(M.prototype,T.prototype)),M};var T=function(){function M(){}return M.prototype.currentOptions=function(L){function A(B,z,I,O){var S;p(B,function(P,k){if(!O&&-1<E.collectionsWithUpdate.indexOf(k)&&z[k])for(P=x(P),I[k]=[],S=0;S<Math.max(P.length,z[k].length);S++)z[k][S]&&(P[S]===void 0?I[k][S]=z[k][S]:(I[k][S]={},A(P[S],z[k][S],I[k][S],O+1)));else f(P)?(I[k]=h(P)?[]:{},A(P,z[k]||{},I[k],O+1)):I[k]=typeof z[k]>"u"?null:z[k]})}var E=this,D={};return A(L,this.options,D,0),D},M.prototype.matchResponsiveRule=function(L,A){var E=L.condition;(E.callback||function(){return this.chartWidth<=m(E.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=m(E.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=m(E.minWidth,0)&&this.chartHeight>=m(E.minHeight,0)}).call(this)&&A.push(L._id)},M.prototype.setResponsive=function(L,A){var E=this,D=this.options.responsive,B=this.currentResponsive,z=[];!A&&D&&D.rules&&D.rules.forEach(function(I){typeof I._id>"u"&&(I._id=v()),E.matchResponsiveRule(I,z)},this),A=g.apply(void 0,z.map(function(I){return a((D||{}).rules||[],function(O){return O._id===I})}).map(function(I){return I&&I.chartOptions})),A.isResponsiveOptions=!0,z=z.toString()||void 0,z!==(B&&B.ruleIds)&&(B&&this.update(B.undoOptions,L,!0),z?(B=this.currentOptions(A),B.isResponsiveOptions=!0,this.currentResponsive={ruleIds:z,mergedOptions:A,undoOptions:B},this.update(A,L,!0)):this.currentResponsive=void 0)},M}()}(C||(C={})),C}),e(n,"masters/highcharts.src.js",[n["Core/Globals.js"],n["Core/Utilities.js"],n["Core/DefaultOptions.js"],n["Core/Animation/Fx.js"],n["Core/Animation/AnimationUtilities.js"],n["Core/Renderer/HTML/AST.js"],n["Core/FormatUtilities.js"],n["Core/Renderer/RendererUtilities.js"],n["Core/Renderer/SVG/SVGElement.js"],n["Core/Renderer/SVG/SVGRenderer.js"],n["Core/Renderer/HTML/HTMLElement.js"],n["Core/Renderer/HTML/HTMLRenderer.js"],n["Core/Axis/Axis.js"],n["Core/Axis/DateTimeAxis.js"],n["Core/Axis/LogarithmicAxis.js"],n["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],n["Core/Axis/Tick.js"],n["Core/Tooltip.js"],n["Core/Series/Point.js"],n["Core/Pointer.js"],n["Core/MSPointer.js"],n["Core/Legend/Legend.js"],n["Core/Chart/Chart.js"],n["Core/Series/Series.js"],n["Core/Series/SeriesRegistry.js"],n["Series/Column/ColumnSeries.js"],n["Series/Column/ColumnDataLabel.js"],n["Series/Pie/PieSeries.js"],n["Series/Pie/PieDataLabel.js"],n["Core/Series/DataLabel.js"],n["Core/Responsive.js"],n["Core/Color/Color.js"],n["Core/Time.js"]],function(r,s,a,h,f,g,p,m,x,v,C,w,b,T,M,L,A,E,D,B,z,I,O,S,P,k,d,N,R,q,ee,ue,ae){return r.animate=f.animate,r.animObject=f.animObject,r.getDeferredAnimation=f.getDeferredAnimation,r.setAnimation=f.setAnimation,r.stop=f.stop,r.timers=h.timers,r.AST=g,r.Axis=b,r.Chart=O,r.chart=O.chart,r.Fx=h,r.Legend=I,r.PlotLineOrBand=L,r.Point=D,r.Pointer=z.isRequired()?z:B,r.Series=S,r.SVGElement=x,r.SVGRenderer=v,r.Tick=A,r.Time=ae,r.Tooltip=E,r.Color=ue,r.color=ue.parse,w.compose(v),C.compose(x),r.defaultOptions=a.defaultOptions,r.getOptions=a.getOptions,r.time=a.defaultTime,r.setOptions=a.setOptions,r.dateFormat=p.dateFormat,r.format=p.format,r.numberFormat=p.numberFormat,r.addEvent=s.addEvent,r.arrayMax=s.arrayMax,r.arrayMin=s.arrayMin,r.attr=s.attr,r.clearTimeout=s.clearTimeout,r.correctFloat=s.correctFloat,r.createElement=s.createElement,r.css=s.css,r.defined=s.defined,r.destroyObjectProperties=s.destroyObjectProperties,r.discardElement=s.discardElement,r.distribute=m.distribute,r.erase=s.erase,r.error=s.error,r.extend=s.extend,r.extendClass=s.extendClass,r.find=s.find,r.fireEvent=s.fireEvent,r.getMagnitude=s.getMagnitude,r.getStyle=s.getStyle,r.inArray=s.inArray,r.isArray=s.isArray,r.isClass=s.isClass,r.isDOMElement=s.isDOMElement,r.isFunction=s.isFunction,r.isNumber=s.isNumber,r.isObject=s.isObject,r.isString=s.isString,r.keys=s.keys,r.merge=s.merge,r.normalizeTickInterval=s.normalizeTickInterval,r.objectEach=s.objectEach,r.offset=s.offset,r.pad=s.pad,r.pick=s.pick,r.pInt=s.pInt,r.relativeLength=s.relativeLength,r.removeEvent=s.removeEvent,r.seriesType=P.seriesType,r.splat=s.splat,r.stableSort=s.stableSort,r.syncTimeout=s.syncTimeout,r.timeUnits=s.timeUnits,r.uniqueKey=s.uniqueKey,r.useSerialIds=s.useSerialIds,r.wrap=s.wrap,d.compose(k),q.compose(S),T.compose(b),M.compose(b),R.compose(N),L.compose(b),ee.compose(O),r}),n["masters/highcharts.src.js"]._modules=n,n["masters/highcharts.src.js"]})});var b1={};tt(b1,{default:()=>tR});function tR(t){let e=x1();t.view.define("chart",function(n,r,s,a){let{options:h}=r,f="<b>{point.y}</b> ({point.percentage:.1f}%)",g=n.appendChild(document.createElement("div"));Array.isArray(s)||(s=s?[s]:[]),s[0]&&!s[0].data&&(s=[{data:s}]);try{let p=e.chart(g,e.merge({chart:{type:"pie"},title:{text:void 0},credits:{enabled:!1},tooltip:{pointFormat:f},plotOptions:{pie:{cursor:"pointer",dataLabels:{format:"{point.name} \u2013 "+f,useHTMsL:!0}}},series:s},h));setTimeout(()=>{p.reflow()},1)}catch(p){t.view.render(n,{view:"fallback",reason:p.message},s,a)}})}var w1=Ki(()=>{});var k1={};tt(k1,{default:()=>iR});function iR(t){t.page.define("default",[{view:"page-header",content:["h1:#.name",{view:"block",className:"versions",content:['badge:{ prefix: "css-tree", text: csstree.version }','badge:{ prefix: "mdn-data", text: mdn.version }']}]},{view:"context",data:[{title:"Atrules",query:'dict.[type="Atrule"]'},{title:"Properties",query:'dict.[type="Property"]'},{title:"Types",query:'dict.[type="Type"]'},{title:"Functions",query:'dict.[type="Function"]'},{title:"Problems",query:"dict.[isProblem()]",href:"#problems"}],content:{view:"inline-list",item:"indicator",data:`.({
                label: title,
                value: query.query(#.data, #).size(),
                href: href or pageLink('report', { query, title })
            })`}},{view:"section",header:'text:"Reports"',content:{view:"ul",item:'link:{ text: title, href: pageLink("report", { ..., noedit: true }) }'},data:[{title:"Syntax stat",query:`[
    { header: 'Types', data: dict.group(=>type).({ type: key, count: value.size() }) },
    { header: 'Origin', data: dict.({ type, name, mdn: mdn().syntax, csstree: syntax(), patch: patch() })
        .[type!="Function"]
        .group(=>
            csstree="(generic)" ? "Generic" :
            no mdn ? 'Added (missed in MDN data)' :
            patch ? 'Patched MDN data'
                : 'As is from MDN data'
        )
        .({ type: key, count: value.size() })
    }
]`,view:`{
    view: 'list',
    item: [
        'h2:header',
        {
            view: 'hstack',
            data: 'data',
            content: [
                'table',
                'chart:.({ y: count, name: type })'
            ]
        }
    ]
}`},{title:"CSSTree difference over mdn-data",query:`$csstree: dict
    .({ type, name, mdn: mdn().syntax, csstree: syntax(), patch: patch() })
    .[patch and csstree!="(generic)" and type!="Function"];
$mdnRemoved: patch
    .(
        properties.entries().({ type: 'Property', name: key, csstree: null, patch: value }).sort(name asc) + 
        syntaxes.entries().({ type: 'Type', name: key, csstree: null, patch: value }).sort(name asc)
    )
    .[no patch.syntax]
    .({ ..., mdn: mdn().syntax });
($csstree + $mdnRemoved)
.group(=>
    no csstree and no mdn ? 'Redundant remove' :
    no csstree ? 'Removed' :
    no mdn ? 'Added / mdn-data missed' :
    mdn=csstree ? 'Redundant patch' :
       'Patched'
)`,view:`{
    view: 'list',
    item: {
        view: 'expand',
        header: 'h3:key + " (" + value.size() + ")"',
        content: {
            view: 'table',
            data: 'value',
            cols: [
                {
                    header: 'Name',
                    content: {
                        view: 'nowrap',
                        content: {
                            view: 'auto-link',
                            fallback: 'text:formatName()'
                        }
                    }
                },
                {
                    header: 'Syntax',
                    content: {
                        view: 'switch',
                        content: [
                            {
                                when: 'csstree and mdn',
                                content: [
                                    'html:"<div style=color:#aaa;margin-bottom:5px>" + patch.comment',
                                    'diff-syntax:{ before: mdn, after: csstree }'
                                ]
                            },
                            {
                                when: 'mdn and csstree',
                                content: {
                                    view: 'diff',
                                    data: '{before:mdn, after:csstree}',
                                    type: 'char'
                                }
                            },
                            {
                                content: [
                                    'html:"<div style=color:#aaa;margin-bottom:5px>" + patch.comment',
                                    'syntax:{..., syntax: csstree or mdn}'
                                ]
                            }
                        ]
                    }
                }
            ]
        }
    }
}`},{title:"mdn-data syntax code style problems",query:`$shape: => .({
    type: $$,
    name: key,
    syntax: value.syntax,
    normSyntax: { syntax: value.syntaxAst() }.syntax()
});

mdn.properties.entries().$shape('Property') + mdn.syntaxes.entries().$shape('Type')
| .[syntax != normSyntax]`,view:`{
    view: 'table',
    cols: [
        {
            header: 'Name',
            content: {
                view: 'nowrap',
                content: {
                    view: 'auto-link',
                    fallback: 'text:formatName()'
                }
            }
        },
        {
            header: 'syntax',
            content: \`diff-syntax:{
                before: syntax,
                beforeName: 'Defined\xA0in\xA0mdn/data',
                after: normSyntax,
                afterName: 'Should be'
            }\`
        }
    ]
}`},{title:"Syntaxes used a string in definition",query:'dict.[syntax..(syntaxChildren()).[type="String"]]',view:`{
    view: 'table',
    cols: {
        type: false,
        name: {
            view: 'nowrap',
            content: 'auto-link'
        },
        syntax: 'syntax:{..., matchType: \\'String\\'}',
        match: false,
        refs: false
    }
}`}]}])}var S1=Ki(()=>{});var C1={};tt(C1,{default:()=>nR});function nR(t){t.page.define("problems",[{view:"page-header",content:'h1:"Problems"'},{view:"ol",emptyText:"No problems",data:`
            dict
                .[isProblem()]
                .sort(match desc, type.typeSorting() asc, name asc)
        `,itemConfig:{className:e=>e.match?"":"missed"},item:['auto-link{ fallback: "text:formatName()" }','text:" = "',{view:"switch",content:[{when:"syntax",content:"syntax"},{content:'html:"<span class=error>syntax is missed</span>"'}]}]}])}var T1=Ki(()=>{});var L1={};tt(L1,{default:()=>rR});function rR(t){let e={view:"context",data:"dict[=>type=#.page and name=#.id]",content:[{view:"page-header",prelude:'badge:{ text: type, color: "rgba(237, 177, 9, 0.35)" }',content:"h1:formatName()"},{view:"alert-danger",when:'no match and type != "Atrule"',content:'text:"Syntax definition is missed"'},"syntax-test",{view:"block",className:["view-section","syntax-section"],when:"syntax",data:`{
                ...,
                matchType: #.params.hltype,
                matchName: #.params.hlname
            }`,content:[{view:"switch",content:[{when:"patch() and mdn()",content:{view:"tabs",name:"syntaxView",beforeTabs:'header:"Formal syntax"',tabs:[{value:"csstree",content:'text:"CSSTree"'},{value:"mdn",content:'text:"MDN"'},{value:"diff"}],afterTabs:{view:"badge",when:"patch() and mdn()",data:'{ prefix: "Patched", color: "#f1eccb", text: patch().comment }'},content:{view:"switch",content:[{when:'#.syntaxView="csstree"',content:["syntax","syntax-tree"]},{when:'#.syntaxView="mdn"',data:"mdn()",content:["syntax","syntax-tree"]},{content:{view:"block",className:"syntax-diff",content:"diff-syntax:{ before: mdn().syntax, after: syntax() }"}}]}}},{content:[{view:"header",content:['text:"Formal syntax"',{view:"badge",when:'type!="Function" and no mdn() and match',data:'{ text: "Missed in mdn-data", color: "rgba(255, 52, 1, 0.335)" }'}]},"syntax","syntax-tree"]}]}]},{view:"context",when:'type = "Atrule"',content:[{view:"block",className:["view-section","syntax-section"],data:"prelude",whenData:!0,content:['h3:"Prelude"',"syntax",'auto-link{ content: "text:`See detail and test a value`"  }']},{view:"context",when:"descriptors",content:['h3:"Descriptors"',{view:"table",className:"descriptor-table",data:"descriptors.values()",cols:[{header:"Name",content:['auto-link{ content: "text:entity.name" }']},{header:"Syntax",content:"syntax"}]}]}]},{view:"match-graph",when:"match",data:"match"},{view:"section",when:"not type ~= /^Atrule/",header:'text:"Used by"',content:"used-by"}]};t.page.define("Atrule",e),t.page.define("AtruleDescriptor",e),t.page.define("AtrulePrelude",e),t.page.define("Property",e),t.page.define("Type",e),t.page.define("Function",e)}var A1=Ki(()=>{});var M1={};tt(M1,{default:()=>oR});function oR(t){t.view.define("diff-syntax",{view:"key-value",className:"syntax-diff",data:`[
        { key: beforeName or 'MDN', view: 'diff', value: before, before, after, delta: "removed" },
        { key: afterName or 'CSSTree', view: 'diff', value: after, before, after, delta: "added" }
        //{ key: 'Diff', view: 'diff', before, after }
    ]`,value:'render:view or "pre:value"'})}var E1=Ki(()=>{});var O1=De((ku,P1)=>{(function(t,e){typeof ku=="object"&&typeof P1<"u"?e(ku):typeof define=="function"&&define.amd?define(["exports"],e):(t=t||self,e(t.Diff={}))})(ku,function(t){"use strict";function e(){}e.prototype={diff:function(Q,le){var ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ke=ye.callback;typeof ye=="function"&&(ke=ye,ye={}),this.options=ye;var Ce=this;function Re(qe){return ke?(setTimeout(function(){ke(void 0,qe)},0),!0):qe}Q=this.castInput(Q),le=this.castInput(le),Q=this.removeEmpty(this.tokenize(Q)),le=this.removeEmpty(this.tokenize(le));var Oe=le.length,Me=Q.length,_e=1,Ve=Oe+Me,Pe=[{newPos:-1,components:[]}],He=this.extractCommon(Pe[0],le,Q,0);if(Pe[0].newPos+1>=Oe&&He+1>=Me)return Re([{value:this.join(le),count:le.length}]);function nt(){for(var qe=-1*_e;qe<=_e;qe+=2){var Jt=void 0,Gt=Pe[qe-1],Pt=Pe[qe+1],_t=(Pt?Pt.newPos:0)-qe;Gt&&(Pe[qe-1]=void 0);var ni=Gt&&Gt.newPos+1<Oe,sn=Pt&&0<=_t&&_t<Me;if(!ni&&!sn){Pe[qe]=void 0;continue}if(!ni||sn&&Gt.newPos<Pt.newPos?(Jt=r(Pt),Ce.pushComponent(Jt.components,void 0,!0)):(Jt=Gt,Jt.newPos++,Ce.pushComponent(Jt.components,!0,void 0)),_t=Ce.extractCommon(Jt,le,Q,qe),Jt.newPos+1>=Oe&&_t+1>=Me)return Re(n(Ce,Jt.components,le,Q,Ce.useLongestToken));Pe[qe]=Jt}_e++}if(ke)(function qe(){setTimeout(function(){if(_e>Ve)return ke();nt()||qe()},0)})();else for(;_e<=Ve;){var Je=nt();if(Je)return Je}},pushComponent:function(Q,le,ye){var ke=Q[Q.length-1];ke&&ke.added===le&&ke.removed===ye?Q[Q.length-1]={count:ke.count+1,added:le,removed:ye}:Q.push({count:1,added:le,removed:ye})},extractCommon:function(Q,le,ye,ke){for(var Ce=le.length,Re=ye.length,Oe=Q.newPos,Me=Oe-ke,_e=0;Oe+1<Ce&&Me+1<Re&&this.equals(le[Oe+1],ye[Me+1]);)Oe++,Me++,_e++;return _e&&Q.components.push({count:_e}),Q.newPos=Oe,Me},equals:function(Q,le){return this.options.comparator?this.options.comparator(Q,le):Q===le||this.options.ignoreCase&&Q.toLowerCase()===le.toLowerCase()},removeEmpty:function(Q){for(var le=[],ye=0;ye<Q.length;ye++)Q[ye]&&le.push(Q[ye]);return le},castInput:function(Q){return Q},tokenize:function(Q){return Q.split("")},join:function(Q){return Q.join("")}};function n(X,Q,le,ye,ke){for(var Ce=0,Re=Q.length,Oe=0,Me=0;Ce<Re;Ce++){var _e=Q[Ce];if(_e.removed){if(_e.value=X.join(ye.slice(Me,Me+_e.count)),Me+=_e.count,Ce&&Q[Ce-1].added){var Pe=Q[Ce-1];Q[Ce-1]=Q[Ce],Q[Ce]=Pe}}else{if(!_e.added&&ke){var Ve=le.slice(Oe,Oe+_e.count);Ve=Ve.map(function(nt,Je){var qe=ye[Me+Je];return qe.length>nt.length?qe:nt}),_e.value=X.join(Ve)}else _e.value=X.join(le.slice(Oe,Oe+_e.count));Oe+=_e.count,_e.added||(Me+=_e.count)}}var He=Q[Re-1];return Re>1&&typeof He.value=="string"&&(He.added||He.removed)&&X.equals("",He.value)&&(Q[Re-2].value+=He.value,Q.pop()),Q}function r(X){return{newPos:X.newPos,components:X.components.slice(0)}}var s=new e;function a(X,Q,le){return s.diff(X,Q,le)}function h(X,Q){if(typeof X=="function")Q.callback=X;else if(X)for(var le in X)X.hasOwnProperty(le)&&(Q[le]=X[le]);return Q}var f=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,g=/\S/,p=new e;p.equals=function(X,Q){return this.options.ignoreCase&&(X=X.toLowerCase(),Q=Q.toLowerCase()),X===Q||this.options.ignoreWhitespace&&!g.test(X)&&!g.test(Q)},p.tokenize=function(X){for(var Q=X.split(/(\s+|[()[\]{}'"]|\b)/),le=0;le<Q.length-1;le++)!Q[le+1]&&Q[le+2]&&f.test(Q[le])&&f.test(Q[le+2])&&(Q[le]+=Q[le+2],Q.splice(le+1,2),le--);return Q};function m(X,Q,le){return le=h(le,{ignoreWhitespace:!0}),p.diff(X,Q,le)}function x(X,Q,le){return p.diff(X,Q,le)}var v=new e;v.tokenize=function(X){var Q=[],le=X.split(/(\n|\r\n)/);le[le.length-1]||le.pop();for(var ye=0;ye<le.length;ye++){var ke=le[ye];ye%2&&!this.options.newlineIsToken?Q[Q.length-1]+=ke:(this.options.ignoreWhitespace&&(ke=ke.trim()),Q.push(ke))}return Q};function C(X,Q,le){return v.diff(X,Q,le)}function w(X,Q,le){var ye=h(le,{ignoreWhitespace:!0});return v.diff(X,Q,ye)}var b=new e;b.tokenize=function(X){return X.split(/(\S.+?[.!?])(?=\s+|$)/)};function T(X,Q,le){return b.diff(X,Q,le)}var M=new e;M.tokenize=function(X){return X.split(/([{}:;,]|\s+)/)};function L(X,Q,le){return M.diff(X,Q,le)}function A(X){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?A=function(Q){return typeof Q}:A=function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},A(X)}function E(X){return D(X)||B(X)||z()}function D(X){if(Array.isArray(X)){for(var Q=0,le=new Array(X.length);Q<X.length;Q++)le[Q]=X[Q];return le}}function B(X){if(Symbol.iterator in Object(X)||Object.prototype.toString.call(X)==="[object Arguments]")return Array.from(X)}function z(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var I=Object.prototype.toString,O=new e;O.useLongestToken=!0,O.tokenize=v.tokenize,O.castInput=function(X){var Q=this.options,le=Q.undefinedReplacement,ye=Q.stringifyReplacer,ke=ye===void 0?function(Ce,Re){return typeof Re>"u"?le:Re}:ye;return typeof X=="string"?X:JSON.stringify(P(X,null,null,ke),ke,"  ")},O.equals=function(X,Q){return e.prototype.equals.call(O,X.replace(/,([\r\n])/g,"$1"),Q.replace(/,([\r\n])/g,"$1"))};function S(X,Q,le){return O.diff(X,Q,le)}function P(X,Q,le,ye,ke){Q=Q||[],le=le||[],ye&&(X=ye(ke,X));var Ce;for(Ce=0;Ce<Q.length;Ce+=1)if(Q[Ce]===X)return le[Ce];var Re;if(I.call(X)==="[object Array]"){for(Q.push(X),Re=new Array(X.length),le.push(Re),Ce=0;Ce<X.length;Ce+=1)Re[Ce]=P(X[Ce],Q,le,ye,ke);return Q.pop(),le.pop(),Re}if(X&&X.toJSON&&(X=X.toJSON()),A(X)==="object"&&X!==null){Q.push(X),Re={},le.push(Re);var Oe=[],Me;for(Me in X)X.hasOwnProperty(Me)&&Oe.push(Me);for(Oe.sort(),Ce=0;Ce<Oe.length;Ce+=1)Me=Oe[Ce],Re[Me]=P(X[Me],Q,le,ye,Me);Q.pop(),le.pop()}else Re=X;return Re}var k=new e;k.tokenize=function(X){return X.slice()},k.join=k.removeEmpty=function(X){return X};function d(X,Q,le){return k.diff(X,Q,le)}function N(X){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le=X.split(/\r\n|[\n\v\f\r\x85]/),ye=X.match(/\r\n|[\n\v\f\r\x85]/g)||[],ke=[],Ce=0;function Re(){var _e={};for(ke.push(_e);Ce<le.length;){var Ve=le[Ce];if(/^(\-\-\-|\+\+\+|@@)\s/.test(Ve))break;var Pe=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(Ve);Pe&&(_e.index=Pe[1]),Ce++}for(Oe(_e),Oe(_e),_e.hunks=[];Ce<le.length;){var He=le[Ce];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(He))break;if(/^@@/.test(He))_e.hunks.push(Me());else{if(He&&Q.strict)throw new Error("Unknown line "+(Ce+1)+" "+JSON.stringify(He));Ce++}}}function Oe(_e){var Ve=/^(---|\+\+\+)\s+(.*)$/.exec(le[Ce]);if(Ve){var Pe=Ve[1]==="---"?"old":"new",He=Ve[2].split("	",2),nt=He[0].replace(/\\\\/g,"\\");/^".*"$/.test(nt)&&(nt=nt.substr(1,nt.length-2)),_e[Pe+"FileName"]=nt,_e[Pe+"Header"]=(He[1]||"").trim(),Ce++}}function Me(){for(var _e=Ce,Ve=le[Ce++],Pe=Ve.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),He={oldStart:+Pe[1],oldLines:+Pe[2]||1,newStart:+Pe[3],newLines:+Pe[4]||1,lines:[],linedelimiters:[]},nt=0,Je=0;Ce<le.length&&!(le[Ce].indexOf("--- ")===0&&Ce+2<le.length&&le[Ce+1].indexOf("+++ ")===0&&le[Ce+2].indexOf("@@")===0);Ce++){var qe=le[Ce].length==0&&Ce!=le.length-1?" ":le[Ce][0];if(qe==="+"||qe==="-"||qe===" "||qe==="\\")He.lines.push(le[Ce]),He.linedelimiters.push(ye[Ce]||`
`),qe==="+"?nt++:qe==="-"?Je++:qe===" "&&(nt++,Je++);else break}if(!nt&&He.newLines===1&&(He.newLines=0),!Je&&He.oldLines===1&&(He.oldLines=0),Q.strict){if(nt!==He.newLines)throw new Error("Added line count did not match for hunk at line "+(_e+1));if(Je!==He.oldLines)throw new Error("Removed line count did not match for hunk at line "+(_e+1))}return He}for(;Ce<le.length;)Re();return ke}function R(X,Q,le){var ye=!0,ke=!1,Ce=!1,Re=1;return function Oe(){if(ye&&!Ce){if(ke?Re++:ye=!1,X+Re<=le)return Re;Ce=!0}if(!ke)return Ce||(ye=!0),Q<=X-Re?-Re++:(ke=!0,Oe())}}function q(X,Q){var le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof Q=="string"&&(Q=N(Q)),Array.isArray(Q)){if(Q.length>1)throw new Error("applyPatch only works with a single input.");Q=Q[0]}var ye=X.split(/\r\n|[\n\v\f\r\x85]/),ke=X.match(/\r\n|[\n\v\f\r\x85]/g)||[],Ce=Q.hunks,Re=le.compareLine||function(zn,en,ln,Bn){return en===Bn},Oe=0,Me=le.fuzzFactor||0,_e=0,Ve=0,Pe,He;function nt(zn,en){for(var ln=0;ln<zn.lines.length;ln++){var Bn=zn.lines[ln],cn=Bn.length>0?Bn[0]:" ",dr=Bn.length>0?Bn.substr(1):Bn;if(cn===" "||cn==="-"){if(!Re(en+1,ye[en],cn,dr)&&(Oe++,Oe>Me))return!1;en++}}return!0}for(var Je=0;Je<Ce.length;Je++){for(var qe=Ce[Je],Jt=ye.length-qe.oldLines,Gt=0,Pt=Ve+qe.oldStart-1,_t=R(Pt,_e,Jt);Gt!==void 0;Gt=_t())if(nt(qe,Pt+Gt)){qe.offset=Ve+=Gt;break}if(Gt===void 0)return!1;_e=qe.offset+qe.oldStart+qe.oldLines}for(var ni=0,sn=0;sn<Ce.length;sn++){var Ei=Ce[sn],yi=Ei.oldStart+Ei.offset+ni-1;ni+=Ei.newLines-Ei.oldLines,yi<0&&(yi=0);for(var an=0;an<Ei.lines.length;an++){var Ln=Ei.lines[an],Ni=Ln.length>0?Ln[0]:" ",Vr=Ln.length>0?Ln.substr(1):Ln,hr=Ei.linedelimiters[an];if(Ni===" ")yi++;else if(Ni==="-")ye.splice(yi,1),ke.splice(yi,1);else if(Ni==="+")ye.splice(yi,0,Vr),ke.splice(yi,0,hr),yi++;else if(Ni==="\\"){var fr=Ei.lines[an-1]?Ei.lines[an-1][0]:null;fr==="+"?Pe=!0:fr==="-"&&(He=!0)}}}if(Pe)for(;!ye[ye.length-1];)ye.pop(),ke.pop();else He&&(ye.push(""),ke.push(`
`));for(var An=0;An<ye.length-1;An++)ye[An]=ye[An]+ke[An];return ye.join("")}function ee(X,Q){typeof X=="string"&&(X=N(X));var le=0;function ye(){var ke=X[le++];if(!ke)return Q.complete();Q.loadFile(ke,function(Ce,Re){if(Ce)return Q.complete(Ce);var Oe=q(Re,ke,Q);Q.patched(ke,Oe,function(Me){if(Me)return Q.complete(Me);ye()})})}ye()}function ue(X,Q,le,ye,ke,Ce,Re){Re||(Re={}),typeof Re.context>"u"&&(Re.context=4);var Oe=C(le,ye,Re);Oe.push({value:"",lines:[]});function Me(Gt){return Gt.map(function(Pt){return" "+Pt})}for(var _e=[],Ve=0,Pe=0,He=[],nt=1,Je=1,qe=function(Pt){var _t=Oe[Pt],ni=_t.lines||_t.value.replace(/\n$/,"").split(`
`);if(_t.lines=ni,_t.added||_t.removed){var sn;if(!Ve){var Ei=Oe[Pt-1];Ve=nt,Pe=Je,Ei&&(He=Re.context>0?Me(Ei.lines.slice(-Re.context)):[],Ve-=He.length,Pe-=He.length)}(sn=He).push.apply(sn,E(ni.map(function(An){return(_t.added?"+":"-")+An}))),_t.added?Je+=ni.length:nt+=ni.length}else{if(Ve)if(ni.length<=Re.context*2&&Pt<Oe.length-2){var yi;(yi=He).push.apply(yi,E(Me(ni)))}else{var an,Ln=Math.min(ni.length,Re.context);(an=He).push.apply(an,E(Me(ni.slice(0,Ln))));var Ni={oldStart:Ve,oldLines:nt-Ve+Ln,newStart:Pe,newLines:Je-Pe+Ln,lines:He};if(Pt>=Oe.length-2&&ni.length<=Re.context){var Vr=/\n$/.test(le),hr=/\n$/.test(ye),fr=ni.length==0&&He.length>Ni.oldLines;!Vr&&fr&&He.splice(Ni.oldLines,0,"\\ No newline at end of file"),(!Vr&&!fr||!hr)&&He.push("\\ No newline at end of file")}_e.push(Ni),Ve=0,Pe=0,He=[]}nt+=ni.length,Je+=ni.length}},Jt=0;Jt<Oe.length;Jt++)qe(Jt);return{oldFileName:X,newFileName:Q,oldHeader:ke,newHeader:Ce,hunks:_e}}function ae(X,Q,le,ye,ke,Ce,Re){var Oe=ue(X,Q,le,ye,ke,Ce,Re),Me=[];X==Q&&Me.push("Index: "+X),Me.push("==================================================================="),Me.push("--- "+Oe.oldFileName+(typeof Oe.oldHeader>"u"?"":"	"+Oe.oldHeader)),Me.push("+++ "+Oe.newFileName+(typeof Oe.newHeader>"u"?"":"	"+Oe.newHeader));for(var _e=0;_e<Oe.hunks.length;_e++){var Ve=Oe.hunks[_e];Me.push("@@ -"+Ve.oldStart+","+Ve.oldLines+" +"+Ve.newStart+","+Ve.newLines+" @@"),Me.push.apply(Me,Ve.lines)}return Me.join(`
`)+`
`}function $(X,Q,le,ye,ke,Ce){return ae(X,X,Q,le,ye,ke,Ce)}function ie(X,Q){return X.length!==Q.length?!1:j(X,Q)}function j(X,Q){if(Q.length>X.length)return!1;for(var le=0;le<Q.length;le++)if(Q[le]!==X[le])return!1;return!0}function H(X){var Q=he(X.lines),le=Q.oldLines,ye=Q.newLines;le!==void 0?X.oldLines=le:delete X.oldLines,ye!==void 0?X.newLines=ye:delete X.newLines}function U(X,Q,le){X=Z(X,le),Q=Z(Q,le);var ye={};(X.index||Q.index)&&(ye.index=X.index||Q.index),(X.newFileName||Q.newFileName)&&(te(X)?te(Q)?(ye.oldFileName=ne(ye,X.oldFileName,Q.oldFileName),ye.newFileName=ne(ye,X.newFileName,Q.newFileName),ye.oldHeader=ne(ye,X.oldHeader,Q.oldHeader),ye.newHeader=ne(ye,X.newHeader,Q.newHeader)):(ye.oldFileName=X.oldFileName,ye.newFileName=X.newFileName,ye.oldHeader=X.oldHeader,ye.newHeader=X.newHeader):(ye.oldFileName=Q.oldFileName||X.oldFileName,ye.newFileName=Q.newFileName||X.newFileName,ye.oldHeader=Q.oldHeader||X.oldHeader,ye.newHeader=Q.newHeader||X.newHeader)),ye.hunks=[];for(var ke=0,Ce=0,Re=0,Oe=0;ke<X.hunks.length||Ce<Q.hunks.length;){var Me=X.hunks[ke]||{oldStart:1/0},_e=Q.hunks[Ce]||{oldStart:1/0};if(_(Me,_e))ye.hunks.push(K(Me,Re)),ke++,Oe+=Me.newLines-Me.oldLines;else if(_(_e,Me))ye.hunks.push(K(_e,Oe)),Ce++,Re+=_e.newLines-_e.oldLines;else{var Ve={oldStart:Math.min(Me.oldStart,_e.oldStart),oldLines:0,newStart:Math.min(Me.newStart+Re,_e.oldStart+Oe),newLines:0,lines:[]};V(Ve,Me.oldStart,Me.lines,_e.oldStart,_e.lines),Ce++,ke++,ye.hunks.push(Ve)}}return ye}function Z(X,Q){if(typeof X=="string"){if(/^@@/m.test(X)||/^Index:/m.test(X))return N(X)[0];if(!Q)throw new Error("Must provide a base reference or pass in a patch");return ue(void 0,void 0,Q,X)}return X}function te(X){return X.newFileName&&X.newFileName!==X.oldFileName}function ne(X,Q,le){return Q===le?Q:(X.conflict=!0,{mine:Q,theirs:le})}function _(X,Q){return X.oldStart<Q.oldStart&&X.oldStart+X.oldLines<Q.oldStart}function K(X,Q){return{oldStart:X.oldStart,oldLines:X.oldLines,newStart:X.newStart+Q,newLines:X.newLines,lines:X.lines}}function V(X,Q,le,ye,ke){var Ce={offset:Q,lines:le,index:0},Re={offset:ye,lines:ke,index:0};for(fe(X,Ce,Re),fe(X,Re,Ce);Ce.index<Ce.lines.length&&Re.index<Re.lines.length;){var Oe=Ce.lines[Ce.index],Me=Re.lines[Re.index];if((Oe[0]==="-"||Oe[0]==="+")&&(Me[0]==="-"||Me[0]==="+"))re(X,Ce,Re);else if(Oe[0]==="+"&&Me[0]===" "){var _e;(_e=X.lines).push.apply(_e,E(me(Ce)))}else if(Me[0]==="+"&&Oe[0]===" "){var Ve;(Ve=X.lines).push.apply(Ve,E(me(Re)))}else Oe[0]==="-"&&Me[0]===" "?oe(X,Ce,Re):Me[0]==="-"&&Oe[0]===" "?oe(X,Re,Ce,!0):Oe===Me?(X.lines.push(Oe),Ce.index++,Re.index++):ge(X,me(Ce),me(Re))}ve(X,Ce),ve(X,Re),H(X)}function re(X,Q,le){var ye=me(Q),ke=me(le);if(ze(ye)&&ze(ke)){if(j(ye,ke)&&Ae(le,ye,ye.length-ke.length)){var Ce;(Ce=X.lines).push.apply(Ce,E(ye));return}else if(j(ke,ye)&&Ae(Q,ke,ke.length-ye.length)){var Re;(Re=X.lines).push.apply(Re,E(ke));return}}else if(ie(ye,ke)){var Oe;(Oe=X.lines).push.apply(Oe,E(ye));return}ge(X,ye,ke)}function oe(X,Q,le,ye){var ke=me(Q),Ce=Le(le,ke);if(Ce.merged){var Re;(Re=X.lines).push.apply(Re,E(Ce.merged))}else ge(X,ye?Ce:ke,ye?ke:Ce)}function ge(X,Q,le){X.conflict=!0,X.lines.push({conflict:!0,mine:Q,theirs:le})}function fe(X,Q,le){for(;Q.offset<le.offset&&Q.index<Q.lines.length;){var ye=Q.lines[Q.index++];X.lines.push(ye),Q.offset++}}function ve(X,Q){for(;Q.index<Q.lines.length;){var le=Q.lines[Q.index++];X.lines.push(le)}}function me(X){for(var Q=[],le=X.lines[X.index][0];X.index<X.lines.length;){var ye=X.lines[X.index];if(le==="-"&&ye[0]==="+"&&(le="+"),le===ye[0])Q.push(ye),X.index++;else break}return Q}function Le(X,Q){for(var le=[],ye=[],ke=0,Ce=!1,Re=!1;ke<Q.length&&X.index<X.lines.length;){var Oe=X.lines[X.index],Me=Q[ke];if(Me[0]==="+")break;if(Ce=Ce||Oe[0]!==" ",ye.push(Me),ke++,Oe[0]==="+")for(Re=!0;Oe[0]==="+";)le.push(Oe),Oe=X.lines[++X.index];Me.substr(1)===Oe.substr(1)?(le.push(Oe),X.index++):Re=!0}if((Q[ke]||"")[0]==="+"&&Ce&&(Re=!0),Re)return le;for(;ke<Q.length;)ye.push(Q[ke++]);return{merged:ye,changes:le}}function ze(X){return X.reduce(function(Q,le){return Q&&le[0]==="-"},!0)}function Ae(X,Q,le){for(var ye=0;ye<le;ye++){var ke=Q[Q.length-le+ye].substr(1);if(X.lines[X.index+ye]!==" "+ke)return!1}return X.index+=le,!0}function he(X){var Q=0,le=0;return X.forEach(function(ye){if(typeof ye!="string"){var ke=he(ye.mine),Ce=he(ye.theirs);Q!==void 0&&(ke.oldLines===Ce.oldLines?Q+=ke.oldLines:Q=void 0),le!==void 0&&(ke.newLines===Ce.newLines?le+=ke.newLines:le=void 0)}else le!==void 0&&(ye[0]==="+"||ye[0]===" ")&&le++,Q!==void 0&&(ye[0]==="-"||ye[0]===" ")&&Q++}),{oldLines:Q,newLines:le}}function de(X){for(var Q=[],le,ye,ke=0;ke<X.length;ke++)le=X[ke],le.added?ye=1:le.removed?ye=-1:ye=0,Q.push([ye,le.value]);return Q}function G(X){for(var Q=[],le=0;le<X.length;le++){var ye=X[le];ye.added?Q.push("<ins>"):ye.removed&&Q.push("<del>"),Q.push(ce(ye.value)),ye.added?Q.push("</ins>"):ye.removed&&Q.push("</del>")}return Q.join("")}function ce(X){var Q=X;return Q=Q.replace(/&/g,"&amp;"),Q=Q.replace(/</g,"&lt;"),Q=Q.replace(/>/g,"&gt;"),Q=Q.replace(/"/g,"&quot;"),Q}t.Diff=e,t.diffChars=a,t.diffWords=m,t.diffWordsWithSpace=x,t.diffLines=C,t.diffTrimmedLines=w,t.diffSentences=T,t.diffCss=L,t.diffJson=S,t.diffArrays=d,t.structuredPatch=ue,t.createTwoFilesPatch=ae,t.createPatch=$,t.applyPatch=q,t.applyPatches=ee,t.parsePatch=N,t.merge=U,t.convertChangesToDMP=de,t.convertChangesToXML=G,t.canonicalize=P,Object.defineProperty(t,"__esModule",{value:!0})})});var N1={};tt(N1,{default:()=>sR});function sR(t){let e=O1(),n={char:e.diffChars,word:e.diffWords,wordws:e.diffWordsWithSpace,sentence:e.diffSentences,line:e.diffLines};t.view.define("diff",function(r,s,a){let{type:h="wordws"}=s,{before:f="",after:g="",delta:p="both"}=a,m=(h in n?n[h]:n.wordws)(f,g),x=p==="both"||p==="added",v=p==="both"||p==="removed";m.forEach(C=>{let w=r;if(C.added||C.removed){if(C.added?!x:!v)return;w=r.appendChild(document.createElement("span")),w.className=C.added?"added":"removed"}w.appendChild(document.createTextNode(C.value))})})}var D1=Ki(()=>{});var I1={};tt(I1,{default:()=>aR});function aR(t){t.view.define("key-value-item",function(e,n,r,s){let{key:a="text:key",value:h="struct:value"}=n,f=e.appendChild(document.createElement("span")),g=e.appendChild(document.createElement("span"));f.className="view-key-value-item-key",this.render(f,a,r,s),g.className="view-key-value-item-value",this.render(g,h,r,s)}),t.view.define("key-value",function(e,n,r,s){let{itemConfig:a,key:h,value:f}=n,g=null;if(Array.isArray(r))g=r;else{g=[];for(let p in r)hasOwnProperty.call(r,p)&&g.push({key:p,value:r[p]})}this.renderList(e,this.composeConfig({view:"key-value-item",key:h,value:f},a),g,s)})}var R1=Ki(()=>{});var j1={};tt(j1,{default:()=>lR});function lR(t){t.view.define("pre",function(e,n,r,s){let{content:a}=n;a?this.render(e,a,r,s):e.textContent=r},{tag:"span"}),t.view.define("nowrap",function(e,n,r,s){let{content:a}=n;a?this.render(e,a,r,s):e.textContent=r},{tag:"span"})}var z1=Ki(()=>{});var B1={};tt(B1,{default:()=>cR});function cR(t){let e=bu();function n(s){return s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function r(s,a){return e.definitionSyntax.generate(s,function(h,f){if(f.type==="Type"||f.type==="Property"){let g=t.objectMarkers.lookup(f),p=!g||!g.object.match;h=`<a href="#${f.type}:${f.name}"${p?' class="error"':""}>${n(h)}</a>`}return a&&a.type===f.type&&a.name===f.name&&(h=`<span class="match">${h}</span>`),h})}t.view.define("syntax",function(s,a,h){let{type:f,match:g,matchType:p,matchName:m}=h||{},{syntax:x}=h||{},v="";x?(typeof x=="string"&&(x=e.definitionSyntax.parse(x)),f==="Function"&&(x.combinator="|<br>"),v=r(x,{type:p,name:m}),f==="Function"&&(x.combinator="|")):g&&(v="generic"),s.innerHTML=v},{tag:"span"})}var F1=Ki(()=>{});var _1={};tt(_1,{default:()=>uR});function uR(t){t.view.define("syntax-match",function(e,n,r,s){function a(g){typeof h=="string"&&[].slice.call(t.dom.container.querySelectorAll(h)).forEach(p=>p.classList.toggle("syntax-match-trace-pinned",Boolean(g))),f.querySelector(".instruction").innerText=g?"(click outside trace block to unpin)":"(click to pin trace block)"}let{selector:h}=n,f=document.createElement("div");t.view.render(e,{view:"syntax-match-tree",ignoreClickElements:[f],onPinned:a,onTrace(g){g?(f.hidden=!1,f.lastChild.innerHTML="",t.view.render(f.lastChild,"syntax-match-trace",g,s)):f.hidden=!0}},r),f.className="trace-popup",f.hidden=!0,f.innerHTML='<div class="header">Match trace <span class="instruction"></span></div><div class="trace"></div>',e.appendChild(f),setTimeout(a,0)})}var H1=Ki(()=>{});var W1={};tt(W1,{default:()=>hR});function hR(t){function e(h){return h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function n(h,f){switch(h){case"Property":return"<'"+f+"'>";case"Type":return"<"+f+">";case"Function":return f+"()";default:return f}}function r(h,f,g){let p=document.createElement("div"),m=f||h;return p.className="match-tree-node"+(h?" match-tree-node_"+h:""),p.innerHTML='<span class="children"></span><span class="label">'+m+"</span>",p.querySelector(".label").syntaxMatchTrace=g||null,{node:p,children:p.querySelector(".children")}}function s(h,f){let g=h.syntax||h,p;return h.token?p=r("ASTNode",h.token,f.concat(h)):(p=r(g.type,g.name?e(n(g.type,g.name)):""),h.match&&(f.push(h),h.match.forEach(function(m){this.appendChild(s(m,f),this.firstChild)},p.children),f.pop())),p.node}function a(h){let f=null;for(;h!==null;){if(h.syntaxMatchTrace){f=h.syntaxMatchTrace;break}h=h.parentNode}return f}t.view.define("syntax-match-tree",function(h,f,g){function p(L){if([].slice.call(h.querySelectorAll(".pinned")).forEach(A=>A.classList.remove("pinned")),T&&L){let A=L;for(;A!==h;)A.classList.add("pinned"),A=A.parentNode}}function m(L){w!==L&&(w=L,clearTimeout(b),typeof x=="function"&&x(L))}let{onTrace:x,onPinned:v,ignoreClickElements:C}=f,w,b,T=!1;h.appendChild(s(g,[])),h.addEventListener("mouseenter",function(L){let A=a(L.target);(!T||A)&&(m(A),p(L.target))},!0),h.addEventListener("mouseleave",function(){clearTimeout(b),T||(b=setTimeout(function(){m(null)},100))},!0);let M=t.addHostElEventListener("click",function(A){if(!t.dom.container.contains(h)){M();return}if(Array.isArray(C)&&C.some(B=>B.contains(A.target)))return;let E=a(A.target),D=E?!T:!1;D!==T&&typeof v=="function"&&(T=D,v(T)),m(E),p(A.target)},!0)})}var q1=Ki(()=>{});var U1={};tt(U1,{default:()=>fR});function fR(t){let e=bu();function n(s){return s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function r(s){let a=[],h=null;s=s.slice().reverse(),s[0].syntax===null&&s.shift(),s[0].syntax&&s[0].syntax.type==="Function"&&(a=s[1].match.slice(1,-1).map(p=>p.syntax),h=s[1].match[s[1].match.length-1].syntax);let f=s.shift().syntax;return"<ul>"+s.map(function(p,m,x){let{syntax:v}=p;switch(v.type){case"Type":v=e.lexer.getType(v.name).syntax||v;break;case"Property":v=e.lexer.getProperty(v.name).syntax||v;break;case"AtrulePrelude":v=e.lexer.getAtrule(v.name).prelude.syntax||v;break;case"Function":v=e.lexer.functions[v.name].syntax||v;break}let C=e.definitionSyntax.generate(v,function(w,b){if((b.type==="Type"||b.type==="Property")&&(w=n(w)),(b.type==="Type"||b.type==="Property"||b.type==="Keyword"||b.type==="Function"||b.type==="Multiplier")&&(w='<span class="atom">'+w+"</span>"),b===f){let T=w,M;b.type==="Multiplier"&&(M=w.lastIndexOf("#"),w="#"),w=['<span class="match">',`<span class="${m>0?"connector-up":"clear-up"}"></span>`,`<span class="${m!==x.length-1?"connector-down":"clear-down"}"></span>`,'<span class="magick-box"></span>','<span class="match-caption">'+w+"</span>","</span>"].join(""),b.type==="Multiplier"&&(w=T.substr(0,M)+w+T.substr(M+1))}else(a.includes(b)||b===h)&&(w='<span class="children-match"><span class="match-caption">'+w+"</span></span>");return w});return f=p.syntax,'<li><span class="syntax">'+C+"</span></li>"}).join("")+"</ul>"}t.view.define("syntax-match-trace",function(s,a,h){s.innerHTML=r(h)})}var G1=Ki(()=>{});var V1={};tt(V1,{default:()=>dR});function dR(t){t.view.define("syntax-test",{view:"block",when:"match",className:"test-value",content:{view:"context",modifiers:[{view:"block",when:'type="Function"',content:'text:name + "("'},{view:"input",name:"value",placeholder:"Enter a value to match against the syntax"},{view:"block",when:'type="Function"',content:'text:")"'}],content:{view:"section",className:"match-result",when:"#.value ~= /\\S/",data:"match(#.value)",header:['text:"Match result "',{view:"badge",when:"iterations",data:'{ text: iterations + " iteration(s)" }'}],content:{view:"switch",content:[{when:"error and #.value~=/\\S/",content:"alert-danger:error"},{when:"match",content:{view:"syntax-match",data:"match",selector:".test-value"}},{content:'alert-success:"Enter a value to test"'}]}}}})}var $1=Ki(()=>{});var Y1={};tt(Y1,{default:()=>pR});function pR(t){t.view.define("syntax-tree",{view:"context",data:`
        ..(refs().resolved)
            .[type != "Function" and (syntax or no match)]
            .({ ..., matchType: @.matchType, matchName: @.matchName })
    `,content:{view:"list",when:"size()",limit:!1,item:[{view:"auto-link",postRender(e,n,r){r.match||e.firstChild.classList.add("error")}},'text:" = "',{view:"switch",content:[{when:"no match",content:{view:"block",className:"error",content:'text:"syntax is missed"'}},{content:"syntax"}]}]}})}var X1=Ki(()=>{});var K1={};tt(K1,{default:()=>gR});function gR(t){t.dom.container.appendChild(r("svg",{style:"position:absolute;z-index:-1;width:0;height:0"},[r("marker",{id:"match-graph-connection-marker",viewBox:"0 0 5 10",refX:"0",refY:"5",markerUnits:"strokeWidth",markerWidth:"6",markerHeight:"4",orient:"auto"},[r("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"rgba(150, 150, 150, 0.65)"})])]));function e(a,h,f){typeof h=="string"&&(h={class:h});for(let g in h)g.startsWith("on")?a.addEventListener(g.substr(2),h[g]):a.setAttribute(g,h[g]);return Array.isArray(f)?f.forEach(g=>a.appendChild(g&&g.nodeType?g:s(g))):typeof f=="string"&&(a.innerHTML=f),a}function n(a,h,f){return e(document.createElement(a),h,f)}function r(a,h,f){return e(document.createElementNS("http://www.w3.org/2000/svg",a),h,f)}function s(a){return document.createTextNode(String(a))}t.view.define("match-graph",function(a,h,f){function g(T,M){if(T.type==="MatchGraph")return g(T.match,M);let L=!1,A,E,D;if(A=n("div","node-wrapper",[E=n("div","node-content",[D=n("div","node")])]),p.has(T))return D.classList.add("node_recursive"),D.innerHTML="Recursive",M.appendChild(A),!0;switch(T.type==="If"&&(p.set(T),x.push(T)),m.set(T,{root:A,content:E,main:D}),T.type){case"Match":{D.classList.add("node_match"),D.innerHTML=T.type;let B=null;for(let z=x.length-1,I=T;z>=0;z--){let O=x[z];if(I===O.then){B=O.then;break}I=O}B!==null&&v.push({from:D,to:B,num:0,total:{count:0}});break}case"Mismatch":{D.classList.add("node_mismatch"),D.innerHTML=T.type;let B=null;for(let z=x.length-1,I=T;z>=0;z--){let O=x[z];if(I===O.then){B=O.else;break}I=O}B!==null&&v.push({from:D,to:B,num:0,total:{count:0}});break}case"DisallowEmpty":D.classList.add("node_disallow-empty"),D.innerHTML=T.type;break;case"Type":case"Property":case"Keyword":case"Function":case"Token":case"String":case"Comma":if(!T.match){let B=!1;switch(T.type){case"Type":B='<a href="#Type:'+T.name+'">&lt;'+T.name+"&gt;</a>";break;case"Property":B='<a href="#Property:'+T.name+`">&lt;'`+T.name+"'&gt;</a>";break;case"Function":case"Keyword":B=T.name;break;case"Token":case"String":B=T.value;break;case"Comma":B=",";break}D.classList.add("node_check"),D.innerHTML='<span class="node__label">'+T.type+'</span><span class="node__key">'+B+"</span>";break}default:{D.classList.add("node_default");let B=A.appendChild(n("div","nested nested_labeled"));D.appendChild(n("div","node__type",T.type)),L=!0;let z=B,I=T.type==="Enum"?T.map:T,O={count:0};for(let S in I){if(I===T&&S==="syntax"||S==="type")continue;let P=I[S],k=P&&typeof P=="object",d=D.appendChild(n("div","node-field",'<span class="node-field-label">'+S+"</span><span>"+(k?'<span class="connection-dot"></span>':typeof P=="function"?"[function]":JSON.stringify(P))+"</span>"));k&&(g(P,B)?z=m.get(P):B!==z&&z.content.appendChild(m.get(P).root),C.push({from:d.lastChild.lastChild,to:m.get(P).main,num:O.count++,total:O}))}}}return M.appendChild(A),T.type==="If"&&x.pop(),L}let p=new Map,m=new Map,x=[],v=[],C=[],w=n("div","graph"),b;f&&g(f,w),a.appendChild(n("h2","view-header",'Match graph<span class="view-badge node-count">'+m.size+"</span>")),a.appendChild(n("div","canvas",[b=r("svg","connections-canvas"),w])),setTimeout(()=>{let T=w.getBoundingClientRect();C.map(function(M){let L=M.from.getBoundingClientRect(),A=M.to.getBoundingClientRect(),E=L.right>A.left,D=L.right-T.left,B=L.top-T.top+L.height/2,z=(E?A.right+1:A.left-1)-T.left-7,I=A.top-T.top+10,O=E?16:12+Math.abs(M.num-M.total.count)*5;if(B===I)return["M",D,B,"H",z].join(" ");let S=Math.abs(B-I)>16?8:0,P=I<B?-S:S;return["M",D,B,"h",O-S,"q",[S,0],[S,P],"V",I-P,"q",[0,P],[E?-S:S,P],"H",z].join(" ")}).forEach(function(M){b.appendChild(r("path",{class:"connection",d:M}))})},0)})}var Z1=Ki(()=>{});var Q1={};tt(Q1,{default:()=>mR});function mR(t){t.view.define("used-by",{view:"columns",data:`
        $dict: #.data.dict;
        $explicit: $dict.[refs.[resolved = @]];
        $explicit
            ..($t:$;$t + $dict.[refs.[resolved=$t]])
            .[$ != @]
            .group(=>type)
            .({
                type: key,
                refs: value.sort(name asc).({ ..., implicit: $ not in $explicit })
            })
            .sort(type.typeSorting() asc)
    `,emptyText:"No syntaxes",column:['h5:type + " (" + refs.size() + ")"',{view:"list",data:"refs",itemConfig:{className:e=>e.implicit&&"implicit"},item:{view:"auto-link",href:(e,n,{page:r,id:s})=>`${e}&hltype=${r}&hlname=${s}`}}]})}var J1=Ki(()=>{});var Wr=De((Ip,Rp)=>{(function(t,e){typeof Ip=="object"&&typeof Rp<"u"?Rp.exports=e():typeof define=="function"&&define.amd?define(e):(t=t||self,t.CodeMirror=e())})(Ip,function(){"use strict";var t=navigator.userAgent,e=navigator.platform,n=/gecko\/\d/i.test(t),r=/MSIE \d/.test(t),s=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),a=/Edge\/(\d+)/.exec(t),h=r||s||a,f=h&&(r?document.documentMode||6:+(a||s)[1]),g=!a&&/WebKit\//.test(t),p=g&&/Qt\/\d+\.\d+/.test(t),m=!a&&/Chrome\/(\d+)/.exec(t),x=m&&+m[1],v=/Opera\//.test(t),C=/Apple Computer/.test(navigator.vendor),w=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),b=/PhantomJS/.test(t),T=C&&(/Mobile\/\w+/.test(t)||navigator.maxTouchPoints>2),M=/Android/.test(t),L=T||M||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),A=T||/Mac/.test(e),E=/\bCrOS\b/.test(t),D=/win/i.test(e),B=v&&t.match(/Version\/(\d*\.\d*)/);B&&(B=Number(B[1])),B&&B>=15&&(v=!1,g=!0);var z=A&&(p||v&&(B==null||B<12.11)),I=n||h&&f>=9;function O(i){return new RegExp("(^|\\s)"+i+"(?:$|\\s)\\s*")}var S=function(i,o){var c=i.className,l=O(o).exec(c);if(l){var u=c.slice(l.index+l[0].length);i.className=c.slice(0,l.index)+(u?l[1]+u:"")}};function P(i){for(var o=i.childNodes.length;o>0;--o)i.removeChild(i.firstChild);return i}function k(i,o){return P(i).appendChild(o)}function d(i,o,c,l){var u=document.createElement(i);if(c&&(u.className=c),l&&(u.style.cssText=l),typeof o=="string")u.appendChild(document.createTextNode(o));else if(o)for(var y=0;y<o.length;++y)u.appendChild(o[y]);return u}function N(i,o,c,l){var u=d(i,o,c,l);return u.setAttribute("role","presentation"),u}var R;document.createRange?R=function(i,o,c,l){var u=document.createRange();return u.setEnd(l||i,c),u.setStart(i,o),u}:R=function(i,o,c){var l=document.body.createTextRange();try{l.moveToElementText(i.parentNode)}catch{return l}return l.collapse(!0),l.moveEnd("character",c),l.moveStart("character",o),l};function q(i,o){if(o.nodeType==3&&(o=o.parentNode),i.contains)return i.contains(o);do if(o.nodeType==11&&(o=o.host),o==i)return!0;while(o=o.parentNode)}function ee(i){var o;try{o=i.activeElement}catch{o=i.body||null}for(;o&&o.shadowRoot&&o.shadowRoot.activeElement;)o=o.shadowRoot.activeElement;return o}function ue(i,o){var c=i.className;O(o).test(c)||(i.className+=(c?" ":"")+o)}function ae(i,o){for(var c=i.split(" "),l=0;l<c.length;l++)c[l]&&!O(c[l]).test(o)&&(o+=" "+c[l]);return o}var $=function(i){i.select()};T?$=function(i){i.selectionStart=0,i.selectionEnd=i.value.length}:h&&($=function(i){try{i.select()}catch{}});function ie(i){return i.display.wrapper.ownerDocument}function j(i){return ie(i).defaultView}function H(i){var o=Array.prototype.slice.call(arguments,1);return function(){return i.apply(null,o)}}function U(i,o,c){o||(o={});for(var l in i)i.hasOwnProperty(l)&&(c!==!1||!o.hasOwnProperty(l))&&(o[l]=i[l]);return o}function Z(i,o,c,l,u){o==null&&(o=i.search(/[^\s\u00a0]/),o==-1&&(o=i.length));for(var y=l||0,F=u||0;;){var W=i.indexOf("	",y);if(W<0||W>=o)return F+(o-y);F+=W-y,F+=c-F%c,y=W+1}}var te=function(){this.id=null,this.f=null,this.time=0,this.handler=H(this.onTimeout,this)};te.prototype.onTimeout=function(i){i.id=0,i.time<=+new Date?i.f():setTimeout(i.handler,i.time-+new Date)},te.prototype.set=function(i,o){this.f=o;var c=+new Date+i;(!this.id||c<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,i),this.time=c)};function ne(i,o){for(var c=0;c<i.length;++c)if(i[c]==o)return c;return-1}var _=50,K={toString:function(){return"CodeMirror.Pass"}},V={scroll:!1},re={origin:"*mouse"},oe={origin:"+move"};function ge(i,o,c){for(var l=0,u=0;;){var y=i.indexOf("	",l);y==-1&&(y=i.length);var F=y-l;if(y==i.length||u+F>=o)return l+Math.min(F,o-u);if(u+=y-l,u+=c-u%c,l=y+1,u>=o)return l}}var fe=[""];function ve(i){for(;fe.length<=i;)fe.push(me(fe)+" ");return fe[i]}function me(i){return i[i.length-1]}function Le(i,o){for(var c=[],l=0;l<i.length;l++)c[l]=o(i[l],l);return c}function ze(i,o,c){for(var l=0,u=c(o);l<i.length&&c(i[l])<=u;)l++;i.splice(l,0,o)}function Ae(){}function he(i,o){var c;return Object.create?c=Object.create(i):(Ae.prototype=i,c=new Ae),o&&U(o,c),c}var de=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function G(i){return/\w/.test(i)||i>"\x80"&&(i.toUpperCase()!=i.toLowerCase()||de.test(i))}function ce(i,o){return o?o.source.indexOf("\\w")>-1&&G(i)?!0:o.test(i):G(i)}function X(i){for(var o in i)if(i.hasOwnProperty(o)&&i[o])return!1;return!0}var Q=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function le(i){return i.charCodeAt(0)>=768&&Q.test(i)}function ye(i,o,c){for(;(c<0?o>0:o<i.length)&&le(i.charAt(o));)o+=c;return o}function ke(i,o,c){for(var l=o>c?-1:1;;){if(o==c)return o;var u=(o+c)/2,y=l<0?Math.ceil(u):Math.floor(u);if(y==o)return i(y)?o:c;i(y)?c=y:o=y+l}}function Ce(i,o,c,l){if(!i)return l(o,c,"ltr",0);for(var u=!1,y=0;y<i.length;++y){var F=i[y];(F.from<c&&F.to>o||o==c&&F.to==o)&&(l(Math.max(F.from,o),Math.min(F.to,c),F.level==1?"rtl":"ltr",y),u=!0)}u||l(o,c,"ltr")}var Re=null;function Oe(i,o,c){var l;Re=null;for(var u=0;u<i.length;++u){var y=i[u];if(y.from<o&&y.to>o)return u;y.to==o&&(y.from!=y.to&&c=="before"?l=u:Re=u),y.from==o&&(y.from!=y.to&&c!="before"?l=u:Re=u)}return l??Re}var Me=function(){var i="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",o="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function c(J){return J<=247?i.charAt(J):1424<=J&&J<=1524?"R":1536<=J&&J<=1785?o.charAt(J-1536):1774<=J&&J<=2220?"r":8192<=J&&J<=8203?"w":J==8204?"b":"L"}var l=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,u=/[stwN]/,y=/[LRr]/,F=/[Lb1n]/,W=/[1n]/;function Y(J,pe,xe){this.level=J,this.from=pe,this.to=xe}return function(J,pe){var xe=pe=="ltr"?"L":"R";if(J.length==0||pe=="ltr"&&!l.test(J))return!1;for(var Te=J.length,Se=[],Ie=0;Ie<Te;++Ie)Se.push(c(J.charCodeAt(Ie)));for(var Fe=0,We=xe;Fe<Te;++Fe){var Ue=Se[Fe];Ue=="m"?Se[Fe]=We:We=Ue}for(var $e=0,Ge=xe;$e<Te;++$e){var Ye=Se[$e];Ye=="1"&&Ge=="r"?Se[$e]="n":y.test(Ye)&&(Ge=Ye,Ye=="r"&&(Se[$e]="R"))}for(var Mt=1,ot=Se[0];Mt<Te-1;++Mt){var Wt=Se[Mt];Wt=="+"&&ot=="1"&&Se[Mt+1]=="1"?Se[Mt]="1":Wt==","&&ot==Se[Mt+1]&&(ot=="1"||ot=="n")&&(Se[Mt]=ot),ot=Wt}for(var di=0;di<Te;++di){var Wi=Se[di];if(Wi==",")Se[di]="N";else if(Wi=="%"){var Ti=void 0;for(Ti=di+1;Ti<Te&&Se[Ti]=="%";++Ti);for(var bn=di&&Se[di-1]=="!"||Ti<Te&&Se[Ti]=="1"?"1":"N",fn=di;fn<Ti;++fn)Se[fn]=bn;di=Ti-1}}for(var Di=0,dn=xe;Di<Te;++Di){var Gi=Se[Di];dn=="L"&&Gi=="1"?Se[Di]="L":y.test(Gi)&&(dn=Gi)}for(var zi=0;zi<Te;++zi)if(u.test(Se[zi])){var Ii=void 0;for(Ii=zi+1;Ii<Te&&u.test(Se[Ii]);++Ii);for(var Ai=(zi?Se[zi-1]:xe)=="L",pn=(Ii<Te?Se[Ii]:xe)=="L",hs=Ai==pn?Ai?"L":"R":xe,no=zi;no<Ii;++no)Se[no]=hs;zi=Ii-1}for(var Xi=[],vr,qi=0;qi<Te;)if(F.test(Se[qi])){var pf=qi;for(++qi;qi<Te&&F.test(Se[qi]);++qi);Xi.push(new Y(0,pf,qi))}else{var jr=qi,Ao=Xi.length,Mo=pe=="rtl"?1:0;for(++qi;qi<Te&&Se[qi]!="L";++qi);for(var nn=jr;nn<qi;)if(W.test(Se[nn])){jr<nn&&(Xi.splice(Ao,0,new Y(1,jr,nn)),Ao+=Mo);var fs=nn;for(++nn;nn<qi&&W.test(Se[nn]);++nn);Xi.splice(Ao,0,new Y(2,fs,nn)),Ao+=Mo,jr=nn}else++nn;jr<qi&&Xi.splice(Ao,0,new Y(1,jr,qi))}return pe=="ltr"&&(Xi[0].level==1&&(vr=J.match(/^\s+/))&&(Xi[0].from=vr[0].length,Xi.unshift(new Y(0,0,vr[0].length))),me(Xi).level==1&&(vr=J.match(/\s+$/))&&(me(Xi).to-=vr[0].length,Xi.push(new Y(0,Te-vr[0].length,Te)))),pe=="rtl"?Xi.reverse():Xi}}();function _e(i,o){var c=i.order;return c==null&&(c=i.order=Me(i.text,o)),c}var Ve=[],Pe=function(i,o,c){if(i.addEventListener)i.addEventListener(o,c,!1);else if(i.attachEvent)i.attachEvent("on"+o,c);else{var l=i._handlers||(i._handlers={});l[o]=(l[o]||Ve).concat(c)}};function He(i,o){return i._handlers&&i._handlers[o]||Ve}function nt(i,o,c){if(i.removeEventListener)i.removeEventListener(o,c,!1);else if(i.detachEvent)i.detachEvent("on"+o,c);else{var l=i._handlers,u=l&&l[o];if(u){var y=ne(u,c);y>-1&&(l[o]=u.slice(0,y).concat(u.slice(y+1)))}}}function Je(i,o){var c=He(i,o);if(c.length)for(var l=Array.prototype.slice.call(arguments,2),u=0;u<c.length;++u)c[u].apply(null,l)}function qe(i,o,c){return typeof o=="string"&&(o={type:o,preventDefault:function(){this.defaultPrevented=!0}}),Je(i,c||o.type,i,o),sn(o)||o.codemirrorIgnore}function Jt(i){var o=i._handlers&&i._handlers.cursorActivity;if(o)for(var c=i.curOp.cursorActivityHandlers||(i.curOp.cursorActivityHandlers=[]),l=0;l<o.length;++l)ne(c,o[l])==-1&&c.push(o[l])}function Gt(i,o){return He(i,o).length>0}function Pt(i){i.prototype.on=function(o,c){Pe(this,o,c)},i.prototype.off=function(o,c){nt(this,o,c)}}function _t(i){i.preventDefault?i.preventDefault():i.returnValue=!1}function ni(i){i.stopPropagation?i.stopPropagation():i.cancelBubble=!0}function sn(i){return i.defaultPrevented!=null?i.defaultPrevented:i.returnValue==!1}function Ei(i){_t(i),ni(i)}function yi(i){return i.target||i.srcElement}function an(i){var o=i.which;return o==null&&(i.button&1?o=1:i.button&2?o=3:i.button&4&&(o=2)),A&&i.ctrlKey&&o==1&&(o=3),o}var Ln=function(){if(h&&f<9)return!1;var i=d("div");return"draggable"in i||"dragDrop"in i}(),Ni;function Vr(i){if(Ni==null){var o=d("span","\u200B");k(i,d("span",[o,document.createTextNode("x")])),i.firstChild.offsetHeight!=0&&(Ni=o.offsetWidth<=1&&o.offsetHeight>2&&!(h&&f<8))}var c=Ni?d("span","\u200B"):d("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return c.setAttribute("cm-text",""),c}var hr;function fr(i){if(hr!=null)return hr;var o=k(i,document.createTextNode("A\u062EA")),c=R(o,0,1).getBoundingClientRect(),l=R(o,1,2).getBoundingClientRect();return P(i),!c||c.left==c.right?!1:hr=l.right-c.right<3}var An=`

b`.split(/\n/).length!=3?function(i){for(var o=0,c=[],l=i.length;o<=l;){var u=i.indexOf(`
`,o);u==-1&&(u=i.length);var y=i.slice(o,i.charAt(u-1)=="\r"?u-1:u),F=y.indexOf("\r");F!=-1?(c.push(y.slice(0,F)),o+=F+1):(c.push(y),o=u+1)}return c}:function(i){return i.split(/\r\n?|\n/)},zn=window.getSelection?function(i){try{return i.selectionStart!=i.selectionEnd}catch{return!1}}:function(i){var o;try{o=i.ownerDocument.selection.createRange()}catch{}return!o||o.parentElement()!=i?!1:o.compareEndPoints("StartToEnd",o)!=0},en=function(){var i=d("div");return"oncopy"in i?!0:(i.setAttribute("oncopy","return;"),typeof i.oncopy=="function")}(),ln=null;function Bn(i){if(ln!=null)return ln;var o=k(i,d("span","x")),c=o.getBoundingClientRect(),l=R(o,0,1).getBoundingClientRect();return ln=Math.abs(c.left-l.left)>1}var cn={},dr={};function ac(i,o){arguments.length>2&&(o.dependencies=Array.prototype.slice.call(arguments,2)),cn[i]=o}function Vo(i,o){dr[i]=o}function vn(i){if(typeof i=="string"&&dr.hasOwnProperty(i))i=dr[i];else if(i&&typeof i.name=="string"&&dr.hasOwnProperty(i.name)){var o=dr[i.name];typeof o=="string"&&(o={name:o}),i=he(o,i),i.name=o.name}else{if(typeof i=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(i))return vn("application/xml");if(typeof i=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(i))return vn("application/json")}return typeof i=="string"?{name:i}:i||{name:"null"}}function Mr(i,o){o=vn(o);var c=cn[o.name];if(!c)return Mr(i,"text/plain");var l=c(i,o);if($r.hasOwnProperty(o.name)){var u=$r[o.name];for(var y in u)u.hasOwnProperty(y)&&(l.hasOwnProperty(y)&&(l["_"+y]=l[y]),l[y]=u[y])}if(l.name=o.name,o.helperType&&(l.helperType=o.helperType),o.modeProps)for(var F in o.modeProps)l[F]=o.modeProps[F];return l}var $r={};function lc(i,o){var c=$r.hasOwnProperty(i)?$r[i]:$r[i]={};U(o,c)}function Er(i,o){if(o===!0)return o;if(i.copyState)return i.copyState(o);var c={};for(var l in o){var u=o[l];u instanceof Array&&(u=u.concat([])),c[l]=u}return c}function Yr(i,o){for(var c;i.innerMode&&(c=i.innerMode(o),!(!c||c.mode==i));)o=c.state,i=c.mode;return c||{mode:i,state:o}}function Qs(i,o,c){return i.startState?i.startState(o,c):!0}var Li=function(i,o,c){this.pos=this.start=0,this.string=i,this.tabSize=o||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=c};Li.prototype.eol=function(){return this.pos>=this.string.length},Li.prototype.sol=function(){return this.pos==this.lineStart},Li.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Li.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Li.prototype.eat=function(i){var o=this.string.charAt(this.pos),c;if(typeof i=="string"?c=o==i:c=o&&(i.test?i.test(o):i(o)),c)return++this.pos,o},Li.prototype.eatWhile=function(i){for(var o=this.pos;this.eat(i););return this.pos>o},Li.prototype.eatSpace=function(){for(var i=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>i},Li.prototype.skipToEnd=function(){this.pos=this.string.length},Li.prototype.skipTo=function(i){var o=this.string.indexOf(i,this.pos);if(o>-1)return this.pos=o,!0},Li.prototype.backUp=function(i){this.pos-=i},Li.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Z(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Z(this.string,this.lineStart,this.tabSize):0)},Li.prototype.indentation=function(){return Z(this.string,null,this.tabSize)-(this.lineStart?Z(this.string,this.lineStart,this.tabSize):0)},Li.prototype.match=function(i,o,c){if(typeof i=="string"){var l=function(F){return c?F.toLowerCase():F},u=this.string.substr(this.pos,i.length);if(l(u)==l(i))return o!==!1&&(this.pos+=i.length),!0}else{var y=this.string.slice(this.pos).match(i);return y&&y.index>0?null:(y&&o!==!1&&(this.pos+=y[0].length),y)}},Li.prototype.current=function(){return this.string.slice(this.start,this.pos)},Li.prototype.hideFirstChars=function(i,o){this.lineStart+=i;try{return o()}finally{this.lineStart-=i}},Li.prototype.lookAhead=function(i){var o=this.lineOracle;return o&&o.lookAhead(i)},Li.prototype.baseToken=function(){var i=this.lineOracle;return i&&i.baseToken(this.pos)};function et(i,o){if(o-=i.first,o<0||o>=i.size)throw new Error("There is no line "+(o+i.first)+" in the document.");for(var c=i;!c.lines;)for(var l=0;;++l){var u=c.children[l],y=u.chunkSize();if(o<y){c=u;break}o-=y}return c.lines[o]}function Pr(i,o,c){var l=[],u=o.line;return i.iter(o.line,c.line+1,function(y){var F=y.text;u==c.line&&(F=F.slice(0,c.ch)),u==o.line&&(F=F.slice(o.ch)),l.push(F),++u}),l}function $o(i,o,c){var l=[];return i.iter(o,c,function(u){l.push(u.text)}),l}function Fn(i,o){var c=o-i.height;if(c)for(var l=i;l;l=l.parent)l.height+=c}function oi(i){if(i.parent==null)return null;for(var o=i.parent,c=ne(o.lines,i),l=o.parent;l;o=l,l=l.parent)for(var u=0;l.children[u]!=o;++u)c+=l.children[u].chunkSize();return c+o.first}function pr(i,o){var c=i.first;e:do{for(var l=0;l<i.children.length;++l){var u=i.children[l],y=u.height;if(o<y){i=u;continue e}o-=y,c+=u.chunkSize()}return c}while(!i.lines);for(var F=0;F<i.lines.length;++F){var W=i.lines[F],Y=W.height;if(o<Y)break;o-=Y}return c+F}function se(i,o){return o>=i.first&&o<i.first+i.size}function be(i,o){return String(i.lineNumberFormatter(o+i.firstLineNumber))}function we(i,o,c){if(c===void 0&&(c=null),!(this instanceof we))return new we(i,o,c);this.line=i,this.ch=o,this.sticky=c}function Ne(i,o){return i.line-o.line||i.ch-o.ch}function It(i,o){return i.sticky==o.sticky&&Ne(i,o)==0}function Yt(i){return we(i.line,i.ch)}function ri(i,o){return Ne(i,o)<0?o:i}function ji(i,o){return Ne(i,o)<0?i:o}function Mn(i,o){return Math.max(i.first,Math.min(o,i.first+i.size-1))}function Rt(i,o){if(o.line<i.first)return we(i.first,0);var c=i.first+i.size-1;return o.line>c?we(c,et(i,c).text.length):tL(o,et(i,o.line).text.length)}function tL(i,o){var c=i.ch;return c==null||c>o?we(i.line,o):c<0?we(i.line,0):i}function qm(i,o){for(var c=[],l=0;l<o.length;l++)c[l]=Rt(i,o[l]);return c}var cc=function(i,o){this.state=i,this.lookAhead=o},gr=function(i,o,c,l){this.state=o,this.doc=i,this.line=c,this.maxLookAhead=l||0,this.baseTokens=null,this.baseTokenPos=1};gr.prototype.lookAhead=function(i){var o=this.doc.getLine(this.line+i);return o!=null&&i>this.maxLookAhead&&(this.maxLookAhead=i),o},gr.prototype.baseToken=function(i){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=i;)this.baseTokenPos+=2;var o=this.baseTokens[this.baseTokenPos+1];return{type:o&&o.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-i}},gr.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},gr.fromSaved=function(i,o,c){return o instanceof cc?new gr(i,Er(i.mode,o.state),c,o.lookAhead):new gr(i,Er(i.mode,o),c)},gr.prototype.save=function(i){var o=i!==!1?Er(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new cc(o,this.maxLookAhead):o};function Um(i,o,c,l){var u=[i.state.modeGen],y={};Km(i,o.text,i.doc.mode,c,function(J,pe){return u.push(J,pe)},y,l);for(var F=c.state,W=function(J){c.baseTokens=u;var pe=i.state.overlays[J],xe=1,Te=0;c.state=!0,Km(i,o.text,pe.mode,c,function(Se,Ie){for(var Fe=xe;Te<Se;){var We=u[xe];We>Se&&u.splice(xe,1,Se,u[xe+1],We),xe+=2,Te=Math.min(Se,We)}if(Ie)if(pe.opaque)u.splice(Fe,xe-Fe,Se,"overlay "+Ie),xe=Fe+2;else for(;Fe<xe;Fe+=2){var Ue=u[Fe+1];u[Fe+1]=(Ue?Ue+" ":"")+"overlay "+Ie}},y),c.state=F,c.baseTokens=null,c.baseTokenPos=1},Y=0;Y<i.state.overlays.length;++Y)W(Y);return{styles:u,classes:y.bgClass||y.textClass?y:null}}function Gm(i,o,c){if(!o.styles||o.styles[0]!=i.state.modeGen){var l=Js(i,oi(o)),u=o.text.length>i.options.maxHighlightLength&&Er(i.doc.mode,l.state),y=Um(i,o,l);u&&(l.state=u),o.stateAfter=l.save(!u),o.styles=y.styles,y.classes?o.styleClasses=y.classes:o.styleClasses&&(o.styleClasses=null),c===i.doc.highlightFrontier&&(i.doc.modeFrontier=Math.max(i.doc.modeFrontier,++i.doc.highlightFrontier))}return o.styles}function Js(i,o,c){var l=i.doc,u=i.display;if(!l.mode.startState)return new gr(l,!0,o);var y=iL(i,o,c),F=y>l.first&&et(l,y-1).stateAfter,W=F?gr.fromSaved(l,F,y):new gr(l,Qs(l.mode),y);return l.iter(y,o,function(Y){Sh(i,Y.text,W);var J=W.line;Y.stateAfter=J==o-1||J%5==0||J>=u.viewFrom&&J<u.viewTo?W.save():null,W.nextLine()}),c&&(l.modeFrontier=W.line),W}function Sh(i,o,c,l){var u=i.doc.mode,y=new Li(o,i.options.tabSize,c);for(y.start=y.pos=l||0,o==""&&Vm(u,c.state);!y.eol();)Ch(u,y,c.state),y.start=y.pos}function Vm(i,o){if(i.blankLine)return i.blankLine(o);if(i.innerMode){var c=Yr(i,o);if(c.mode.blankLine)return c.mode.blankLine(c.state)}}function Ch(i,o,c,l){for(var u=0;u<10;u++){l&&(l[0]=Yr(i,c).mode);var y=i.token(o,c);if(o.pos>o.start)return y}throw new Error("Mode "+i.name+" failed to advance stream.")}var $m=function(i,o,c){this.start=i.start,this.end=i.pos,this.string=i.current(),this.type=o||null,this.state=c};function Ym(i,o,c,l){var u=i.doc,y=u.mode,F;o=Rt(u,o);var W=et(u,o.line),Y=Js(i,o.line,c),J=new Li(W.text,i.options.tabSize,Y),pe;for(l&&(pe=[]);(l||J.pos<o.ch)&&!J.eol();)J.start=J.pos,F=Ch(y,J,Y.state),l&&pe.push(new $m(J,F,Er(u.mode,Y.state)));return l?pe:new $m(J,F,Y.state)}function Xm(i,o){if(i)for(;;){var c=i.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!c)break;i=i.slice(0,c.index)+i.slice(c.index+c[0].length);var l=c[1]?"bgClass":"textClass";o[l]==null?o[l]=c[2]:new RegExp("(?:^|\\s)"+c[2]+"(?:$|\\s)").test(o[l])||(o[l]+=" "+c[2])}return i}function Km(i,o,c,l,u,y,F){var W=c.flattenSpans;W==null&&(W=i.options.flattenSpans);var Y=0,J=null,pe=new Li(o,i.options.tabSize,l),xe,Te=i.options.addModeClass&&[null];for(o==""&&Xm(Vm(c,l.state),y);!pe.eol();){if(pe.pos>i.options.maxHighlightLength?(W=!1,F&&Sh(i,o,l,pe.pos),pe.pos=o.length,xe=null):xe=Xm(Ch(c,pe,l.state,Te),y),Te){var Se=Te[0].name;Se&&(xe="m-"+(xe?Se+" "+xe:Se))}if(!W||J!=xe){for(;Y<pe.start;)Y=Math.min(pe.start,Y+5e3),u(Y,J);J=xe}pe.start=pe.pos}for(;Y<pe.pos;){var Ie=Math.min(pe.pos,Y+5e3);u(Ie,J),Y=Ie}}function iL(i,o,c){for(var l,u,y=i.doc,F=c?-1:o-(i.doc.mode.innerMode?1e3:100),W=o;W>F;--W){if(W<=y.first)return y.first;var Y=et(y,W-1),J=Y.stateAfter;if(J&&(!c||W+(J instanceof cc?J.lookAhead:0)<=y.modeFrontier))return W;var pe=Z(Y.text,null,i.options.tabSize);(u==null||l>pe)&&(u=W-1,l=pe)}return u}function nL(i,o){if(i.modeFrontier=Math.min(i.modeFrontier,o),!(i.highlightFrontier<o-10)){for(var c=i.first,l=o-1;l>c;l--){var u=et(i,l).stateAfter;if(u&&(!(u instanceof cc)||l+u.lookAhead<o)){c=l+1;break}}i.highlightFrontier=Math.min(i.highlightFrontier,c)}}var Zm=!1,Or=!1;function rL(){Zm=!0}function oL(){Or=!0}function uc(i,o,c){this.marker=i,this.from=o,this.to=c}function ea(i,o){if(i)for(var c=0;c<i.length;++c){var l=i[c];if(l.marker==o)return l}}function sL(i,o){for(var c,l=0;l<i.length;++l)i[l]!=o&&(c||(c=[])).push(i[l]);return c}function aL(i,o,c){var l=c&&window.WeakSet&&(c.markedSpans||(c.markedSpans=new WeakSet));l&&i.markedSpans&&l.has(i.markedSpans)?i.markedSpans.push(o):(i.markedSpans=i.markedSpans?i.markedSpans.concat([o]):[o],l&&l.add(i.markedSpans)),o.marker.attachLine(i)}function lL(i,o,c){var l;if(i)for(var u=0;u<i.length;++u){var y=i[u],F=y.marker,W=y.from==null||(F.inclusiveLeft?y.from<=o:y.from<o);if(W||y.from==o&&F.type=="bookmark"&&(!c||!y.marker.insertLeft)){var Y=y.to==null||(F.inclusiveRight?y.to>=o:y.to>o);(l||(l=[])).push(new uc(F,y.from,Y?null:y.to))}}return l}function cL(i,o,c){var l;if(i)for(var u=0;u<i.length;++u){var y=i[u],F=y.marker,W=y.to==null||(F.inclusiveRight?y.to>=o:y.to>o);if(W||y.from==o&&F.type=="bookmark"&&(!c||y.marker.insertLeft)){var Y=y.from==null||(F.inclusiveLeft?y.from<=o:y.from<o);(l||(l=[])).push(new uc(F,Y?null:y.from-o,y.to==null?null:y.to-o))}}return l}function Th(i,o){if(o.full)return null;var c=se(i,o.from.line)&&et(i,o.from.line).markedSpans,l=se(i,o.to.line)&&et(i,o.to.line).markedSpans;if(!c&&!l)return null;var u=o.from.ch,y=o.to.ch,F=Ne(o.from,o.to)==0,W=lL(c,u,F),Y=cL(l,y,F),J=o.text.length==1,pe=me(o.text).length+(J?u:0);if(W)for(var xe=0;xe<W.length;++xe){var Te=W[xe];if(Te.to==null){var Se=ea(Y,Te.marker);Se?J&&(Te.to=Se.to==null?null:Se.to+pe):Te.to=u}}if(Y)for(var Ie=0;Ie<Y.length;++Ie){var Fe=Y[Ie];if(Fe.to!=null&&(Fe.to+=pe),Fe.from==null){var We=ea(W,Fe.marker);We||(Fe.from=pe,J&&(W||(W=[])).push(Fe))}else Fe.from+=pe,J&&(W||(W=[])).push(Fe)}W&&(W=Qm(W)),Y&&Y!=W&&(Y=Qm(Y));var Ue=[W];if(!J){var $e=o.text.length-2,Ge;if($e>0&&W)for(var Ye=0;Ye<W.length;++Ye)W[Ye].to==null&&(Ge||(Ge=[])).push(new uc(W[Ye].marker,null,null));for(var Mt=0;Mt<$e;++Mt)Ue.push(Ge);Ue.push(Y)}return Ue}function Qm(i){for(var o=0;o<i.length;++o){var c=i[o];c.from!=null&&c.from==c.to&&c.marker.clearWhenEmpty!==!1&&i.splice(o--,1)}return i.length?i:null}function uL(i,o,c){var l=null;if(i.iter(o.line,c.line+1,function(Se){if(Se.markedSpans)for(var Ie=0;Ie<Se.markedSpans.length;++Ie){var Fe=Se.markedSpans[Ie].marker;Fe.readOnly&&(!l||ne(l,Fe)==-1)&&(l||(l=[])).push(Fe)}}),!l)return null;for(var u=[{from:o,to:c}],y=0;y<l.length;++y)for(var F=l[y],W=F.find(0),Y=0;Y<u.length;++Y){var J=u[Y];if(!(Ne(J.to,W.from)<0||Ne(J.from,W.to)>0)){var pe=[Y,1],xe=Ne(J.from,W.from),Te=Ne(J.to,W.to);(xe<0||!F.inclusiveLeft&&!xe)&&pe.push({from:J.from,to:W.from}),(Te>0||!F.inclusiveRight&&!Te)&&pe.push({from:W.to,to:J.to}),u.splice.apply(u,pe),Y+=pe.length-3}}return u}function Jm(i){var o=i.markedSpans;if(o){for(var c=0;c<o.length;++c)o[c].marker.detachLine(i);i.markedSpans=null}}function ey(i,o){if(o){for(var c=0;c<o.length;++c)o[c].marker.attachLine(i);i.markedSpans=o}}function hc(i){return i.inclusiveLeft?-1:0}function fc(i){return i.inclusiveRight?1:0}function Lh(i,o){var c=i.lines.length-o.lines.length;if(c!=0)return c;var l=i.find(),u=o.find(),y=Ne(l.from,u.from)||hc(i)-hc(o);if(y)return-y;var F=Ne(l.to,u.to)||fc(i)-fc(o);return F||o.id-i.id}function ty(i,o){var c=Or&&i.markedSpans,l;if(c)for(var u=void 0,y=0;y<c.length;++y)u=c[y],u.marker.collapsed&&(o?u.from:u.to)==null&&(!l||Lh(l,u.marker)<0)&&(l=u.marker);return l}function iy(i){return ty(i,!0)}function dc(i){return ty(i,!1)}function hL(i,o){var c=Or&&i.markedSpans,l;if(c)for(var u=0;u<c.length;++u){var y=c[u];y.marker.collapsed&&(y.from==null||y.from<o)&&(y.to==null||y.to>o)&&(!l||Lh(l,y.marker)<0)&&(l=y.marker)}return l}function ny(i,o,c,l,u){var y=et(i,o),F=Or&&y.markedSpans;if(F)for(var W=0;W<F.length;++W){var Y=F[W];if(Y.marker.collapsed){var J=Y.marker.find(0),pe=Ne(J.from,c)||hc(Y.marker)-hc(u),xe=Ne(J.to,l)||fc(Y.marker)-fc(u);if(!(pe>=0&&xe<=0||pe<=0&&xe>=0)&&(pe<=0&&(Y.marker.inclusiveRight&&u.inclusiveLeft?Ne(J.to,c)>=0:Ne(J.to,c)>0)||pe>=0&&(Y.marker.inclusiveRight&&u.inclusiveLeft?Ne(J.from,l)<=0:Ne(J.from,l)<0)))return!0}}}function Qn(i){for(var o;o=iy(i);)i=o.find(-1,!0).line;return i}function fL(i){for(var o;o=dc(i);)i=o.find(1,!0).line;return i}function dL(i){for(var o,c;o=dc(i);)i=o.find(1,!0).line,(c||(c=[])).push(i);return c}function Ah(i,o){var c=et(i,o),l=Qn(c);return c==l?o:oi(l)}function ry(i,o){if(o>i.lastLine())return o;var c=et(i,o),l;if(!Xr(i,c))return o;for(;l=dc(c);)c=l.find(1,!0).line;return oi(c)+1}function Xr(i,o){var c=Or&&o.markedSpans;if(c){for(var l=void 0,u=0;u<c.length;++u)if(l=c[u],!!l.marker.collapsed){if(l.from==null)return!0;if(!l.marker.widgetNode&&l.from==0&&l.marker.inclusiveLeft&&Mh(i,o,l))return!0}}}function Mh(i,o,c){if(c.to==null){var l=c.marker.find(1,!0);return Mh(i,l.line,ea(l.line.markedSpans,c.marker))}if(c.marker.inclusiveRight&&c.to==o.text.length)return!0;for(var u=void 0,y=0;y<o.markedSpans.length;++y)if(u=o.markedSpans[y],u.marker.collapsed&&!u.marker.widgetNode&&u.from==c.to&&(u.to==null||u.to!=c.from)&&(u.marker.inclusiveLeft||c.marker.inclusiveRight)&&Mh(i,o,u))return!0}function Nr(i){i=Qn(i);for(var o=0,c=i.parent,l=0;l<c.lines.length;++l){var u=c.lines[l];if(u==i)break;o+=u.height}for(var y=c.parent;y;c=y,y=c.parent)for(var F=0;F<y.children.length;++F){var W=y.children[F];if(W==c)break;o+=W.height}return o}function pc(i){if(i.height==0)return 0;for(var o=i.text.length,c,l=i;c=iy(l);){var u=c.find(0,!0);l=u.from.line,o+=u.from.ch-u.to.ch}for(l=i;c=dc(l);){var y=c.find(0,!0);o-=l.text.length-y.from.ch,l=y.to.line,o+=l.text.length-y.to.ch}return o}function Eh(i){var o=i.display,c=i.doc;o.maxLine=et(c,c.first),o.maxLineLength=pc(o.maxLine),o.maxLineChanged=!0,c.iter(function(l){var u=pc(l);u>o.maxLineLength&&(o.maxLineLength=u,o.maxLine=l)})}var Yo=function(i,o,c){this.text=i,ey(this,o),this.height=c?c(this):1};Yo.prototype.lineNo=function(){return oi(this)},Pt(Yo);function pL(i,o,c,l){i.text=o,i.stateAfter&&(i.stateAfter=null),i.styles&&(i.styles=null),i.order!=null&&(i.order=null),Jm(i),ey(i,c);var u=l?l(i):1;u!=i.height&&Fn(i,u)}function gL(i){i.parent=null,Jm(i)}var mL={},yL={};function oy(i,o){if(!i||/^\s*$/.test(i))return null;var c=o.addModeClass?yL:mL;return c[i]||(c[i]=i.replace(/\S+/g,"cm-$&"))}function sy(i,o){var c=N("span",null,null,g?"padding-right: .1px":null),l={pre:N("pre",[c],"CodeMirror-line"),content:c,col:0,pos:0,cm:i,trailingSpace:!1,splitSpaces:i.getOption("lineWrapping")};o.measure={};for(var u=0;u<=(o.rest?o.rest.length:0);u++){var y=u?o.rest[u-1]:o.line,F=void 0;l.pos=0,l.addToken=xL,fr(i.display.measure)&&(F=_e(y,i.doc.direction))&&(l.addToken=wL(l.addToken,F)),l.map=[];var W=o!=i.display.externalMeasured&&oi(y);kL(y,l,Gm(i,y,W)),y.styleClasses&&(y.styleClasses.bgClass&&(l.bgClass=ae(y.styleClasses.bgClass,l.bgClass||"")),y.styleClasses.textClass&&(l.textClass=ae(y.styleClasses.textClass,l.textClass||""))),l.map.length==0&&l.map.push(0,0,l.content.appendChild(Vr(i.display.measure))),u==0?(o.measure.map=l.map,o.measure.cache={}):((o.measure.maps||(o.measure.maps=[])).push(l.map),(o.measure.caches||(o.measure.caches=[])).push({}))}if(g){var Y=l.content.lastChild;(/\bcm-tab\b/.test(Y.className)||Y.querySelector&&Y.querySelector(".cm-tab"))&&(l.content.className="cm-tab-wrap-hack")}return Je(i,"renderLine",i,o.line,l.pre),l.pre.className&&(l.textClass=ae(l.pre.className,l.textClass||"")),l}function vL(i){var o=d("span","\u2022","cm-invalidchar");return o.title="\\u"+i.charCodeAt(0).toString(16),o.setAttribute("aria-label",o.title),o}function xL(i,o,c,l,u,y,F){if(o){var W=i.splitSpaces?bL(o,i.trailingSpace):o,Y=i.cm.state.specialChars,J=!1,pe;if(!Y.test(o))i.col+=o.length,pe=document.createTextNode(W),i.map.push(i.pos,i.pos+o.length,pe),h&&f<9&&(J=!0),i.pos+=o.length;else{pe=document.createDocumentFragment();for(var xe=0;;){Y.lastIndex=xe;var Te=Y.exec(o),Se=Te?Te.index-xe:o.length-xe;if(Se){var Ie=document.createTextNode(W.slice(xe,xe+Se));h&&f<9?pe.appendChild(d("span",[Ie])):pe.appendChild(Ie),i.map.push(i.pos,i.pos+Se,Ie),i.col+=Se,i.pos+=Se}if(!Te)break;xe+=Se+1;var Fe=void 0;if(Te[0]=="	"){var We=i.cm.options.tabSize,Ue=We-i.col%We;Fe=pe.appendChild(d("span",ve(Ue),"cm-tab")),Fe.setAttribute("role","presentation"),Fe.setAttribute("cm-text","	"),i.col+=Ue}else Te[0]=="\r"||Te[0]==`
`?(Fe=pe.appendChild(d("span",Te[0]=="\r"?"\u240D":"\u2424","cm-invalidchar")),Fe.setAttribute("cm-text",Te[0]),i.col+=1):(Fe=i.cm.options.specialCharPlaceholder(Te[0]),Fe.setAttribute("cm-text",Te[0]),h&&f<9?pe.appendChild(d("span",[Fe])):pe.appendChild(Fe),i.col+=1);i.map.push(i.pos,i.pos+1,Fe),i.pos++}}if(i.trailingSpace=W.charCodeAt(o.length-1)==32,c||l||u||J||y||F){var $e=c||"";l&&($e+=l),u&&($e+=u);var Ge=d("span",[pe],$e,y);if(F)for(var Ye in F)F.hasOwnProperty(Ye)&&Ye!="style"&&Ye!="class"&&Ge.setAttribute(Ye,F[Ye]);return i.content.appendChild(Ge)}i.content.appendChild(pe)}}function bL(i,o){if(i.length>1&&!/  /.test(i))return i;for(var c=o,l="",u=0;u<i.length;u++){var y=i.charAt(u);y==" "&&c&&(u==i.length-1||i.charCodeAt(u+1)==32)&&(y="\xA0"),l+=y,c=y==" "}return l}function wL(i,o){return function(c,l,u,y,F,W,Y){u=u?u+" cm-force-border":"cm-force-border";for(var J=c.pos,pe=J+l.length;;){for(var xe=void 0,Te=0;Te<o.length&&(xe=o[Te],!(xe.to>J&&xe.from<=J));Te++);if(xe.to>=pe)return i(c,l,u,y,F,W,Y);i(c,l.slice(0,xe.to-J),u,y,null,W,Y),y=null,l=l.slice(xe.to-J),J=xe.to}}}function ay(i,o,c,l){var u=!l&&c.widgetNode;u&&i.map.push(i.pos,i.pos+o,u),!l&&i.cm.display.input.needsContentAttribute&&(u||(u=i.content.appendChild(document.createElement("span"))),u.setAttribute("cm-marker",c.id)),u&&(i.cm.display.input.setUneditable(u),i.content.appendChild(u)),i.pos+=o,i.trailingSpace=!1}function kL(i,o,c){var l=i.markedSpans,u=i.text,y=0;if(!l){for(var F=1;F<c.length;F+=2)o.addToken(o,u.slice(y,y=c[F]),oy(c[F+1],o.cm.options));return}for(var W=u.length,Y=0,J=1,pe="",xe,Te,Se=0,Ie,Fe,We,Ue,$e;;){if(Se==Y){Ie=Fe=We=Te="",$e=null,Ue=null,Se=1/0;for(var Ge=[],Ye=void 0,Mt=0;Mt<l.length;++Mt){var ot=l[Mt],Wt=ot.marker;if(Wt.type=="bookmark"&&ot.from==Y&&Wt.widgetNode)Ge.push(Wt);else if(ot.from<=Y&&(ot.to==null||ot.to>Y||Wt.collapsed&&ot.to==Y&&ot.from==Y)){if(ot.to!=null&&ot.to!=Y&&Se>ot.to&&(Se=ot.to,Fe=""),Wt.className&&(Ie+=" "+Wt.className),Wt.css&&(Te=(Te?Te+";":"")+Wt.css),Wt.startStyle&&ot.from==Y&&(We+=" "+Wt.startStyle),Wt.endStyle&&ot.to==Se&&(Ye||(Ye=[])).push(Wt.endStyle,ot.to),Wt.title&&(($e||($e={})).title=Wt.title),Wt.attributes)for(var di in Wt.attributes)($e||($e={}))[di]=Wt.attributes[di];Wt.collapsed&&(!Ue||Lh(Ue.marker,Wt)<0)&&(Ue=ot)}else ot.from>Y&&Se>ot.from&&(Se=ot.from)}if(Ye)for(var Wi=0;Wi<Ye.length;Wi+=2)Ye[Wi+1]==Se&&(Fe+=" "+Ye[Wi]);if(!Ue||Ue.from==Y)for(var Ti=0;Ti<Ge.length;++Ti)ay(o,0,Ge[Ti]);if(Ue&&(Ue.from||0)==Y){if(ay(o,(Ue.to==null?W+1:Ue.to)-Y,Ue.marker,Ue.from==null),Ue.to==null)return;Ue.to==Y&&(Ue=!1)}}if(Y>=W)break;for(var bn=Math.min(W,Se);;){if(pe){var fn=Y+pe.length;if(!Ue){var Di=fn>bn?pe.slice(0,bn-Y):pe;o.addToken(o,Di,xe?xe+Ie:Ie,We,Y+Di.length==Se?Fe:"",Te,$e)}if(fn>=bn){pe=pe.slice(bn-Y),Y=bn;break}Y=fn,We=""}pe=u.slice(y,y=c[J++]),xe=oy(c[J++],o.cm.options)}}}function ly(i,o,c){this.line=o,this.rest=dL(o),this.size=this.rest?oi(me(this.rest))-c+1:1,this.node=this.text=null,this.hidden=Xr(i,o)}function gc(i,o,c){for(var l=[],u,y=o;y<c;y=u){var F=new ly(i.doc,et(i.doc,y),y);u=y+F.size,l.push(F)}return l}var Xo=null;function SL(i){Xo?Xo.ops.push(i):i.ownsGroup=Xo={ops:[i],delayedCallbacks:[]}}function CL(i){var o=i.delayedCallbacks,c=0;do{for(;c<o.length;c++)o[c].call(null);for(var l=0;l<i.ops.length;l++){var u=i.ops[l];if(u.cursorActivityHandlers)for(;u.cursorActivityCalled<u.cursorActivityHandlers.length;)u.cursorActivityHandlers[u.cursorActivityCalled++].call(null,u.cm)}}while(c<o.length)}function TL(i,o){var c=i.ownsGroup;if(c)try{CL(c)}finally{Xo=null,o(c)}}var ta=null;function Fi(i,o){var c=He(i,o);if(c.length){var l=Array.prototype.slice.call(arguments,2),u;Xo?u=Xo.delayedCallbacks:ta?u=ta:(u=ta=[],setTimeout(LL,0));for(var y=function(W){u.push(function(){return c[W].apply(null,l)})},F=0;F<c.length;++F)y(F)}}function LL(){var i=ta;ta=null;for(var o=0;o<i.length;++o)i[o]()}function cy(i,o,c,l){for(var u=0;u<o.changes.length;u++){var y=o.changes[u];y=="text"?ML(i,o):y=="gutter"?hy(i,o,c,l):y=="class"?Ph(i,o):y=="widget"&&EL(i,o,l)}o.changes=null}function ia(i){return i.node==i.text&&(i.node=d("div",null,null,"position: relative"),i.text.parentNode&&i.text.parentNode.replaceChild(i.node,i.text),i.node.appendChild(i.text),h&&f<8&&(i.node.style.zIndex=2)),i.node}function AL(i,o){var c=o.bgClass?o.bgClass+" "+(o.line.bgClass||""):o.line.bgClass;if(c&&(c+=" CodeMirror-linebackground"),o.background)c?o.background.className=c:(o.background.parentNode.removeChild(o.background),o.background=null);else if(c){var l=ia(o);o.background=l.insertBefore(d("div",null,c),l.firstChild),i.display.input.setUneditable(o.background)}}function uy(i,o){var c=i.display.externalMeasured;return c&&c.line==o.line?(i.display.externalMeasured=null,o.measure=c.measure,c.built):sy(i,o)}function ML(i,o){var c=o.text.className,l=uy(i,o);o.text==o.node&&(o.node=l.pre),o.text.parentNode.replaceChild(l.pre,o.text),o.text=l.pre,l.bgClass!=o.bgClass||l.textClass!=o.textClass?(o.bgClass=l.bgClass,o.textClass=l.textClass,Ph(i,o)):c&&(o.text.className=c)}function Ph(i,o){AL(i,o),o.line.wrapClass?ia(o).className=o.line.wrapClass:o.node!=o.text&&(o.node.className="");var c=o.textClass?o.textClass+" "+(o.line.textClass||""):o.line.textClass;o.text.className=c||""}function hy(i,o,c,l){if(o.gutter&&(o.node.removeChild(o.gutter),o.gutter=null),o.gutterBackground&&(o.node.removeChild(o.gutterBackground),o.gutterBackground=null),o.line.gutterClass){var u=ia(o);o.gutterBackground=d("div",null,"CodeMirror-gutter-background "+o.line.gutterClass,"left: "+(i.options.fixedGutter?l.fixedPos:-l.gutterTotalWidth)+"px; width: "+l.gutterTotalWidth+"px"),i.display.input.setUneditable(o.gutterBackground),u.insertBefore(o.gutterBackground,o.text)}var y=o.line.gutterMarkers;if(i.options.lineNumbers||y){var F=ia(o),W=o.gutter=d("div",null,"CodeMirror-gutter-wrapper","left: "+(i.options.fixedGutter?l.fixedPos:-l.gutterTotalWidth)+"px");if(W.setAttribute("aria-hidden","true"),i.display.input.setUneditable(W),F.insertBefore(W,o.text),o.line.gutterClass&&(W.className+=" "+o.line.gutterClass),i.options.lineNumbers&&(!y||!y["CodeMirror-linenumbers"])&&(o.lineNumber=W.appendChild(d("div",be(i.options,c),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+l.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+i.display.lineNumInnerWidth+"px"))),y)for(var Y=0;Y<i.display.gutterSpecs.length;++Y){var J=i.display.gutterSpecs[Y].className,pe=y.hasOwnProperty(J)&&y[J];pe&&W.appendChild(d("div",[pe],"CodeMirror-gutter-elt","left: "+l.gutterLeft[J]+"px; width: "+l.gutterWidth[J]+"px"))}}}function EL(i,o,c){o.alignable&&(o.alignable=null);for(var l=O("CodeMirror-linewidget"),u=o.node.firstChild,y=void 0;u;u=y)y=u.nextSibling,l.test(u.className)&&o.node.removeChild(u);fy(i,o,c)}function PL(i,o,c,l){var u=uy(i,o);return o.text=o.node=u.pre,u.bgClass&&(o.bgClass=u.bgClass),u.textClass&&(o.textClass=u.textClass),Ph(i,o),hy(i,o,c,l),fy(i,o,l),o.node}function fy(i,o,c){if(dy(i,o.line,o,c,!0),o.rest)for(var l=0;l<o.rest.length;l++)dy(i,o.rest[l],o,c,!1)}function dy(i,o,c,l,u){if(o.widgets)for(var y=ia(c),F=0,W=o.widgets;F<W.length;++F){var Y=W[F],J=d("div",[Y.node],"CodeMirror-linewidget"+(Y.className?" "+Y.className:""));Y.handleMouseEvents||J.setAttribute("cm-ignore-events","true"),OL(Y,J,c,l),i.display.input.setUneditable(J),u&&Y.above?y.insertBefore(J,c.gutter||c.text):y.appendChild(J),Fi(Y,"redraw")}}function OL(i,o,c,l){if(i.noHScroll){(c.alignable||(c.alignable=[])).push(o);var u=l.wrapperWidth;o.style.left=l.fixedPos+"px",i.coverGutter||(u-=l.gutterTotalWidth,o.style.paddingLeft=l.gutterTotalWidth+"px"),o.style.width=u+"px"}i.coverGutter&&(o.style.zIndex=5,o.style.position="relative",i.noHScroll||(o.style.marginLeft=-l.gutterTotalWidth+"px"))}function na(i){if(i.height!=null)return i.height;var o=i.doc.cm;if(!o)return 0;if(!q(document.body,i.node)){var c="position: relative;";i.coverGutter&&(c+="margin-left: -"+o.display.gutters.offsetWidth+"px;"),i.noHScroll&&(c+="width: "+o.display.wrapper.clientWidth+"px;"),k(o.display.measure,d("div",[i.node],null,c))}return i.height=i.node.parentNode.offsetHeight}function Dr(i,o){for(var c=yi(o);c!=i.wrapper;c=c.parentNode)if(!c||c.nodeType==1&&c.getAttribute("cm-ignore-events")=="true"||c.parentNode==i.sizer&&c!=i.mover)return!0}function mc(i){return i.lineSpace.offsetTop}function Oh(i){return i.mover.offsetHeight-i.lineSpace.offsetHeight}function py(i){if(i.cachedPaddingH)return i.cachedPaddingH;var o=k(i.measure,d("pre","x","CodeMirror-line-like")),c=window.getComputedStyle?window.getComputedStyle(o):o.currentStyle,l={left:parseInt(c.paddingLeft),right:parseInt(c.paddingRight)};return!isNaN(l.left)&&!isNaN(l.right)&&(i.cachedPaddingH=l),l}function mr(i){return _-i.display.nativeBarWidth}function xo(i){return i.display.scroller.clientWidth-mr(i)-i.display.barWidth}function Nh(i){return i.display.scroller.clientHeight-mr(i)-i.display.barHeight}function NL(i,o,c){var l=i.options.lineWrapping,u=l&&xo(i);if(!o.measure.heights||l&&o.measure.width!=u){var y=o.measure.heights=[];if(l){o.measure.width=u;for(var F=o.text.firstChild.getClientRects(),W=0;W<F.length-1;W++){var Y=F[W],J=F[W+1];Math.abs(Y.bottom-J.bottom)>2&&y.push((Y.bottom+J.top)/2-c.top)}}y.push(c.bottom-c.top)}}function gy(i,o,c){if(i.line==o)return{map:i.measure.map,cache:i.measure.cache};if(i.rest){for(var l=0;l<i.rest.length;l++)if(i.rest[l]==o)return{map:i.measure.maps[l],cache:i.measure.caches[l]};for(var u=0;u<i.rest.length;u++)if(oi(i.rest[u])>c)return{map:i.measure.maps[u],cache:i.measure.caches[u],before:!0}}}function DL(i,o){o=Qn(o);var c=oi(o),l=i.display.externalMeasured=new ly(i.doc,o,c);l.lineN=c;var u=l.built=sy(i,l);return l.text=u.pre,k(i.display.lineMeasure,u.pre),l}function my(i,o,c,l){return yr(i,Ko(i,o),c,l)}function Dh(i,o){if(o>=i.display.viewFrom&&o<i.display.viewTo)return i.display.view[ko(i,o)];var c=i.display.externalMeasured;if(c&&o>=c.lineN&&o<c.lineN+c.size)return c}function Ko(i,o){var c=oi(o),l=Dh(i,c);l&&!l.text?l=null:l&&l.changes&&(cy(i,l,c,Bh(i)),i.curOp.forceUpdate=!0),l||(l=DL(i,o));var u=gy(l,o,c);return{line:o,view:l,rect:null,map:u.map,cache:u.cache,before:u.before,hasHeights:!1}}function yr(i,o,c,l,u){o.before&&(c=-1);var y=c+(l||""),F;return o.cache.hasOwnProperty(y)?F=o.cache[y]:(o.rect||(o.rect=o.view.text.getBoundingClientRect()),o.hasHeights||(NL(i,o.view,o.rect),o.hasHeights=!0),F=RL(i,o,c,l),F.bogus||(o.cache[y]=F)),{left:F.left,right:F.right,top:u?F.rtop:F.top,bottom:u?F.rbottom:F.bottom}}var yy={left:0,right:0,top:0,bottom:0};function vy(i,o,c){for(var l,u,y,F,W,Y,J=0;J<i.length;J+=3)if(W=i[J],Y=i[J+1],o<W?(u=0,y=1,F="left"):o<Y?(u=o-W,y=u+1):(J==i.length-3||o==Y&&i[J+3]>o)&&(y=Y-W,u=y-1,o>=Y&&(F="right")),u!=null){if(l=i[J+2],W==Y&&c==(l.insertLeft?"left":"right")&&(F=c),c=="left"&&u==0)for(;J&&i[J-2]==i[J-3]&&i[J-1].insertLeft;)l=i[(J-=3)+2],F="left";if(c=="right"&&u==Y-W)for(;J<i.length-3&&i[J+3]==i[J+4]&&!i[J+5].insertLeft;)l=i[(J+=3)+2],F="right";break}return{node:l,start:u,end:y,collapse:F,coverStart:W,coverEnd:Y}}function IL(i,o){var c=yy;if(o=="left")for(var l=0;l<i.length&&(c=i[l]).left==c.right;l++);else for(var u=i.length-1;u>=0&&(c=i[u]).left==c.right;u--);return c}function RL(i,o,c,l){var u=vy(o.map,c,l),y=u.node,F=u.start,W=u.end,Y=u.collapse,J;if(y.nodeType==3){for(var pe=0;pe<4;pe++){for(;F&&le(o.line.text.charAt(u.coverStart+F));)--F;for(;u.coverStart+W<u.coverEnd&&le(o.line.text.charAt(u.coverStart+W));)++W;if(h&&f<9&&F==0&&W==u.coverEnd-u.coverStart?J=y.parentNode.getBoundingClientRect():J=IL(R(y,F,W).getClientRects(),l),J.left||J.right||F==0)break;W=F,F=F-1,Y="right"}h&&f<11&&(J=jL(i.display.measure,J))}else{F>0&&(Y=l="right");var xe;i.options.lineWrapping&&(xe=y.getClientRects()).length>1?J=xe[l=="right"?xe.length-1:0]:J=y.getBoundingClientRect()}if(h&&f<9&&!F&&(!J||!J.left&&!J.right)){var Te=y.parentNode.getClientRects()[0];Te?J={left:Te.left,right:Te.left+Qo(i.display),top:Te.top,bottom:Te.bottom}:J=yy}for(var Se=J.top-o.rect.top,Ie=J.bottom-o.rect.top,Fe=(Se+Ie)/2,We=o.view.measure.heights,Ue=0;Ue<We.length-1&&!(Fe<We[Ue]);Ue++);var $e=Ue?We[Ue-1]:0,Ge=We[Ue],Ye={left:(Y=="right"?J.right:J.left)-o.rect.left,right:(Y=="left"?J.left:J.right)-o.rect.left,top:$e,bottom:Ge};return!J.left&&!J.right&&(Ye.bogus=!0),i.options.singleCursorHeightPerLine||(Ye.rtop=Se,Ye.rbottom=Ie),Ye}function jL(i,o){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Bn(i))return o;var c=screen.logicalXDPI/screen.deviceXDPI,l=screen.logicalYDPI/screen.deviceYDPI;return{left:o.left*c,right:o.right*c,top:o.top*l,bottom:o.bottom*l}}function xy(i){if(i.measure&&(i.measure.cache={},i.measure.heights=null,i.rest))for(var o=0;o<i.rest.length;o++)i.measure.caches[o]={}}function by(i){i.display.externalMeasure=null,P(i.display.lineMeasure);for(var o=0;o<i.display.view.length;o++)xy(i.display.view[o])}function ra(i){by(i),i.display.cachedCharWidth=i.display.cachedTextHeight=i.display.cachedPaddingH=null,i.options.lineWrapping||(i.display.maxLineChanged=!0),i.display.lineNumChars=null}function wy(i){return m&&M?-(i.body.getBoundingClientRect().left-parseInt(getComputedStyle(i.body).marginLeft)):i.defaultView.pageXOffset||(i.documentElement||i.body).scrollLeft}function ky(i){return m&&M?-(i.body.getBoundingClientRect().top-parseInt(getComputedStyle(i.body).marginTop)):i.defaultView.pageYOffset||(i.documentElement||i.body).scrollTop}function Ih(i){var o=Qn(i),c=o.widgets,l=0;if(c)for(var u=0;u<c.length;++u)c[u].above&&(l+=na(c[u]));return l}function yc(i,o,c,l,u){if(!u){var y=Ih(o);c.top+=y,c.bottom+=y}if(l=="line")return c;l||(l="local");var F=Nr(o);if(l=="local"?F+=mc(i.display):F-=i.display.viewOffset,l=="page"||l=="window"){var W=i.display.lineSpace.getBoundingClientRect();F+=W.top+(l=="window"?0:ky(ie(i)));var Y=W.left+(l=="window"?0:wy(ie(i)));c.left+=Y,c.right+=Y}return c.top+=F,c.bottom+=F,c}function Sy(i,o,c){if(c=="div")return o;var l=o.left,u=o.top;if(c=="page")l-=wy(ie(i)),u-=ky(ie(i));else if(c=="local"||!c){var y=i.display.sizer.getBoundingClientRect();l+=y.left,u+=y.top}var F=i.display.lineSpace.getBoundingClientRect();return{left:l-F.left,top:u-F.top}}function vc(i,o,c,l,u){return l||(l=et(i.doc,o.line)),yc(i,l,my(i,l,o.ch,u),c)}function Jn(i,o,c,l,u,y){l=l||et(i.doc,o.line),u||(u=Ko(i,l));function F(Ie,Fe){var We=yr(i,u,Ie,Fe?"right":"left",y);return Fe?We.left=We.right:We.right=We.left,yc(i,l,We,c)}var W=_e(l,i.doc.direction),Y=o.ch,J=o.sticky;if(Y>=l.text.length?(Y=l.text.length,J="before"):Y<=0&&(Y=0,J="after"),!W)return F(J=="before"?Y-1:Y,J=="before");function pe(Ie,Fe,We){var Ue=W[Fe],$e=Ue.level==1;return F(We?Ie-1:Ie,$e!=We)}var xe=Oe(W,Y,J),Te=Re,Se=pe(Y,xe,J=="before");return Te!=null&&(Se.other=pe(Y,Te,J!="before")),Se}function Cy(i,o){var c=0;o=Rt(i.doc,o),i.options.lineWrapping||(c=Qo(i.display)*o.ch);var l=et(i.doc,o.line),u=Nr(l)+mc(i.display);return{left:c,right:c,top:u,bottom:u+l.height}}function Rh(i,o,c,l,u){var y=we(i,o,c);return y.xRel=u,l&&(y.outside=l),y}function jh(i,o,c){var l=i.doc;if(c+=i.display.viewOffset,c<0)return Rh(l.first,0,null,-1,-1);var u=pr(l,c),y=l.first+l.size-1;if(u>y)return Rh(l.first+l.size-1,et(l,y).text.length,null,1,1);o<0&&(o=0);for(var F=et(l,u);;){var W=zL(i,F,u,o,c),Y=hL(F,W.ch+(W.xRel>0||W.outside>0?1:0));if(!Y)return W;var J=Y.find(1);if(J.line==u)return J;F=et(l,u=J.line)}}function Ty(i,o,c,l){l-=Ih(o);var u=o.text.length,y=ke(function(F){return yr(i,c,F-1).bottom<=l},u,0);return u=ke(function(F){return yr(i,c,F).top>l},y,u),{begin:y,end:u}}function Ly(i,o,c,l){c||(c=Ko(i,o));var u=yc(i,o,yr(i,c,l),"line").top;return Ty(i,o,c,u)}function zh(i,o,c,l){return i.bottom<=c?!1:i.top>c?!0:(l?i.left:i.right)>o}function zL(i,o,c,l,u){u-=Nr(o);var y=Ko(i,o),F=Ih(o),W=0,Y=o.text.length,J=!0,pe=_e(o,i.doc.direction);if(pe){var xe=(i.options.lineWrapping?FL:BL)(i,o,c,y,pe,l,u);J=xe.level!=1,W=J?xe.from:xe.to-1,Y=J?xe.to:xe.from-1}var Te=null,Se=null,Ie=ke(function(Mt){var ot=yr(i,y,Mt);return ot.top+=F,ot.bottom+=F,zh(ot,l,u,!1)?(ot.top<=u&&ot.left<=l&&(Te=Mt,Se=ot),!0):!1},W,Y),Fe,We,Ue=!1;if(Se){var $e=l-Se.left<Se.right-l,Ge=$e==J;Ie=Te+(Ge?0:1),We=Ge?"after":"before",Fe=$e?Se.left:Se.right}else{!J&&(Ie==Y||Ie==W)&&Ie++,We=Ie==0?"after":Ie==o.text.length?"before":yr(i,y,Ie-(J?1:0)).bottom+F<=u==J?"after":"before";var Ye=Jn(i,we(c,Ie,We),"line",o,y);Fe=Ye.left,Ue=u<Ye.top?-1:u>=Ye.bottom?1:0}return Ie=ye(o.text,Ie,1),Rh(c,Ie,We,Ue,l-Fe)}function BL(i,o,c,l,u,y,F){var W=ke(function(xe){var Te=u[xe],Se=Te.level!=1;return zh(Jn(i,we(c,Se?Te.to:Te.from,Se?"before":"after"),"line",o,l),y,F,!0)},0,u.length-1),Y=u[W];if(W>0){var J=Y.level!=1,pe=Jn(i,we(c,J?Y.from:Y.to,J?"after":"before"),"line",o,l);zh(pe,y,F,!0)&&pe.top>F&&(Y=u[W-1])}return Y}function FL(i,o,c,l,u,y,F){var W=Ty(i,o,l,F),Y=W.begin,J=W.end;/\s/.test(o.text.charAt(J-1))&&J--;for(var pe=null,xe=null,Te=0;Te<u.length;Te++){var Se=u[Te];if(!(Se.from>=J||Se.to<=Y)){var Ie=Se.level!=1,Fe=yr(i,l,Ie?Math.min(J,Se.to)-1:Math.max(Y,Se.from)).right,We=Fe<y?y-Fe+1e9:Fe-y;(!pe||xe>We)&&(pe=Se,xe=We)}}return pe||(pe=u[u.length-1]),pe.from<Y&&(pe={from:Y,to:pe.to,level:pe.level}),pe.to>J&&(pe={from:pe.from,to:J,level:pe.level}),pe}var bo;function Zo(i){if(i.cachedTextHeight!=null)return i.cachedTextHeight;if(bo==null){bo=d("pre",null,"CodeMirror-line-like");for(var o=0;o<49;++o)bo.appendChild(document.createTextNode("x")),bo.appendChild(d("br"));bo.appendChild(document.createTextNode("x"))}k(i.measure,bo);var c=bo.offsetHeight/50;return c>3&&(i.cachedTextHeight=c),P(i.measure),c||1}function Qo(i){if(i.cachedCharWidth!=null)return i.cachedCharWidth;var o=d("span","xxxxxxxxxx"),c=d("pre",[o],"CodeMirror-line-like");k(i.measure,c);var l=o.getBoundingClientRect(),u=(l.right-l.left)/10;return u>2&&(i.cachedCharWidth=u),u||10}function Bh(i){for(var o=i.display,c={},l={},u=o.gutters.clientLeft,y=o.gutters.firstChild,F=0;y;y=y.nextSibling,++F){var W=i.display.gutterSpecs[F].className;c[W]=y.offsetLeft+y.clientLeft+u,l[W]=y.clientWidth}return{fixedPos:Fh(o),gutterTotalWidth:o.gutters.offsetWidth,gutterLeft:c,gutterWidth:l,wrapperWidth:o.wrapper.clientWidth}}function Fh(i){return i.scroller.getBoundingClientRect().left-i.sizer.getBoundingClientRect().left}function Ay(i){var o=Zo(i.display),c=i.options.lineWrapping,l=c&&Math.max(5,i.display.scroller.clientWidth/Qo(i.display)-3);return function(u){if(Xr(i.doc,u))return 0;var y=0;if(u.widgets)for(var F=0;F<u.widgets.length;F++)u.widgets[F].height&&(y+=u.widgets[F].height);return c?y+(Math.ceil(u.text.length/l)||1)*o:y+o}}function _h(i){var o=i.doc,c=Ay(i);o.iter(function(l){var u=c(l);u!=l.height&&Fn(l,u)})}function wo(i,o,c,l){var u=i.display;if(!c&&yi(o).getAttribute("cm-not-content")=="true")return null;var y,F,W=u.lineSpace.getBoundingClientRect();try{y=o.clientX-W.left,F=o.clientY-W.top}catch{return null}var Y=jh(i,y,F),J;if(l&&Y.xRel>0&&(J=et(i.doc,Y.line).text).length==Y.ch){var pe=Z(J,J.length,i.options.tabSize)-J.length;Y=we(Y.line,Math.max(0,Math.round((y-py(i.display).left)/Qo(i.display))-pe))}return Y}function ko(i,o){if(o>=i.display.viewTo||(o-=i.display.viewFrom,o<0))return null;for(var c=i.display.view,l=0;l<c.length;l++)if(o-=c[l].size,o<0)return l}function un(i,o,c,l){o==null&&(o=i.doc.first),c==null&&(c=i.doc.first+i.doc.size),l||(l=0);var u=i.display;if(l&&c<u.viewTo&&(u.updateLineNumbers==null||u.updateLineNumbers>o)&&(u.updateLineNumbers=o),i.curOp.viewChanged=!0,o>=u.viewTo)Or&&Ah(i.doc,o)<u.viewTo&&Zr(i);else if(c<=u.viewFrom)Or&&ry(i.doc,c+l)>u.viewFrom?Zr(i):(u.viewFrom+=l,u.viewTo+=l);else if(o<=u.viewFrom&&c>=u.viewTo)Zr(i);else if(o<=u.viewFrom){var y=xc(i,c,c+l,1);y?(u.view=u.view.slice(y.index),u.viewFrom=y.lineN,u.viewTo+=l):Zr(i)}else if(c>=u.viewTo){var F=xc(i,o,o,-1);F?(u.view=u.view.slice(0,F.index),u.viewTo=F.lineN):Zr(i)}else{var W=xc(i,o,o,-1),Y=xc(i,c,c+l,1);W&&Y?(u.view=u.view.slice(0,W.index).concat(gc(i,W.lineN,Y.lineN)).concat(u.view.slice(Y.index)),u.viewTo+=l):Zr(i)}var J=u.externalMeasured;J&&(c<J.lineN?J.lineN+=l:o<J.lineN+J.size&&(u.externalMeasured=null))}function Kr(i,o,c){i.curOp.viewChanged=!0;var l=i.display,u=i.display.externalMeasured;if(u&&o>=u.lineN&&o<u.lineN+u.size&&(l.externalMeasured=null),!(o<l.viewFrom||o>=l.viewTo)){var y=l.view[ko(i,o)];if(y.node!=null){var F=y.changes||(y.changes=[]);ne(F,c)==-1&&F.push(c)}}}function Zr(i){i.display.viewFrom=i.display.viewTo=i.doc.first,i.display.view=[],i.display.viewOffset=0}function xc(i,o,c,l){var u=ko(i,o),y,F=i.display.view;if(!Or||c==i.doc.first+i.doc.size)return{index:u,lineN:c};for(var W=i.display.viewFrom,Y=0;Y<u;Y++)W+=F[Y].size;if(W!=o){if(l>0){if(u==F.length-1)return null;y=W+F[u].size-o,u++}else y=W-o;o+=y,c+=y}for(;Ah(i.doc,c)!=c;){if(u==(l<0?0:F.length-1))return null;c+=l*F[u-(l<0?1:0)].size,u+=l}return{index:u,lineN:c}}function _L(i,o,c){var l=i.display,u=l.view;u.length==0||o>=l.viewTo||c<=l.viewFrom?(l.view=gc(i,o,c),l.viewFrom=o):(l.viewFrom>o?l.view=gc(i,o,l.viewFrom).concat(l.view):l.viewFrom<o&&(l.view=l.view.slice(ko(i,o))),l.viewFrom=o,l.viewTo<c?l.view=l.view.concat(gc(i,l.viewTo,c)):l.viewTo>c&&(l.view=l.view.slice(0,ko(i,c)))),l.viewTo=c}function My(i){for(var o=i.display.view,c=0,l=0;l<o.length;l++){var u=o[l];!u.hidden&&(!u.node||u.changes)&&++c}return c}function oa(i){i.display.input.showSelection(i.display.input.prepareSelection())}function Ey(i,o){o===void 0&&(o=!0);var c=i.doc,l={},u=l.cursors=document.createDocumentFragment(),y=l.selection=document.createDocumentFragment(),F=i.options.$customCursor;F&&(o=!0);for(var W=0;W<c.sel.ranges.length;W++)if(!(!o&&W==c.sel.primIndex)){var Y=c.sel.ranges[W];if(!(Y.from().line>=i.display.viewTo||Y.to().line<i.display.viewFrom)){var J=Y.empty();if(F){var pe=F(i,Y);pe&&Hh(i,pe,u)}else(J||i.options.showCursorWhenSelecting)&&Hh(i,Y.head,u);J||HL(i,Y,y)}}return l}function Hh(i,o,c){var l=Jn(i,o,"div",null,null,!i.options.singleCursorHeightPerLine),u=c.appendChild(d("div","\xA0","CodeMirror-cursor"));if(u.style.left=l.left+"px",u.style.top=l.top+"px",u.style.height=Math.max(0,l.bottom-l.top)*i.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(i.getWrapperElement().className)){var y=vc(i,o,"div",null,null),F=y.right-y.left;u.style.width=(F>0?F:i.defaultCharWidth())+"px"}if(l.other){var W=c.appendChild(d("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));W.style.display="",W.style.left=l.other.left+"px",W.style.top=l.other.top+"px",W.style.height=(l.other.bottom-l.other.top)*.85+"px"}}function bc(i,o){return i.top-o.top||i.left-o.left}function HL(i,o,c){var l=i.display,u=i.doc,y=document.createDocumentFragment(),F=py(i.display),W=F.left,Y=Math.max(l.sizerWidth,xo(i)-l.sizer.offsetLeft)-F.right,J=u.direction=="ltr";function pe(Ge,Ye,Mt,ot){Ye<0&&(Ye=0),Ye=Math.round(Ye),ot=Math.round(ot),y.appendChild(d("div",null,"CodeMirror-selected","position: absolute; left: "+Ge+`px;
                             top: `+Ye+"px; width: "+(Mt??Y-Ge)+`px;
                             height: `+(ot-Ye)+"px"))}function xe(Ge,Ye,Mt){var ot=et(u,Ge),Wt=ot.text.length,di,Wi;function Ti(Di,dn){return vc(i,we(Ge,Di),"div",ot,dn)}function bn(Di,dn,Gi){var zi=Ly(i,ot,null,Di),Ii=dn=="ltr"==(Gi=="after")?"left":"right",Ai=Gi=="after"?zi.begin:zi.end-(/\s/.test(ot.text.charAt(zi.end-1))?2:1);return Ti(Ai,Ii)[Ii]}var fn=_e(ot,u.direction);return Ce(fn,Ye||0,Mt??Wt,function(Di,dn,Gi,zi){var Ii=Gi=="ltr",Ai=Ti(Di,Ii?"left":"right"),pn=Ti(dn-1,Ii?"right":"left"),hs=Ye==null&&Di==0,no=Mt==null&&dn==Wt,Xi=zi==0,vr=!fn||zi==fn.length-1;if(pn.top-Ai.top<=3){var qi=(J?hs:no)&&Xi,pf=(J?no:hs)&&vr,jr=qi?W:(Ii?Ai:pn).left,Ao=pf?Y:(Ii?pn:Ai).right;pe(jr,Ai.top,Ao-jr,Ai.bottom)}else{var Mo,nn,fs,gf;Ii?(Mo=J&&hs&&Xi?W:Ai.left,nn=J?Y:bn(Di,Gi,"before"),fs=J?W:bn(dn,Gi,"after"),gf=J&&no&&vr?Y:pn.right):(Mo=J?bn(Di,Gi,"before"):W,nn=!J&&hs&&Xi?Y:Ai.right,fs=!J&&no&&vr?W:pn.left,gf=J?bn(dn,Gi,"after"):Y),pe(Mo,Ai.top,nn-Mo,Ai.bottom),Ai.bottom<pn.top&&pe(W,Ai.bottom,null,pn.top),pe(fs,pn.top,gf-fs,pn.bottom)}(!di||bc(Ai,di)<0)&&(di=Ai),bc(pn,di)<0&&(di=pn),(!Wi||bc(Ai,Wi)<0)&&(Wi=Ai),bc(pn,Wi)<0&&(Wi=pn)}),{start:di,end:Wi}}var Te=o.from(),Se=o.to();if(Te.line==Se.line)xe(Te.line,Te.ch,Se.ch);else{var Ie=et(u,Te.line),Fe=et(u,Se.line),We=Qn(Ie)==Qn(Fe),Ue=xe(Te.line,Te.ch,We?Ie.text.length+1:null).end,$e=xe(Se.line,We?0:null,Se.ch).start;We&&(Ue.top<$e.top-2?(pe(Ue.right,Ue.top,null,Ue.bottom),pe(W,$e.top,$e.left,$e.bottom)):pe(Ue.right,Ue.top,$e.left-Ue.right,Ue.bottom)),Ue.bottom<$e.top&&pe(W,Ue.bottom,null,$e.top)}c.appendChild(y)}function Wh(i){if(i.state.focused){var o=i.display;clearInterval(o.blinker);var c=!0;o.cursorDiv.style.visibility="",i.options.cursorBlinkRate>0?o.blinker=setInterval(function(){i.hasFocus()||Jo(i),o.cursorDiv.style.visibility=(c=!c)?"":"hidden"},i.options.cursorBlinkRate):i.options.cursorBlinkRate<0&&(o.cursorDiv.style.visibility="hidden")}}function Py(i){i.hasFocus()||(i.display.input.focus(),i.state.focused||Uh(i))}function qh(i){i.state.delayingBlurEvent=!0,setTimeout(function(){i.state.delayingBlurEvent&&(i.state.delayingBlurEvent=!1,i.state.focused&&Jo(i))},100)}function Uh(i,o){i.state.delayingBlurEvent&&!i.state.draggingText&&(i.state.delayingBlurEvent=!1),i.options.readOnly!="nocursor"&&(i.state.focused||(Je(i,"focus",i,o),i.state.focused=!0,ue(i.display.wrapper,"CodeMirror-focused"),!i.curOp&&i.display.selForContextMenu!=i.doc.sel&&(i.display.input.reset(),g&&setTimeout(function(){return i.display.input.reset(!0)},20)),i.display.input.receivedFocus()),Wh(i))}function Jo(i,o){i.state.delayingBlurEvent||(i.state.focused&&(Je(i,"blur",i,o),i.state.focused=!1,S(i.display.wrapper,"CodeMirror-focused")),clearInterval(i.display.blinker),setTimeout(function(){i.state.focused||(i.display.shift=!1)},150))}function wc(i){for(var o=i.display,c=o.lineDiv.offsetTop,l=Math.max(0,o.scroller.getBoundingClientRect().top),u=o.lineDiv.getBoundingClientRect().top,y=0,F=0;F<o.view.length;F++){var W=o.view[F],Y=i.options.lineWrapping,J=void 0,pe=0;if(!W.hidden){if(u+=W.line.height,h&&f<8){var xe=W.node.offsetTop+W.node.offsetHeight;J=xe-c,c=xe}else{var Te=W.node.getBoundingClientRect();J=Te.bottom-Te.top,!Y&&W.text.firstChild&&(pe=W.text.firstChild.getBoundingClientRect().right-Te.left-1)}var Se=W.line.height-J;if((Se>.005||Se<-.005)&&(u<l&&(y-=Se),Fn(W.line,J),Oy(W.line),W.rest))for(var Ie=0;Ie<W.rest.length;Ie++)Oy(W.rest[Ie]);if(pe>i.display.sizerWidth){var Fe=Math.ceil(pe/Qo(i.display));Fe>i.display.maxLineLength&&(i.display.maxLineLength=Fe,i.display.maxLine=W.line,i.display.maxLineChanged=!0)}}}Math.abs(y)>2&&(o.scroller.scrollTop+=y)}function Oy(i){if(i.widgets)for(var o=0;o<i.widgets.length;++o){var c=i.widgets[o],l=c.node.parentNode;l&&(c.height=l.offsetHeight)}}function kc(i,o,c){var l=c&&c.top!=null?Math.max(0,c.top):i.scroller.scrollTop;l=Math.floor(l-mc(i));var u=c&&c.bottom!=null?c.bottom:l+i.wrapper.clientHeight,y=pr(o,l),F=pr(o,u);if(c&&c.ensure){var W=c.ensure.from.line,Y=c.ensure.to.line;W<y?(y=W,F=pr(o,Nr(et(o,W))+i.wrapper.clientHeight)):Math.min(Y,o.lastLine())>=F&&(y=pr(o,Nr(et(o,Y))-i.wrapper.clientHeight),F=Y)}return{from:y,to:Math.max(F,y+1)}}function WL(i,o){if(!qe(i,"scrollCursorIntoView")){var c=i.display,l=c.sizer.getBoundingClientRect(),u=null,y=c.wrapper.ownerDocument;if(o.top+l.top<0?u=!0:o.bottom+l.top>(y.defaultView.innerHeight||y.documentElement.clientHeight)&&(u=!1),u!=null&&!b){var F=d("div","\u200B",null,`position: absolute;
                         top: `+(o.top-c.viewOffset-mc(i.display))+`px;
                         height: `+(o.bottom-o.top+mr(i)+c.barHeight)+`px;
                         left: `+o.left+"px; width: "+Math.max(2,o.right-o.left)+"px;");i.display.lineSpace.appendChild(F),F.scrollIntoView(u),i.display.lineSpace.removeChild(F)}}}function qL(i,o,c,l){l==null&&(l=0);var u;!i.options.lineWrapping&&o==c&&(c=o.sticky=="before"?we(o.line,o.ch+1,"before"):o,o=o.ch?we(o.line,o.sticky=="before"?o.ch-1:o.ch,"after"):o);for(var y=0;y<5;y++){var F=!1,W=Jn(i,o),Y=!c||c==o?W:Jn(i,c);u={left:Math.min(W.left,Y.left),top:Math.min(W.top,Y.top)-l,right:Math.max(W.left,Y.left),bottom:Math.max(W.bottom,Y.bottom)+l};var J=Gh(i,u),pe=i.doc.scrollTop,xe=i.doc.scrollLeft;if(J.scrollTop!=null&&(aa(i,J.scrollTop),Math.abs(i.doc.scrollTop-pe)>1&&(F=!0)),J.scrollLeft!=null&&(So(i,J.scrollLeft),Math.abs(i.doc.scrollLeft-xe)>1&&(F=!0)),!F)break}return u}function UL(i,o){var c=Gh(i,o);c.scrollTop!=null&&aa(i,c.scrollTop),c.scrollLeft!=null&&So(i,c.scrollLeft)}function Gh(i,o){var c=i.display,l=Zo(i.display);o.top<0&&(o.top=0);var u=i.curOp&&i.curOp.scrollTop!=null?i.curOp.scrollTop:c.scroller.scrollTop,y=Nh(i),F={};o.bottom-o.top>y&&(o.bottom=o.top+y);var W=i.doc.height+Oh(c),Y=o.top<l,J=o.bottom>W-l;if(o.top<u)F.scrollTop=Y?0:o.top;else if(o.bottom>u+y){var pe=Math.min(o.top,(J?W:o.bottom)-y);pe!=u&&(F.scrollTop=pe)}var xe=i.options.fixedGutter?0:c.gutters.offsetWidth,Te=i.curOp&&i.curOp.scrollLeft!=null?i.curOp.scrollLeft:c.scroller.scrollLeft-xe,Se=xo(i)-c.gutters.offsetWidth,Ie=o.right-o.left>Se;return Ie&&(o.right=o.left+Se),o.left<10?F.scrollLeft=0:o.left<Te?F.scrollLeft=Math.max(0,o.left+xe-(Ie?0:10)):o.right>Se+Te-3&&(F.scrollLeft=o.right+(Ie?0:10)-Se),F}function Vh(i,o){o!=null&&(Sc(i),i.curOp.scrollTop=(i.curOp.scrollTop==null?i.doc.scrollTop:i.curOp.scrollTop)+o)}function es(i){Sc(i);var o=i.getCursor();i.curOp.scrollToPos={from:o,to:o,margin:i.options.cursorScrollMargin}}function sa(i,o,c){(o!=null||c!=null)&&Sc(i),o!=null&&(i.curOp.scrollLeft=o),c!=null&&(i.curOp.scrollTop=c)}function GL(i,o){Sc(i),i.curOp.scrollToPos=o}function Sc(i){var o=i.curOp.scrollToPos;if(o){i.curOp.scrollToPos=null;var c=Cy(i,o.from),l=Cy(i,o.to);Ny(i,c,l,o.margin)}}function Ny(i,o,c,l){var u=Gh(i,{left:Math.min(o.left,c.left),top:Math.min(o.top,c.top)-l,right:Math.max(o.right,c.right),bottom:Math.max(o.bottom,c.bottom)+l});sa(i,u.scrollLeft,u.scrollTop)}function aa(i,o){Math.abs(i.doc.scrollTop-o)<2||(n||Yh(i,{top:o}),Dy(i,o,!0),n&&Yh(i),ua(i,100))}function Dy(i,o,c){o=Math.max(0,Math.min(i.display.scroller.scrollHeight-i.display.scroller.clientHeight,o)),!(i.display.scroller.scrollTop==o&&!c)&&(i.doc.scrollTop=o,i.display.scrollbars.setScrollTop(o),i.display.scroller.scrollTop!=o&&(i.display.scroller.scrollTop=o))}function So(i,o,c,l){o=Math.max(0,Math.min(o,i.display.scroller.scrollWidth-i.display.scroller.clientWidth)),!((c?o==i.doc.scrollLeft:Math.abs(i.doc.scrollLeft-o)<2)&&!l)&&(i.doc.scrollLeft=o,By(i),i.display.scroller.scrollLeft!=o&&(i.display.scroller.scrollLeft=o),i.display.scrollbars.setScrollLeft(o))}function la(i){var o=i.display,c=o.gutters.offsetWidth,l=Math.round(i.doc.height+Oh(i.display));return{clientHeight:o.scroller.clientHeight,viewHeight:o.wrapper.clientHeight,scrollWidth:o.scroller.scrollWidth,clientWidth:o.scroller.clientWidth,viewWidth:o.wrapper.clientWidth,barLeft:i.options.fixedGutter?c:0,docHeight:l,scrollHeight:l+mr(i)+o.barHeight,nativeBarWidth:o.nativeBarWidth,gutterWidth:c}}var Co=function(i,o,c){this.cm=c;var l=this.vert=d("div",[d("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),u=this.horiz=d("div",[d("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");l.tabIndex=u.tabIndex=-1,i(l),i(u),Pe(l,"scroll",function(){l.clientHeight&&o(l.scrollTop,"vertical")}),Pe(u,"scroll",function(){u.clientWidth&&o(u.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,h&&f<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Co.prototype.update=function(i){var o=i.scrollWidth>i.clientWidth+1,c=i.scrollHeight>i.clientHeight+1,l=i.nativeBarWidth;if(c){this.vert.style.display="block",this.vert.style.bottom=o?l+"px":"0";var u=i.viewHeight-(o?l:0);this.vert.firstChild.style.height=Math.max(0,i.scrollHeight-i.clientHeight+u)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(o){this.horiz.style.display="block",this.horiz.style.right=c?l+"px":"0",this.horiz.style.left=i.barLeft+"px";var y=i.viewWidth-i.barLeft-(c?l:0);this.horiz.firstChild.style.width=Math.max(0,i.scrollWidth-i.clientWidth+y)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&i.clientHeight>0&&(l==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:c?l:0,bottom:o?l:0}},Co.prototype.setScrollLeft=function(i){this.horiz.scrollLeft!=i&&(this.horiz.scrollLeft=i),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Co.prototype.setScrollTop=function(i){this.vert.scrollTop!=i&&(this.vert.scrollTop=i),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Co.prototype.zeroWidthHack=function(){var i=A&&!w?"12px":"18px";this.horiz.style.height=this.vert.style.width=i,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new te,this.disableVert=new te},Co.prototype.enableZeroWidthBar=function(i,o,c){i.style.visibility="";function l(){var u=i.getBoundingClientRect(),y=c=="vert"?document.elementFromPoint(u.right-1,(u.top+u.bottom)/2):document.elementFromPoint((u.right+u.left)/2,u.bottom-1);y!=i?i.style.visibility="hidden":o.set(1e3,l)}o.set(1e3,l)},Co.prototype.clear=function(){var i=this.horiz.parentNode;i.removeChild(this.horiz),i.removeChild(this.vert)};var ca=function(){};ca.prototype.update=function(){return{bottom:0,right:0}},ca.prototype.setScrollLeft=function(){},ca.prototype.setScrollTop=function(){},ca.prototype.clear=function(){};function ts(i,o){o||(o=la(i));var c=i.display.barWidth,l=i.display.barHeight;Iy(i,o);for(var u=0;u<4&&c!=i.display.barWidth||l!=i.display.barHeight;u++)c!=i.display.barWidth&&i.options.lineWrapping&&wc(i),Iy(i,la(i)),c=i.display.barWidth,l=i.display.barHeight}function Iy(i,o){var c=i.display,l=c.scrollbars.update(o);c.sizer.style.paddingRight=(c.barWidth=l.right)+"px",c.sizer.style.paddingBottom=(c.barHeight=l.bottom)+"px",c.heightForcer.style.borderBottom=l.bottom+"px solid transparent",l.right&&l.bottom?(c.scrollbarFiller.style.display="block",c.scrollbarFiller.style.height=l.bottom+"px",c.scrollbarFiller.style.width=l.right+"px"):c.scrollbarFiller.style.display="",l.bottom&&i.options.coverGutterNextToScrollbar&&i.options.fixedGutter?(c.gutterFiller.style.display="block",c.gutterFiller.style.height=l.bottom+"px",c.gutterFiller.style.width=o.gutterWidth+"px"):c.gutterFiller.style.display=""}var Ry={native:Co,null:ca};function jy(i){i.display.scrollbars&&(i.display.scrollbars.clear(),i.display.scrollbars.addClass&&S(i.display.wrapper,i.display.scrollbars.addClass)),i.display.scrollbars=new Ry[i.options.scrollbarStyle](function(o){i.display.wrapper.insertBefore(o,i.display.scrollbarFiller),Pe(o,"mousedown",function(){i.state.focused&&setTimeout(function(){return i.display.input.focus()},0)}),o.setAttribute("cm-not-content","true")},function(o,c){c=="horizontal"?So(i,o):aa(i,o)},i),i.display.scrollbars.addClass&&ue(i.display.wrapper,i.display.scrollbars.addClass)}var VL=0;function To(i){i.curOp={cm:i,viewChanged:!1,startHeight:i.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++VL,markArrays:null},SL(i.curOp)}function Lo(i){var o=i.curOp;o&&TL(o,function(c){for(var l=0;l<c.ops.length;l++)c.ops[l].cm.curOp=null;$L(c)})}function $L(i){for(var o=i.ops,c=0;c<o.length;c++)YL(o[c]);for(var l=0;l<o.length;l++)XL(o[l]);for(var u=0;u<o.length;u++)KL(o[u]);for(var y=0;y<o.length;y++)ZL(o[y]);for(var F=0;F<o.length;F++)QL(o[F])}function YL(i){var o=i.cm,c=o.display;eA(o),i.updateMaxLine&&Eh(o),i.mustUpdate=i.viewChanged||i.forceUpdate||i.scrollTop!=null||i.scrollToPos&&(i.scrollToPos.from.line<c.viewFrom||i.scrollToPos.to.line>=c.viewTo)||c.maxLineChanged&&o.options.lineWrapping,i.update=i.mustUpdate&&new Cc(o,i.mustUpdate&&{top:i.scrollTop,ensure:i.scrollToPos},i.forceUpdate)}function XL(i){i.updatedDisplay=i.mustUpdate&&$h(i.cm,i.update)}function KL(i){var o=i.cm,c=o.display;i.updatedDisplay&&wc(o),i.barMeasure=la(o),c.maxLineChanged&&!o.options.lineWrapping&&(i.adjustWidthTo=my(o,c.maxLine,c.maxLine.text.length).left+3,o.display.sizerWidth=i.adjustWidthTo,i.barMeasure.scrollWidth=Math.max(c.scroller.clientWidth,c.sizer.offsetLeft+i.adjustWidthTo+mr(o)+o.display.barWidth),i.maxScrollLeft=Math.max(0,c.sizer.offsetLeft+i.adjustWidthTo-xo(o))),(i.updatedDisplay||i.selectionChanged)&&(i.preparedSelection=c.input.prepareSelection())}function ZL(i){var o=i.cm;i.adjustWidthTo!=null&&(o.display.sizer.style.minWidth=i.adjustWidthTo+"px",i.maxScrollLeft<o.doc.scrollLeft&&So(o,Math.min(o.display.scroller.scrollLeft,i.maxScrollLeft),!0),o.display.maxLineChanged=!1);var c=i.focus&&i.focus==ee(ie(o));i.preparedSelection&&o.display.input.showSelection(i.preparedSelection,c),(i.updatedDisplay||i.startHeight!=o.doc.height)&&ts(o,i.barMeasure),i.updatedDisplay&&Kh(o,i.barMeasure),i.selectionChanged&&Wh(o),o.state.focused&&i.updateInput&&o.display.input.reset(i.typing),c&&Py(i.cm)}function QL(i){var o=i.cm,c=o.display,l=o.doc;if(i.updatedDisplay&&zy(o,i.update),c.wheelStartX!=null&&(i.scrollTop!=null||i.scrollLeft!=null||i.scrollToPos)&&(c.wheelStartX=c.wheelStartY=null),i.scrollTop!=null&&Dy(o,i.scrollTop,i.forceScroll),i.scrollLeft!=null&&So(o,i.scrollLeft,!0,!0),i.scrollToPos){var u=qL(o,Rt(l,i.scrollToPos.from),Rt(l,i.scrollToPos.to),i.scrollToPos.margin);WL(o,u)}var y=i.maybeHiddenMarkers,F=i.maybeUnhiddenMarkers;if(y)for(var W=0;W<y.length;++W)y[W].lines.length||Je(y[W],"hide");if(F)for(var Y=0;Y<F.length;++Y)F[Y].lines.length&&Je(F[Y],"unhide");c.wrapper.offsetHeight&&(l.scrollTop=o.display.scroller.scrollTop),i.changeObjs&&Je(o,"changes",o,i.changeObjs),i.update&&i.update.finish()}function xn(i,o){if(i.curOp)return o();To(i);try{return o()}finally{Lo(i)}}function _i(i,o){return function(){if(i.curOp)return o.apply(i,arguments);To(i);try{return o.apply(i,arguments)}finally{Lo(i)}}}function tn(i){return function(){if(this.curOp)return i.apply(this,arguments);To(this);try{return i.apply(this,arguments)}finally{Lo(this)}}}function Hi(i){return function(){var o=this.cm;if(!o||o.curOp)return i.apply(this,arguments);To(o);try{return i.apply(this,arguments)}finally{Lo(o)}}}function ua(i,o){i.doc.highlightFrontier<i.display.viewTo&&i.state.highlight.set(o,H(JL,i))}function JL(i){var o=i.doc;if(!(o.highlightFrontier>=i.display.viewTo)){var c=+new Date+i.options.workTime,l=Js(i,o.highlightFrontier),u=[];o.iter(l.line,Math.min(o.first+o.size,i.display.viewTo+500),function(y){if(l.line>=i.display.viewFrom){var F=y.styles,W=y.text.length>i.options.maxHighlightLength?Er(o.mode,l.state):null,Y=Um(i,y,l,!0);W&&(l.state=W),y.styles=Y.styles;var J=y.styleClasses,pe=Y.classes;pe?y.styleClasses=pe:J&&(y.styleClasses=null);for(var xe=!F||F.length!=y.styles.length||J!=pe&&(!J||!pe||J.bgClass!=pe.bgClass||J.textClass!=pe.textClass),Te=0;!xe&&Te<F.length;++Te)xe=F[Te]!=y.styles[Te];xe&&u.push(l.line),y.stateAfter=l.save(),l.nextLine()}else y.text.length<=i.options.maxHighlightLength&&Sh(i,y.text,l),y.stateAfter=l.line%5==0?l.save():null,l.nextLine();if(+new Date>c)return ua(i,i.options.workDelay),!0}),o.highlightFrontier=l.line,o.modeFrontier=Math.max(o.modeFrontier,l.line),u.length&&xn(i,function(){for(var y=0;y<u.length;y++)Kr(i,u[y],"text")})}}var Cc=function(i,o,c){var l=i.display;this.viewport=o,this.visible=kc(l,i.doc,o),this.editorIsHidden=!l.wrapper.offsetWidth,this.wrapperHeight=l.wrapper.clientHeight,this.wrapperWidth=l.wrapper.clientWidth,this.oldDisplayWidth=xo(i),this.force=c,this.dims=Bh(i),this.events=[]};Cc.prototype.signal=function(i,o){Gt(i,o)&&this.events.push(arguments)},Cc.prototype.finish=function(){for(var i=0;i<this.events.length;i++)Je.apply(null,this.events[i])};function eA(i){var o=i.display;!o.scrollbarsClipped&&o.scroller.offsetWidth&&(o.nativeBarWidth=o.scroller.offsetWidth-o.scroller.clientWidth,o.heightForcer.style.height=mr(i)+"px",o.sizer.style.marginBottom=-o.nativeBarWidth+"px",o.sizer.style.borderRightWidth=mr(i)+"px",o.scrollbarsClipped=!0)}function tA(i){if(i.hasFocus())return null;var o=ee(ie(i));if(!o||!q(i.display.lineDiv,o))return null;var c={activeElt:o};if(window.getSelection){var l=j(i).getSelection();l.anchorNode&&l.extend&&q(i.display.lineDiv,l.anchorNode)&&(c.anchorNode=l.anchorNode,c.anchorOffset=l.anchorOffset,c.focusNode=l.focusNode,c.focusOffset=l.focusOffset)}return c}function iA(i){if(!(!i||!i.activeElt||i.activeElt==ee(i.activeElt.ownerDocument))&&(i.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(i.activeElt.nodeName)&&i.anchorNode&&q(document.body,i.anchorNode)&&q(document.body,i.focusNode))){var o=i.activeElt.ownerDocument,c=o.defaultView.getSelection(),l=o.createRange();l.setEnd(i.anchorNode,i.anchorOffset),l.collapse(!1),c.removeAllRanges(),c.addRange(l),c.extend(i.focusNode,i.focusOffset)}}function $h(i,o){var c=i.display,l=i.doc;if(o.editorIsHidden)return Zr(i),!1;if(!o.force&&o.visible.from>=c.viewFrom&&o.visible.to<=c.viewTo&&(c.updateLineNumbers==null||c.updateLineNumbers>=c.viewTo)&&c.renderedView==c.view&&My(i)==0)return!1;Fy(i)&&(Zr(i),o.dims=Bh(i));var u=l.first+l.size,y=Math.max(o.visible.from-i.options.viewportMargin,l.first),F=Math.min(u,o.visible.to+i.options.viewportMargin);c.viewFrom<y&&y-c.viewFrom<20&&(y=Math.max(l.first,c.viewFrom)),c.viewTo>F&&c.viewTo-F<20&&(F=Math.min(u,c.viewTo)),Or&&(y=Ah(i.doc,y),F=ry(i.doc,F));var W=y!=c.viewFrom||F!=c.viewTo||c.lastWrapHeight!=o.wrapperHeight||c.lastWrapWidth!=o.wrapperWidth;_L(i,y,F),c.viewOffset=Nr(et(i.doc,c.viewFrom)),i.display.mover.style.top=c.viewOffset+"px";var Y=My(i);if(!W&&Y==0&&!o.force&&c.renderedView==c.view&&(c.updateLineNumbers==null||c.updateLineNumbers>=c.viewTo))return!1;var J=tA(i);return Y>4&&(c.lineDiv.style.display="none"),nA(i,c.updateLineNumbers,o.dims),Y>4&&(c.lineDiv.style.display=""),c.renderedView=c.view,iA(J),P(c.cursorDiv),P(c.selectionDiv),c.gutters.style.height=c.sizer.style.minHeight=0,W&&(c.lastWrapHeight=o.wrapperHeight,c.lastWrapWidth=o.wrapperWidth,ua(i,400)),c.updateLineNumbers=null,!0}function zy(i,o){for(var c=o.viewport,l=!0;;l=!1){if(!l||!i.options.lineWrapping||o.oldDisplayWidth==xo(i)){if(c&&c.top!=null&&(c={top:Math.min(i.doc.height+Oh(i.display)-Nh(i),c.top)}),o.visible=kc(i.display,i.doc,c),o.visible.from>=i.display.viewFrom&&o.visible.to<=i.display.viewTo)break}else l&&(o.visible=kc(i.display,i.doc,c));if(!$h(i,o))break;wc(i);var u=la(i);oa(i),ts(i,u),Kh(i,u),o.force=!1}o.signal(i,"update",i),(i.display.viewFrom!=i.display.reportedViewFrom||i.display.viewTo!=i.display.reportedViewTo)&&(o.signal(i,"viewportChange",i,i.display.viewFrom,i.display.viewTo),i.display.reportedViewFrom=i.display.viewFrom,i.display.reportedViewTo=i.display.viewTo)}function Yh(i,o){var c=new Cc(i,o);if($h(i,c)){wc(i),zy(i,c);var l=la(i);oa(i),ts(i,l),Kh(i,l),c.finish()}}function nA(i,o,c){var l=i.display,u=i.options.lineNumbers,y=l.lineDiv,F=y.firstChild;function W(Ie){var Fe=Ie.nextSibling;return g&&A&&i.display.currentWheelTarget==Ie?Ie.style.display="none":Ie.parentNode.removeChild(Ie),Fe}for(var Y=l.view,J=l.viewFrom,pe=0;pe<Y.length;pe++){var xe=Y[pe];if(!xe.hidden)if(!xe.node||xe.node.parentNode!=y){var Te=PL(i,xe,J,c);y.insertBefore(Te,F)}else{for(;F!=xe.node;)F=W(F);var Se=u&&o!=null&&o<=J&&xe.lineNumber;xe.changes&&(ne(xe.changes,"gutter")>-1&&(Se=!1),cy(i,xe,J,c)),Se&&(P(xe.lineNumber),xe.lineNumber.appendChild(document.createTextNode(be(i.options,J)))),F=xe.node.nextSibling}J+=xe.size}for(;F;)F=W(F)}function Xh(i){var o=i.gutters.offsetWidth;i.sizer.style.marginLeft=o+"px",Fi(i,"gutterChanged",i)}function Kh(i,o){i.display.sizer.style.minHeight=o.docHeight+"px",i.display.heightForcer.style.top=o.docHeight+"px",i.display.gutters.style.height=o.docHeight+i.display.barHeight+mr(i)+"px"}function By(i){var o=i.display,c=o.view;if(!(!o.alignWidgets&&(!o.gutters.firstChild||!i.options.fixedGutter))){for(var l=Fh(o)-o.scroller.scrollLeft+i.doc.scrollLeft,u=o.gutters.offsetWidth,y=l+"px",F=0;F<c.length;F++)if(!c[F].hidden){i.options.fixedGutter&&(c[F].gutter&&(c[F].gutter.style.left=y),c[F].gutterBackground&&(c[F].gutterBackground.style.left=y));var W=c[F].alignable;if(W)for(var Y=0;Y<W.length;Y++)W[Y].style.left=y}i.options.fixedGutter&&(o.gutters.style.left=l+u+"px")}}function Fy(i){if(!i.options.lineNumbers)return!1;var o=i.doc,c=be(i.options,o.first+o.size-1),l=i.display;if(c.length!=l.lineNumChars){var u=l.measure.appendChild(d("div",[d("div",c)],"CodeMirror-linenumber CodeMirror-gutter-elt")),y=u.firstChild.offsetWidth,F=u.offsetWidth-y;return l.lineGutter.style.width="",l.lineNumInnerWidth=Math.max(y,l.lineGutter.offsetWidth-F)+1,l.lineNumWidth=l.lineNumInnerWidth+F,l.lineNumChars=l.lineNumInnerWidth?c.length:-1,l.lineGutter.style.width=l.lineNumWidth+"px",Xh(i.display),!0}return!1}function Zh(i,o){for(var c=[],l=!1,u=0;u<i.length;u++){var y=i[u],F=null;if(typeof y!="string"&&(F=y.style,y=y.className),y=="CodeMirror-linenumbers")if(o)l=!0;else continue;c.push({className:y,style:F})}return o&&!l&&c.push({className:"CodeMirror-linenumbers",style:null}),c}function _y(i){var o=i.gutters,c=i.gutterSpecs;P(o),i.lineGutter=null;for(var l=0;l<c.length;++l){var u=c[l],y=u.className,F=u.style,W=o.appendChild(d("div",null,"CodeMirror-gutter "+y));F&&(W.style.cssText=F),y=="CodeMirror-linenumbers"&&(i.lineGutter=W,W.style.width=(i.lineNumWidth||1)+"px")}o.style.display=c.length?"":"none",Xh(i)}function ha(i){_y(i.display),un(i),By(i)}function rA(i,o,c,l){var u=this;this.input=c,u.scrollbarFiller=d("div",null,"CodeMirror-scrollbar-filler"),u.scrollbarFiller.setAttribute("cm-not-content","true"),u.gutterFiller=d("div",null,"CodeMirror-gutter-filler"),u.gutterFiller.setAttribute("cm-not-content","true"),u.lineDiv=N("div",null,"CodeMirror-code"),u.selectionDiv=d("div",null,null,"position: relative; z-index: 1"),u.cursorDiv=d("div",null,"CodeMirror-cursors"),u.measure=d("div",null,"CodeMirror-measure"),u.lineMeasure=d("div",null,"CodeMirror-measure"),u.lineSpace=N("div",[u.measure,u.lineMeasure,u.selectionDiv,u.cursorDiv,u.lineDiv],null,"position: relative; outline: none");var y=N("div",[u.lineSpace],"CodeMirror-lines");u.mover=d("div",[y],null,"position: relative"),u.sizer=d("div",[u.mover],"CodeMirror-sizer"),u.sizerWidth=null,u.heightForcer=d("div",null,null,"position: absolute; height: "+_+"px; width: 1px;"),u.gutters=d("div",null,"CodeMirror-gutters"),u.lineGutter=null,u.scroller=d("div",[u.sizer,u.heightForcer,u.gutters],"CodeMirror-scroll"),u.scroller.setAttribute("tabIndex","-1"),u.wrapper=d("div",[u.scrollbarFiller,u.gutterFiller,u.scroller],"CodeMirror"),u.wrapper.setAttribute("translate","no"),h&&f<8&&(u.gutters.style.zIndex=-1,u.scroller.style.paddingRight=0),!g&&!(n&&L)&&(u.scroller.draggable=!0),i&&(i.appendChild?i.appendChild(u.wrapper):i(u.wrapper)),u.viewFrom=u.viewTo=o.first,u.reportedViewFrom=u.reportedViewTo=o.first,u.view=[],u.renderedView=null,u.externalMeasured=null,u.viewOffset=0,u.lastWrapHeight=u.lastWrapWidth=0,u.updateLineNumbers=null,u.nativeBarWidth=u.barHeight=u.barWidth=0,u.scrollbarsClipped=!1,u.lineNumWidth=u.lineNumInnerWidth=u.lineNumChars=null,u.alignWidgets=!1,u.cachedCharWidth=u.cachedTextHeight=u.cachedPaddingH=null,u.maxLine=null,u.maxLineLength=0,u.maxLineChanged=!1,u.wheelDX=u.wheelDY=u.wheelStartX=u.wheelStartY=null,u.shift=!1,u.selForContextMenu=null,u.activeTouch=null,u.gutterSpecs=Zh(l.gutters,l.lineNumbers),_y(u),c.init(u)}var Tc=0,Ir=null;h?Ir=-.53:n?Ir=15:m?Ir=-.7:C&&(Ir=-1/3);function Hy(i){var o=i.wheelDeltaX,c=i.wheelDeltaY;return o==null&&i.detail&&i.axis==i.HORIZONTAL_AXIS&&(o=i.detail),c==null&&i.detail&&i.axis==i.VERTICAL_AXIS?c=i.detail:c==null&&(c=i.wheelDelta),{x:o,y:c}}function oA(i){var o=Hy(i);return o.x*=Ir,o.y*=Ir,o}function Wy(i,o){m&&x==102&&(i.display.chromeScrollHack==null?i.display.sizer.style.pointerEvents="none":clearTimeout(i.display.chromeScrollHack),i.display.chromeScrollHack=setTimeout(function(){i.display.chromeScrollHack=null,i.display.sizer.style.pointerEvents=""},100));var c=Hy(o),l=c.x,u=c.y,y=Ir;o.deltaMode===0&&(l=o.deltaX,u=o.deltaY,y=1);var F=i.display,W=F.scroller,Y=W.scrollWidth>W.clientWidth,J=W.scrollHeight>W.clientHeight;if(l&&Y||u&&J){if(u&&A&&g){e:for(var pe=o.target,xe=F.view;pe!=W;pe=pe.parentNode)for(var Te=0;Te<xe.length;Te++)if(xe[Te].node==pe){i.display.currentWheelTarget=pe;break e}}if(l&&!n&&!v&&y!=null){u&&J&&aa(i,Math.max(0,W.scrollTop+u*y)),So(i,Math.max(0,W.scrollLeft+l*y)),(!u||u&&J)&&_t(o),F.wheelStartX=null;return}if(u&&y!=null){var Se=u*y,Ie=i.doc.scrollTop,Fe=Ie+F.wrapper.clientHeight;Se<0?Ie=Math.max(0,Ie+Se-50):Fe=Math.min(i.doc.height,Fe+Se+50),Yh(i,{top:Ie,bottom:Fe})}Tc<20&&o.deltaMode!==0&&(F.wheelStartX==null?(F.wheelStartX=W.scrollLeft,F.wheelStartY=W.scrollTop,F.wheelDX=l,F.wheelDY=u,setTimeout(function(){if(F.wheelStartX!=null){var We=W.scrollLeft-F.wheelStartX,Ue=W.scrollTop-F.wheelStartY,$e=Ue&&F.wheelDY&&Ue/F.wheelDY||We&&F.wheelDX&&We/F.wheelDX;F.wheelStartX=F.wheelStartY=null,$e&&(Ir=(Ir*Tc+$e)/(Tc+1),++Tc)}},200)):(F.wheelDX+=l,F.wheelDY+=u))}}var En=function(i,o){this.ranges=i,this.primIndex=o};En.prototype.primary=function(){return this.ranges[this.primIndex]},En.prototype.equals=function(i){if(i==this)return!0;if(i.primIndex!=this.primIndex||i.ranges.length!=this.ranges.length)return!1;for(var o=0;o<this.ranges.length;o++){var c=this.ranges[o],l=i.ranges[o];if(!It(c.anchor,l.anchor)||!It(c.head,l.head))return!1}return!0},En.prototype.deepCopy=function(){for(var i=[],o=0;o<this.ranges.length;o++)i[o]=new si(Yt(this.ranges[o].anchor),Yt(this.ranges[o].head));return new En(i,this.primIndex)},En.prototype.somethingSelected=function(){for(var i=0;i<this.ranges.length;i++)if(!this.ranges[i].empty())return!0;return!1},En.prototype.contains=function(i,o){o||(o=i);for(var c=0;c<this.ranges.length;c++){var l=this.ranges[c];if(Ne(o,l.from())>=0&&Ne(i,l.to())<=0)return c}return-1};var si=function(i,o){this.anchor=i,this.head=o};si.prototype.from=function(){return ji(this.anchor,this.head)},si.prototype.to=function(){return ri(this.anchor,this.head)},si.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function er(i,o,c){var l=i&&i.options.selectionsMayTouch,u=o[c];o.sort(function(Te,Se){return Ne(Te.from(),Se.from())}),c=ne(o,u);for(var y=1;y<o.length;y++){var F=o[y],W=o[y-1],Y=Ne(W.to(),F.from());if(l&&!F.empty()?Y>0:Y>=0){var J=ji(W.from(),F.from()),pe=ri(W.to(),F.to()),xe=W.empty()?F.from()==F.head:W.from()==W.head;y<=c&&--c,o.splice(--y,2,new si(xe?pe:J,xe?J:pe))}}return new En(o,c)}function Qr(i,o){return new En([new si(i,o||i)],0)}function Jr(i){return i.text?we(i.from.line+i.text.length-1,me(i.text).length+(i.text.length==1?i.from.ch:0)):i.to}function qy(i,o){if(Ne(i,o.from)<0)return i;if(Ne(i,o.to)<=0)return Jr(o);var c=i.line+o.text.length-(o.to.line-o.from.line)-1,l=i.ch;return i.line==o.to.line&&(l+=Jr(o).ch-o.to.ch),we(c,l)}function Qh(i,o){for(var c=[],l=0;l<i.sel.ranges.length;l++){var u=i.sel.ranges[l];c.push(new si(qy(u.anchor,o),qy(u.head,o)))}return er(i.cm,c,i.sel.primIndex)}function Uy(i,o,c){return i.line==o.line?we(c.line,i.ch-o.ch+c.ch):we(c.line+(i.line-o.line),i.ch)}function sA(i,o,c){for(var l=[],u=we(i.first,0),y=u,F=0;F<o.length;F++){var W=o[F],Y=Uy(W.from,u,y),J=Uy(Jr(W),u,y);if(u=W.to,y=J,c=="around"){var pe=i.sel.ranges[F],xe=Ne(pe.head,pe.anchor)<0;l[F]=new si(xe?J:Y,xe?Y:J)}else l[F]=new si(Y,Y)}return new En(l,i.sel.primIndex)}function Jh(i){i.doc.mode=Mr(i.options,i.doc.modeOption),fa(i)}function fa(i){i.doc.iter(function(o){o.stateAfter&&(o.stateAfter=null),o.styles&&(o.styles=null)}),i.doc.modeFrontier=i.doc.highlightFrontier=i.doc.first,ua(i,100),i.state.modeGen++,i.curOp&&un(i)}function Gy(i,o){return o.from.ch==0&&o.to.ch==0&&me(o.text)==""&&(!i.cm||i.cm.options.wholeLineUpdateBefore)}function ef(i,o,c,l){function u($e){return c?c[$e]:null}function y($e,Ge,Ye){pL($e,Ge,Ye,l),Fi($e,"change",$e,o)}function F($e,Ge){for(var Ye=[],Mt=$e;Mt<Ge;++Mt)Ye.push(new Yo(J[Mt],u(Mt),l));return Ye}var W=o.from,Y=o.to,J=o.text,pe=et(i,W.line),xe=et(i,Y.line),Te=me(J),Se=u(J.length-1),Ie=Y.line-W.line;if(o.full)i.insert(0,F(0,J.length)),i.remove(J.length,i.size-J.length);else if(Gy(i,o)){var Fe=F(0,J.length-1);y(xe,xe.text,Se),Ie&&i.remove(W.line,Ie),Fe.length&&i.insert(W.line,Fe)}else if(pe==xe)if(J.length==1)y(pe,pe.text.slice(0,W.ch)+Te+pe.text.slice(Y.ch),Se);else{var We=F(1,J.length-1);We.push(new Yo(Te+pe.text.slice(Y.ch),Se,l)),y(pe,pe.text.slice(0,W.ch)+J[0],u(0)),i.insert(W.line+1,We)}else if(J.length==1)y(pe,pe.text.slice(0,W.ch)+J[0]+xe.text.slice(Y.ch),u(0)),i.remove(W.line+1,Ie);else{y(pe,pe.text.slice(0,W.ch)+J[0],u(0)),y(xe,Te+xe.text.slice(Y.ch),Se);var Ue=F(1,J.length-1);Ie>1&&i.remove(W.line+1,Ie-1),i.insert(W.line+1,Ue)}Fi(i,"change",i,o)}function eo(i,o,c){function l(u,y,F){if(u.linked)for(var W=0;W<u.linked.length;++W){var Y=u.linked[W];if(Y.doc!=y){var J=F&&Y.sharedHist;c&&!J||(o(Y.doc,J),l(Y.doc,u,J))}}}l(i,null,!0)}function Vy(i,o){if(o.cm)throw new Error("This document is already in use.");i.doc=o,o.cm=i,_h(i),Jh(i),$y(i),i.options.direction=o.direction,i.options.lineWrapping||Eh(i),i.options.mode=o.modeOption,un(i)}function $y(i){(i.doc.direction=="rtl"?ue:S)(i.display.lineDiv,"CodeMirror-rtl")}function aA(i){xn(i,function(){$y(i),un(i)})}function Lc(i){this.done=[],this.undone=[],this.undoDepth=i?i.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=i?i.maxGeneration:1}function tf(i,o){var c={from:Yt(o.from),to:Jr(o),text:Pr(i,o.from,o.to)};return Ky(i,c,o.from.line,o.to.line+1),eo(i,function(l){return Ky(l,c,o.from.line,o.to.line+1)},!0),c}function Yy(i){for(;i.length;){var o=me(i);if(o.ranges)i.pop();else break}}function lA(i,o){if(o)return Yy(i.done),me(i.done);if(i.done.length&&!me(i.done).ranges)return me(i.done);if(i.done.length>1&&!i.done[i.done.length-2].ranges)return i.done.pop(),me(i.done)}function Xy(i,o,c,l){var u=i.history;u.undone.length=0;var y=+new Date,F,W;if((u.lastOp==l||u.lastOrigin==o.origin&&o.origin&&(o.origin.charAt(0)=="+"&&u.lastModTime>y-(i.cm?i.cm.options.historyEventDelay:500)||o.origin.charAt(0)=="*"))&&(F=lA(u,u.lastOp==l)))W=me(F.changes),Ne(o.from,o.to)==0&&Ne(o.from,W.to)==0?W.to=Jr(o):F.changes.push(tf(i,o));else{var Y=me(u.done);for((!Y||!Y.ranges)&&Ac(i.sel,u.done),F={changes:[tf(i,o)],generation:u.generation},u.done.push(F);u.done.length>u.undoDepth;)u.done.shift(),u.done[0].ranges||u.done.shift()}u.done.push(c),u.generation=++u.maxGeneration,u.lastModTime=u.lastSelTime=y,u.lastOp=u.lastSelOp=l,u.lastOrigin=u.lastSelOrigin=o.origin,W||Je(i,"historyAdded")}function cA(i,o,c,l){var u=o.charAt(0);return u=="*"||u=="+"&&c.ranges.length==l.ranges.length&&c.somethingSelected()==l.somethingSelected()&&new Date-i.history.lastSelTime<=(i.cm?i.cm.options.historyEventDelay:500)}function uA(i,o,c,l){var u=i.history,y=l&&l.origin;c==u.lastSelOp||y&&u.lastSelOrigin==y&&(u.lastModTime==u.lastSelTime&&u.lastOrigin==y||cA(i,y,me(u.done),o))?u.done[u.done.length-1]=o:Ac(o,u.done),u.lastSelTime=+new Date,u.lastSelOrigin=y,u.lastSelOp=c,l&&l.clearRedo!==!1&&Yy(u.undone)}function Ac(i,o){var c=me(o);c&&c.ranges&&c.equals(i)||o.push(i)}function Ky(i,o,c,l){var u=o["spans_"+i.id],y=0;i.iter(Math.max(i.first,c),Math.min(i.first+i.size,l),function(F){F.markedSpans&&((u||(u=o["spans_"+i.id]={}))[y]=F.markedSpans),++y})}function hA(i){if(!i)return null;for(var o,c=0;c<i.length;++c)i[c].marker.explicitlyCleared?o||(o=i.slice(0,c)):o&&o.push(i[c]);return o?o.length?o:null:i}function fA(i,o){var c=o["spans_"+i.id];if(!c)return null;for(var l=[],u=0;u<o.text.length;++u)l.push(hA(c[u]));return l}function Zy(i,o){var c=fA(i,o),l=Th(i,o);if(!c)return l;if(!l)return c;for(var u=0;u<c.length;++u){var y=c[u],F=l[u];if(y&&F){e:for(var W=0;W<F.length;++W){for(var Y=F[W],J=0;J<y.length;++J)if(y[J].marker==Y.marker)continue e;y.push(Y)}}else F&&(c[u]=F)}return c}function is(i,o,c){for(var l=[],u=0;u<i.length;++u){var y=i[u];if(y.ranges){l.push(c?En.prototype.deepCopy.call(y):y);continue}var F=y.changes,W=[];l.push({changes:W});for(var Y=0;Y<F.length;++Y){var J=F[Y],pe=void 0;if(W.push({from:J.from,to:J.to,text:J.text}),o)for(var xe in J)(pe=xe.match(/^spans_(\d+)$/))&&ne(o,Number(pe[1]))>-1&&(me(W)[xe]=J[xe],delete J[xe])}}return l}function nf(i,o,c,l){if(l){var u=i.anchor;if(c){var y=Ne(o,u)<0;y!=Ne(c,u)<0?(u=o,o=c):y!=Ne(o,c)<0&&(o=c)}return new si(u,o)}else return new si(c||o,o)}function Mc(i,o,c,l,u){u==null&&(u=i.cm&&(i.cm.display.shift||i.extend)),Yi(i,new En([nf(i.sel.primary(),o,c,u)],0),l)}function Qy(i,o,c){for(var l=[],u=i.cm&&(i.cm.display.shift||i.extend),y=0;y<i.sel.ranges.length;y++)l[y]=nf(i.sel.ranges[y],o[y],null,u);var F=er(i.cm,l,i.sel.primIndex);Yi(i,F,c)}function rf(i,o,c,l){var u=i.sel.ranges.slice(0);u[o]=c,Yi(i,er(i.cm,u,i.sel.primIndex),l)}function Jy(i,o,c,l){Yi(i,Qr(o,c),l)}function dA(i,o,c){var l={ranges:o.ranges,update:function(u){this.ranges=[];for(var y=0;y<u.length;y++)this.ranges[y]=new si(Rt(i,u[y].anchor),Rt(i,u[y].head))},origin:c&&c.origin};return Je(i,"beforeSelectionChange",i,l),i.cm&&Je(i.cm,"beforeSelectionChange",i.cm,l),l.ranges!=o.ranges?er(i.cm,l.ranges,l.ranges.length-1):o}function ev(i,o,c){var l=i.history.done,u=me(l);u&&u.ranges?(l[l.length-1]=o,Ec(i,o,c)):Yi(i,o,c)}function Yi(i,o,c){Ec(i,o,c),uA(i,i.sel,i.cm?i.cm.curOp.id:NaN,c)}function Ec(i,o,c){(Gt(i,"beforeSelectionChange")||i.cm&&Gt(i.cm,"beforeSelectionChange"))&&(o=dA(i,o,c));var l=c&&c.bias||(Ne(o.primary().head,i.sel.primary().head)<0?-1:1);tv(i,nv(i,o,l,!0)),!(c&&c.scroll===!1)&&i.cm&&i.cm.getOption("readOnly")!="nocursor"&&es(i.cm)}function tv(i,o){o.equals(i.sel)||(i.sel=o,i.cm&&(i.cm.curOp.updateInput=1,i.cm.curOp.selectionChanged=!0,Jt(i.cm)),Fi(i,"cursorActivity",i))}function iv(i){tv(i,nv(i,i.sel,null,!1))}function nv(i,o,c,l){for(var u,y=0;y<o.ranges.length;y++){var F=o.ranges[y],W=o.ranges.length==i.sel.ranges.length&&i.sel.ranges[y],Y=Pc(i,F.anchor,W&&W.anchor,c,l),J=F.head==F.anchor?Y:Pc(i,F.head,W&&W.head,c,l);(u||Y!=F.anchor||J!=F.head)&&(u||(u=o.ranges.slice(0,y)),u[y]=new si(Y,J))}return u?er(i.cm,u,o.primIndex):o}function ns(i,o,c,l,u){var y=et(i,o.line);if(y.markedSpans)for(var F=0;F<y.markedSpans.length;++F){var W=y.markedSpans[F],Y=W.marker,J="selectLeft"in Y?!Y.selectLeft:Y.inclusiveLeft,pe="selectRight"in Y?!Y.selectRight:Y.inclusiveRight;if((W.from==null||(J?W.from<=o.ch:W.from<o.ch))&&(W.to==null||(pe?W.to>=o.ch:W.to>o.ch))){if(u&&(Je(Y,"beforeCursorEnter"),Y.explicitlyCleared))if(y.markedSpans){--F;continue}else break;if(!Y.atomic)continue;if(c){var xe=Y.find(l<0?1:-1),Te=void 0;if((l<0?pe:J)&&(xe=rv(i,xe,-l,xe&&xe.line==o.line?y:null)),xe&&xe.line==o.line&&(Te=Ne(xe,c))&&(l<0?Te<0:Te>0))return ns(i,xe,o,l,u)}var Se=Y.find(l<0?-1:1);return(l<0?J:pe)&&(Se=rv(i,Se,l,Se.line==o.line?y:null)),Se?ns(i,Se,o,l,u):null}}return o}function Pc(i,o,c,l,u){var y=l||1,F=ns(i,o,c,y,u)||!u&&ns(i,o,c,y,!0)||ns(i,o,c,-y,u)||!u&&ns(i,o,c,-y,!0);return F||(i.cantEdit=!0,we(i.first,0))}function rv(i,o,c,l){return c<0&&o.ch==0?o.line>i.first?Rt(i,we(o.line-1)):null:c>0&&o.ch==(l||et(i,o.line)).text.length?o.line<i.first+i.size-1?we(o.line+1,0):null:new we(o.line,o.ch+c)}function ov(i){i.setSelection(we(i.firstLine(),0),we(i.lastLine()),V)}function sv(i,o,c){var l={canceled:!1,from:o.from,to:o.to,text:o.text,origin:o.origin,cancel:function(){return l.canceled=!0}};return c&&(l.update=function(u,y,F,W){u&&(l.from=Rt(i,u)),y&&(l.to=Rt(i,y)),F&&(l.text=F),W!==void 0&&(l.origin=W)}),Je(i,"beforeChange",i,l),i.cm&&Je(i.cm,"beforeChange",i.cm,l),l.canceled?(i.cm&&(i.cm.curOp.updateInput=2),null):{from:l.from,to:l.to,text:l.text,origin:l.origin}}function rs(i,o,c){if(i.cm){if(!i.cm.curOp)return _i(i.cm,rs)(i,o,c);if(i.cm.state.suppressEdits)return}if(!((Gt(i,"beforeChange")||i.cm&&Gt(i.cm,"beforeChange"))&&(o=sv(i,o,!0),!o))){var l=Zm&&!c&&uL(i,o.from,o.to);if(l)for(var u=l.length-1;u>=0;--u)av(i,{from:l[u].from,to:l[u].to,text:u?[""]:o.text,origin:o.origin});else av(i,o)}}function av(i,o){if(!(o.text.length==1&&o.text[0]==""&&Ne(o.from,o.to)==0)){var c=Qh(i,o);Xy(i,o,c,i.cm?i.cm.curOp.id:NaN),da(i,o,c,Th(i,o));var l=[];eo(i,function(u,y){!y&&ne(l,u.history)==-1&&(hv(u.history,o),l.push(u.history)),da(u,o,null,Th(u,o))})}}function Oc(i,o,c){var l=i.cm&&i.cm.state.suppressEdits;if(!(l&&!c)){for(var u=i.history,y,F=i.sel,W=o=="undo"?u.done:u.undone,Y=o=="undo"?u.undone:u.done,J=0;J<W.length&&(y=W[J],!(c?y.ranges&&!y.equals(i.sel):!y.ranges));J++);if(J!=W.length){for(u.lastOrigin=u.lastSelOrigin=null;;)if(y=W.pop(),y.ranges){if(Ac(y,Y),c&&!y.equals(i.sel)){Yi(i,y,{clearRedo:!1});return}F=y}else if(l){W.push(y);return}else break;var pe=[];Ac(F,Y),Y.push({changes:pe,generation:u.generation}),u.generation=y.generation||++u.maxGeneration;for(var xe=Gt(i,"beforeChange")||i.cm&&Gt(i.cm,"beforeChange"),Te=function(Fe){var We=y.changes[Fe];if(We.origin=o,xe&&!sv(i,We,!1))return W.length=0,{};pe.push(tf(i,We));var Ue=Fe?Qh(i,We):me(W);da(i,We,Ue,Zy(i,We)),!Fe&&i.cm&&i.cm.scrollIntoView({from:We.from,to:Jr(We)});var $e=[];eo(i,function(Ge,Ye){!Ye&&ne($e,Ge.history)==-1&&(hv(Ge.history,We),$e.push(Ge.history)),da(Ge,We,null,Zy(Ge,We))})},Se=y.changes.length-1;Se>=0;--Se){var Ie=Te(Se);if(Ie)return Ie.v}}}}function lv(i,o){if(o!=0&&(i.first+=o,i.sel=new En(Le(i.sel.ranges,function(u){return new si(we(u.anchor.line+o,u.anchor.ch),we(u.head.line+o,u.head.ch))}),i.sel.primIndex),i.cm)){un(i.cm,i.first,i.first-o,o);for(var c=i.cm.display,l=c.viewFrom;l<c.viewTo;l++)Kr(i.cm,l,"gutter")}}function da(i,o,c,l){if(i.cm&&!i.cm.curOp)return _i(i.cm,da)(i,o,c,l);if(o.to.line<i.first){lv(i,o.text.length-1-(o.to.line-o.from.line));return}if(!(o.from.line>i.lastLine())){if(o.from.line<i.first){var u=o.text.length-1-(i.first-o.from.line);lv(i,u),o={from:we(i.first,0),to:we(o.to.line+u,o.to.ch),text:[me(o.text)],origin:o.origin}}var y=i.lastLine();o.to.line>y&&(o={from:o.from,to:we(y,et(i,y).text.length),text:[o.text[0]],origin:o.origin}),o.removed=Pr(i,o.from,o.to),c||(c=Qh(i,o)),i.cm?pA(i.cm,o,l):ef(i,o,l),Ec(i,c,V),i.cantEdit&&Pc(i,we(i.firstLine(),0))&&(i.cantEdit=!1)}}function pA(i,o,c){var l=i.doc,u=i.display,y=o.from,F=o.to,W=!1,Y=y.line;i.options.lineWrapping||(Y=oi(Qn(et(l,y.line))),l.iter(Y,F.line+1,function(Se){if(Se==u.maxLine)return W=!0,!0})),l.sel.contains(o.from,o.to)>-1&&Jt(i),ef(l,o,c,Ay(i)),i.options.lineWrapping||(l.iter(Y,y.line+o.text.length,function(Se){var Ie=pc(Se);Ie>u.maxLineLength&&(u.maxLine=Se,u.maxLineLength=Ie,u.maxLineChanged=!0,W=!1)}),W&&(i.curOp.updateMaxLine=!0)),nL(l,y.line),ua(i,400);var J=o.text.length-(F.line-y.line)-1;o.full?un(i):y.line==F.line&&o.text.length==1&&!Gy(i.doc,o)?Kr(i,y.line,"text"):un(i,y.line,F.line+1,J);var pe=Gt(i,"changes"),xe=Gt(i,"change");if(xe||pe){var Te={from:y,to:F,text:o.text,removed:o.removed,origin:o.origin};xe&&Fi(i,"change",i,Te),pe&&(i.curOp.changeObjs||(i.curOp.changeObjs=[])).push(Te)}i.display.selForContextMenu=null}function os(i,o,c,l,u){var y;l||(l=c),Ne(l,c)<0&&(y=[l,c],c=y[0],l=y[1]),typeof o=="string"&&(o=i.splitLines(o)),rs(i,{from:c,to:l,text:o,origin:u})}function cv(i,o,c,l){c<i.line?i.line+=l:o<i.line&&(i.line=o,i.ch=0)}function uv(i,o,c,l){for(var u=0;u<i.length;++u){var y=i[u],F=!0;if(y.ranges){y.copied||(y=i[u]=y.deepCopy(),y.copied=!0);for(var W=0;W<y.ranges.length;W++)cv(y.ranges[W].anchor,o,c,l),cv(y.ranges[W].head,o,c,l);continue}for(var Y=0;Y<y.changes.length;++Y){var J=y.changes[Y];if(c<J.from.line)J.from=we(J.from.line+l,J.from.ch),J.to=we(J.to.line+l,J.to.ch);else if(o<=J.to.line){F=!1;break}}F||(i.splice(0,u+1),u=0)}}function hv(i,o){var c=o.from.line,l=o.to.line,u=o.text.length-(l-c)-1;uv(i.done,c,l,u),uv(i.undone,c,l,u)}function pa(i,o,c,l){var u=o,y=o;return typeof o=="number"?y=et(i,Mn(i,o)):u=oi(o),u==null?null:(l(y,u)&&i.cm&&Kr(i.cm,u,c),y)}function ma(i){this.lines=i,this.parent=null;for(var o=0,c=0;c<i.length;++c)i[c].parent=this,o+=i[c].height;this.height=o}ma.prototype={chunkSize:function(){return this.lines.length},removeInner:function(i,o){for(var c=i,l=i+o;c<l;++c){var u=this.lines[c];this.height-=u.height,gL(u),Fi(u,"delete")}this.lines.splice(i,o)},collapse:function(i){i.push.apply(i,this.lines)},insertInner:function(i,o,c){this.height+=c,this.lines=this.lines.slice(0,i).concat(o).concat(this.lines.slice(i));for(var l=0;l<o.length;++l)o[l].parent=this},iterN:function(i,o,c){for(var l=i+o;i<l;++i)if(c(this.lines[i]))return!0}};function ya(i){this.children=i;for(var o=0,c=0,l=0;l<i.length;++l){var u=i[l];o+=u.chunkSize(),c+=u.height,u.parent=this}this.size=o,this.height=c,this.parent=null}ya.prototype={chunkSize:function(){return this.size},removeInner:function(i,o){this.size-=o;for(var c=0;c<this.children.length;++c){var l=this.children[c],u=l.chunkSize();if(i<u){var y=Math.min(o,u-i),F=l.height;if(l.removeInner(i,y),this.height-=F-l.height,u==y&&(this.children.splice(c--,1),l.parent=null),(o-=y)==0)break;i=0}else i-=u}if(this.size-o<25&&(this.children.length>1||!(this.children[0]instanceof ma))){var W=[];this.collapse(W),this.children=[new ma(W)],this.children[0].parent=this}},collapse:function(i){for(var o=0;o<this.children.length;++o)this.children[o].collapse(i)},insertInner:function(i,o,c){this.size+=o.length,this.height+=c;for(var l=0;l<this.children.length;++l){var u=this.children[l],y=u.chunkSize();if(i<=y){if(u.insertInner(i,o,c),u.lines&&u.lines.length>50){for(var F=u.lines.length%25+25,W=F;W<u.lines.length;){var Y=new ma(u.lines.slice(W,W+=25));u.height-=Y.height,this.children.splice(++l,0,Y),Y.parent=this}u.lines=u.lines.slice(0,F),this.maybeSpill()}break}i-=y}},maybeSpill:function(){if(!(this.children.length<=10)){var i=this;do{var o=i.children.splice(i.children.length-5,5),c=new ya(o);if(i.parent){i.size-=c.size,i.height-=c.height;var u=ne(i.parent.children,i);i.parent.children.splice(u+1,0,c)}else{var l=new ya(i.children);l.parent=i,i.children=[l,c],i=l}c.parent=i.parent}while(i.children.length>10);i.parent.maybeSpill()}},iterN:function(i,o,c){for(var l=0;l<this.children.length;++l){var u=this.children[l],y=u.chunkSize();if(i<y){var F=Math.min(o,y-i);if(u.iterN(i,F,c))return!0;if((o-=F)==0)break;i=0}else i-=y}}};var va=function(i,o,c){if(c)for(var l in c)c.hasOwnProperty(l)&&(this[l]=c[l]);this.doc=i,this.node=o};va.prototype.clear=function(){var i=this.doc.cm,o=this.line.widgets,c=this.line,l=oi(c);if(!(l==null||!o)){for(var u=0;u<o.length;++u)o[u]==this&&o.splice(u--,1);o.length||(c.widgets=null);var y=na(this);Fn(c,Math.max(0,c.height-y)),i&&(xn(i,function(){fv(i,c,-y),Kr(i,l,"widget")}),Fi(i,"lineWidgetCleared",i,this,l))}},va.prototype.changed=function(){var i=this,o=this.height,c=this.doc.cm,l=this.line;this.height=null;var u=na(this)-o;u&&(Xr(this.doc,l)||Fn(l,l.height+u),c&&xn(c,function(){c.curOp.forceUpdate=!0,fv(c,l,u),Fi(c,"lineWidgetChanged",c,i,oi(l))}))},Pt(va);function fv(i,o,c){Nr(o)<(i.curOp&&i.curOp.scrollTop||i.doc.scrollTop)&&Vh(i,c)}function gA(i,o,c,l){var u=new va(i,c,l),y=i.cm;return y&&u.noHScroll&&(y.display.alignWidgets=!0),pa(i,o,"widget",function(F){var W=F.widgets||(F.widgets=[]);if(u.insertAt==null?W.push(u):W.splice(Math.min(W.length,Math.max(0,u.insertAt)),0,u),u.line=F,y&&!Xr(i,F)){var Y=Nr(F)<i.scrollTop;Fn(F,F.height+na(u)),Y&&Vh(y,u.height),y.curOp.forceUpdate=!0}return!0}),y&&Fi(y,"lineWidgetAdded",y,u,typeof o=="number"?o:oi(o)),u}var dv=0,to=function(i,o){this.lines=[],this.type=o,this.doc=i,this.id=++dv};to.prototype.clear=function(){if(!this.explicitlyCleared){var i=this.doc.cm,o=i&&!i.curOp;if(o&&To(i),Gt(this,"clear")){var c=this.find();c&&Fi(this,"clear",c.from,c.to)}for(var l=null,u=null,y=0;y<this.lines.length;++y){var F=this.lines[y],W=ea(F.markedSpans,this);i&&!this.collapsed?Kr(i,oi(F),"text"):i&&(W.to!=null&&(u=oi(F)),W.from!=null&&(l=oi(F))),F.markedSpans=sL(F.markedSpans,W),W.from==null&&this.collapsed&&!Xr(this.doc,F)&&i&&Fn(F,Zo(i.display))}if(i&&this.collapsed&&!i.options.lineWrapping)for(var Y=0;Y<this.lines.length;++Y){var J=Qn(this.lines[Y]),pe=pc(J);pe>i.display.maxLineLength&&(i.display.maxLine=J,i.display.maxLineLength=pe,i.display.maxLineChanged=!0)}l!=null&&i&&this.collapsed&&un(i,l,u+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,i&&iv(i.doc)),i&&Fi(i,"markerCleared",i,this,l,u),o&&Lo(i),this.parent&&this.parent.clear()}},to.prototype.find=function(i,o){i==null&&this.type=="bookmark"&&(i=1);for(var c,l,u=0;u<this.lines.length;++u){var y=this.lines[u],F=ea(y.markedSpans,this);if(F.from!=null&&(c=we(o?y:oi(y),F.from),i==-1))return c;if(F.to!=null&&(l=we(o?y:oi(y),F.to),i==1))return l}return c&&{from:c,to:l}},to.prototype.changed=function(){var i=this,o=this.find(-1,!0),c=this,l=this.doc.cm;!o||!l||xn(l,function(){var u=o.line,y=oi(o.line),F=Dh(l,y);if(F&&(xy(F),l.curOp.selectionChanged=l.curOp.forceUpdate=!0),l.curOp.updateMaxLine=!0,!Xr(c.doc,u)&&c.height!=null){var W=c.height;c.height=null;var Y=na(c)-W;Y&&Fn(u,u.height+Y)}Fi(l,"markerChanged",l,i)})},to.prototype.attachLine=function(i){if(!this.lines.length&&this.doc.cm){var o=this.doc.cm.curOp;(!o.maybeHiddenMarkers||ne(o.maybeHiddenMarkers,this)==-1)&&(o.maybeUnhiddenMarkers||(o.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(i)},to.prototype.detachLine=function(i){if(this.lines.splice(ne(this.lines,i),1),!this.lines.length&&this.doc.cm){var o=this.doc.cm.curOp;(o.maybeHiddenMarkers||(o.maybeHiddenMarkers=[])).push(this)}},Pt(to);function ss(i,o,c,l,u){if(l&&l.shared)return mA(i,o,c,l,u);if(i.cm&&!i.cm.curOp)return _i(i.cm,ss)(i,o,c,l,u);var y=new to(i,u),F=Ne(o,c);if(l&&U(l,y,!1),F>0||F==0&&y.clearWhenEmpty!==!1)return y;if(y.replacedWith&&(y.collapsed=!0,y.widgetNode=N("span",[y.replacedWith],"CodeMirror-widget"),l.handleMouseEvents||y.widgetNode.setAttribute("cm-ignore-events","true"),l.insertLeft&&(y.widgetNode.insertLeft=!0)),y.collapsed){if(ny(i,o.line,o,c,y)||o.line!=c.line&&ny(i,c.line,o,c,y))throw new Error("Inserting collapsed marker partially overlapping an existing one");oL()}y.addToHistory&&Xy(i,{from:o,to:c,origin:"markText"},i.sel,NaN);var W=o.line,Y=i.cm,J;if(i.iter(W,c.line+1,function(xe){Y&&y.collapsed&&!Y.options.lineWrapping&&Qn(xe)==Y.display.maxLine&&(J=!0),y.collapsed&&W!=o.line&&Fn(xe,0),aL(xe,new uc(y,W==o.line?o.ch:null,W==c.line?c.ch:null),i.cm&&i.cm.curOp),++W}),y.collapsed&&i.iter(o.line,c.line+1,function(xe){Xr(i,xe)&&Fn(xe,0)}),y.clearOnEnter&&Pe(y,"beforeCursorEnter",function(){return y.clear()}),y.readOnly&&(rL(),(i.history.done.length||i.history.undone.length)&&i.clearHistory()),y.collapsed&&(y.id=++dv,y.atomic=!0),Y){if(J&&(Y.curOp.updateMaxLine=!0),y.collapsed)un(Y,o.line,c.line+1);else if(y.className||y.startStyle||y.endStyle||y.css||y.attributes||y.title)for(var pe=o.line;pe<=c.line;pe++)Kr(Y,pe,"text");y.atomic&&iv(Y.doc),Fi(Y,"markerAdded",Y,y)}return y}var xa=function(i,o){this.markers=i,this.primary=o;for(var c=0;c<i.length;++c)i[c].parent=this};xa.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var i=0;i<this.markers.length;++i)this.markers[i].clear();Fi(this,"clear")}},xa.prototype.find=function(i,o){return this.primary.find(i,o)},Pt(xa);function mA(i,o,c,l,u){l=U(l),l.shared=!1;var y=[ss(i,o,c,l,u)],F=y[0],W=l.widgetNode;return eo(i,function(Y){W&&(l.widgetNode=W.cloneNode(!0)),y.push(ss(Y,Rt(Y,o),Rt(Y,c),l,u));for(var J=0;J<Y.linked.length;++J)if(Y.linked[J].isParent)return;F=me(y)}),new xa(y,F)}function pv(i){return i.findMarks(we(i.first,0),i.clipPos(we(i.lastLine())),function(o){return o.parent})}function yA(i,o){for(var c=0;c<o.length;c++){var l=o[c],u=l.find(),y=i.clipPos(u.from),F=i.clipPos(u.to);if(Ne(y,F)){var W=ss(i,y,F,l.primary,l.primary.type);l.markers.push(W),W.parent=l}}}function vA(i){for(var o=function(l){var u=i[l],y=[u.primary.doc];eo(u.primary.doc,function(Y){return y.push(Y)});for(var F=0;F<u.markers.length;F++){var W=u.markers[F];ne(y,W.doc)==-1&&(W.parent=null,u.markers.splice(F--,1))}},c=0;c<i.length;c++)o(c)}var xA=0,hn=function(i,o,c,l,u){if(!(this instanceof hn))return new hn(i,o,c,l,u);c==null&&(c=0),ya.call(this,[new ma([new Yo("",null)])]),this.first=c,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=c;var y=we(c,0);this.sel=Qr(y),this.history=new Lc(null),this.id=++xA,this.modeOption=o,this.lineSep=l,this.direction=u=="rtl"?"rtl":"ltr",this.extend=!1,typeof i=="string"&&(i=this.splitLines(i)),ef(this,{from:y,to:y,text:i}),Yi(this,Qr(y),V)};hn.prototype=he(ya.prototype,{constructor:hn,iter:function(i,o,c){c?this.iterN(i-this.first,o-i,c):this.iterN(this.first,this.first+this.size,i)},insert:function(i,o){for(var c=0,l=0;l<o.length;++l)c+=o[l].height;this.insertInner(i-this.first,o,c)},remove:function(i,o){this.removeInner(i-this.first,o)},getValue:function(i){var o=$o(this,this.first,this.first+this.size);return i===!1?o:o.join(i||this.lineSeparator())},setValue:Hi(function(i){var o=we(this.first,0),c=this.first+this.size-1;rs(this,{from:o,to:we(c,et(this,c).text.length),text:this.splitLines(i),origin:"setValue",full:!0},!0),this.cm&&sa(this.cm,0,0),Yi(this,Qr(o),V)}),replaceRange:function(i,o,c,l){o=Rt(this,o),c=c?Rt(this,c):o,os(this,i,o,c,l)},getRange:function(i,o,c){var l=Pr(this,Rt(this,i),Rt(this,o));return c===!1?l:c===""?l.join(""):l.join(c||this.lineSeparator())},getLine:function(i){var o=this.getLineHandle(i);return o&&o.text},getLineHandle:function(i){if(se(this,i))return et(this,i)},getLineNumber:function(i){return oi(i)},getLineHandleVisualStart:function(i){return typeof i=="number"&&(i=et(this,i)),Qn(i)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(i){return Rt(this,i)},getCursor:function(i){var o=this.sel.primary(),c;return i==null||i=="head"?c=o.head:i=="anchor"?c=o.anchor:i=="end"||i=="to"||i===!1?c=o.to():c=o.from(),c},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Hi(function(i,o,c){Jy(this,Rt(this,typeof i=="number"?we(i,o||0):i),null,c)}),setSelection:Hi(function(i,o,c){Jy(this,Rt(this,i),Rt(this,o||i),c)}),extendSelection:Hi(function(i,o,c){Mc(this,Rt(this,i),o&&Rt(this,o),c)}),extendSelections:Hi(function(i,o){Qy(this,qm(this,i),o)}),extendSelectionsBy:Hi(function(i,o){var c=Le(this.sel.ranges,i);Qy(this,qm(this,c),o)}),setSelections:Hi(function(i,o,c){if(i.length){for(var l=[],u=0;u<i.length;u++)l[u]=new si(Rt(this,i[u].anchor),Rt(this,i[u].head||i[u].anchor));o==null&&(o=Math.min(i.length-1,this.sel.primIndex)),Yi(this,er(this.cm,l,o),c)}}),addSelection:Hi(function(i,o,c){var l=this.sel.ranges.slice(0);l.push(new si(Rt(this,i),Rt(this,o||i))),Yi(this,er(this.cm,l,l.length-1),c)}),getSelection:function(i){for(var o=this.sel.ranges,c,l=0;l<o.length;l++){var u=Pr(this,o[l].from(),o[l].to());c=c?c.concat(u):u}return i===!1?c:c.join(i||this.lineSeparator())},getSelections:function(i){for(var o=[],c=this.sel.ranges,l=0;l<c.length;l++){var u=Pr(this,c[l].from(),c[l].to());i!==!1&&(u=u.join(i||this.lineSeparator())),o[l]=u}return o},replaceSelection:function(i,o,c){for(var l=[],u=0;u<this.sel.ranges.length;u++)l[u]=i;this.replaceSelections(l,o,c||"+input")},replaceSelections:Hi(function(i,o,c){for(var l=[],u=this.sel,y=0;y<u.ranges.length;y++){var F=u.ranges[y];l[y]={from:F.from(),to:F.to(),text:this.splitLines(i[y]),origin:c}}for(var W=o&&o!="end"&&sA(this,l,o),Y=l.length-1;Y>=0;Y--)rs(this,l[Y]);W?ev(this,W):this.cm&&es(this.cm)}),undo:Hi(function(){Oc(this,"undo")}),redo:Hi(function(){Oc(this,"redo")}),undoSelection:Hi(function(){Oc(this,"undo",!0)}),redoSelection:Hi(function(){Oc(this,"redo",!0)}),setExtending:function(i){this.extend=i},getExtending:function(){return this.extend},historySize:function(){for(var i=this.history,o=0,c=0,l=0;l<i.done.length;l++)i.done[l].ranges||++o;for(var u=0;u<i.undone.length;u++)i.undone[u].ranges||++c;return{undo:o,redo:c}},clearHistory:function(){var i=this;this.history=new Lc(this.history),eo(this,function(o){return o.history=i.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(i){return i&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(i){return this.history.generation==(i||this.cleanGeneration)},getHistory:function(){return{done:is(this.history.done),undone:is(this.history.undone)}},setHistory:function(i){var o=this.history=new Lc(this.history);o.done=is(i.done.slice(0),null,!0),o.undone=is(i.undone.slice(0),null,!0)},setGutterMarker:Hi(function(i,o,c){return pa(this,i,"gutter",function(l){var u=l.gutterMarkers||(l.gutterMarkers={});return u[o]=c,!c&&X(u)&&(l.gutterMarkers=null),!0})}),clearGutter:Hi(function(i){var o=this;this.iter(function(c){c.gutterMarkers&&c.gutterMarkers[i]&&pa(o,c,"gutter",function(){return c.gutterMarkers[i]=null,X(c.gutterMarkers)&&(c.gutterMarkers=null),!0})})}),lineInfo:function(i){var o;if(typeof i=="number"){if(!se(this,i)||(o=i,i=et(this,i),!i))return null}else if(o=oi(i),o==null)return null;return{line:o,handle:i,text:i.text,gutterMarkers:i.gutterMarkers,textClass:i.textClass,bgClass:i.bgClass,wrapClass:i.wrapClass,widgets:i.widgets}},addLineClass:Hi(function(i,o,c){return pa(this,i,o=="gutter"?"gutter":"class",function(l){var u=o=="text"?"textClass":o=="background"?"bgClass":o=="gutter"?"gutterClass":"wrapClass";if(!l[u])l[u]=c;else{if(O(c).test(l[u]))return!1;l[u]+=" "+c}return!0})}),removeLineClass:Hi(function(i,o,c){return pa(this,i,o=="gutter"?"gutter":"class",function(l){var u=o=="text"?"textClass":o=="background"?"bgClass":o=="gutter"?"gutterClass":"wrapClass",y=l[u];if(y)if(c==null)l[u]=null;else{var F=y.match(O(c));if(!F)return!1;var W=F.index+F[0].length;l[u]=y.slice(0,F.index)+(!F.index||W==y.length?"":" ")+y.slice(W)||null}else return!1;return!0})}),addLineWidget:Hi(function(i,o,c){return gA(this,i,o,c)}),removeLineWidget:function(i){i.clear()},markText:function(i,o,c){return ss(this,Rt(this,i),Rt(this,o),c,c&&c.type||"range")},setBookmark:function(i,o){var c={replacedWith:o&&(o.nodeType==null?o.widget:o),insertLeft:o&&o.insertLeft,clearWhenEmpty:!1,shared:o&&o.shared,handleMouseEvents:o&&o.handleMouseEvents};return i=Rt(this,i),ss(this,i,i,c,"bookmark")},findMarksAt:function(i){i=Rt(this,i);var o=[],c=et(this,i.line).markedSpans;if(c)for(var l=0;l<c.length;++l){var u=c[l];(u.from==null||u.from<=i.ch)&&(u.to==null||u.to>=i.ch)&&o.push(u.marker.parent||u.marker)}return o},findMarks:function(i,o,c){i=Rt(this,i),o=Rt(this,o);var l=[],u=i.line;return this.iter(i.line,o.line+1,function(y){var F=y.markedSpans;if(F)for(var W=0;W<F.length;W++){var Y=F[W];!(Y.to!=null&&u==i.line&&i.ch>=Y.to||Y.from==null&&u!=i.line||Y.from!=null&&u==o.line&&Y.from>=o.ch)&&(!c||c(Y.marker))&&l.push(Y.marker.parent||Y.marker)}++u}),l},getAllMarks:function(){var i=[];return this.iter(function(o){var c=o.markedSpans;if(c)for(var l=0;l<c.length;++l)c[l].from!=null&&i.push(c[l].marker)}),i},posFromIndex:function(i){var o,c=this.first,l=this.lineSeparator().length;return this.iter(function(u){var y=u.text.length+l;if(y>i)return o=i,!0;i-=y,++c}),Rt(this,we(c,o))},indexFromPos:function(i){i=Rt(this,i);var o=i.ch;if(i.line<this.first||i.ch<0)return 0;var c=this.lineSeparator().length;return this.iter(this.first,i.line,function(l){o+=l.text.length+c}),o},copy:function(i){var o=new hn($o(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return o.scrollTop=this.scrollTop,o.scrollLeft=this.scrollLeft,o.sel=this.sel,o.extend=!1,i&&(o.history.undoDepth=this.history.undoDepth,o.setHistory(this.getHistory())),o},linkedDoc:function(i){i||(i={});var o=this.first,c=this.first+this.size;i.from!=null&&i.from>o&&(o=i.from),i.to!=null&&i.to<c&&(c=i.to);var l=new hn($o(this,o,c),i.mode||this.modeOption,o,this.lineSep,this.direction);return i.sharedHist&&(l.history=this.history),(this.linked||(this.linked=[])).push({doc:l,sharedHist:i.sharedHist}),l.linked=[{doc:this,isParent:!0,sharedHist:i.sharedHist}],yA(l,pv(this)),l},unlinkDoc:function(i){if(i instanceof Ci&&(i=i.doc),this.linked)for(var o=0;o<this.linked.length;++o){var c=this.linked[o];if(c.doc==i){this.linked.splice(o,1),i.unlinkDoc(this),vA(pv(this));break}}if(i.history==this.history){var l=[i.id];eo(i,function(u){return l.push(u.id)},!0),i.history=new Lc(null),i.history.done=is(this.history.done,l),i.history.undone=is(this.history.undone,l)}},iterLinkedDocs:function(i){eo(this,i)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(i){return this.lineSep?i.split(this.lineSep):An(i)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Hi(function(i){i!="rtl"&&(i="ltr"),i!=this.direction&&(this.direction=i,this.iter(function(o){return o.order=null}),this.cm&&aA(this.cm))})}),hn.prototype.eachLine=hn.prototype.iter;var gv=0;function bA(i){var o=this;if(mv(o),!(qe(o,i)||Dr(o.display,i))){_t(i),h&&(gv=+new Date);var c=wo(o,i,!0),l=i.dataTransfer.files;if(!(!c||o.isReadOnly()))if(l&&l.length&&window.FileReader&&window.File)for(var u=l.length,y=Array(u),F=0,W=function(){++F==u&&_i(o,function(){c=Rt(o.doc,c);var Se={from:c,to:c,text:o.doc.splitLines(y.filter(function(Ie){return Ie!=null}).join(o.doc.lineSeparator())),origin:"paste"};rs(o.doc,Se),ev(o.doc,Qr(Rt(o.doc,c),Rt(o.doc,Jr(Se))))})()},Y=function(Se,Ie){if(o.options.allowDropFileTypes&&ne(o.options.allowDropFileTypes,Se.type)==-1){W();return}var Fe=new FileReader;Fe.onerror=function(){return W()},Fe.onload=function(){var We=Fe.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(We)){W();return}y[Ie]=We,W()},Fe.readAsText(Se)},J=0;J<l.length;J++)Y(l[J],J);else{if(o.state.draggingText&&o.doc.sel.contains(c)>-1){o.state.draggingText(i),setTimeout(function(){return o.display.input.focus()},20);return}try{var pe=i.dataTransfer.getData("Text");if(pe){var xe;if(o.state.draggingText&&!o.state.draggingText.copy&&(xe=o.listSelections()),Ec(o.doc,Qr(c,c)),xe)for(var Te=0;Te<xe.length;++Te)os(o.doc,"",xe[Te].anchor,xe[Te].head,"drag");o.replaceSelection(pe,"around","paste"),o.display.input.focus()}}catch{}}}}function wA(i,o){if(h&&(!i.state.draggingText||+new Date-gv<100)){Ei(o);return}if(!(qe(i,o)||Dr(i.display,o))&&(o.dataTransfer.setData("Text",i.getSelection()),o.dataTransfer.effectAllowed="copyMove",o.dataTransfer.setDragImage&&!C)){var c=d("img",null,null,"position: fixed; left: 0; top: 0;");c.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",v&&(c.width=c.height=1,i.display.wrapper.appendChild(c),c._top=c.offsetTop),o.dataTransfer.setDragImage(c,0,0),v&&c.parentNode.removeChild(c)}}function kA(i,o){var c=wo(i,o);if(c){var l=document.createDocumentFragment();Hh(i,c,l),i.display.dragCursor||(i.display.dragCursor=d("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),i.display.lineSpace.insertBefore(i.display.dragCursor,i.display.cursorDiv)),k(i.display.dragCursor,l)}}function mv(i){i.display.dragCursor&&(i.display.lineSpace.removeChild(i.display.dragCursor),i.display.dragCursor=null)}function yv(i){if(document.getElementsByClassName){for(var o=document.getElementsByClassName("CodeMirror"),c=[],l=0;l<o.length;l++){var u=o[l].CodeMirror;u&&c.push(u)}c.length&&c[0].operation(function(){for(var y=0;y<c.length;y++)i(c[y])})}}var vv=!1;function SA(){vv||(CA(),vv=!0)}function CA(){var i;Pe(window,"resize",function(){i==null&&(i=setTimeout(function(){i=null,yv(TA)},100))}),Pe(window,"blur",function(){return yv(Jo)})}function TA(i){var o=i.display;o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.scrollbarsClipped=!1,i.setSize()}for(var io={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},ba=0;ba<10;ba++)io[ba+48]=io[ba+96]=String(ba);for(var Nc=65;Nc<=90;Nc++)io[Nc]=String.fromCharCode(Nc);for(var wa=1;wa<=12;wa++)io[wa+111]=io[wa+63235]="F"+wa;var Rr={};Rr.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Rr.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Rr.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Rr.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Rr.default=A?Rr.macDefault:Rr.pcDefault;function LA(i){var o=i.split(/-(?!$)/);i=o[o.length-1];for(var c,l,u,y,F=0;F<o.length-1;F++){var W=o[F];if(/^(cmd|meta|m)$/i.test(W))y=!0;else if(/^a(lt)?$/i.test(W))c=!0;else if(/^(c|ctrl|control)$/i.test(W))l=!0;else if(/^s(hift)?$/i.test(W))u=!0;else throw new Error("Unrecognized modifier name: "+W)}return c&&(i="Alt-"+i),l&&(i="Ctrl-"+i),y&&(i="Cmd-"+i),u&&(i="Shift-"+i),i}function AA(i){var o={};for(var c in i)if(i.hasOwnProperty(c)){var l=i[c];if(/^(name|fallthrough|(de|at)tach)$/.test(c))continue;if(l=="..."){delete i[c];continue}for(var u=Le(c.split(" "),LA),y=0;y<u.length;y++){var F=void 0,W=void 0;y==u.length-1?(W=u.join(" "),F=l):(W=u.slice(0,y+1).join(" "),F="...");var Y=o[W];if(!Y)o[W]=F;else if(Y!=F)throw new Error("Inconsistent bindings for "+W)}delete i[c]}for(var J in o)i[J]=o[J];return i}function as(i,o,c,l){o=Dc(o);var u=o.call?o.call(i,l):o[i];if(u===!1)return"nothing";if(u==="...")return"multi";if(u!=null&&c(u))return"handled";if(o.fallthrough){if(Object.prototype.toString.call(o.fallthrough)!="[object Array]")return as(i,o.fallthrough,c,l);for(var y=0;y<o.fallthrough.length;y++){var F=as(i,o.fallthrough[y],c,l);if(F)return F}}}function xv(i){var o=typeof i=="string"?i:io[i.keyCode];return o=="Ctrl"||o=="Alt"||o=="Shift"||o=="Mod"}function bv(i,o,c){var l=i;return o.altKey&&l!="Alt"&&(i="Alt-"+i),(z?o.metaKey:o.ctrlKey)&&l!="Ctrl"&&(i="Ctrl-"+i),(z?o.ctrlKey:o.metaKey)&&l!="Mod"&&(i="Cmd-"+i),!c&&o.shiftKey&&l!="Shift"&&(i="Shift-"+i),i}function wv(i,o){if(v&&i.keyCode==34&&i.char)return!1;var c=io[i.keyCode];return c==null||i.altGraphKey?!1:(i.keyCode==3&&i.code&&(c=i.code),bv(c,i,o))}function Dc(i){return typeof i=="string"?Rr[i]:i}function ls(i,o){for(var c=i.doc.sel.ranges,l=[],u=0;u<c.length;u++){for(var y=o(c[u]);l.length&&Ne(y.from,me(l).to)<=0;){var F=l.pop();if(Ne(F.from,y.from)<0){y.from=F.from;break}}l.push(y)}xn(i,function(){for(var W=l.length-1;W>=0;W--)os(i.doc,"",l[W].from,l[W].to,"+delete");es(i)})}function of(i,o,c){var l=ye(i.text,o+c,c);return l<0||l>i.text.length?null:l}function sf(i,o,c){var l=of(i,o.ch,c);return l==null?null:new we(o.line,l,c<0?"after":"before")}function af(i,o,c,l,u){if(i){o.doc.direction=="rtl"&&(u=-u);var y=_e(c,o.doc.direction);if(y){var F=u<0?me(y):y[0],W=u<0==(F.level==1),Y=W?"after":"before",J;if(F.level>0||o.doc.direction=="rtl"){var pe=Ko(o,c);J=u<0?c.text.length-1:0;var xe=yr(o,pe,J).top;J=ke(function(Te){return yr(o,pe,Te).top==xe},u<0==(F.level==1)?F.from:F.to-1,J),Y=="before"&&(J=of(c,J,1))}else J=u<0?F.to:F.from;return new we(l,J,Y)}}return new we(l,u<0?c.text.length:0,u<0?"before":"after")}function MA(i,o,c,l){var u=_e(o,i.doc.direction);if(!u)return sf(o,c,l);c.ch>=o.text.length?(c.ch=o.text.length,c.sticky="before"):c.ch<=0&&(c.ch=0,c.sticky="after");var y=Oe(u,c.ch,c.sticky),F=u[y];if(i.doc.direction=="ltr"&&F.level%2==0&&(l>0?F.to>c.ch:F.from<c.ch))return sf(o,c,l);var W=function(Ue,$e){return of(o,Ue instanceof we?Ue.ch:Ue,$e)},Y,J=function(Ue){return i.options.lineWrapping?(Y=Y||Ko(i,o),Ly(i,o,Y,Ue)):{begin:0,end:o.text.length}},pe=J(c.sticky=="before"?W(c,-1):c.ch);if(i.doc.direction=="rtl"||F.level==1){var xe=F.level==1==l<0,Te=W(c,xe?1:-1);if(Te!=null&&(xe?Te<=F.to&&Te<=pe.end:Te>=F.from&&Te>=pe.begin)){var Se=xe?"before":"after";return new we(c.line,Te,Se)}}var Ie=function(Ue,$e,Ge){for(var Ye=function(di,Wi){return Wi?new we(c.line,W(di,1),"before"):new we(c.line,di,"after")};Ue>=0&&Ue<u.length;Ue+=$e){var Mt=u[Ue],ot=$e>0==(Mt.level!=1),Wt=ot?Ge.begin:W(Ge.end,-1);if(Mt.from<=Wt&&Wt<Mt.to||(Wt=ot?Mt.from:W(Mt.to,-1),Ge.begin<=Wt&&Wt<Ge.end))return Ye(Wt,ot)}},Fe=Ie(y+l,l,pe);if(Fe)return Fe;var We=l>0?pe.end:W(pe.begin,-1);return We!=null&&!(l>0&&We==o.text.length)&&(Fe=Ie(l>0?0:u.length-1,l,J(We)),Fe)?Fe:null}var ka={selectAll:ov,singleSelection:function(i){return i.setSelection(i.getCursor("anchor"),i.getCursor("head"),V)},killLine:function(i){return ls(i,function(o){if(o.empty()){var c=et(i.doc,o.head.line).text.length;return o.head.ch==c&&o.head.line<i.lastLine()?{from:o.head,to:we(o.head.line+1,0)}:{from:o.head,to:we(o.head.line,c)}}else return{from:o.from(),to:o.to()}})},deleteLine:function(i){return ls(i,function(o){return{from:we(o.from().line,0),to:Rt(i.doc,we(o.to().line+1,0))}})},delLineLeft:function(i){return ls(i,function(o){return{from:we(o.from().line,0),to:o.from()}})},delWrappedLineLeft:function(i){return ls(i,function(o){var c=i.charCoords(o.head,"div").top+5,l=i.coordsChar({left:0,top:c},"div");return{from:l,to:o.from()}})},delWrappedLineRight:function(i){return ls(i,function(o){var c=i.charCoords(o.head,"div").top+5,l=i.coordsChar({left:i.display.lineDiv.offsetWidth+100,top:c},"div");return{from:o.from(),to:l}})},undo:function(i){return i.undo()},redo:function(i){return i.redo()},undoSelection:function(i){return i.undoSelection()},redoSelection:function(i){return i.redoSelection()},goDocStart:function(i){return i.extendSelection(we(i.firstLine(),0))},goDocEnd:function(i){return i.extendSelection(we(i.lastLine()))},goLineStart:function(i){return i.extendSelectionsBy(function(o){return kv(i,o.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(i){return i.extendSelectionsBy(function(o){return Sv(i,o.head)},{origin:"+move",bias:1})},goLineEnd:function(i){return i.extendSelectionsBy(function(o){return EA(i,o.head.line)},{origin:"+move",bias:-1})},goLineRight:function(i){return i.extendSelectionsBy(function(o){var c=i.cursorCoords(o.head,"div").top+5;return i.coordsChar({left:i.display.lineDiv.offsetWidth+100,top:c},"div")},oe)},goLineLeft:function(i){return i.extendSelectionsBy(function(o){var c=i.cursorCoords(o.head,"div").top+5;return i.coordsChar({left:0,top:c},"div")},oe)},goLineLeftSmart:function(i){return i.extendSelectionsBy(function(o){var c=i.cursorCoords(o.head,"div").top+5,l=i.coordsChar({left:0,top:c},"div");return l.ch<i.getLine(l.line).search(/\S/)?Sv(i,o.head):l},oe)},goLineUp:function(i){return i.moveV(-1,"line")},goLineDown:function(i){return i.moveV(1,"line")},goPageUp:function(i){return i.moveV(-1,"page")},goPageDown:function(i){return i.moveV(1,"page")},goCharLeft:function(i){return i.moveH(-1,"char")},goCharRight:function(i){return i.moveH(1,"char")},goColumnLeft:function(i){return i.moveH(-1,"column")},goColumnRight:function(i){return i.moveH(1,"column")},goWordLeft:function(i){return i.moveH(-1,"word")},goGroupRight:function(i){return i.moveH(1,"group")},goGroupLeft:function(i){return i.moveH(-1,"group")},goWordRight:function(i){return i.moveH(1,"word")},delCharBefore:function(i){return i.deleteH(-1,"codepoint")},delCharAfter:function(i){return i.deleteH(1,"char")},delWordBefore:function(i){return i.deleteH(-1,"word")},delWordAfter:function(i){return i.deleteH(1,"word")},delGroupBefore:function(i){return i.deleteH(-1,"group")},delGroupAfter:function(i){return i.deleteH(1,"group")},indentAuto:function(i){return i.indentSelection("smart")},indentMore:function(i){return i.indentSelection("add")},indentLess:function(i){return i.indentSelection("subtract")},insertTab:function(i){return i.replaceSelection("	")},insertSoftTab:function(i){for(var o=[],c=i.listSelections(),l=i.options.tabSize,u=0;u<c.length;u++){var y=c[u].from(),F=Z(i.getLine(y.line),y.ch,l);o.push(ve(l-F%l))}i.replaceSelections(o)},defaultTab:function(i){i.somethingSelected()?i.indentSelection("add"):i.execCommand("insertTab")},transposeChars:function(i){return xn(i,function(){for(var o=i.listSelections(),c=[],l=0;l<o.length;l++)if(o[l].empty()){var u=o[l].head,y=et(i.doc,u.line).text;if(y){if(u.ch==y.length&&(u=new we(u.line,u.ch-1)),u.ch>0)u=new we(u.line,u.ch+1),i.replaceRange(y.charAt(u.ch-1)+y.charAt(u.ch-2),we(u.line,u.ch-2),u,"+transpose");else if(u.line>i.doc.first){var F=et(i.doc,u.line-1).text;F&&(u=new we(u.line,1),i.replaceRange(y.charAt(0)+i.doc.lineSeparator()+F.charAt(F.length-1),we(u.line-1,F.length-1),u,"+transpose"))}}c.push(new si(u,u))}i.setSelections(c)})},newlineAndIndent:function(i){return xn(i,function(){for(var o=i.listSelections(),c=o.length-1;c>=0;c--)i.replaceRange(i.doc.lineSeparator(),o[c].anchor,o[c].head,"+input");o=i.listSelections();for(var l=0;l<o.length;l++)i.indentLine(o[l].from().line,null,!0);es(i)})},openLine:function(i){return i.replaceSelection(`
`,"start")},toggleOverwrite:function(i){return i.toggleOverwrite()}};function kv(i,o){var c=et(i.doc,o),l=Qn(c);return l!=c&&(o=oi(l)),af(!0,i,l,o,1)}function EA(i,o){var c=et(i.doc,o),l=fL(c);return l!=c&&(o=oi(l)),af(!0,i,c,o,-1)}function Sv(i,o){var c=kv(i,o.line),l=et(i.doc,c.line),u=_e(l,i.doc.direction);if(!u||u[0].level==0){var y=Math.max(c.ch,l.text.search(/\S/)),F=o.line==c.line&&o.ch<=y&&o.ch;return we(c.line,F?0:y,c.sticky)}return c}function Ic(i,o,c){if(typeof o=="string"&&(o=ka[o],!o))return!1;i.display.input.ensurePolled();var l=i.display.shift,u=!1;try{i.isReadOnly()&&(i.state.suppressEdits=!0),c&&(i.display.shift=!1),u=o(i)!=K}finally{i.display.shift=l,i.state.suppressEdits=!1}return u}function PA(i,o,c){for(var l=0;l<i.state.keyMaps.length;l++){var u=as(o,i.state.keyMaps[l],c,i);if(u)return u}return i.options.extraKeys&&as(o,i.options.extraKeys,c,i)||as(o,i.options.keyMap,c,i)}var OA=new te;function Sa(i,o,c,l){var u=i.state.keySeq;if(u){if(xv(o))return"handled";if(/\'$/.test(o)?i.state.keySeq=null:OA.set(50,function(){i.state.keySeq==u&&(i.state.keySeq=null,i.display.input.reset())}),Cv(i,u+" "+o,c,l))return!0}return Cv(i,o,c,l)}function Cv(i,o,c,l){var u=PA(i,o,l);return u=="multi"&&(i.state.keySeq=o),u=="handled"&&Fi(i,"keyHandled",i,o,c),(u=="handled"||u=="multi")&&(_t(c),Wh(i)),!!u}function Tv(i,o){var c=wv(o,!0);return c?o.shiftKey&&!i.state.keySeq?Sa(i,"Shift-"+c,o,function(l){return Ic(i,l,!0)})||Sa(i,c,o,function(l){if(typeof l=="string"?/^go[A-Z]/.test(l):l.motion)return Ic(i,l)}):Sa(i,c,o,function(l){return Ic(i,l)}):!1}function NA(i,o,c){return Sa(i,"'"+c+"'",o,function(l){return Ic(i,l,!0)})}var lf=null;function Lv(i){var o=this;if(!(i.target&&i.target!=o.display.input.getField())&&(o.curOp.focus=ee(ie(o)),!qe(o,i))){h&&f<11&&i.keyCode==27&&(i.returnValue=!1);var c=i.keyCode;o.display.shift=c==16||i.shiftKey;var l=Tv(o,i);v&&(lf=l?c:null,!l&&c==88&&!en&&(A?i.metaKey:i.ctrlKey)&&o.replaceSelection("",null,"cut")),n&&!A&&!l&&c==46&&i.shiftKey&&!i.ctrlKey&&document.execCommand&&document.execCommand("cut"),c==18&&!/\bCodeMirror-crosshair\b/.test(o.display.lineDiv.className)&&DA(o)}}function DA(i){var o=i.display.lineDiv;ue(o,"CodeMirror-crosshair");function c(l){(l.keyCode==18||!l.altKey)&&(S(o,"CodeMirror-crosshair"),nt(document,"keyup",c),nt(document,"mouseover",c))}Pe(document,"keyup",c),Pe(document,"mouseover",c)}function Av(i){i.keyCode==16&&(this.doc.sel.shift=!1),qe(this,i)}function Mv(i){var o=this;if(!(i.target&&i.target!=o.display.input.getField())&&!(Dr(o.display,i)||qe(o,i)||i.ctrlKey&&!i.altKey||A&&i.metaKey)){var c=i.keyCode,l=i.charCode;if(v&&c==lf){lf=null,_t(i);return}if(!(v&&(!i.which||i.which<10)&&Tv(o,i))){var u=String.fromCharCode(l??c);u!="\b"&&(NA(o,i,u)||o.display.input.onKeyPress(i))}}}var IA=400,cf=function(i,o,c){this.time=i,this.pos=o,this.button=c};cf.prototype.compare=function(i,o,c){return this.time+IA>i&&Ne(o,this.pos)==0&&c==this.button};var Ca,Ta;function RA(i,o){var c=+new Date;return Ta&&Ta.compare(c,i,o)?(Ca=Ta=null,"triple"):Ca&&Ca.compare(c,i,o)?(Ta=new cf(c,i,o),Ca=null,"double"):(Ca=new cf(c,i,o),Ta=null,"single")}function Ev(i){var o=this,c=o.display;if(!(qe(o,i)||c.activeTouch&&c.input.supportsTouch())){if(c.input.ensurePolled(),c.shift=i.shiftKey,Dr(c,i)){g||(c.scroller.draggable=!1,setTimeout(function(){return c.scroller.draggable=!0},100));return}if(!uf(o,i)){var l=wo(o,i),u=an(i),y=l?RA(l,u):"single";j(o).focus(),u==1&&o.state.selectingText&&o.state.selectingText(i),!(l&&jA(o,u,l,y,i))&&(u==1?l?BA(o,l,y,i):yi(i)==c.scroller&&_t(i):u==2?(l&&Mc(o.doc,l),setTimeout(function(){return c.input.focus()},20)):u==3&&(I?o.display.input.onContextMenu(i):qh(o)))}}}function jA(i,o,c,l,u){var y="Click";return l=="double"?y="Double"+y:l=="triple"&&(y="Triple"+y),y=(o==1?"Left":o==2?"Middle":"Right")+y,Sa(i,bv(y,u),u,function(F){if(typeof F=="string"&&(F=ka[F]),!F)return!1;var W=!1;try{i.isReadOnly()&&(i.state.suppressEdits=!0),W=F(i,c)!=K}finally{i.state.suppressEdits=!1}return W})}function zA(i,o,c){var l=i.getOption("configureMouse"),u=l?l(i,o,c):{};if(u.unit==null){var y=E?c.shiftKey&&c.metaKey:c.altKey;u.unit=y?"rectangle":o=="single"?"char":o=="double"?"word":"line"}return(u.extend==null||i.doc.extend)&&(u.extend=i.doc.extend||c.shiftKey),u.addNew==null&&(u.addNew=A?c.metaKey:c.ctrlKey),u.moveOnDrag==null&&(u.moveOnDrag=!(A?c.altKey:c.ctrlKey)),u}function BA(i,o,c,l){h?setTimeout(H(Py,i),0):i.curOp.focus=ee(ie(i));var u=zA(i,c,l),y=i.doc.sel,F;i.options.dragDrop&&Ln&&!i.isReadOnly()&&c=="single"&&(F=y.contains(o))>-1&&(Ne((F=y.ranges[F]).from(),o)<0||o.xRel>0)&&(Ne(F.to(),o)>0||o.xRel<0)?FA(i,l,o,u):_A(i,l,o,u)}function FA(i,o,c,l){var u=i.display,y=!1,F=_i(i,function(J){g&&(u.scroller.draggable=!1),i.state.draggingText=!1,i.state.delayingBlurEvent&&(i.hasFocus()?i.state.delayingBlurEvent=!1:qh(i)),nt(u.wrapper.ownerDocument,"mouseup",F),nt(u.wrapper.ownerDocument,"mousemove",W),nt(u.scroller,"dragstart",Y),nt(u.scroller,"drop",F),y||(_t(J),l.addNew||Mc(i.doc,c,null,null,l.extend),g&&!C||h&&f==9?setTimeout(function(){u.wrapper.ownerDocument.body.focus({preventScroll:!0}),u.input.focus()},20):u.input.focus())}),W=function(J){y=y||Math.abs(o.clientX-J.clientX)+Math.abs(o.clientY-J.clientY)>=10},Y=function(){return y=!0};g&&(u.scroller.draggable=!0),i.state.draggingText=F,F.copy=!l.moveOnDrag,Pe(u.wrapper.ownerDocument,"mouseup",F),Pe(u.wrapper.ownerDocument,"mousemove",W),Pe(u.scroller,"dragstart",Y),Pe(u.scroller,"drop",F),i.state.delayingBlurEvent=!0,setTimeout(function(){return u.input.focus()},20),u.scroller.dragDrop&&u.scroller.dragDrop()}function Pv(i,o,c){if(c=="char")return new si(o,o);if(c=="word")return i.findWordAt(o);if(c=="line")return new si(we(o.line,0),Rt(i.doc,we(o.line+1,0)));var l=c(i,o);return new si(l.from,l.to)}function _A(i,o,c,l){h&&qh(i);var u=i.display,y=i.doc;_t(o);var F,W,Y=y.sel,J=Y.ranges;if(l.addNew&&!l.extend?(W=y.sel.contains(c),W>-1?F=J[W]:F=new si(c,c)):(F=y.sel.primary(),W=y.sel.primIndex),l.unit=="rectangle")l.addNew||(F=new si(c,c)),c=wo(i,o,!0,!0),W=-1;else{var pe=Pv(i,c,l.unit);l.extend?F=nf(F,pe.anchor,pe.head,l.extend):F=pe}l.addNew?W==-1?(W=J.length,Yi(y,er(i,J.concat([F]),W),{scroll:!1,origin:"*mouse"})):J.length>1&&J[W].empty()&&l.unit=="char"&&!l.extend?(Yi(y,er(i,J.slice(0,W).concat(J.slice(W+1)),0),{scroll:!1,origin:"*mouse"}),Y=y.sel):rf(y,W,F,re):(W=0,Yi(y,new En([F],0),re),Y=y.sel);var xe=c;function Te(Ge){if(Ne(xe,Ge)!=0)if(xe=Ge,l.unit=="rectangle"){for(var Ye=[],Mt=i.options.tabSize,ot=Z(et(y,c.line).text,c.ch,Mt),Wt=Z(et(y,Ge.line).text,Ge.ch,Mt),di=Math.min(ot,Wt),Wi=Math.max(ot,Wt),Ti=Math.min(c.line,Ge.line),bn=Math.min(i.lastLine(),Math.max(c.line,Ge.line));Ti<=bn;Ti++){var fn=et(y,Ti).text,Di=ge(fn,di,Mt);di==Wi?Ye.push(new si(we(Ti,Di),we(Ti,Di))):fn.length>Di&&Ye.push(new si(we(Ti,Di),we(Ti,ge(fn,Wi,Mt))))}Ye.length||Ye.push(new si(c,c)),Yi(y,er(i,Y.ranges.slice(0,W).concat(Ye),W),{origin:"*mouse",scroll:!1}),i.scrollIntoView(Ge)}else{var dn=F,Gi=Pv(i,Ge,l.unit),zi=dn.anchor,Ii;Ne(Gi.anchor,zi)>0?(Ii=Gi.head,zi=ji(dn.from(),Gi.anchor)):(Ii=Gi.anchor,zi=ri(dn.to(),Gi.head));var Ai=Y.ranges.slice(0);Ai[W]=HA(i,new si(Rt(y,zi),Ii)),Yi(y,er(i,Ai,W),re)}}var Se=u.wrapper.getBoundingClientRect(),Ie=0;function Fe(Ge){var Ye=++Ie,Mt=wo(i,Ge,!0,l.unit=="rectangle");if(Mt)if(Ne(Mt,xe)!=0){i.curOp.focus=ee(ie(i)),Te(Mt);var ot=kc(u,y);(Mt.line>=ot.to||Mt.line<ot.from)&&setTimeout(_i(i,function(){Ie==Ye&&Fe(Ge)}),150)}else{var Wt=Ge.clientY<Se.top?-20:Ge.clientY>Se.bottom?20:0;Wt&&setTimeout(_i(i,function(){Ie==Ye&&(u.scroller.scrollTop+=Wt,Fe(Ge))}),50)}}function We(Ge){i.state.selectingText=!1,Ie=1/0,Ge&&(_t(Ge),u.input.focus()),nt(u.wrapper.ownerDocument,"mousemove",Ue),nt(u.wrapper.ownerDocument,"mouseup",$e),y.history.lastSelOrigin=null}var Ue=_i(i,function(Ge){Ge.buttons===0||!an(Ge)?We(Ge):Fe(Ge)}),$e=_i(i,We);i.state.selectingText=$e,Pe(u.wrapper.ownerDocument,"mousemove",Ue),Pe(u.wrapper.ownerDocument,"mouseup",$e)}function HA(i,o){var c=o.anchor,l=o.head,u=et(i.doc,c.line);if(Ne(c,l)==0&&c.sticky==l.sticky)return o;var y=_e(u);if(!y)return o;var F=Oe(y,c.ch,c.sticky),W=y[F];if(W.from!=c.ch&&W.to!=c.ch)return o;var Y=F+(W.from==c.ch==(W.level!=1)?0:1);if(Y==0||Y==y.length)return o;var J;if(l.line!=c.line)J=(l.line-c.line)*(i.doc.direction=="ltr"?1:-1)>0;else{var pe=Oe(y,l.ch,l.sticky),xe=pe-F||(l.ch-c.ch)*(W.level==1?-1:1);pe==Y-1||pe==Y?J=xe<0:J=xe>0}var Te=y[Y+(J?-1:0)],Se=J==(Te.level==1),Ie=Se?Te.from:Te.to,Fe=Se?"after":"before";return c.ch==Ie&&c.sticky==Fe?o:new si(new we(c.line,Ie,Fe),l)}function Ov(i,o,c,l){var u,y;if(o.touches)u=o.touches[0].clientX,y=o.touches[0].clientY;else try{u=o.clientX,y=o.clientY}catch{return!1}if(u>=Math.floor(i.display.gutters.getBoundingClientRect().right))return!1;l&&_t(o);var F=i.display,W=F.lineDiv.getBoundingClientRect();if(y>W.bottom||!Gt(i,c))return sn(o);y-=W.top-F.viewOffset;for(var Y=0;Y<i.display.gutterSpecs.length;++Y){var J=F.gutters.childNodes[Y];if(J&&J.getBoundingClientRect().right>=u){var pe=pr(i.doc,y),xe=i.display.gutterSpecs[Y];return Je(i,c,i,pe,xe.className,o),sn(o)}}}function uf(i,o){return Ov(i,o,"gutterClick",!0)}function Nv(i,o){Dr(i.display,o)||WA(i,o)||qe(i,o,"contextmenu")||I||i.display.input.onContextMenu(o)}function WA(i,o){return Gt(i,"gutterContextMenu")?Ov(i,o,"gutterContextMenu",!1):!1}function Dv(i){i.display.wrapper.className=i.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+i.options.theme.replace(/(^|\s)\s*/g," cm-s-"),ra(i)}var cs={toString:function(){return"CodeMirror.Init"}},Iv={},Rc={};function qA(i){var o=i.optionHandlers;function c(l,u,y,F){i.defaults[l]=u,y&&(o[l]=F?function(W,Y,J){J!=cs&&y(W,Y,J)}:y)}i.defineOption=c,i.Init=cs,c("value","",function(l,u){return l.setValue(u)},!0),c("mode",null,function(l,u){l.doc.modeOption=u,Jh(l)},!0),c("indentUnit",2,Jh,!0),c("indentWithTabs",!1),c("smartIndent",!0),c("tabSize",4,function(l){fa(l),ra(l),un(l)},!0),c("lineSeparator",null,function(l,u){if(l.doc.lineSep=u,!!u){var y=[],F=l.doc.first;l.doc.iter(function(Y){for(var J=0;;){var pe=Y.text.indexOf(u,J);if(pe==-1)break;J=pe+u.length,y.push(we(F,pe))}F++});for(var W=y.length-1;W>=0;W--)os(l.doc,u,y[W],we(y[W].line,y[W].ch+u.length))}}),c("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(l,u,y){l.state.specialChars=new RegExp(u.source+(u.test("	")?"":"|	"),"g"),y!=cs&&l.refresh()}),c("specialCharPlaceholder",vL,function(l){return l.refresh()},!0),c("electricChars",!0),c("inputStyle",L?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),c("spellcheck",!1,function(l,u){return l.getInputField().spellcheck=u},!0),c("autocorrect",!1,function(l,u){return l.getInputField().autocorrect=u},!0),c("autocapitalize",!1,function(l,u){return l.getInputField().autocapitalize=u},!0),c("rtlMoveVisually",!D),c("wholeLineUpdateBefore",!0),c("theme","default",function(l){Dv(l),ha(l)},!0),c("keyMap","default",function(l,u,y){var F=Dc(u),W=y!=cs&&Dc(y);W&&W.detach&&W.detach(l,F),F.attach&&F.attach(l,W||null)}),c("extraKeys",null),c("configureMouse",null),c("lineWrapping",!1,GA,!0),c("gutters",[],function(l,u){l.display.gutterSpecs=Zh(u,l.options.lineNumbers),ha(l)},!0),c("fixedGutter",!0,function(l,u){l.display.gutters.style.left=u?Fh(l.display)+"px":"0",l.refresh()},!0),c("coverGutterNextToScrollbar",!1,function(l){return ts(l)},!0),c("scrollbarStyle","native",function(l){jy(l),ts(l),l.display.scrollbars.setScrollTop(l.doc.scrollTop),l.display.scrollbars.setScrollLeft(l.doc.scrollLeft)},!0),c("lineNumbers",!1,function(l,u){l.display.gutterSpecs=Zh(l.options.gutters,u),ha(l)},!0),c("firstLineNumber",1,ha,!0),c("lineNumberFormatter",function(l){return l},ha,!0),c("showCursorWhenSelecting",!1,oa,!0),c("resetSelectionOnContextMenu",!0),c("lineWiseCopyCut",!0),c("pasteLinesPerSelection",!0),c("selectionsMayTouch",!1),c("readOnly",!1,function(l,u){u=="nocursor"&&(Jo(l),l.display.input.blur()),l.display.input.readOnlyChanged(u)}),c("screenReaderLabel",null,function(l,u){u=u===""?null:u,l.display.input.screenReaderLabelChanged(u)}),c("disableInput",!1,function(l,u){u||l.display.input.reset()},!0),c("dragDrop",!0,UA),c("allowDropFileTypes",null),c("cursorBlinkRate",530),c("cursorScrollMargin",0),c("cursorHeight",1,oa,!0),c("singleCursorHeightPerLine",!0,oa,!0),c("workTime",100),c("workDelay",100),c("flattenSpans",!0,fa,!0),c("addModeClass",!1,fa,!0),c("pollInterval",100),c("undoDepth",200,function(l,u){return l.doc.history.undoDepth=u}),c("historyEventDelay",1250),c("viewportMargin",10,function(l){return l.refresh()},!0),c("maxHighlightLength",1e4,fa,!0),c("moveInputWithCursor",!0,function(l,u){u||l.display.input.resetPosition()}),c("tabindex",null,function(l,u){return l.display.input.getField().tabIndex=u||""}),c("autofocus",null),c("direction","ltr",function(l,u){return l.doc.setDirection(u)},!0),c("phrases",null)}function UA(i,o,c){var l=c&&c!=cs;if(!o!=!l){var u=i.display.dragFunctions,y=o?Pe:nt;y(i.display.scroller,"dragstart",u.start),y(i.display.scroller,"dragenter",u.enter),y(i.display.scroller,"dragover",u.over),y(i.display.scroller,"dragleave",u.leave),y(i.display.scroller,"drop",u.drop)}}function GA(i){i.options.lineWrapping?(ue(i.display.wrapper,"CodeMirror-wrap"),i.display.sizer.style.minWidth="",i.display.sizerWidth=null):(S(i.display.wrapper,"CodeMirror-wrap"),Eh(i)),_h(i),un(i),ra(i),setTimeout(function(){return ts(i)},100)}function Ci(i,o){var c=this;if(!(this instanceof Ci))return new Ci(i,o);this.options=o=o?U(o):{},U(Iv,o,!1);var l=o.value;typeof l=="string"?l=new hn(l,o.mode,null,o.lineSeparator,o.direction):o.mode&&(l.modeOption=o.mode),this.doc=l;var u=new Ci.inputStyles[o.inputStyle](this),y=this.display=new rA(i,l,u,o);y.wrapper.CodeMirror=this,Dv(this),o.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),jy(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new te,keySeq:null,specialChars:null},o.autofocus&&!L&&y.input.focus(),h&&f<11&&setTimeout(function(){return c.display.input.reset(!0)},20),VA(this),SA(),To(this),this.curOp.forceUpdate=!0,Vy(this,l),o.autofocus&&!L||this.hasFocus()?setTimeout(function(){c.hasFocus()&&!c.state.focused&&Uh(c)},20):Jo(this);for(var F in Rc)Rc.hasOwnProperty(F)&&Rc[F](this,o[F],cs);Fy(this),o.finishInit&&o.finishInit(this);for(var W=0;W<hf.length;++W)hf[W](this);Lo(this),g&&o.lineWrapping&&getComputedStyle(y.lineDiv).textRendering=="optimizelegibility"&&(y.lineDiv.style.textRendering="auto")}Ci.defaults=Iv,Ci.optionHandlers=Rc;function VA(i){var o=i.display;Pe(o.scroller,"mousedown",_i(i,Ev)),h&&f<11?Pe(o.scroller,"dblclick",_i(i,function(Y){if(!qe(i,Y)){var J=wo(i,Y);if(!(!J||uf(i,Y)||Dr(i.display,Y))){_t(Y);var pe=i.findWordAt(J);Mc(i.doc,pe.anchor,pe.head)}}})):Pe(o.scroller,"dblclick",function(Y){return qe(i,Y)||_t(Y)}),Pe(o.scroller,"contextmenu",function(Y){return Nv(i,Y)}),Pe(o.input.getField(),"contextmenu",function(Y){o.scroller.contains(Y.target)||Nv(i,Y)});var c,l={end:0};function u(){o.activeTouch&&(c=setTimeout(function(){return o.activeTouch=null},1e3),l=o.activeTouch,l.end=+new Date)}function y(Y){if(Y.touches.length!=1)return!1;var J=Y.touches[0];return J.radiusX<=1&&J.radiusY<=1}function F(Y,J){if(J.left==null)return!0;var pe=J.left-Y.left,xe=J.top-Y.top;return pe*pe+xe*xe>20*20}Pe(o.scroller,"touchstart",function(Y){if(!qe(i,Y)&&!y(Y)&&!uf(i,Y)){o.input.ensurePolled(),clearTimeout(c);var J=+new Date;o.activeTouch={start:J,moved:!1,prev:J-l.end<=300?l:null},Y.touches.length==1&&(o.activeTouch.left=Y.touches[0].pageX,o.activeTouch.top=Y.touches[0].pageY)}}),Pe(o.scroller,"touchmove",function(){o.activeTouch&&(o.activeTouch.moved=!0)}),Pe(o.scroller,"touchend",function(Y){var J=o.activeTouch;if(J&&!Dr(o,Y)&&J.left!=null&&!J.moved&&new Date-J.start<300){var pe=i.coordsChar(o.activeTouch,"page"),xe;!J.prev||F(J,J.prev)?xe=new si(pe,pe):!J.prev.prev||F(J,J.prev.prev)?xe=i.findWordAt(pe):xe=new si(we(pe.line,0),Rt(i.doc,we(pe.line+1,0))),i.setSelection(xe.anchor,xe.head),i.focus(),_t(Y)}u()}),Pe(o.scroller,"touchcancel",u),Pe(o.scroller,"scroll",function(){o.scroller.clientHeight&&(aa(i,o.scroller.scrollTop),So(i,o.scroller.scrollLeft,!0),Je(i,"scroll",i))}),Pe(o.scroller,"mousewheel",function(Y){return Wy(i,Y)}),Pe(o.scroller,"DOMMouseScroll",function(Y){return Wy(i,Y)}),Pe(o.wrapper,"scroll",function(){return o.wrapper.scrollTop=o.wrapper.scrollLeft=0}),o.dragFunctions={enter:function(Y){qe(i,Y)||Ei(Y)},over:function(Y){qe(i,Y)||(kA(i,Y),Ei(Y))},start:function(Y){return wA(i,Y)},drop:_i(i,bA),leave:function(Y){qe(i,Y)||mv(i)}};var W=o.input.getField();Pe(W,"keyup",function(Y){return Av.call(i,Y)}),Pe(W,"keydown",_i(i,Lv)),Pe(W,"keypress",_i(i,Mv)),Pe(W,"focus",function(Y){return Uh(i,Y)}),Pe(W,"blur",function(Y){return Jo(i,Y)})}var hf=[];Ci.defineInitHook=function(i){return hf.push(i)};function La(i,o,c,l){var u=i.doc,y;c==null&&(c="add"),c=="smart"&&(u.mode.indent?y=Js(i,o).state:c="prev");var F=i.options.tabSize,W=et(u,o),Y=Z(W.text,null,F);W.stateAfter&&(W.stateAfter=null);var J=W.text.match(/^\s*/)[0],pe;if(!l&&!/\S/.test(W.text))pe=0,c="not";else if(c=="smart"&&(pe=u.mode.indent(y,W.text.slice(J.length),W.text),pe==K||pe>150)){if(!l)return;c="prev"}c=="prev"?o>u.first?pe=Z(et(u,o-1).text,null,F):pe=0:c=="add"?pe=Y+i.options.indentUnit:c=="subtract"?pe=Y-i.options.indentUnit:typeof c=="number"&&(pe=Y+c),pe=Math.max(0,pe);var xe="",Te=0;if(i.options.indentWithTabs)for(var Se=Math.floor(pe/F);Se;--Se)Te+=F,xe+="	";if(Te<pe&&(xe+=ve(pe-Te)),xe!=J)return os(u,xe,we(o,0),we(o,J.length),"+input"),W.stateAfter=null,!0;for(var Ie=0;Ie<u.sel.ranges.length;Ie++){var Fe=u.sel.ranges[Ie];if(Fe.head.line==o&&Fe.head.ch<J.length){var We=we(o,J.length);rf(u,Ie,new si(We,We));break}}}var tr=null;function jc(i){tr=i}function ff(i,o,c,l,u){var y=i.doc;i.display.shift=!1,l||(l=y.sel);var F=+new Date-200,W=u=="paste"||i.state.pasteIncoming>F,Y=An(o),J=null;if(W&&l.ranges.length>1)if(tr&&tr.text.join(`
`)==o){if(l.ranges.length%tr.text.length==0){J=[];for(var pe=0;pe<tr.text.length;pe++)J.push(y.splitLines(tr.text[pe]))}}else Y.length==l.ranges.length&&i.options.pasteLinesPerSelection&&(J=Le(Y,function(Ue){return[Ue]}));for(var xe=i.curOp.updateInput,Te=l.ranges.length-1;Te>=0;Te--){var Se=l.ranges[Te],Ie=Se.from(),Fe=Se.to();Se.empty()&&(c&&c>0?Ie=we(Ie.line,Ie.ch-c):i.state.overwrite&&!W?Fe=we(Fe.line,Math.min(et(y,Fe.line).text.length,Fe.ch+me(Y).length)):W&&tr&&tr.lineWise&&tr.text.join(`
`)==Y.join(`
`)&&(Ie=Fe=we(Ie.line,0)));var We={from:Ie,to:Fe,text:J?J[Te%J.length]:Y,origin:u||(W?"paste":i.state.cutIncoming>F?"cut":"+input")};rs(i.doc,We),Fi(i,"inputRead",i,We)}o&&!W&&jv(i,o),es(i),i.curOp.updateInput<2&&(i.curOp.updateInput=xe),i.curOp.typing=!0,i.state.pasteIncoming=i.state.cutIncoming=-1}function Rv(i,o){var c=i.clipboardData&&i.clipboardData.getData("Text");if(c)return i.preventDefault(),!o.isReadOnly()&&!o.options.disableInput&&o.hasFocus()&&xn(o,function(){return ff(o,c,0,null,"paste")}),!0}function jv(i,o){if(!(!i.options.electricChars||!i.options.smartIndent))for(var c=i.doc.sel,l=c.ranges.length-1;l>=0;l--){var u=c.ranges[l];if(!(u.head.ch>100||l&&c.ranges[l-1].head.line==u.head.line)){var y=i.getModeAt(u.head),F=!1;if(y.electricChars){for(var W=0;W<y.electricChars.length;W++)if(o.indexOf(y.electricChars.charAt(W))>-1){F=La(i,u.head.line,"smart");break}}else y.electricInput&&y.electricInput.test(et(i.doc,u.head.line).text.slice(0,u.head.ch))&&(F=La(i,u.head.line,"smart"));F&&Fi(i,"electricInput",i,u.head.line)}}}function zv(i){for(var o=[],c=[],l=0;l<i.doc.sel.ranges.length;l++){var u=i.doc.sel.ranges[l].head.line,y={anchor:we(u,0),head:we(u+1,0)};c.push(y),o.push(i.getRange(y.anchor,y.head))}return{text:o,ranges:c}}function Bv(i,o,c,l){i.setAttribute("autocorrect",c?"":"off"),i.setAttribute("autocapitalize",l?"":"off"),i.setAttribute("spellcheck",!!o)}function Fv(){var i=d("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),o=d("div",[i],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return g?i.style.width="1000px":i.setAttribute("wrap","off"),T&&(i.style.border="1px solid black"),Bv(i),o}function $A(i){var o=i.optionHandlers,c=i.helpers={};i.prototype={constructor:i,focus:function(){j(this).focus(),this.display.input.focus()},setOption:function(l,u){var y=this.options,F=y[l];y[l]==u&&l!="mode"||(y[l]=u,o.hasOwnProperty(l)&&_i(this,o[l])(this,u,F),Je(this,"optionChange",this,l))},getOption:function(l){return this.options[l]},getDoc:function(){return this.doc},addKeyMap:function(l,u){this.state.keyMaps[u?"push":"unshift"](Dc(l))},removeKeyMap:function(l){for(var u=this.state.keyMaps,y=0;y<u.length;++y)if(u[y]==l||u[y].name==l)return u.splice(y,1),!0},addOverlay:tn(function(l,u){var y=l.token?l:i.getMode(this.options,l);if(y.startState)throw new Error("Overlays may not be stateful.");ze(this.state.overlays,{mode:y,modeSpec:l,opaque:u&&u.opaque,priority:u&&u.priority||0},function(F){return F.priority}),this.state.modeGen++,un(this)}),removeOverlay:tn(function(l){for(var u=this.state.overlays,y=0;y<u.length;++y){var F=u[y].modeSpec;if(F==l||typeof l=="string"&&F.name==l){u.splice(y,1),this.state.modeGen++,un(this);return}}}),indentLine:tn(function(l,u,y){typeof u!="string"&&typeof u!="number"&&(u==null?u=this.options.smartIndent?"smart":"prev":u=u?"add":"subtract"),se(this.doc,l)&&La(this,l,u,y)}),indentSelection:tn(function(l){for(var u=this.doc.sel.ranges,y=-1,F=0;F<u.length;F++){var W=u[F];if(W.empty())W.head.line>y&&(La(this,W.head.line,l,!0),y=W.head.line,F==this.doc.sel.primIndex&&es(this));else{var Y=W.from(),J=W.to(),pe=Math.max(y,Y.line);y=Math.min(this.lastLine(),J.line-(J.ch?0:1))+1;for(var xe=pe;xe<y;++xe)La(this,xe,l);var Te=this.doc.sel.ranges;Y.ch==0&&u.length==Te.length&&Te[F].from().ch>0&&rf(this.doc,F,new si(Y,Te[F].to()),V)}}}),getTokenAt:function(l,u){return Ym(this,l,u)},getLineTokens:function(l,u){return Ym(this,we(l),u,!0)},getTokenTypeAt:function(l){l=Rt(this.doc,l);var u=Gm(this,et(this.doc,l.line)),y=0,F=(u.length-1)/2,W=l.ch,Y;if(W==0)Y=u[2];else for(;;){var J=y+F>>1;if((J?u[J*2-1]:0)>=W)F=J;else if(u[J*2+1]<W)y=J+1;else{Y=u[J*2+2];break}}var pe=Y?Y.indexOf("overlay "):-1;return pe<0?Y:pe==0?null:Y.slice(0,pe-1)},getModeAt:function(l){var u=this.doc.mode;return u.innerMode?i.innerMode(u,this.getTokenAt(l).state).mode:u},getHelper:function(l,u){return this.getHelpers(l,u)[0]},getHelpers:function(l,u){var y=[];if(!c.hasOwnProperty(u))return y;var F=c[u],W=this.getModeAt(l);if(typeof W[u]=="string")F[W[u]]&&y.push(F[W[u]]);else if(W[u])for(var Y=0;Y<W[u].length;Y++){var J=F[W[u][Y]];J&&y.push(J)}else W.helperType&&F[W.helperType]?y.push(F[W.helperType]):F[W.name]&&y.push(F[W.name]);for(var pe=0;pe<F._global.length;pe++){var xe=F._global[pe];xe.pred(W,this)&&ne(y,xe.val)==-1&&y.push(xe.val)}return y},getStateAfter:function(l,u){var y=this.doc;return l=Mn(y,l??y.first+y.size-1),Js(this,l+1,u).state},cursorCoords:function(l,u){var y,F=this.doc.sel.primary();return l==null?y=F.head:typeof l=="object"?y=Rt(this.doc,l):y=l?F.from():F.to(),Jn(this,y,u||"page")},charCoords:function(l,u){return vc(this,Rt(this.doc,l),u||"page")},coordsChar:function(l,u){return l=Sy(this,l,u||"page"),jh(this,l.left,l.top)},lineAtHeight:function(l,u){return l=Sy(this,{top:l,left:0},u||"page").top,pr(this.doc,l+this.display.viewOffset)},heightAtLine:function(l,u,y){var F=!1,W;if(typeof l=="number"){var Y=this.doc.first+this.doc.size-1;l<this.doc.first?l=this.doc.first:l>Y&&(l=Y,F=!0),W=et(this.doc,l)}else W=l;return yc(this,W,{top:0,left:0},u||"page",y||F).top+(F?this.doc.height-Nr(W):0)},defaultTextHeight:function(){return Zo(this.display)},defaultCharWidth:function(){return Qo(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(l,u,y,F,W){var Y=this.display;l=Jn(this,Rt(this.doc,l));var J=l.bottom,pe=l.left;if(u.style.position="absolute",u.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(u),Y.sizer.appendChild(u),F=="over")J=l.top;else if(F=="above"||F=="near"){var xe=Math.max(Y.wrapper.clientHeight,this.doc.height),Te=Math.max(Y.sizer.clientWidth,Y.lineSpace.clientWidth);(F=="above"||l.bottom+u.offsetHeight>xe)&&l.top>u.offsetHeight?J=l.top-u.offsetHeight:l.bottom+u.offsetHeight<=xe&&(J=l.bottom),pe+u.offsetWidth>Te&&(pe=Te-u.offsetWidth)}u.style.top=J+"px",u.style.left=u.style.right="",W=="right"?(pe=Y.sizer.clientWidth-u.offsetWidth,u.style.right="0px"):(W=="left"?pe=0:W=="middle"&&(pe=(Y.sizer.clientWidth-u.offsetWidth)/2),u.style.left=pe+"px"),y&&UL(this,{left:pe,top:J,right:pe+u.offsetWidth,bottom:J+u.offsetHeight})},triggerOnKeyDown:tn(Lv),triggerOnKeyPress:tn(Mv),triggerOnKeyUp:Av,triggerOnMouseDown:tn(Ev),execCommand:function(l){if(ka.hasOwnProperty(l))return ka[l].call(null,this)},triggerElectric:tn(function(l){jv(this,l)}),findPosH:function(l,u,y,F){var W=1;u<0&&(W=-1,u=-u);for(var Y=Rt(this.doc,l),J=0;J<u&&(Y=df(this.doc,Y,W,y,F),!Y.hitSide);++J);return Y},moveH:tn(function(l,u){var y=this;this.extendSelectionsBy(function(F){return y.display.shift||y.doc.extend||F.empty()?df(y.doc,F.head,l,u,y.options.rtlMoveVisually):l<0?F.from():F.to()},oe)}),deleteH:tn(function(l,u){var y=this.doc.sel,F=this.doc;y.somethingSelected()?F.replaceSelection("",null,"+delete"):ls(this,function(W){var Y=df(F,W.head,l,u,!1);return l<0?{from:Y,to:W.head}:{from:W.head,to:Y}})}),findPosV:function(l,u,y,F){var W=1,Y=F;u<0&&(W=-1,u=-u);for(var J=Rt(this.doc,l),pe=0;pe<u;++pe){var xe=Jn(this,J,"div");if(Y==null?Y=xe.left:xe.left=Y,J=_v(this,xe,W,y),J.hitSide)break}return J},moveV:tn(function(l,u){var y=this,F=this.doc,W=[],Y=!this.display.shift&&!F.extend&&F.sel.somethingSelected();if(F.extendSelectionsBy(function(pe){if(Y)return l<0?pe.from():pe.to();var xe=Jn(y,pe.head,"div");pe.goalColumn!=null&&(xe.left=pe.goalColumn),W.push(xe.left);var Te=_v(y,xe,l,u);return u=="page"&&pe==F.sel.primary()&&Vh(y,vc(y,Te,"div").top-xe.top),Te},oe),W.length)for(var J=0;J<F.sel.ranges.length;J++)F.sel.ranges[J].goalColumn=W[J]}),findWordAt:function(l){var u=this.doc,y=et(u,l.line).text,F=l.ch,W=l.ch;if(y){var Y=this.getHelper(l,"wordChars");(l.sticky=="before"||W==y.length)&&F?--F:++W;for(var J=y.charAt(F),pe=ce(J,Y)?function(xe){return ce(xe,Y)}:/\s/.test(J)?function(xe){return/\s/.test(xe)}:function(xe){return!/\s/.test(xe)&&!ce(xe)};F>0&&pe(y.charAt(F-1));)--F;for(;W<y.length&&pe(y.charAt(W));)++W}return new si(we(l.line,F),we(l.line,W))},toggleOverwrite:function(l){l!=null&&l==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?ue(this.display.cursorDiv,"CodeMirror-overwrite"):S(this.display.cursorDiv,"CodeMirror-overwrite"),Je(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ee(ie(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:tn(function(l,u){sa(this,l,u)}),getScrollInfo:function(){var l=this.display.scroller;return{left:l.scrollLeft,top:l.scrollTop,height:l.scrollHeight-mr(this)-this.display.barHeight,width:l.scrollWidth-mr(this)-this.display.barWidth,clientHeight:Nh(this),clientWidth:xo(this)}},scrollIntoView:tn(function(l,u){l==null?(l={from:this.doc.sel.primary().head,to:null},u==null&&(u=this.options.cursorScrollMargin)):typeof l=="number"?l={from:we(l,0),to:null}:l.from==null&&(l={from:l,to:null}),l.to||(l.to=l.from),l.margin=u||0,l.from.line!=null?GL(this,l):Ny(this,l.from,l.to,l.margin)}),setSize:tn(function(l,u){var y=this,F=function(Y){return typeof Y=="number"||/^\d+$/.test(String(Y))?Y+"px":Y};l!=null&&(this.display.wrapper.style.width=F(l)),u!=null&&(this.display.wrapper.style.height=F(u)),this.options.lineWrapping&&by(this);var W=this.display.viewFrom;this.doc.iter(W,this.display.viewTo,function(Y){if(Y.widgets){for(var J=0;J<Y.widgets.length;J++)if(Y.widgets[J].noHScroll){Kr(y,W,"widget");break}}++W}),this.curOp.forceUpdate=!0,Je(this,"refresh",this)}),operation:function(l){return xn(this,l)},startOperation:function(){return To(this)},endOperation:function(){return Lo(this)},refresh:tn(function(){var l=this.display.cachedTextHeight;un(this),this.curOp.forceUpdate=!0,ra(this),sa(this,this.doc.scrollLeft,this.doc.scrollTop),Xh(this.display),(l==null||Math.abs(l-Zo(this.display))>.5||this.options.lineWrapping)&&_h(this),Je(this,"refresh",this)}),swapDoc:tn(function(l){var u=this.doc;return u.cm=null,this.state.selectingText&&this.state.selectingText(),Vy(this,l),ra(this),this.display.input.reset(),sa(this,l.scrollLeft,l.scrollTop),this.curOp.forceScroll=!0,Fi(this,"swapDoc",this,u),u}),phrase:function(l){var u=this.options.phrases;return u&&Object.prototype.hasOwnProperty.call(u,l)?u[l]:l},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Pt(i),i.registerHelper=function(l,u,y){c.hasOwnProperty(l)||(c[l]=i[l]={_global:[]}),c[l][u]=y},i.registerGlobalHelper=function(l,u,y,F){i.registerHelper(l,u,F),c[l]._global.push({pred:y,val:F})}}function df(i,o,c,l,u){var y=o,F=c,W=et(i,o.line),Y=u&&i.direction=="rtl"?-c:c;function J(){var $e=o.line+Y;return $e<i.first||$e>=i.first+i.size?!1:(o=new we($e,o.ch,o.sticky),W=et(i,$e))}function pe($e){var Ge;if(l=="codepoint"){var Ye=W.text.charCodeAt(o.ch+(c>0?0:-1));if(isNaN(Ye))Ge=null;else{var Mt=c>0?Ye>=55296&&Ye<56320:Ye>=56320&&Ye<57343;Ge=new we(o.line,Math.max(0,Math.min(W.text.length,o.ch+c*(Mt?2:1))),-c)}}else u?Ge=MA(i.cm,W,o,c):Ge=sf(W,o,c);if(Ge==null)if(!$e&&J())o=af(u,i.cm,W,o.line,Y);else return!1;else o=Ge;return!0}if(l=="char"||l=="codepoint")pe();else if(l=="column")pe(!0);else if(l=="word"||l=="group")for(var xe=null,Te=l=="group",Se=i.cm&&i.cm.getHelper(o,"wordChars"),Ie=!0;!(c<0&&!pe(!Ie));Ie=!1){var Fe=W.text.charAt(o.ch)||`
`,We=ce(Fe,Se)?"w":Te&&Fe==`
`?"n":!Te||/\s/.test(Fe)?null:"p";if(Te&&!Ie&&!We&&(We="s"),xe&&xe!=We){c<0&&(c=1,pe(),o.sticky="after");break}if(We&&(xe=We),c>0&&!pe(!Ie))break}var Ue=Pc(i,o,y,F,!0);return It(y,Ue)&&(Ue.hitSide=!0),Ue}function _v(i,o,c,l){var u=i.doc,y=o.left,F;if(l=="page"){var W=Math.min(i.display.wrapper.clientHeight,j(i).innerHeight||u(i).documentElement.clientHeight),Y=Math.max(W-.5*Zo(i.display),3);F=(c>0?o.bottom:o.top)+c*Y}else l=="line"&&(F=c>0?o.bottom+3:o.top-3);for(var J;J=jh(i,y,F),!!J.outside;){if(c<0?F<=0:F>=u.height){J.hitSide=!0;break}F+=c*5}return J}var ai=function(i){this.cm=i,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new te,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};ai.prototype.init=function(i){var o=this,c=this,l=c.cm,u=c.div=i.lineDiv;u.contentEditable=!0,Bv(u,l.options.spellcheck,l.options.autocorrect,l.options.autocapitalize);function y(W){for(var Y=W.target;Y;Y=Y.parentNode){if(Y==u)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(Y.className))break}return!1}Pe(u,"paste",function(W){!y(W)||qe(l,W)||Rv(W,l)||f<=11&&setTimeout(_i(l,function(){return o.updateFromDOM()}),20)}),Pe(u,"compositionstart",function(W){o.composing={data:W.data,done:!1}}),Pe(u,"compositionupdate",function(W){o.composing||(o.composing={data:W.data,done:!1})}),Pe(u,"compositionend",function(W){o.composing&&(W.data!=o.composing.data&&o.readFromDOMSoon(),o.composing.done=!0)}),Pe(u,"touchstart",function(){return c.forceCompositionEnd()}),Pe(u,"input",function(){o.composing||o.readFromDOMSoon()});function F(W){if(!(!y(W)||qe(l,W))){if(l.somethingSelected())jc({lineWise:!1,text:l.getSelections()}),W.type=="cut"&&l.replaceSelection("",null,"cut");else if(l.options.lineWiseCopyCut){var Y=zv(l);jc({lineWise:!0,text:Y.text}),W.type=="cut"&&l.operation(function(){l.setSelections(Y.ranges,0,V),l.replaceSelection("",null,"cut")})}else return;if(W.clipboardData){W.clipboardData.clearData();var J=tr.text.join(`
`);if(W.clipboardData.setData("Text",J),W.clipboardData.getData("Text")==J){W.preventDefault();return}}var pe=Fv(),xe=pe.firstChild;l.display.lineSpace.insertBefore(pe,l.display.lineSpace.firstChild),xe.value=tr.text.join(`
`);var Te=ee(u.ownerDocument);$(xe),setTimeout(function(){l.display.lineSpace.removeChild(pe),Te.focus(),Te==u&&c.showPrimarySelection()},50)}}Pe(u,"copy",F),Pe(u,"cut",F)},ai.prototype.screenReaderLabelChanged=function(i){i?this.div.setAttribute("aria-label",i):this.div.removeAttribute("aria-label")},ai.prototype.prepareSelection=function(){var i=Ey(this.cm,!1);return i.focus=ee(this.div.ownerDocument)==this.div,i},ai.prototype.showSelection=function(i,o){!i||!this.cm.display.view.length||((i.focus||o)&&this.showPrimarySelection(),this.showMultipleSelections(i))},ai.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},ai.prototype.showPrimarySelection=function(){var i=this.getSelection(),o=this.cm,c=o.doc.sel.primary(),l=c.from(),u=c.to();if(o.display.viewTo==o.display.viewFrom||l.line>=o.display.viewTo||u.line<o.display.viewFrom){i.removeAllRanges();return}var y=zc(o,i.anchorNode,i.anchorOffset),F=zc(o,i.focusNode,i.focusOffset);if(!(y&&!y.bad&&F&&!F.bad&&Ne(ji(y,F),l)==0&&Ne(ri(y,F),u)==0)){var W=o.display.view,Y=l.line>=o.display.viewFrom&&Hv(o,l)||{node:W[0].measure.map[2],offset:0},J=u.line<o.display.viewTo&&Hv(o,u);if(!J){var pe=W[W.length-1].measure,xe=pe.maps?pe.maps[pe.maps.length-1]:pe.map;J={node:xe[xe.length-1],offset:xe[xe.length-2]-xe[xe.length-3]}}if(!Y||!J){i.removeAllRanges();return}var Te=i.rangeCount&&i.getRangeAt(0),Se;try{Se=R(Y.node,Y.offset,J.offset,J.node)}catch{}Se&&(!n&&o.state.focused?(i.collapse(Y.node,Y.offset),Se.collapsed||(i.removeAllRanges(),i.addRange(Se))):(i.removeAllRanges(),i.addRange(Se)),Te&&i.anchorNode==null?i.addRange(Te):n&&this.startGracePeriod()),this.rememberSelection()}},ai.prototype.startGracePeriod=function(){var i=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){i.gracePeriod=!1,i.selectionChanged()&&i.cm.operation(function(){return i.cm.curOp.selectionChanged=!0})},20)},ai.prototype.showMultipleSelections=function(i){k(this.cm.display.cursorDiv,i.cursors),k(this.cm.display.selectionDiv,i.selection)},ai.prototype.rememberSelection=function(){var i=this.getSelection();this.lastAnchorNode=i.anchorNode,this.lastAnchorOffset=i.anchorOffset,this.lastFocusNode=i.focusNode,this.lastFocusOffset=i.focusOffset},ai.prototype.selectionInEditor=function(){var i=this.getSelection();if(!i.rangeCount)return!1;var o=i.getRangeAt(0).commonAncestorContainer;return q(this.div,o)},ai.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||ee(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},ai.prototype.blur=function(){this.div.blur()},ai.prototype.getField=function(){return this.div},ai.prototype.supportsTouch=function(){return!0},ai.prototype.receivedFocus=function(){var i=this,o=this;this.selectionInEditor()?setTimeout(function(){return i.pollSelection()},20):xn(this.cm,function(){return o.cm.curOp.selectionChanged=!0});function c(){o.cm.state.focused&&(o.pollSelection(),o.polling.set(o.cm.options.pollInterval,c))}this.polling.set(this.cm.options.pollInterval,c)},ai.prototype.selectionChanged=function(){var i=this.getSelection();return i.anchorNode!=this.lastAnchorNode||i.anchorOffset!=this.lastAnchorOffset||i.focusNode!=this.lastFocusNode||i.focusOffset!=this.lastFocusOffset},ai.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var i=this.getSelection(),o=this.cm;if(M&&m&&this.cm.display.gutterSpecs.length&&YA(i.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var c=zc(o,i.anchorNode,i.anchorOffset),l=zc(o,i.focusNode,i.focusOffset);c&&l&&xn(o,function(){Yi(o.doc,Qr(c,l),V),(c.bad||l.bad)&&(o.curOp.selectionChanged=!0)})}}},ai.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var i=this.cm,o=i.display,c=i.doc.sel.primary(),l=c.from(),u=c.to();if(l.ch==0&&l.line>i.firstLine()&&(l=we(l.line-1,et(i.doc,l.line-1).length)),u.ch==et(i.doc,u.line).text.length&&u.line<i.lastLine()&&(u=we(u.line+1,0)),l.line<o.viewFrom||u.line>o.viewTo-1)return!1;var y,F,W;l.line==o.viewFrom||(y=ko(i,l.line))==0?(F=oi(o.view[0].line),W=o.view[0].node):(F=oi(o.view[y].line),W=o.view[y-1].node.nextSibling);var Y=ko(i,u.line),J,pe;if(Y==o.view.length-1?(J=o.viewTo-1,pe=o.lineDiv.lastChild):(J=oi(o.view[Y+1].line)-1,pe=o.view[Y+1].node.previousSibling),!W)return!1;for(var xe=i.doc.splitLines(XA(i,W,pe,F,J)),Te=Pr(i.doc,we(F,0),we(J,et(i.doc,J).text.length));xe.length>1&&Te.length>1;)if(me(xe)==me(Te))xe.pop(),Te.pop(),J--;else if(xe[0]==Te[0])xe.shift(),Te.shift(),F++;else break;for(var Se=0,Ie=0,Fe=xe[0],We=Te[0],Ue=Math.min(Fe.length,We.length);Se<Ue&&Fe.charCodeAt(Se)==We.charCodeAt(Se);)++Se;for(var $e=me(xe),Ge=me(Te),Ye=Math.min($e.length-(xe.length==1?Se:0),Ge.length-(Te.length==1?Se:0));Ie<Ye&&$e.charCodeAt($e.length-Ie-1)==Ge.charCodeAt(Ge.length-Ie-1);)++Ie;if(xe.length==1&&Te.length==1&&F==l.line)for(;Se&&Se>l.ch&&$e.charCodeAt($e.length-Ie-1)==Ge.charCodeAt(Ge.length-Ie-1);)Se--,Ie++;xe[xe.length-1]=$e.slice(0,$e.length-Ie).replace(/^\u200b+/,""),xe[0]=xe[0].slice(Se).replace(/\u200b+$/,"");var Mt=we(F,Se),ot=we(J,Te.length?me(Te).length-Ie:0);if(xe.length>1||xe[0]||Ne(Mt,ot))return os(i.doc,xe,Mt,ot,"+input"),!0},ai.prototype.ensurePolled=function(){this.forceCompositionEnd()},ai.prototype.reset=function(){this.forceCompositionEnd()},ai.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},ai.prototype.readFromDOMSoon=function(){var i=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(i.readDOMTimeout=null,i.composing)if(i.composing.done)i.composing=null;else return;i.updateFromDOM()},80))},ai.prototype.updateFromDOM=function(){var i=this;(this.cm.isReadOnly()||!this.pollContent())&&xn(this.cm,function(){return un(i.cm)})},ai.prototype.setUneditable=function(i){i.contentEditable="false"},ai.prototype.onKeyPress=function(i){i.charCode==0||this.composing||(i.preventDefault(),this.cm.isReadOnly()||_i(this.cm,ff)(this.cm,String.fromCharCode(i.charCode==null?i.keyCode:i.charCode),0))},ai.prototype.readOnlyChanged=function(i){this.div.contentEditable=String(i!="nocursor")},ai.prototype.onContextMenu=function(){},ai.prototype.resetPosition=function(){},ai.prototype.needsContentAttribute=!0;function Hv(i,o){var c=Dh(i,o.line);if(!c||c.hidden)return null;var l=et(i.doc,o.line),u=gy(c,l,o.line),y=_e(l,i.doc.direction),F="left";if(y){var W=Oe(y,o.ch);F=W%2?"right":"left"}var Y=vy(u.map,o.ch,F);return Y.offset=Y.collapse=="right"?Y.end:Y.start,Y}function YA(i){for(var o=i;o;o=o.parentNode)if(/CodeMirror-gutter-wrapper/.test(o.className))return!0;return!1}function us(i,o){return o&&(i.bad=!0),i}function XA(i,o,c,l,u){var y="",F=!1,W=i.doc.lineSeparator(),Y=!1;function J(Se){return function(Ie){return Ie.id==Se}}function pe(){F&&(y+=W,Y&&(y+=W),F=Y=!1)}function xe(Se){Se&&(pe(),y+=Se)}function Te(Se){if(Se.nodeType==1){var Ie=Se.getAttribute("cm-text");if(Ie){xe(Ie);return}var Fe=Se.getAttribute("cm-marker"),We;if(Fe){var Ue=i.findMarks(we(l,0),we(u+1,0),J(+Fe));Ue.length&&(We=Ue[0].find(0))&&xe(Pr(i.doc,We.from,We.to).join(W));return}if(Se.getAttribute("contenteditable")=="false")return;var $e=/^(pre|div|p|li|table|br)$/i.test(Se.nodeName);if(!/^br$/i.test(Se.nodeName)&&Se.textContent.length==0)return;$e&&pe();for(var Ge=0;Ge<Se.childNodes.length;Ge++)Te(Se.childNodes[Ge]);/^(pre|p)$/i.test(Se.nodeName)&&(Y=!0),$e&&(F=!0)}else Se.nodeType==3&&xe(Se.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Te(o),o!=c;)o=o.nextSibling,Y=!1;return y}function zc(i,o,c){var l;if(o==i.display.lineDiv){if(l=i.display.lineDiv.childNodes[c],!l)return us(i.clipPos(we(i.display.viewTo-1)),!0);o=null,c=0}else for(l=o;;l=l.parentNode){if(!l||l==i.display.lineDiv)return null;if(l.parentNode&&l.parentNode==i.display.lineDiv)break}for(var u=0;u<i.display.view.length;u++){var y=i.display.view[u];if(y.node==l)return KA(y,o,c)}}function KA(i,o,c){var l=i.text.firstChild,u=!1;if(!o||!q(l,o))return us(we(oi(i.line),0),!0);if(o==l&&(u=!0,o=l.childNodes[c],c=0,!o)){var y=i.rest?me(i.rest):i.line;return us(we(oi(y),y.text.length),u)}var F=o.nodeType==3?o:null,W=o;for(!F&&o.childNodes.length==1&&o.firstChild.nodeType==3&&(F=o.firstChild,c&&(c=F.nodeValue.length));W.parentNode!=l;)W=W.parentNode;var Y=i.measure,J=Y.maps;function pe(We,Ue,$e){for(var Ge=-1;Ge<(J?J.length:0);Ge++)for(var Ye=Ge<0?Y.map:J[Ge],Mt=0;Mt<Ye.length;Mt+=3){var ot=Ye[Mt+2];if(ot==We||ot==Ue){var Wt=oi(Ge<0?i.line:i.rest[Ge]),di=Ye[Mt]+$e;return($e<0||ot!=We)&&(di=Ye[Mt+($e?1:0)]),we(Wt,di)}}}var xe=pe(F,W,c);if(xe)return us(xe,u);for(var Te=W.nextSibling,Se=F?F.nodeValue.length-c:0;Te;Te=Te.nextSibling){if(xe=pe(Te,Te.firstChild,0),xe)return us(we(xe.line,xe.ch-Se),u);Se+=Te.textContent.length}for(var Ie=W.previousSibling,Fe=c;Ie;Ie=Ie.previousSibling){if(xe=pe(Ie,Ie.firstChild,-1),xe)return us(we(xe.line,xe.ch+Fe),u);Fe+=Ie.textContent.length}}var Pi=function(i){this.cm=i,this.prevInput="",this.pollingFast=!1,this.polling=new te,this.hasSelection=!1,this.composing=null};Pi.prototype.init=function(i){var o=this,c=this,l=this.cm;this.createField(i);var u=this.textarea;i.wrapper.insertBefore(this.wrapper,i.wrapper.firstChild),T&&(u.style.width="0px"),Pe(u,"input",function(){h&&f>=9&&o.hasSelection&&(o.hasSelection=null),c.poll()}),Pe(u,"paste",function(F){qe(l,F)||Rv(F,l)||(l.state.pasteIncoming=+new Date,c.fastPoll())});function y(F){if(!qe(l,F)){if(l.somethingSelected())jc({lineWise:!1,text:l.getSelections()});else if(l.options.lineWiseCopyCut){var W=zv(l);jc({lineWise:!0,text:W.text}),F.type=="cut"?l.setSelections(W.ranges,null,V):(c.prevInput="",u.value=W.text.join(`
`),$(u))}else return;F.type=="cut"&&(l.state.cutIncoming=+new Date)}}Pe(u,"cut",y),Pe(u,"copy",y),Pe(i.scroller,"paste",function(F){if(!(Dr(i,F)||qe(l,F))){if(!u.dispatchEvent){l.state.pasteIncoming=+new Date,c.focus();return}var W=new Event("paste");W.clipboardData=F.clipboardData,u.dispatchEvent(W)}}),Pe(i.lineSpace,"selectstart",function(F){Dr(i,F)||_t(F)}),Pe(u,"compositionstart",function(){var F=l.getCursor("from");c.composing&&c.composing.range.clear(),c.composing={start:F,range:l.markText(F,l.getCursor("to"),{className:"CodeMirror-composing"})}}),Pe(u,"compositionend",function(){c.composing&&(c.poll(),c.composing.range.clear(),c.composing=null)})},Pi.prototype.createField=function(i){this.wrapper=Fv(),this.textarea=this.wrapper.firstChild},Pi.prototype.screenReaderLabelChanged=function(i){i?this.textarea.setAttribute("aria-label",i):this.textarea.removeAttribute("aria-label")},Pi.prototype.prepareSelection=function(){var i=this.cm,o=i.display,c=i.doc,l=Ey(i);if(i.options.moveInputWithCursor){var u=Jn(i,c.sel.primary().head,"div"),y=o.wrapper.getBoundingClientRect(),F=o.lineDiv.getBoundingClientRect();l.teTop=Math.max(0,Math.min(o.wrapper.clientHeight-10,u.top+F.top-y.top)),l.teLeft=Math.max(0,Math.min(o.wrapper.clientWidth-10,u.left+F.left-y.left))}return l},Pi.prototype.showSelection=function(i){var o=this.cm,c=o.display;k(c.cursorDiv,i.cursors),k(c.selectionDiv,i.selection),i.teTop!=null&&(this.wrapper.style.top=i.teTop+"px",this.wrapper.style.left=i.teLeft+"px")},Pi.prototype.reset=function(i){if(!(this.contextMenuPending||this.composing)){var o=this.cm;if(o.somethingSelected()){this.prevInput="";var c=o.getSelection();this.textarea.value=c,o.state.focused&&$(this.textarea),h&&f>=9&&(this.hasSelection=c)}else i||(this.prevInput=this.textarea.value="",h&&f>=9&&(this.hasSelection=null))}},Pi.prototype.getField=function(){return this.textarea},Pi.prototype.supportsTouch=function(){return!1},Pi.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!L||ee(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},Pi.prototype.blur=function(){this.textarea.blur()},Pi.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Pi.prototype.receivedFocus=function(){this.slowPoll()},Pi.prototype.slowPoll=function(){var i=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){i.poll(),i.cm.state.focused&&i.slowPoll()})},Pi.prototype.fastPoll=function(){var i=!1,o=this;o.pollingFast=!0;function c(){var l=o.poll();!l&&!i?(i=!0,o.polling.set(60,c)):(o.pollingFast=!1,o.slowPoll())}o.polling.set(20,c)},Pi.prototype.poll=function(){var i=this,o=this.cm,c=this.textarea,l=this.prevInput;if(this.contextMenuPending||!o.state.focused||zn(c)&&!l&&!this.composing||o.isReadOnly()||o.options.disableInput||o.state.keySeq)return!1;var u=c.value;if(u==l&&!o.somethingSelected())return!1;if(h&&f>=9&&this.hasSelection===u||A&&/[\uf700-\uf7ff]/.test(u))return o.display.input.reset(),!1;if(o.doc.sel==o.display.selForContextMenu){var y=u.charCodeAt(0);if(y==8203&&!l&&(l="\u200B"),y==8666)return this.reset(),this.cm.execCommand("undo")}for(var F=0,W=Math.min(l.length,u.length);F<W&&l.charCodeAt(F)==u.charCodeAt(F);)++F;return xn(o,function(){ff(o,u.slice(F),l.length-F,null,i.composing?"*compose":null),u.length>1e3||u.indexOf(`
`)>-1?c.value=i.prevInput="":i.prevInput=u,i.composing&&(i.composing.range.clear(),i.composing.range=o.markText(i.composing.start,o.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Pi.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Pi.prototype.onKeyPress=function(){h&&f>=9&&(this.hasSelection=null),this.fastPoll()},Pi.prototype.onContextMenu=function(i){var o=this,c=o.cm,l=c.display,u=o.textarea;o.contextMenuPending&&o.contextMenuPending();var y=wo(c,i),F=l.scroller.scrollTop;if(!y||v)return;var W=c.options.resetSelectionOnContextMenu;W&&c.doc.sel.contains(y)==-1&&_i(c,Yi)(c.doc,Qr(y),V);var Y=u.style.cssText,J=o.wrapper.style.cssText,pe=o.wrapper.offsetParent.getBoundingClientRect();o.wrapper.style.cssText="position: static",u.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(i.clientY-pe.top-5)+"px; left: "+(i.clientX-pe.left-5)+`px;
      z-index: 1000; background: `+(h?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var xe;g&&(xe=u.ownerDocument.defaultView.scrollY),l.input.focus(),g&&u.ownerDocument.defaultView.scrollTo(null,xe),l.input.reset(),c.somethingSelected()||(u.value=o.prevInput=" "),o.contextMenuPending=Se,l.selForContextMenu=c.doc.sel,clearTimeout(l.detectingSelectAll);function Te(){if(u.selectionStart!=null){var Fe=c.somethingSelected(),We="\u200B"+(Fe?u.value:"");u.value="\u21DA",u.value=We,o.prevInput=Fe?"":"\u200B",u.selectionStart=1,u.selectionEnd=We.length,l.selForContextMenu=c.doc.sel}}function Se(){if(o.contextMenuPending==Se&&(o.contextMenuPending=!1,o.wrapper.style.cssText=J,u.style.cssText=Y,h&&f<9&&l.scrollbars.setScrollTop(l.scroller.scrollTop=F),u.selectionStart!=null)){(!h||h&&f<9)&&Te();var Fe=0,We=function(){l.selForContextMenu==c.doc.sel&&u.selectionStart==0&&u.selectionEnd>0&&o.prevInput=="\u200B"?_i(c,ov)(c):Fe++<10?l.detectingSelectAll=setTimeout(We,500):(l.selForContextMenu=null,l.input.reset())};l.detectingSelectAll=setTimeout(We,200)}}if(h&&f>=9&&Te(),I){Ei(i);var Ie=function(){nt(window,"mouseup",Ie),setTimeout(Se,20)};Pe(window,"mouseup",Ie)}else setTimeout(Se,50)},Pi.prototype.readOnlyChanged=function(i){i||this.reset(),this.textarea.disabled=i=="nocursor",this.textarea.readOnly=!!i},Pi.prototype.setUneditable=function(){},Pi.prototype.needsContentAttribute=!1;function ZA(i,o){if(o=o?U(o):{},o.value=i.value,!o.tabindex&&i.tabIndex&&(o.tabindex=i.tabIndex),!o.placeholder&&i.placeholder&&(o.placeholder=i.placeholder),o.autofocus==null){var c=ee(i.ownerDocument);o.autofocus=c==i||i.getAttribute("autofocus")!=null&&c==document.body}function l(){i.value=W.getValue()}var u;if(i.form&&(Pe(i.form,"submit",l),!o.leaveSubmitMethodAlone)){var y=i.form;u=y.submit;try{var F=y.submit=function(){l(),y.submit=u,y.submit(),y.submit=F}}catch{}}o.finishInit=function(Y){Y.save=l,Y.getTextArea=function(){return i},Y.toTextArea=function(){Y.toTextArea=isNaN,l(),i.parentNode.removeChild(Y.getWrapperElement()),i.style.display="",i.form&&(nt(i.form,"submit",l),!o.leaveSubmitMethodAlone&&typeof i.form.submit=="function"&&(i.form.submit=u))}},i.style.display="none";var W=Ci(function(Y){return i.parentNode.insertBefore(Y,i.nextSibling)},o);return W}function QA(i){i.off=nt,i.on=Pe,i.wheelEventPixels=oA,i.Doc=hn,i.splitLines=An,i.countColumn=Z,i.findColumn=ge,i.isWordChar=G,i.Pass=K,i.signal=Je,i.Line=Yo,i.changeEnd=Jr,i.scrollbarModel=Ry,i.Pos=we,i.cmpPos=Ne,i.modes=cn,i.mimeModes=dr,i.resolveMode=vn,i.getMode=Mr,i.modeExtensions=$r,i.extendMode=lc,i.copyState=Er,i.startState=Qs,i.innerMode=Yr,i.commands=ka,i.keyMap=Rr,i.keyName=wv,i.isModifierKey=xv,i.lookupKey=as,i.normalizeKeyMap=AA,i.StringStream=Li,i.SharedTextMarker=xa,i.TextMarker=to,i.LineWidget=va,i.e_preventDefault=_t,i.e_stopPropagation=ni,i.e_stop=Ei,i.addClass=ue,i.contains=q,i.rmClass=S,i.keyNames=io}qA(Ci),$A(Ci);var JA="iter insert remove copy getEditor constructor".split(" ");for(var Bc in hn.prototype)hn.prototype.hasOwnProperty(Bc)&&ne(JA,Bc)<0&&(Ci.prototype[Bc]=function(i){return function(){return i.apply(this.doc,arguments)}}(hn.prototype[Bc]));return Pt(hn),Ci.inputStyles={textarea:Pi,contenteditable:ai},Ci.defineMode=function(i){!Ci.defaults.mode&&i!="null"&&(Ci.defaults.mode=i),ac.apply(this,arguments)},Ci.defineMIME=Vo,Ci.defineMode("null",function(){return{token:function(i){return i.skipToEnd()}}}),Ci.defineMIME("text/plain","null"),Ci.defineExtension=function(i,o){Ci.prototype[i]=o},Ci.defineDocExtension=function(i,o){hn.prototype[i]=o},Ci.fromTextArea=ZA,QA(Ci),Ci.version="5.65.7",Ci})});var Bp=De((Dk,Ik)=>{(function(t){typeof Dk=="object"&&typeof Ik=="object"?t(Wr()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)})(function(t){"use strict";t.defineMode("javascript",function(e,n){var r=e.indentUnit,s=n.statementIndent,a=n.jsonld,h=n.json||a,f=n.trackScope!==!1,g=n.typescript,p=n.wordCharacters||/[\w$\xa1-\uffff]/,m=function(){function se(ji){return{type:ji,style:"keyword"}}var be=se("keyword a"),we=se("keyword b"),Ne=se("keyword c"),It=se("keyword d"),Yt=se("operator"),ri={type:"atom",style:"atom"};return{if:se("if"),while:be,with:be,else:we,do:we,try:we,finally:we,return:It,break:It,continue:It,new:se("new"),delete:Ne,void:Ne,throw:Ne,debugger:se("debugger"),var:se("var"),const:se("var"),let:se("var"),function:se("function"),catch:se("catch"),for:se("for"),switch:se("switch"),case:se("case"),default:se("default"),in:Yt,typeof:Yt,instanceof:Yt,true:ri,false:ri,null:ri,undefined:ri,NaN:ri,Infinity:ri,this:se("this"),class:se("class"),super:se("atom"),yield:Ne,export:se("export"),import:se("import"),extends:Ne,await:Ne}}(),x=/[+\-*&%=<>!?|~^@]/,v=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function C(se){for(var be=!1,we,Ne=!1;(we=se.next())!=null;){if(!be){if(we=="/"&&!Ne)return;we=="["?Ne=!0:Ne&&we=="]"&&(Ne=!1)}be=!be&&we=="\\"}}var w,b;function T(se,be,we){return w=se,b=we,be}function M(se,be){var we=se.next();if(we=='"'||we=="'")return be.tokenize=L(we),be.tokenize(se,be);if(we=="."&&se.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return T("number","number");if(we=="."&&se.match(".."))return T("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(we))return T(we);if(we=="="&&se.eat(">"))return T("=>","operator");if(we=="0"&&se.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return T("number","number");if(/\d/.test(we))return se.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),T("number","number");if(we=="/")return se.eat("*")?(be.tokenize=A,A(se,be)):se.eat("/")?(se.skipToEnd(),T("comment","comment")):pr(se,be,1)?(C(se),se.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),T("regexp","string-2")):(se.eat("="),T("operator","operator",se.current()));if(we=="`")return be.tokenize=E,E(se,be);if(we=="#"&&se.peek()=="!")return se.skipToEnd(),T("meta","meta");if(we=="#"&&se.eatWhile(p))return T("variable","property");if(we=="<"&&se.match("!--")||we=="-"&&se.match("->")&&!/\S/.test(se.string.slice(0,se.start)))return se.skipToEnd(),T("comment","comment");if(x.test(we))return(we!=">"||!be.lexical||be.lexical.type!=">")&&(se.eat("=")?(we=="!"||we=="=")&&se.eat("="):/[<>*+\-|&?]/.test(we)&&(se.eat(we),we==">"&&se.eat(we))),we=="?"&&se.eat(".")?T("."):T("operator","operator",se.current());if(p.test(we)){se.eatWhile(p);var Ne=se.current();if(be.lastType!="."){if(m.propertyIsEnumerable(Ne)){var It=m[Ne];return T(It.type,It.style,Ne)}if(Ne=="async"&&se.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return T("async","keyword",Ne)}return T("variable","variable",Ne)}}function L(se){return function(be,we){var Ne=!1,It;if(a&&be.peek()=="@"&&be.match(v))return we.tokenize=M,T("jsonld-keyword","meta");for(;(It=be.next())!=null&&!(It==se&&!Ne);)Ne=!Ne&&It=="\\";return Ne||(we.tokenize=M),T("string","string")}}function A(se,be){for(var we=!1,Ne;Ne=se.next();){if(Ne=="/"&&we){be.tokenize=M;break}we=Ne=="*"}return T("comment","comment")}function E(se,be){for(var we=!1,Ne;(Ne=se.next())!=null;){if(!we&&(Ne=="`"||Ne=="$"&&se.eat("{"))){be.tokenize=M;break}we=!we&&Ne=="\\"}return T("quasi","string-2",se.current())}var D="([{}])";function B(se,be){be.fatArrowAt&&(be.fatArrowAt=null);var we=se.string.indexOf("=>",se.start);if(!(we<0)){if(g){var Ne=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(se.string.slice(se.start,we));Ne&&(we=Ne.index)}for(var It=0,Yt=!1,ri=we-1;ri>=0;--ri){var ji=se.string.charAt(ri),Mn=D.indexOf(ji);if(Mn>=0&&Mn<3){if(!It){++ri;break}if(--It==0){ji=="("&&(Yt=!0);break}}else if(Mn>=3&&Mn<6)++It;else if(p.test(ji))Yt=!0;else if(/["'\/`]/.test(ji))for(;;--ri){if(ri==0)return;var Rt=se.string.charAt(ri-1);if(Rt==ji&&se.string.charAt(ri-2)!="\\"){ri--;break}}else if(Yt&&!It){++ri;break}}Yt&&!It&&(be.fatArrowAt=ri)}}var z={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function I(se,be,we,Ne,It,Yt){this.indented=se,this.column=be,this.type=we,this.prev=It,this.info=Yt,Ne!=null&&(this.align=Ne)}function O(se,be){if(!f)return!1;for(var we=se.localVars;we;we=we.next)if(we.name==be)return!0;for(var Ne=se.context;Ne;Ne=Ne.prev)for(var we=Ne.vars;we;we=we.next)if(we.name==be)return!0}function S(se,be,we,Ne,It){var Yt=se.cc;for(P.state=se,P.stream=It,P.marked=null,P.cc=Yt,P.style=be,se.lexical.hasOwnProperty("align")||(se.lexical.align=!0);;){var ri=Yt.length?Yt.pop():h?K:ne;if(ri(we,Ne)){for(;Yt.length&&Yt[Yt.length-1].lex;)Yt.pop()();return P.marked?P.marked:we=="variable"&&O(se,Ne)?"variable-2":be}}}var P={state:null,column:null,marked:null,cc:null};function k(){for(var se=arguments.length-1;se>=0;se--)P.cc.push(arguments[se])}function d(){return k.apply(null,arguments),!0}function N(se,be){for(var we=be;we;we=we.next)if(we.name==se)return!0;return!1}function R(se){var be=P.state;if(P.marked="def",!!f){if(be.context){if(be.lexical.info=="var"&&be.context&&be.context.block){var we=q(se,be.context);if(we!=null){be.context=we;return}}else if(!N(se,be.localVars)){be.localVars=new ae(se,be.localVars);return}}n.globalVars&&!N(se,be.globalVars)&&(be.globalVars=new ae(se,be.globalVars))}}function q(se,be){if(be)if(be.block){var we=q(se,be.prev);return we?we==be.prev?be:new ue(we,be.vars,!0):null}else return N(se,be.vars)?be:new ue(be.prev,new ae(se,be.vars),!1);else return null}function ee(se){return se=="public"||se=="private"||se=="protected"||se=="abstract"||se=="readonly"}function ue(se,be,we){this.prev=se,this.vars=be,this.block=we}function ae(se,be){this.name=se,this.next=be}var $=new ae("this",new ae("arguments",null));function ie(){P.state.context=new ue(P.state.context,P.state.localVars,!1),P.state.localVars=$}function j(){P.state.context=new ue(P.state.context,P.state.localVars,!0),P.state.localVars=null}ie.lex=j.lex=!0;function H(){P.state.localVars=P.state.context.vars,P.state.context=P.state.context.prev}H.lex=!0;function U(se,be){var we=function(){var Ne=P.state,It=Ne.indented;if(Ne.lexical.type=="stat")It=Ne.lexical.indented;else for(var Yt=Ne.lexical;Yt&&Yt.type==")"&&Yt.align;Yt=Yt.prev)It=Yt.indented;Ne.lexical=new I(It,P.stream.column(),se,null,Ne.lexical,be)};return we.lex=!0,we}function Z(){var se=P.state;se.lexical.prev&&(se.lexical.type==")"&&(se.indented=se.lexical.indented),se.lexical=se.lexical.prev)}Z.lex=!0;function te(se){function be(we){return we==se?d():se==";"||we=="}"||we==")"||we=="]"?k():d(be)}return be}function ne(se,be){return se=="var"?d(U("vardef",be),Ei,te(";"),Z):se=="keyword a"?d(U("form"),re,ne,Z):se=="keyword b"?d(U("form"),ne,Z):se=="keyword d"?P.stream.match(/^\s*$/,!1)?d():d(U("stat"),ge,te(";"),Z):se=="debugger"?d(te(";")):se=="{"?d(U("}"),j,Re,Z,H):se==";"?d():se=="if"?(P.state.lexical.info=="else"&&P.state.cc[P.state.cc.length-1]==Z&&P.state.cc.pop()(),d(U("form"),re,ne,Z,hr)):se=="function"?d(en):se=="for"?d(U("form"),j,fr,ne,H,Z):se=="class"||g&&be=="interface"?(P.marked="keyword",d(U("form",se=="class"?se:be),ac,Z)):se=="variable"?g&&be=="declare"?(P.marked="keyword",d(ne)):g&&(be=="module"||be=="enum"||be=="type")&&P.stream.match(/^\s*\w/,!1)?(P.marked="keyword",be=="enum"?d($o):be=="type"?d(Bn,te("operator"),Pe,te(";")):d(U("form"),yi,te("{"),U("}"),Re,Z,Z)):g&&be=="namespace"?(P.marked="keyword",d(U("form"),K,ne,Z)):g&&be=="abstract"?(P.marked="keyword",d(ne)):d(U("stat"),ce):se=="switch"?d(U("form"),re,te("{"),U("}","switch"),j,Re,Z,Z,H):se=="case"?d(K,te(":")):se=="default"?d(te(":")):se=="catch"?d(U("form"),ie,_,ne,Z,H):se=="export"?d(U("stat"),$r,Z):se=="import"?d(U("stat"),Er,Z):se=="async"?d(ne):be=="@"?d(K,ne):k(U("stat"),K,te(";"),Z)}function _(se){if(se=="(")return d(cn,te(")"))}function K(se,be){return oe(se,be,!1)}function V(se,be){return oe(se,be,!0)}function re(se){return se!="("?k():d(U(")"),ge,te(")"),Z)}function oe(se,be,we){if(P.state.fatArrowAt==P.stream.start){var Ne=we?Ae:ze;if(se=="(")return d(ie,U(")"),ke(cn,")"),Z,te("=>"),Ne,H);if(se=="variable")return k(ie,yi,te("=>"),Ne,H)}var It=we?ve:fe;return z.hasOwnProperty(se)?d(It):se=="function"?d(en,It):se=="class"||g&&be=="interface"?(P.marked="keyword",d(U("form"),dr,Z)):se=="keyword c"||se=="async"?d(we?V:K):se=="("?d(U(")"),ge,te(")"),Z,It):se=="operator"||se=="spread"?d(we?V:K):se=="["?d(U("]"),Pr,Z,It):se=="{"?Ce(Q,"}",null,It):se=="quasi"?k(me,It):se=="new"?d(he(we)):d()}function ge(se){return se.match(/[;\}\)\],]/)?k():k(K)}function fe(se,be){return se==","?d(ge):ve(se,be,!1)}function ve(se,be,we){var Ne=we==!1?fe:ve,It=we==!1?K:V;if(se=="=>")return d(ie,we?Ae:ze,H);if(se=="operator")return/\+\+|--/.test(be)||g&&be=="!"?d(Ne):g&&be=="<"&&P.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?d(U(">"),ke(Pe,">"),Z,Ne):be=="?"?d(K,te(":"),It):d(It);if(se=="quasi")return k(me,Ne);if(se!=";"){if(se=="(")return Ce(V,")","call",Ne);if(se==".")return d(X,Ne);if(se=="[")return d(U("]"),ge,te("]"),Z,Ne);if(g&&be=="as")return P.marked="keyword",d(Pe,Ne);if(se=="regexp")return P.state.lastType=P.marked="operator",P.stream.backUp(P.stream.pos-P.stream.start-1),d(It)}}function me(se,be){return se!="quasi"?k():be.slice(be.length-2)!="${"?d(me):d(ge,Le)}function Le(se){if(se=="}")return P.marked="string-2",P.state.tokenize=E,d(me)}function ze(se){return B(P.stream,P.state),k(se=="{"?ne:K)}function Ae(se){return B(P.stream,P.state),k(se=="{"?ne:V)}function he(se){return function(be){return be=="."?d(se?G:de):be=="variable"&&g?d(_t,se?ve:fe):k(se?V:K)}}function de(se,be){if(be=="target")return P.marked="keyword",d(fe)}function G(se,be){if(be=="target")return P.marked="keyword",d(ve)}function ce(se){return se==":"?d(Z,ne):k(fe,te(";"),Z)}function X(se){if(se=="variable")return P.marked="property",d()}function Q(se,be){if(se=="async")return P.marked="property",d(Q);if(se=="variable"||P.style=="keyword"){if(P.marked="property",be=="get"||be=="set")return d(le);var we;return g&&P.state.fatArrowAt==P.stream.start&&(we=P.stream.match(/^\s*:\s*/,!1))&&(P.state.fatArrowAt=P.stream.pos+we[0].length),d(ye)}else{if(se=="number"||se=="string")return P.marked=a?"property":P.style+" property",d(ye);if(se=="jsonld-keyword")return d(ye);if(g&&ee(be))return P.marked="keyword",d(Q);if(se=="[")return d(K,Oe,te("]"),ye);if(se=="spread")return d(V,ye);if(be=="*")return P.marked="keyword",d(Q);if(se==":")return k(ye)}}function le(se){return se!="variable"?k(ye):(P.marked="property",d(en))}function ye(se){if(se==":")return d(V);if(se=="(")return k(en)}function ke(se,be,we){function Ne(It,Yt){if(we?we.indexOf(It)>-1:It==","){var ri=P.state.lexical;return ri.info=="call"&&(ri.pos=(ri.pos||0)+1),d(function(ji,Mn){return ji==be||Mn==be?k():k(se)},Ne)}return It==be||Yt==be?d():we&&we.indexOf(";")>-1?k(se):d(te(be))}return function(It,Yt){return It==be||Yt==be?d():k(se,Ne)}}function Ce(se,be,we){for(var Ne=3;Ne<arguments.length;Ne++)P.cc.push(arguments[Ne]);return d(U(be,we),ke(se,be),Z)}function Re(se){return se=="}"?d():k(ne,Re)}function Oe(se,be){if(g){if(se==":")return d(Pe);if(be=="?")return d(Oe)}}function Me(se,be){if(g&&(se==":"||be=="in"))return d(Pe)}function _e(se){if(g&&se==":")return P.stream.match(/^\s*\w+\s+is\b/,!1)?d(K,Ve,Pe):d(Pe)}function Ve(se,be){if(be=="is")return P.marked="keyword",d()}function Pe(se,be){if(be=="keyof"||be=="typeof"||be=="infer"||be=="readonly")return P.marked="keyword",d(be=="typeof"?V:Pe);if(se=="variable"||be=="void")return P.marked="type",d(Pt);if(be=="|"||be=="&")return d(Pe);if(se=="string"||se=="number"||se=="atom")return d(Pt);if(se=="[")return d(U("]"),ke(Pe,"]",","),Z,Pt);if(se=="{")return d(U("}"),nt,Z,Pt);if(se=="(")return d(ke(Gt,")"),He,Pt);if(se=="<")return d(ke(Pe,">"),Pe);if(se=="quasi")return k(qe,Pt)}function He(se){if(se=="=>")return d(Pe)}function nt(se){return se.match(/[\}\)\]]/)?d():se==","||se==";"?d(nt):k(Je,nt)}function Je(se,be){if(se=="variable"||P.style=="keyword")return P.marked="property",d(Je);if(be=="?"||se=="number"||se=="string")return d(Je);if(se==":")return d(Pe);if(se=="[")return d(te("variable"),Me,te("]"),Je);if(se=="(")return k(ln,Je);if(!se.match(/[;\}\)\],]/))return d()}function qe(se,be){return se!="quasi"?k():be.slice(be.length-2)!="${"?d(qe):d(Pe,Jt)}function Jt(se){if(se=="}")return P.marked="string-2",P.state.tokenize=E,d(qe)}function Gt(se,be){return se=="variable"&&P.stream.match(/^\s*[?:]/,!1)||be=="?"?d(Gt):se==":"?d(Pe):se=="spread"?d(Gt):k(Pe)}function Pt(se,be){if(be=="<")return d(U(">"),ke(Pe,">"),Z,Pt);if(be=="|"||se=="."||be=="&")return d(Pe);if(se=="[")return d(Pe,te("]"),Pt);if(be=="extends"||be=="implements")return P.marked="keyword",d(Pe);if(be=="?")return d(Pe,te(":"),Pe)}function _t(se,be){if(be=="<")return d(U(">"),ke(Pe,">"),Z,Pt)}function ni(){return k(Pe,sn)}function sn(se,be){if(be=="=")return d(Pe)}function Ei(se,be){return be=="enum"?(P.marked="keyword",d($o)):k(yi,Oe,Ni,Vr)}function yi(se,be){if(g&&ee(be))return P.marked="keyword",d(yi);if(se=="variable")return R(be),d();if(se=="spread")return d(yi);if(se=="[")return Ce(Ln,"]");if(se=="{")return Ce(an,"}")}function an(se,be){return se=="variable"&&!P.stream.match(/^\s*:/,!1)?(R(be),d(Ni)):(se=="variable"&&(P.marked="property"),se=="spread"?d(yi):se=="}"?k():se=="["?d(K,te("]"),te(":"),an):d(te(":"),yi,Ni))}function Ln(){return k(yi,Ni)}function Ni(se,be){if(be=="=")return d(V)}function Vr(se){if(se==",")return d(Ei)}function hr(se,be){if(se=="keyword b"&&be=="else")return d(U("form","else"),ne,Z)}function fr(se,be){if(be=="await")return d(fr);if(se=="(")return d(U(")"),An,Z)}function An(se){return se=="var"?d(Ei,zn):se=="variable"?d(zn):k(zn)}function zn(se,be){return se==")"?d():se==";"?d(zn):be=="in"||be=="of"?(P.marked="keyword",d(K,zn)):k(K,zn)}function en(se,be){if(be=="*")return P.marked="keyword",d(en);if(se=="variable")return R(be),d(en);if(se=="(")return d(ie,U(")"),ke(cn,")"),Z,_e,ne,H);if(g&&be=="<")return d(U(">"),ke(ni,">"),Z,en)}function ln(se,be){if(be=="*")return P.marked="keyword",d(ln);if(se=="variable")return R(be),d(ln);if(se=="(")return d(ie,U(")"),ke(cn,")"),Z,_e,H);if(g&&be=="<")return d(U(">"),ke(ni,">"),Z,ln)}function Bn(se,be){if(se=="keyword"||se=="variable")return P.marked="type",d(Bn);if(be=="<")return d(U(">"),ke(ni,">"),Z)}function cn(se,be){return be=="@"&&d(K,cn),se=="spread"?d(cn):g&&ee(be)?(P.marked="keyword",d(cn)):g&&se=="this"?d(Oe,Ni):k(yi,Oe,Ni)}function dr(se,be){return se=="variable"?ac(se,be):Vo(se,be)}function ac(se,be){if(se=="variable")return R(be),d(Vo)}function Vo(se,be){if(be=="<")return d(U(">"),ke(ni,">"),Z,Vo);if(be=="extends"||be=="implements"||g&&se==",")return be=="implements"&&(P.marked="keyword"),d(g?Pe:K,Vo);if(se=="{")return d(U("}"),vn,Z)}function vn(se,be){if(se=="async"||se=="variable"&&(be=="static"||be=="get"||be=="set"||g&&ee(be))&&P.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return P.marked="keyword",d(vn);if(se=="variable"||P.style=="keyword")return P.marked="property",d(Mr,vn);if(se=="number"||se=="string")return d(Mr,vn);if(se=="[")return d(K,Oe,te("]"),Mr,vn);if(be=="*")return P.marked="keyword",d(vn);if(g&&se=="(")return k(ln,vn);if(se==";"||se==",")return d(vn);if(se=="}")return d();if(be=="@")return d(K,vn)}function Mr(se,be){if(be=="!"||be=="?")return d(Mr);if(se==":")return d(Pe,Ni);if(be=="=")return d(V);var we=P.state.lexical.prev,Ne=we&&we.info=="interface";return k(Ne?ln:en)}function $r(se,be){return be=="*"?(P.marked="keyword",d(et,te(";"))):be=="default"?(P.marked="keyword",d(K,te(";"))):se=="{"?d(ke(lc,"}"),et,te(";")):k(ne)}function lc(se,be){if(be=="as")return P.marked="keyword",d(te("variable"));if(se=="variable")return k(V,lc)}function Er(se){return se=="string"?d():se=="("?k(K):se=="."?k(fe):k(Yr,Qs,et)}function Yr(se,be){return se=="{"?Ce(Yr,"}"):(se=="variable"&&R(be),be=="*"&&(P.marked="keyword"),d(Li))}function Qs(se){if(se==",")return d(Yr,Qs)}function Li(se,be){if(be=="as")return P.marked="keyword",d(Yr)}function et(se,be){if(be=="from")return P.marked="keyword",d(K)}function Pr(se){return se=="]"?d():k(ke(V,"]"))}function $o(){return k(U("form"),yi,te("{"),U("}"),ke(Fn,"}"),Z,Z)}function Fn(){return k(yi,Ni)}function oi(se,be){return se.lastType=="operator"||se.lastType==","||x.test(be.charAt(0))||/[,.]/.test(be.charAt(0))}function pr(se,be,we){return be.tokenize==M&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(be.lastType)||be.lastType=="quasi"&&/\{\s*$/.test(se.string.slice(0,se.pos-(we||0)))}return{startState:function(se){var be={tokenize:M,lastType:"sof",cc:[],lexical:new I((se||0)-r,0,"block",!1),localVars:n.localVars,context:n.localVars&&new ue(null,null,!1),indented:se||0};return n.globalVars&&typeof n.globalVars=="object"&&(be.globalVars=n.globalVars),be},token:function(se,be){if(se.sol()&&(be.lexical.hasOwnProperty("align")||(be.lexical.align=!1),be.indented=se.indentation(),B(se,be)),be.tokenize!=A&&se.eatSpace())return null;var we=be.tokenize(se,be);return w=="comment"?we:(be.lastType=w=="operator"&&(b=="++"||b=="--")?"incdec":w,S(be,we,w,b,se))},indent:function(se,be){if(se.tokenize==A||se.tokenize==E)return t.Pass;if(se.tokenize!=M)return 0;var we=be&&be.charAt(0),Ne=se.lexical,It;if(!/^\s*else\b/.test(be))for(var Yt=se.cc.length-1;Yt>=0;--Yt){var ri=se.cc[Yt];if(ri==Z)Ne=Ne.prev;else if(ri!=hr&&ri!=H)break}for(;(Ne.type=="stat"||Ne.type=="form")&&(we=="}"||(It=se.cc[se.cc.length-1])&&(It==fe||It==ve)&&!/^[,\.=+\-*:?[\(]/.test(be));)Ne=Ne.prev;s&&Ne.type==")"&&Ne.prev.type=="stat"&&(Ne=Ne.prev);var ji=Ne.type,Mn=we==ji;return ji=="vardef"?Ne.indented+(se.lastType=="operator"||se.lastType==","?Ne.info.length+1:0):ji=="form"&&we=="{"?Ne.indented:ji=="form"?Ne.indented+r:ji=="stat"?Ne.indented+(oi(se,be)?s||r:0):Ne.info=="switch"&&!Mn&&n.doubleIndentSwitch!=!1?Ne.indented+(/^(?:case|default)\b/.test(be)?r:2*r):Ne.align?Ne.column+(Mn?0:1):Ne.indented+(Mn?0:r)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:h?null:"/*",blockCommentEnd:h?null:"*/",blockCommentContinue:h?null:" * ",lineComment:h?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:h?"json":"javascript",jsonldMode:a,jsonMode:h,expressionAllowed:pr,skipExpression:function(se){S(se,"atom","atom","true",new t.StringStream("",2,null))}}}),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/manifest+json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})})});var Nu=De((kq,BS)=>{function i7(t,e){switch(t.charCodeAt(e)){default:return 0;case 10:return 1;case 13:return e+1<t.length&&t.charCodeAt(e+1)===10?2:1}}BS.exports={newLineLength:i7}});var _S=De((Sq,FS)=>{var{newLineLength:n7}=Nu();FS.exports=(t,e)=>{let n=1,r=0;for(let s=0;s<t.length;s++){let a=n7(t,s);a!==0&&(e(r,s+a,n++),r=s+a,s+=a-1)}e(r,t.length,n++)}});var WS=De((Cq,HS)=>{var{newLineLength:r7}=Nu();HS.exports=(t,e)=>{let n=1,r=0;for(let s=0;s<t.length;s++){let a=r7(t,s);a!==0&&(e(r,s,n++),r=s+a,s+=a-1)}e(r,t.length,n++)}});var US=De((Tq,qS)=>{qS.exports=function(t){if(t instanceof RegExp){let e=t.flags.indexOf("g")!==-1?t.flags:t.flags+"g",n=new RegExp(t,e);return function(r,s){let a;for(;a=n.exec(r);)s(a.index,a.index+a[0].length)}}return t=String(t),function(e,n){let r=-1;for(;r=e.indexOf(t,r+1),r!==-1;)n(r,r+t.length)}}});var VS=De((Lq,GS)=>{var{newLineLength:o7}=Nu();GS.exports=(t,e)=>{let n=1;for(let r=0;r<t.length;r++){let s=o7(t,r);s!==0&&(e(r,r+s,n++),r+=s-1)}}});var YS=De((Aq,$S)=>{$S.exports={lines:_S(),lineContents:WS(),matches:US(),newlines:VS()}});var Du=De((Mq,ZS)=>{function XS(t){return tg.call(null,t)}function tg(t){let e=this===window?{}:this||{},n={};return Object.assign(n,e,t,{fork:tg.bind(n),ranges:Object.assign({},e.ranges,t&&t.ranges)}),typeof n.createHook!="function"&&(n.createHook=r=>r()),n}function KS(t){let e=Object.assign({},this);for(let n in t){let r=t[n];if(!(!r||typeof r!="object"))if(hasOwnProperty.call(e,n)){let s=e[n];e[n]=s&&typeof s.fork=="function"?s.fork(t[n]):s}else e[n]=XS(t[n])}return e.fork=KS.bind(e),e}ZS.exports={createPrinter:XS,forkPrinter:tg,forkPrinterSet:KS}});var ig=De((Eq,QS)=>{QS.exports=Du().createPrinter()});var eC=De((Pq,JS)=>{var{createPrinter:s7}=Du();JS.exports=s7({print:t=>t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")})});var iC=De((Oq,tC)=>{var{forkPrinterSet:a7}=Du();tC.exports=a7.call({},{noop:ig(),html:eC(),tty:ig()})});var rC=De((Nq,nC)=>{nC.exports=function(e,n){let r=[];return n.forEach(({generate:s,marker:a})=>s(e,(h,f,g)=>r.push({type:a,start:h,end:f,data:g}))),r}});var sC=De((Dq,oC)=>{var Iu=()=>"",l7=function(){};function Fo(t,e){return typeof t=="function"?t:e||l7}oC.exports=function(e,n,r){let s=Fo(r.print,A=>A),a=Object.assign(Object.defineProperties(Object.create(null),{offset:{get:()=>x},line:{get:()=>v},column:{get:()=>C},start:{get:()=>f.start},end:{get:()=>f.end},data:{get:()=>f.data}}),Fo(r.createContext)()),h=[],f={start:0,end:e.length},g=r.ranges||{},p=[],m=1/0,x=0,v=1,C=1,w="";w+=Fo(r.open,Iu)(a),g=[].concat(Object.getOwnPropertyNames(g),Object.getOwnPropertySymbols(g)).reduce((A,E)=>{let D=g[E];return typeof D=="function"&&(g[E]=D=r.createHook(D)),D&&(p.push(E),A[E]={open:Fo(D.open,Iu),close:Fo(D.close,Iu),print:Fo(D.print,s)}),A},{}),n=n.slice().sort((A,E)=>A.start-E.start||E.end-A.end||p.indexOf(A.type)-p.indexOf(E.type));let b=A=>g[(f=h[A]).type].open(a)||"",T=A=>g[(f=h[A]).type].close(a)||"",M=A=>{if(x!==A){let E=e.substring(x,A),D=h.length?g[h[h.length-1].type].print:s;for(let B=x;B<A;B++){let z=e.charCodeAt(B);z===10||z===13&&(B>=e.length||e.charCodeAt(B+1)!==10)?(v++,C=1):C++}w+=D(E,a),x=A}},L=A=>{for(;m<=A;){M(m);for(let E=h.length-1;E>=0&&h[E].end===m;E--)w+=T(E),h.pop();m=1/0;for(let E=0;E<h.length;E++)h[E].end<m&&(m=h[E].end)}};for(let A=0;A<n.length;A++){let E=n[A],D=0;if(g.hasOwnProperty(E.type)!==!1&&!(E.start>E.end||!Number.isFinite(E.start)||!Number.isFinite(E.end))){for(L(E.start),M(E.start),D=0;D<h.length;D++)if(h[D].end<E.end){for(let B=h.length-1;B>=D;B--)w+=T(B);break}for(h.splice(D,0,E);D<h.length;D++)w+=b(D);E.end<m&&(m=E.end)}}L(e.length),M(e.length);for(let A=h.length-1;A>=0;A--)w+=T(A);return w+=Fo(r.close,Iu)(a)||"",w}});var cC=De((Iq,lC)=>{var c7=YS(),og=iC(),aC=rC(),u7=sC();function h7(t,e){return{marker:t,generate:e}}function f7(t,e){let n={};for(let r in e)n[r]={ranges:{[t]:e[r]}};return n}function rg(t,e,n){let r=(s,a)=>{let h=e[a||n]||og.noop,f=aC(s,t);return u7(s,f,h)};return Object.assign(r,{print:r,generateRanges(s){return aC(s,t)},use(s,a){let h=Symbol(s.name),f=s.ranges||s,g=Array.isArray(f)?(p,m)=>f.forEach(x=>m(...x)):f;return typeof g!="function"||(a||(a=s.printer),!a)?r:rg(t.concat(h7(h,g)),e.fork(f7(h,a)),n)},printer(s){return rg(t,e,s)}})}function ng(t,e,n){let r=rg([],n||og,e);return Array.isArray(t)&&(r=t.reduce((s,a)=>Array.isArray(a)?s.use(...a):s.use(a),r)),r}lC.exports=Object.assign(ng,{gen:c7,printer:Object.assign((...t)=>ng().printer(...t),og),use(...t){return ng().use(...t)}})});var fC=De((uC,hC)=>{(function(t){typeof uC=="object"&&typeof hC=="object"?t(Wr()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)})(function(t){"use strict";t.defineMode("css",function(I,O){var S=O.inline;O.propertyKeywords||(O=t.resolveMode("text/css"));var P=I.indentUnit,k=O.tokenHooks,d=O.documentTypes||{},N=O.mediaTypes||{},R=O.mediaFeatures||{},q=O.mediaValueKeywords||{},ee=O.propertyKeywords||{},ue=O.nonStandardPropertyKeywords||{},ae=O.fontProperties||{},$=O.counterDescriptors||{},ie=O.colorKeywords||{},j=O.valueKeywords||{},H=O.allowNested,U=O.lineComment,Z=O.supportsAtComponent===!0,te=I.highlightNonStandardPropertyKeywords!==!1,ne,_;function K(he,de){return ne=de,he}function V(he,de){var G=he.next();if(k[G]){var ce=k[G](he,de);if(ce!==!1)return ce}if(G=="@")return he.eatWhile(/[\w\\\-]/),K("def",he.current());if(G=="="||(G=="~"||G=="|")&&he.eat("="))return K(null,"compare");if(G=='"'||G=="'")return de.tokenize=re(G),de.tokenize(he,de);if(G=="#")return he.eatWhile(/[\w\\\-]/),K("atom","hash");if(G=="!")return he.match(/^\s*\w*/),K("keyword","important");if(/\d/.test(G)||G=="."&&he.eat(/\d/))return he.eatWhile(/[\w.%]/),K("number","unit");if(G==="-"){if(/[\d.]/.test(he.peek()))return he.eatWhile(/[\w.%]/),K("number","unit");if(he.match(/^-[\w\\\-]*/))return he.eatWhile(/[\w\\\-]/),he.match(/^\s*:/,!1)?K("variable-2","variable-definition"):K("variable-2","variable");if(he.match(/^\w+-/))return K("meta","meta")}else return/[,+>*\/]/.test(G)?K(null,"select-op"):G=="."&&he.match(/^-?[_a-z][_a-z0-9-]*/i)?K("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(G)?K(null,G):he.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(he.current())&&(de.tokenize=oe),K("variable callee","variable")):/[\w\\\-]/.test(G)?(he.eatWhile(/[\w\\\-]/),K("property","word")):K(null,null)}function re(he){return function(de,G){for(var ce=!1,X;(X=de.next())!=null;){if(X==he&&!ce){he==")"&&de.backUp(1);break}ce=!ce&&X=="\\"}return(X==he||!ce&&he!=")")&&(G.tokenize=null),K("string","string")}}function oe(he,de){return he.next(),he.match(/^\s*[\"\')]/,!1)?de.tokenize=null:de.tokenize=re(")"),K(null,"(")}function ge(he,de,G){this.type=he,this.indent=de,this.prev=G}function fe(he,de,G,ce){return he.context=new ge(G,de.indentation()+(ce===!1?0:P),he.context),G}function ve(he){return he.context.prev&&(he.context=he.context.prev),he.context.type}function me(he,de,G){return Ae[G.context.type](he,de,G)}function Le(he,de,G,ce){for(var X=ce||1;X>0;X--)G.context=G.context.prev;return me(he,de,G)}function ze(he){var de=he.current().toLowerCase();j.hasOwnProperty(de)?_="atom":ie.hasOwnProperty(de)?_="keyword":_="variable"}var Ae={};return Ae.top=function(he,de,G){if(he=="{")return fe(G,de,"block");if(he=="}"&&G.context.prev)return ve(G);if(Z&&/@component/i.test(he))return fe(G,de,"atComponentBlock");if(/^@(-moz-)?document$/i.test(he))return fe(G,de,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(he))return fe(G,de,"atBlock");if(/^@(font-face|counter-style)/i.test(he))return G.stateArg=he,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(he))return"keyframes";if(he&&he.charAt(0)=="@")return fe(G,de,"at");if(he=="hash")_="builtin";else if(he=="word")_="tag";else{if(he=="variable-definition")return"maybeprop";if(he=="interpolation")return fe(G,de,"interpolation");if(he==":")return"pseudo";if(H&&he=="(")return fe(G,de,"parens")}return G.context.type},Ae.block=function(he,de,G){if(he=="word"){var ce=de.current().toLowerCase();return ee.hasOwnProperty(ce)?(_="property","maybeprop"):ue.hasOwnProperty(ce)?(_=te?"string-2":"property","maybeprop"):H?(_=de.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(_+=" error","maybeprop")}else return he=="meta"?"block":!H&&(he=="hash"||he=="qualifier")?(_="error","block"):Ae.top(he,de,G)},Ae.maybeprop=function(he,de,G){return he==":"?fe(G,de,"prop"):me(he,de,G)},Ae.prop=function(he,de,G){if(he==";")return ve(G);if(he=="{"&&H)return fe(G,de,"propBlock");if(he=="}"||he=="{")return Le(he,de,G);if(he=="(")return fe(G,de,"parens");if(he=="hash"&&!/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(de.current()))_+=" error";else if(he=="word")ze(de);else if(he=="interpolation")return fe(G,de,"interpolation");return"prop"},Ae.propBlock=function(he,de,G){return he=="}"?ve(G):he=="word"?(_="property","maybeprop"):G.context.type},Ae.parens=function(he,de,G){return he=="{"||he=="}"?Le(he,de,G):he==")"?ve(G):he=="("?fe(G,de,"parens"):he=="interpolation"?fe(G,de,"interpolation"):(he=="word"&&ze(de),"parens")},Ae.pseudo=function(he,de,G){return he=="meta"?"pseudo":he=="word"?(_="variable-3",G.context.type):me(he,de,G)},Ae.documentTypes=function(he,de,G){return he=="word"&&d.hasOwnProperty(de.current())?(_="tag",G.context.type):Ae.atBlock(he,de,G)},Ae.atBlock=function(he,de,G){if(he=="(")return fe(G,de,"atBlock_parens");if(he=="}"||he==";")return Le(he,de,G);if(he=="{")return ve(G)&&fe(G,de,H?"block":"top");if(he=="interpolation")return fe(G,de,"interpolation");if(he=="word"){var ce=de.current().toLowerCase();ce=="only"||ce=="not"||ce=="and"||ce=="or"?_="keyword":N.hasOwnProperty(ce)?_="attribute":R.hasOwnProperty(ce)?_="property":q.hasOwnProperty(ce)?_="keyword":ee.hasOwnProperty(ce)?_="property":ue.hasOwnProperty(ce)?_=te?"string-2":"property":j.hasOwnProperty(ce)?_="atom":ie.hasOwnProperty(ce)?_="keyword":_="error"}return G.context.type},Ae.atComponentBlock=function(he,de,G){return he=="}"?Le(he,de,G):he=="{"?ve(G)&&fe(G,de,H?"block":"top",!1):(he=="word"&&(_="error"),G.context.type)},Ae.atBlock_parens=function(he,de,G){return he==")"?ve(G):he=="{"||he=="}"?Le(he,de,G,2):Ae.atBlock(he,de,G)},Ae.restricted_atBlock_before=function(he,de,G){return he=="{"?fe(G,de,"restricted_atBlock"):he=="word"&&G.stateArg=="@counter-style"?(_="variable","restricted_atBlock_before"):me(he,de,G)},Ae.restricted_atBlock=function(he,de,G){return he=="}"?(G.stateArg=null,ve(G)):he=="word"?(G.stateArg=="@font-face"&&!ae.hasOwnProperty(de.current().toLowerCase())||G.stateArg=="@counter-style"&&!$.hasOwnProperty(de.current().toLowerCase())?_="error":_="property","maybeprop"):"restricted_atBlock"},Ae.keyframes=function(he,de,G){return he=="word"?(_="variable","keyframes"):he=="{"?fe(G,de,"top"):me(he,de,G)},Ae.at=function(he,de,G){return he==";"?ve(G):he=="{"||he=="}"?Le(he,de,G):(he=="word"?_="tag":he=="hash"&&(_="builtin"),"at")},Ae.interpolation=function(he,de,G){return he=="}"?ve(G):he=="{"||he==";"?Le(he,de,G):(he=="word"?_="variable":he!="variable"&&he!="("&&he!=")"&&(_="error"),"interpolation")},{startState:function(he){return{tokenize:null,state:S?"block":"top",stateArg:null,context:new ge(S?"block":"top",he||0,null)}},token:function(he,de){if(!de.tokenize&&he.eatSpace())return null;var G=(de.tokenize||V)(he,de);return G&&typeof G=="object"&&(ne=G[1],G=G[0]),_=G,ne!="comment"&&(de.state=Ae[de.state](ne,he,de)),_},indent:function(he,de){var G=he.context,ce=de&&de.charAt(0),X=G.indent;return G.type=="prop"&&(ce=="}"||ce==")")&&(G=G.prev),G.prev&&(ce=="}"&&(G.type=="block"||G.type=="top"||G.type=="interpolation"||G.type=="restricted_atBlock")?(G=G.prev,X=G.indent):(ce==")"&&(G.type=="parens"||G.type=="atBlock_parens")||ce=="{"&&(G.type=="at"||G.type=="atBlock"))&&(X=Math.max(0,G.indent-P))),X},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:U,fold:"brace"}});function e(I){for(var O={},S=0;S<I.length;++S)O[I[S].toLowerCase()]=!0;return O}var n=["domain","regexp","url","url-prefix"],r=e(n),s=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],a=e(s),h=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],f=e(h),g=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],p=e(g),m=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],x=e(m),v=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],C=e(v),w=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],b=e(w),T=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],M=e(T),L=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],A=e(L),E=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],D=e(E),B=n.concat(s).concat(h).concat(g).concat(m).concat(v).concat(L).concat(E);t.registerHelper("hintWords","css",B);function z(I,O){for(var S=!1,P;(P=I.next())!=null;){if(S&&P=="/"){O.tokenize=null;break}S=P=="*"}return["comment","comment"]}t.defineMIME("text/css",{documentTypes:r,mediaTypes:a,mediaFeatures:f,mediaValueKeywords:p,propertyKeywords:x,nonStandardPropertyKeywords:C,fontProperties:b,counterDescriptors:M,colorKeywords:A,valueKeywords:D,tokenHooks:{"/":function(I,O){return I.eat("*")?(O.tokenize=z,z(I,O)):!1}},name:"css"}),t.defineMIME("text/x-scss",{mediaTypes:a,mediaFeatures:f,mediaValueKeywords:p,propertyKeywords:x,nonStandardPropertyKeywords:C,colorKeywords:A,valueKeywords:D,fontProperties:b,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(I,O){return I.eat("/")?(I.skipToEnd(),["comment","comment"]):I.eat("*")?(O.tokenize=z,z(I,O)):["operator","operator"]},":":function(I){return I.match(/^\s*\{/,!1)?[null,null]:!1},$:function(I){return I.match(/^[\w-]+/),I.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(I){return I.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),t.defineMIME("text/x-less",{mediaTypes:a,mediaFeatures:f,mediaValueKeywords:p,propertyKeywords:x,nonStandardPropertyKeywords:C,colorKeywords:A,valueKeywords:D,fontProperties:b,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(I,O){return I.eat("/")?(I.skipToEnd(),["comment","comment"]):I.eat("*")?(O.tokenize=z,z(I,O)):["operator","operator"]},"@":function(I){return I.eat("{")?[null,"interpolation"]:I.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(I.eatWhile(/[\w\\\-]/),I.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),t.defineMIME("text/x-gss",{documentTypes:r,mediaTypes:a,mediaFeatures:f,propertyKeywords:x,nonStandardPropertyKeywords:C,fontProperties:b,counterDescriptors:M,colorKeywords:A,valueKeywords:D,supportsAtComponent:!0,tokenHooks:{"/":function(I,O){return I.eat("*")?(O.tokenize=z,z(I,O)):!1}},name:"css",helperType:"gss"})})});var gC=De((dC,pC)=>{(function(t){typeof dC=="object"&&typeof pC=="object"?t(Wr()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)})(function(t){"use strict";var e={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};t.defineMode("xml",function(r,s){var a=r.indentUnit,h={},f=s.htmlMode?e:n;for(var g in f)h[g]=f[g];for(var g in s)h[g]=s[g];var p,m;function x(d,N){function R(ue){return N.tokenize=ue,ue(d,N)}var q=d.next();if(q=="<")return d.eat("!")?d.eat("[")?d.match("CDATA[")?R(w("atom","]]>")):null:d.match("--")?R(w("comment","-->")):d.match("DOCTYPE",!0,!0)?(d.eatWhile(/[\w\._\-]/),R(b(1))):null:d.eat("?")?(d.eatWhile(/[\w\._\-]/),N.tokenize=w("meta","?>"),"meta"):(p=d.eat("/")?"closeTag":"openTag",N.tokenize=v,"tag bracket");if(q=="&"){var ee;return d.eat("#")?d.eat("x")?ee=d.eatWhile(/[a-fA-F\d]/)&&d.eat(";"):ee=d.eatWhile(/[\d]/)&&d.eat(";"):ee=d.eatWhile(/[\w\.\-:]/)&&d.eat(";"),ee?"atom":"error"}else return d.eatWhile(/[^&<]/),null}x.isInText=!0;function v(d,N){var R=d.next();if(R==">"||R=="/"&&d.eat(">"))return N.tokenize=x,p=R==">"?"endTag":"selfcloseTag","tag bracket";if(R=="=")return p="equals",null;if(R=="<"){N.tokenize=x,N.state=E,N.tagName=N.tagStart=null;var q=N.tokenize(d,N);return q?q+" tag error":"tag error"}else return/[\'\"]/.test(R)?(N.tokenize=C(R),N.stringStartCol=d.column(),N.tokenize(d,N)):(d.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function C(d){var N=function(R,q){for(;!R.eol();)if(R.next()==d){q.tokenize=v;break}return"string"};return N.isInAttribute=!0,N}function w(d,N){return function(R,q){for(;!R.eol();){if(R.match(N)){q.tokenize=x;break}R.next()}return d}}function b(d){return function(N,R){for(var q;(q=N.next())!=null;){if(q=="<")return R.tokenize=b(d+1),R.tokenize(N,R);if(q==">")if(d==1){R.tokenize=x;break}else return R.tokenize=b(d-1),R.tokenize(N,R)}return"meta"}}function T(d){return d&&d.toLowerCase()}function M(d,N,R){this.prev=d.context,this.tagName=N||"",this.indent=d.indented,this.startOfLine=R,(h.doNotIndent.hasOwnProperty(N)||d.context&&d.context.noIndent)&&(this.noIndent=!0)}function L(d){d.context&&(d.context=d.context.prev)}function A(d,N){for(var R;;){if(!d.context||(R=d.context.tagName,!h.contextGrabbers.hasOwnProperty(T(R))||!h.contextGrabbers[T(R)].hasOwnProperty(T(N))))return;L(d)}}function E(d,N,R){return d=="openTag"?(R.tagStart=N.column(),D):d=="closeTag"?B:E}function D(d,N,R){return d=="word"?(R.tagName=N.current(),m="tag",O):h.allowMissingTagName&&d=="endTag"?(m="tag bracket",O(d,N,R)):(m="error",D)}function B(d,N,R){if(d=="word"){var q=N.current();return R.context&&R.context.tagName!=q&&h.implicitlyClosed.hasOwnProperty(T(R.context.tagName))&&L(R),R.context&&R.context.tagName==q||h.matchClosing===!1?(m="tag",z):(m="tag error",I)}else return h.allowMissingTagName&&d=="endTag"?(m="tag bracket",z(d,N,R)):(m="error",I)}function z(d,N,R){return d!="endTag"?(m="error",z):(L(R),E)}function I(d,N,R){return m="error",z(d,N,R)}function O(d,N,R){if(d=="word")return m="attribute",S;if(d=="endTag"||d=="selfcloseTag"){var q=R.tagName,ee=R.tagStart;return R.tagName=R.tagStart=null,d=="selfcloseTag"||h.autoSelfClosers.hasOwnProperty(T(q))?A(R,q):(A(R,q),R.context=new M(R,q,ee==R.indented)),E}return m="error",O}function S(d,N,R){return d=="equals"?P:(h.allowMissing||(m="error"),O(d,N,R))}function P(d,N,R){return d=="string"?k:d=="word"&&h.allowUnquoted?(m="string",O):(m="error",O(d,N,R))}function k(d,N,R){return d=="string"?k:O(d,N,R)}return{startState:function(d){var N={tokenize:x,state:E,indented:d||0,tagName:null,tagStart:null,context:null};return d!=null&&(N.baseIndent=d),N},token:function(d,N){if(!N.tagName&&d.sol()&&(N.indented=d.indentation()),d.eatSpace())return null;p=null;var R=N.tokenize(d,N);return(R||p)&&R!="comment"&&(m=null,N.state=N.state(p||R,d,N),m&&(R=m=="error"?R+" error":m)),R},indent:function(d,N,R){var q=d.context;if(d.tokenize.isInAttribute)return d.tagStart==d.indented?d.stringStartCol+1:d.indented+a;if(q&&q.noIndent)return t.Pass;if(d.tokenize!=v&&d.tokenize!=x)return R?R.match(/^(\s*)/)[0].length:0;if(d.tagName)return h.multilineTagIndentPastTag!==!1?d.tagStart+d.tagName.length+2:d.tagStart+a*(h.multilineTagIndentFactor||1);if(h.alignCDATA&&/<!\[CDATA\[/.test(N))return 0;var ee=N&&/^<(\/)?([\w_:\.-]*)/.exec(N);if(ee&&ee[1])for(;q;)if(q.tagName==ee[2]){q=q.prev;break}else if(h.implicitlyClosed.hasOwnProperty(T(q.tagName)))q=q.prev;else break;else if(ee)for(;q;){var ue=h.contextGrabbers[T(q.tagName)];if(ue&&ue.hasOwnProperty(T(ee[2])))q=q.prev;else break}for(;q&&q.prev&&!q.startOfLine;)q=q.prev;return q?q.indent+a:d.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:h.htmlMode?"html":"xml",helperType:h.htmlMode?"html":"xml",skipAttribute:function(d){d.state==P&&(d.state=O)},xmlCurrentTag:function(d){return d.tagName?{name:d.tagName,close:d.type=="closeTag"}:null},xmlCurrentContext:function(d){for(var N=[],R=d.context;R;R=R.prev)N.push(R.tagName);return N.reverse()}}}),t.defineMIME("text/xml","xml"),t.defineMIME("application/xml","xml"),t.mimeModes.hasOwnProperty("text/html")||t.defineMIME("text/html",{name:"xml",htmlMode:!0})})});var wC=De((Wq,bC)=>{bC.exports="0.5.7"});var ag=De((qq,SC)=>{var v7={8:"\\b",9:"\\t",10:"\\n",12:"\\f",13:"\\r",34:'\\"',92:"\\\\"};function x7(t){return t>=55296&&t<=56319}function b7(t){return t>=56320&&t<=57343}function kC(t){return typeof t.pipe=="function"&&typeof t._read=="function"&&typeof t._readableState=="object"&&t._readableState!==null}function w7(t,e,n,r){switch(n&&typeof n.toJSON=="function"&&(n=n.toJSON()),r!==null&&(n=r.call(t,String(e),n)),typeof n){case"function":case"symbol":n=void 0;break;case"object":if(n!==null){let s=n.constructor;(s===String||s===Number||s===Boolean)&&(n=n.valueOf())}break}return n}function k7(t){return t===null||typeof t!="object"?1:Array.isArray(t)?3:2}function S7(t){return t===null||typeof t!="object"?1:typeof t.then=="function"?4:kC(t)?t._readableState.objectMode?6:5:Array.isArray(t)?3:2}function C7(t){return typeof t=="function"?t:Array.isArray(t)?[...new Set(t.map(n=>{let r=n&&n.constructor;return r===String||r===Number?String(n):null}).filter(n=>typeof n=="string"))]:null}function T7(t){return typeof t=="number"?!Number.isFinite(t)||t<1?!1:" ".repeat(Math.min(t,10)):typeof t=="string"&&t.slice(0,10)||!1}SC.exports={escapableCharCodeSubstitution:v7,isLeadingSurrogate:x7,isTrailingSurrogate:b7,type:{PRIMITIVE:1,PROMISE:4,ARRAY:3,OBJECT:2,STRING_STREAM:5,OBJECT_STREAM:6},isReadableStream:kC,replaceValue:w7,getTypeNative:k7,getTypeAsync:S7,normalizeReplacer:C7,normalizeSpace:T7}});var AC=De((Uq,LC)=>{var{normalizeReplacer:L7,normalizeSpace:A7,replaceValue:M7,getTypeNative:E7,getTypeAsync:P7,isLeadingSurrogate:O7,isTrailingSurrogate:N7,escapableCharCodeSubstitution:D7,type:{PRIMITIVE:CC,OBJECT:I7,ARRAY:R7,PROMISE:j7,STRING_STREAM:z7,OBJECT_STREAM:B7}}=ag(),F7=Array.from({length:2048}).map((t,e)=>D7.hasOwnProperty(e)?2:e<32?6:e<128?1:2);function TC(t){let e=0,n=!1;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s<2048)e+=F7[s];else if(O7(s)){e+=6,n=!0;continue}else N7(s)?e=n?e-2:e+6:e+=3;n=!1}return e+2}function _7(t){switch(typeof t){case"string":return TC(t);case"number":return Number.isFinite(t)?String(t).length:4;case"boolean":return t?4:5;case"undefined":case"object":return 4;default:return 0}}function H7(t){return t=A7(t),typeof t=="string"?t.length:0}LC.exports=function(e,n,r,s){function a(T,M,L){if(w)return;L=M7(T,M,L,n);let A=v(L);if(A!==CC&&g.has(L)){m.add(L),b+=4,s.continueOnCircular||(w=!0);return}switch(A){case CC:L!==void 0||Array.isArray(T)?b+=_7(L):T===C&&(b+=9);break;case I7:{if(f.has(L)){p.add(L),b+=f.get(L);break}let E=b,D=0;b+=2,g.add(L);for(let B in L)if(hasOwnProperty.call(L,B)&&(h===null||h.has(B))){let z=b;a(L,B,L[B]),z!==b&&(b+=TC(B)+1,D++)}D>1&&(b+=D-1),g.delete(L),r>0&&D>0&&(b+=(1+(g.size+1)*r+1)*D,b+=1+g.size*r),f.set(L,b-E);break}case R7:{if(f.has(L)){p.add(L),b+=f.get(L);break}let E=b;b+=2,g.add(L);for(let D=0;D<L.length;D++)a(L,D,L[D]);L.length>1&&(b+=L.length-1),g.delete(L),r>0&&L.length>0&&(b+=(1+(g.size+1)*r)*L.length,b+=1+g.size*r),f.set(L,b-E);break}case j7:case z7:x.add(L);break;case B7:b+=2,x.add(L);break}}let h=null;n=L7(n),Array.isArray(n)&&(h=new Set(n),n=null),r=H7(r),s=s||{};let f=new Map,g=new Set,p=new Set,m=new Set,x=new Set,v=s.async?P7:E7,C={"":e},w=!1,b=0;return a(C,"",e),{minLength:isNaN(b)?1/0:b,circular:[...m],duplicate:[...p],async:[...x]}}});var EC=De((Gq,MC)=>{MC.exports=()=>{throw new Error("Method is not supported")}});var OC=De((Vq,PC)=>{PC.exports=TextDecoder});var ug=De(($q,DC)=>{var{isReadableStream:W7}=ag(),q7=OC(),ql=1,U7=2,G7=new q7;function NC(t){return t!==null&&typeof t=="object"}function lg(t,e){return t.name==="SyntaxError"&&e.jsonParseOffset&&(t.message=t.message.replace(/at position (\d+)/,(n,r)=>"at position "+(Number(r)+e.jsonParseOffset))),t}function V7(t,e){let n=t.length;t.length+=e.length;for(let r=0;r<e.length;r++)t[n+r]=e[r]}DC.exports=function(t){let e=new cg;if(NC(t)&&W7(t))return new Promise((n,r)=>{t.on("data",s=>{try{e.push(s)}catch(a){r(lg(a,e)),e=null}}).on("error",s=>{e=null,r(s)}).on("end",()=>{try{n(e.finish())}catch(s){r(lg(s,e))}finally{e=null}})});if(typeof t=="function"){let n=t();if(NC(n)&&(Symbol.iterator in n||Symbol.asyncIterator in n))return new Promise(async(r,s)=>{try{for await(let a of n)e.push(a);r(e.finish())}catch(a){s(lg(a,e))}finally{e=null}})}throw new Error("Chunk emitter should be readable stream, generator, async generator or function returning an iterable object")};var cg=class{constructor(){this.value=void 0,this.valueStack=null,this.stack=new Array(100),this.lastFlushDepth=0,this.flushDepth=0,this.stateString=!1,this.stateStringEscape=!1,this.pendingByteSeq=null,this.pendingChunk=null,this.chunkOffset=0,this.jsonParseOffset=0}parseAndAppend(e,n){this.stack[this.lastFlushDepth-1]===ql?(n&&(this.jsonParseOffset--,e="{"+e+"}"),Object.assign(this.valueStack.value,JSON.parse(e))):(n&&(this.jsonParseOffset--,e="["+e+"]"),V7(this.valueStack.value,JSON.parse(e)))}prepareAddition(e){let{value:n}=this.valueStack;if(Array.isArray(n)?n.length!==0:Object.keys(n).length!==0){if(e[0]===",")return this.jsonParseOffset++,e.slice(1);if(e[0]!=="}"&&e[0]!=="]")return this.jsonParseOffset-=3,"[[]"+e}return e}flush(e,n,r){let s=e.slice(n,r);if(this.jsonParseOffset=this.chunkOffset+n,this.pendingChunk!==null&&(s=this.pendingChunk+s,this.jsonParseOffset-=this.pendingChunk.length,this.pendingChunk=null),this.flushDepth===this.lastFlushDepth)this.flushDepth>0?this.parseAndAppend(this.prepareAddition(s),!0):(this.value=JSON.parse(s),this.valueStack={value:this.value,prev:null});else if(this.flushDepth>this.lastFlushDepth){for(let a=this.flushDepth-1;a>=this.lastFlushDepth;a--)s+=this.stack[a]===ql?"}":"]";this.lastFlushDepth===0?(this.value=JSON.parse(s),this.valueStack={value:this.value,prev:null}):this.parseAndAppend(this.prepareAddition(s),!0);for(let a=this.lastFlushDepth||1;a<this.flushDepth;a++){let h=this.valueStack.value;if(this.stack[a-1]===ql){let f;for(f in h);h=h[f]}else h=h[h.length-1];this.valueStack={value:h,prev:this.valueStack}}}else{s=this.prepareAddition(s);for(let a=this.lastFlushDepth-1;a>=this.flushDepth;a--)this.jsonParseOffset--,s=(this.stack[a]===ql?"{":"[")+s;this.parseAndAppend(s,!1);for(let a=this.lastFlushDepth-1;a>=this.flushDepth;a--)this.valueStack=this.valueStack.prev}this.lastFlushDepth=this.flushDepth}push(e){if(typeof e!="string"){if(this.pendingByteSeq!==null){let a=e;e=new Uint8Array(this.pendingByteSeq.length+a.length),e.set(this.pendingByteSeq),e.set(a,this.pendingByteSeq.length),this.pendingByteSeq=null}if(e[e.length-1]>127)for(let a=0;a<e.length;a++){let h=e[e.length-1-a];if(h>>6===3){a++,(a!==4&&h>>3===30||a!==3&&h>>4===14||a!==2&&h>>5===6)&&(this.pendingByteSeq=e.slice(e.length-a),e=e.slice(0,-a));break}}e=G7.decode(e)}let n=e.length,r=0,s=0;e:for(let a=0;a<n;a++){if(this.stateString){for(;a<n;a++)if(this.stateStringEscape)this.stateStringEscape=!1;else switch(e.charCodeAt(a)){case 34:this.stateString=!1;continue e;case 92:this.stateStringEscape=!0}break}switch(e.charCodeAt(a)){case 34:this.stateString=!0,this.stateStringEscape=!1;break;case 44:s=a;break;case 123:s=a+1,this.stack[this.flushDepth++]=ql;break;case 91:s=a+1,this.stack[this.flushDepth++]=U7;break;case 93:case 125:s=a+1,this.flushDepth--,this.flushDepth<this.lastFlushDepth&&(this.flush(e,r,s),r=s);break;case 9:case 10:case 13:case 32:r===a&&r++,s===a&&s++;break}}s>r&&this.flush(e,r,s),s<n&&(this.pendingChunk!==null?this.pendingChunk+=e:this.pendingChunk=e.slice(s,n)),this.chunkOffset+=n}finish(){return this.pendingChunk!==null&&(this.flush("",0,0),this.pendingChunk=null),this.value}}});var RC=De((Yq,IC)=>{IC.exports={version:wC(),stringifyInfo:AC(),stringifyStream:EC(),parseChunked:ug()}});var p1=Pn(d1());function g1(t){let e=[p1.default].filter(n=>{if(typeof n=="function")return!0;console.warn('[discovery-cli] "prepare" module should return a function, but got '+typeof n)});e.length&&t.setPrepare(async(n,...r)=>{for(let s of e)n=await s(n,...r)||n;return n})}var ek=[(y1(),Zi(m1)),(w1(),Zi(b1)),(S1(),Zi(k1)),(T1(),Zi(C1)),(A1(),Zi(L1)),(E1(),Zi(M1)),(D1(),Zi(N1)),(R1(),Zi(I1)),(z1(),Zi(j1)),(F1(),Zi(B1)),(H1(),Zi(_1)),(q1(),Zi(W1)),(G1(),Zi(U1)),($1(),Zi(V1)),(X1(),Zi(Y1)),(Z1(),Zi(K1)),(J1(),Zi(Q1))];var zm={};tt(zm,{App:()=>Uo,Widget:()=>Ho,inspector:()=>Gu,navButtons:()=>Ql,pages:()=>Xl,router:()=>bh,upload:()=>xh,utils:()=>eL,version:()=>Su,views:()=>Ul});var Su="1.0.0-beta.70";var sr=class{constructor(){this.listeners=Object.create(null)}on(e,n){return this.listeners[e]={callback:n,next:this.listeners[e]||null},this}once(e,n){return this.on(e,function r(...s){n.apply(this,s),this.off(e,r)})}off(e,n){let r=this.listeners[e]||null,s=null;for(;r!==null;){if(r.callback===n){r.callback=null,s?s.next=r.next:this.listeners[e]=r.next;break}s=r,r=r.next}return this}emit(e,...n){let r=this.listeners[e]||null,s=!1;for(;r!==null;)typeof r.callback=="function"&&r.callback.apply(this,n),s=!0,r=r.next;return s}};var co=new WeakMap,ar=class extends sr{constructor(){super(),co.set(this,new Map)}define(e,n){return co.get(this).set(e,n),this.emit("define",e,n),n}isDefined(e){return co.get(this).has(e)}get(e){return co.get(this).get(e)}get names(){return[...co.get(this).keys()]}get keys(){return co.get(this).keys()}get values(){return co.get(this).values()}get entries(){return co.get(this).entries()}};var Ep=Object.freeze({}),{hasOwnProperty:yR}=Object,nk=new WeakMap,Pp=new WeakMap,Rs=new WeakMap,jo=new WeakMap,rk=new WeakMap,vR=new Set(["view","when","data","whenData","postRender","className"]);function uo(t,e){return rk.set(t,e),t}function ok(t,e,n){if(!n.has(t)){if(jo.has(t))for(let r of jo.get(t)){let s=e.children.find(a=>a.view===r);s?e=s:e.children.push(e={node:null,parent:e,view:r,children:[]})}if(Rs.has(t)?e.children.push(e={node:t,parent:e,view:Rs.get(t),children:[]}):Pp.has(t)&&e.children.push(e={node:t,parent:e,viewRoot:Pp.get(t),children:[]}),t.nodeType===1)for(let r=t.firstChild;r;r=r.nextSibling)ok(r,e,n)}}function xR(t){return{name:!1,options:Ep,render(e,n){if(e.className="discovery-buildin-view-render-error",e.dataset.type=n.type,e.textContent=n.reason,"config"in n){let r=e.appendChild(document.createElement("span"));r.className="toggle-config",r.textContent="show config...",r.addEventListener("click",()=>{e.classList.toggle("expanded")?(r.textContent="hide config...",t.render(e,{view:"struct",expanded:1},n.config)):(r.textContent="show config...",e.lastChild.remove())})}}}}function tk(t,e,n,r,s,a,h,f){return!yR.call(n,t)||n[t]===void 0||e.queryBool(n[t]===!0?"":n[t],r,s)?!0:(Rs.set(f,{skipped:t,config:n,inputData:a,inputDataIndex:h,data:r,context:s}),!1)}function sk(t,e,n,r){let s=e;return typeof s=="string"&&s.startsWith("=")&&(s=t.queryFn(s.slice(1))),typeof s=="function"&&(s=s(n,r)),typeof s=="string"&&(s=s.trim().split(/\s+/)),Array.isArray(s)&&(s=s.map(a=>typeof a=="function"?a(n,r):a).filter(Boolean),s.length)?s:null}function ik(t,e,n,r,s,a,h,f,g){let{tag:p}=e.options,m=p===!1||p===null?document.createDocumentFragment():document.createElement(p||"div"),x=Promise.resolve(e.render(m,s,a,h));return typeof r.postRender=="function"&&(x=x.then(()=>r.postRender(m,r,a,h))),x.then(function(){let v={config:r,props:s,inputData:f,inputDataIndex:g,data:a,context:h};if(m.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){if(Rs.set(m,v),e.name&&m.classList.add(`view-${e.name}`),r.className){let C=sk(t,r.className,a,h);C!==null&&m.classList.add(...C)}r.tooltip&&ak(t,m,r.tooltip,a,h)}else for(let C of m.childNodes)jo.has(C)?jo.get(C).unshift(v):jo.set(C,[v]);n.replaceWith(m)})}function bR(t,e){return{name:e,normalizeConfig:t.normalizeConfig.bind(t),ensureValidConfig:t.ensureValidConfig.bind(t),composeConfig:t.composeConfig.bind(t),propsFromConfig:t.propsFromConfig.bind(t),render:t.render.bind(t),listLimit:t.listLimit.bind(t),renderList:t.renderList.bind(t),maybeMoreButtons:t.maybeMoreButtons.bind(t),renderMoreButton:t.renderMoreButton.bind(t),tooltip(n,r,s,a){n&&n.nodeType===1?ak(t.host,n,r,s,a):console.warn("A tooltip can be attached to a HTML element only")}}}function ak(t,e,n,r,s){e.classList.add("discovery-view-has-tooltip"),nk.set(e,[n,r,s]),t.view.tooltip||(t.view.tooltip=wR(t))}function wR(t){let e=null,n=new t.view.Popup({className:"discovery-buildin-view-tooltip",hoverTriggers:".discovery-view-has-tooltip",position:"pointer",render(r,s){let[a,h,f]=nk.get(s)||[],g="pointer";if(e!==null&&(r.classList.remove(...e),e=null),a&&!Array.isArray(a)&&typeof a!="string"&&typeof a!="function"&&!a.view&&(e=sk(t,a.className,h,f),e!==null&&r.classList.add(...e),g=a.position==="trigger"?"trigger":"pointer",a=a.content),n.options.position=g,a)return t.view.render(r,a,h,f);t.view.render(r,{view:t.view.defaultRenderErrorRenderer.render,reason:"Element marked as having a tooltip but related data is not found"})}});return n}function lk(t,e,n,r,s,a){if(Array.isArray(n))return Promise.all(n.map(p=>lk(t,e,p,r,s,a)));let h=r&&typeof s=="number"?r[s]:r,f=null;switch(typeof n.view){case"function":f={name:!1,options:Ep,render:n.view};break;case"string":if(n.view==="render"){let{config:p="",context:m=""}=n;f={name:!1,options:{tag:!1},render:(x,v,C)=>{let w=p!==""?t.host.query(p,h,a):C,b=t.host.query(m,a,h);return t.render(x,w,C!==w?C:h,b)}}}else if(n.view.startsWith("preset/")){let p=n.view.substr(7);f={name:!1,options:{tag:!1},render:t.host.preset.isDefined(p)?t.host.preset.get(p).render:()=>{}}}else f=t.get(n.view);break}if(!f){let p=typeof n.view=="string"?"View `"+n.view+"` is not found":"Render is not a function";console.error(p,n),f=t.defaultRenderErrorRenderer,n={type:"config",reason:p,config:n}}e||(e=document.createDocumentFragment());let g=e.appendChild(document.createComment(""));return tk("when",t.host,n,h,a,r,s,g)?("data"in n?Promise.resolve(t.host.query(n.data,h,a)):Promise.resolve(h)).then(m=>tk("whenData",t.host,n,m,a,r,s,g)?ik(t.host,f,g,n,t.propsFromConfig(n,m,a),m,a,r,s):null).catch(m=>{ik(t.host,t.defaultRenderErrorRenderer,g,Ep,{type:"render",reason:String(m),config:n}),console.error(m)}):Promise.resolve()}var Ml=class extends ar{constructor(e){super(),this.host=e,this.defaultRenderErrorRenderer=xR(this)}define(e,n,r){super.define(e,Object.freeze({name:e,options:Object.freeze({...r}),render:typeof n=="function"?n.bind(bR(this,e)):(s,a,h,f)=>this.render(s,n,h,f)}))}normalizeConfig(e){if(!e)return null;if(Array.isArray(e))return e.reduce((n,r)=>n.concat(this.normalizeConfig(r)||[]),[]);if(typeof e=="string"){let[,n,r,s]=e.match(/^(\S+?)([:{])((?:.|\s)+)$/)||[];if(n){if(r==="{")try{return uo(this.host.queryToConfig(n,r+s),e)}catch(a){return uo(this.badConfig(e,a),e)}return uo({view:n,data:s},e)}return uo({view:e},e)}else if(typeof e=="function")return uo({view:e},e);return e}badConfig(e,n){let r=n&&n.message||"Unknown error";return console.error(r,{config:e,error:n}),{view:this.defaultRenderErrorRenderer.render,type:"config",reason:r,config:e}}ensureValidConfig(e){return Array.isArray(e)?e.map(n=>this.ensureValidConfig(n)):!e||!e.view?this.badConfig(e,new Error(e?"Option `view` is missed":"Config is not a valid value")):e}composeConfig(e,n){return e=this.normalizeConfig(e),n=this.normalizeConfig(n),e&&n?Array.isArray(e)?e.map(r=>uo({...r,...n},[r,n])):uo({...e,...n},[e,n]):e||n}propsFromConfig(e,n,r){let s=uo({},e);for(let[a,h]of Object.entries(e))vR.has(a)||(s[a]=typeof h=="string"&&h.startsWith("=")?this.host.query(h.slice(1),n,r):h);return s}render(e,n,r,s,a){return lk(this,e,this.ensureValidConfig(this.normalizeConfig(n)),r,a,s)}listLimit(e,n){return e===!1?!1:!e||isNaN(e)?n:Math.max(parseInt(e,10),0)||n}renderList(e,n,r,s,a=0,h=!1,f){h===!1&&(h=r.length);let g=Promise.all(r.slice(a,a+h).map((p,m,x)=>this.render(e,n,r,{...s,index:a+m,array:r,sliceIndex:m,slice:x},a+m)));return this.maybeMoreButtons(f||e,null,r.length,a+h,h,(p,m)=>this.renderList(e,n,r,s,p,m,f)),g}maybeMoreButtons(e,n,r,s,a,h){let f=r-s,g=f<=0?null:document.createElement("span");return f>a&&this.renderMoreButton(g,"Show "+a+" more...",()=>h(s,a)),f>0&&this.renderMoreButton(g,"Show all the rest "+f+" items...",()=>h(s,1/0)),g!==null&&(g.className="more-buttons",e.insertBefore(g,n)),g}renderMoreButton(e,n,r){let s=document.createElement("button");s.className="more-button",s.innerHTML=n,s.addEventListener("click",()=>{e.remove(),r()}),e.appendChild(s)}adoptFragment(e,n){let r=jo.get(n);if(r)for(let s of e.childNodes)jo.set(s,r)}setViewRoot(e,n,r){Pp.set(e,{name:n,...r})}getViewTree(e){let n=new Set(e||[]),r=[];return ok(this.host.dom.container,{parent:null,children:r},n),r}getViewStackTrace(e){let{container:n}=this.host.dom;if(!n||!(e instanceof Node)||!n.contains(e))return null;let r=[],s=e;for(;s!==n;)Rs.has(s)&&r.push(Rs.get(s)),s=s.parentNode;return r.length===0?null:r.reverse()}getViewConfigTransitionTree(e){let n=rk.get(e)||[];return Array.isArray(n)||(n=[n]),{value:e,deps:n.map(this.getViewConfigTransitionTree,this)}}};var El=class extends ar{constructor(e){super(),this.view=e}define(e,n){n=JSON.parse(JSON.stringify(n)),super.define(e,Object.freeze({name:e,render:(r,s,a,h)=>this.view.render(r,n,a,h),config:n}))}render(e,n,r,s){let a=this.get(n);if(!a){let h="Preset `"+n+"` is not found";console.error(h,n);let f=e.appendChild(document.createElement("div"));return f.className="discovery-buildin-view-config-error",f.textContent=h,Promise.resolve()}return a.render(e,null,r,s)}};var In=class{static setValue(e,n){if(!e.shouldPublish(n,e.value))return!1;let r=[],s=e.subscriber;for(e.value=n;s!==null;){let{callback:a,thisArg:h}=s;a!==null&&r.push(a.call(h,n,()=>e.unsubscribe(a,h))),s=s.subscriber}return r}constructor(e,n){this.value=e,this.shouldPublish=typeof n=="function"?n:this.shouldPublish,this.subscriber=null}get readonly(){let e=this;return{subscribe:this.subscribe.bind(this),subscribeSync:this.subscribeSync.bind(this),unsubscribe:this.unsubscribe.bind(this),get value(){return e.value}}}subscribe(e,n){return this.subscriber={callback:e,thisArg:n,subscriber:this.subscriber},()=>this.unsubscribe(e,n)}subscribeSync(e,n){let r=this.subscribe(e,n);return e.call(n,this.value,r),r}unsubscribe(e,n){let r=this,s=this.subscriber;for(;s!==null;){if(s.callback===e&&s.thisArg===n){s.callback=null,s.thisArg=null,r.subscriber=s.subscriber;break}r=s,s=s.subscriber}}shouldPublish(e,n){return e!==n}set(e){return this.constructor.setValue(this,e)!==!1}asyncSet(e){let n=this.constructor.setValue(this,e);return n===!1?Promise.resolve(!1):Promise.all(n).then(r=>r!==!1)}};var Op={};tt(Op,{createElement:()=>je,createFragment:()=>zo,createText:()=>yn,passiveCaptureOptions:()=>Vn,passiveSupported:()=>ck});function je(t,e,n){let r=document.createElement(t);typeof e=="string"&&(e={class:e});for(let s in e)if(hasOwnProperty.call(e,s)){if(e[s]===void 0)continue;s.startsWith("on")?r.addEventListener(s.substr(2),e[s]):r.setAttribute(s,e[s])}return Array.isArray(n)?n.forEach(s=>r.appendChild(s instanceof Node?s:yn(s))):typeof n=="string"&&(r.innerHTML=n),r}function yn(t){return document.createTextNode(String(t))}function zo(...t){let e=document.createDocumentFragment();return t.forEach(n=>e.appendChild(n instanceof Node?n:yn(n))),e}var ck=(()=>{let t=!1;try{let e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t})(),Vn=ck?Object.freeze({passive:!0,capture:!0}):!0;var uk=Symbol("config"),kR={name:"not-found",render:(t,{name:e})=>{t.style.cssText="color:#a00",t.innerText=`Page \`${e}\` not found`}},Pl=class extends ar{constructor(e){if(super(),this.view=e.view,this.lastPage=null,this.lastPageId=null,this.pageOverscrolled=new In(!1),this.setPageOverscroll=()=>{},typeof IntersectionObserver=="function"){let n=je("div",{style:"position:absolute"}),r=e.dom.content,s=null,a=()=>{};s&&(s.disconnect(),s=null),r&&(s=new IntersectionObserver(h=>this.pageOverscrolled.set(!h[h.length-1].isIntersecting),{root:r}),this.setPageOverscroll=h=>{s.unobserve(n),a(),h&&(h.prepend(n),s.observe(n),a=this.pageOverscrolled.subscribeSync(f=>h.classList.toggle("page_overscrolled",f)))})}}define(e,n,r){super.define(e,Object.freeze({name:e,render:typeof n=="function"?n.bind(this.view):(s,a,h)=>this.view.render(s,n,a,h),options:Object.freeze({...r}),[uk]:n}))}render(e,n,r,s){let a=Date.now(),h=this.get(n),f;h||(h=this.get("not-found")||kR,r={name:n});let{reuseEl:g,init:p,keepScrollOffset:m=!0}=h.options||{},x=this.lastPage!==n,v=s&&s.id,C=this.lastPageId!==v,w=g&&!x?e:document.createElement("article"),b=e.parentNode;this.lastPage=n,this.lastPageId=v,w.id=e.id,w.classList.add("page","page-"+n),x&&typeof p=="function"&&p(w);try{f=h.render(w,r,s)}catch(T){f=this.view.render(w,"alert-danger",String(T)+" (see details in console)"),console.error(T)}return(x||C||!m)&&(b.scrollTop=0),w!==e&&(e.replaceWith(w),this.setPageOverscroll(w)),{pageEl:w,config:h[uk],renderState:Promise.resolve(f).then(()=>console.log("[Discovery] Page `"+h.name+"` rendered in "+(Date.now()-a)+"ms"))}}};var Ul={};tt(Ul,{alerts:()=>hk,autoLink:()=>fk,badges:()=>pk,block:()=>mk,button:()=>yk,checkbox:()=>wk,checkboxList:()=>xk,column:()=>kk,columns:()=>Sk,contentFilter:()=>Tk,context:()=>Ak,dropdown:()=>Pk,editors:()=>zk,expand:()=>Fk,headers:()=>Xk,hstack:()=>Zk,html:()=>Jk,image:()=>tS,imagePreview:()=>nS,indicator:()=>oS,input:()=>lS,link:()=>uS,listItem:()=>hS,lists:()=>fS,markdown:()=>dS,menu:()=>gS,menuItem:()=>yS,navButton:()=>xS,pageHeader:()=>wS,popup:()=>LS,progressbar:()=>MS,section:()=>PS,select:()=>NS,signature:()=>eg,source:()=>xC,struct:()=>gg,switch:()=>ZC,tab:()=>a2,table:()=>t2,tableCell:()=>n2,tableRow:()=>i2,tabs:()=>o2,text:()=>c2,textMatch:()=>p2,textNumeric:()=>m2,tocSection:()=>y2,toggle:()=>v2,toggleGroup:()=>x2,tree:()=>k2,treeItem:()=>S2});var js=(t,e)=>({demo:{view:t,data:'"Alert"'},examples:[{title:"Variations",demo:e.map(n=>`${n}:"${n}"`)},{title:"Complex content",demo:{view:t,content:['h3:"Some header"','text:"Hello world!"']}}]});function hk(t){function e(n,r,s,a){let{content:h="text"}=r;return n.classList.add("view-alert"),t.view.render(n,h,s,a)}t.view.define("alert",e,{usage:js}),t.view.define("alert-primary",e,{usage:js}),t.view.define("alert-success",e,{usage:js}),t.view.define("alert-danger",e,{usage:js}),t.view.define("alert-warning",e,{usage:js})}function fk(t){t.view.define("auto-link",function(e,n,r,s){let{content:a,fallback:h,href:f}=n;if(!r)return;let g=t.resolveValueLinks(r),m=g?(typeof f=="function"?f:x=>x)(g[0].href,r,s):null;return m?t.view.render(e,{view:"link",content:a},{...g[0],href:m},s):t.view.render(e,h||a||"text",r,s)},{tag:!1})}var Np=(t,e)=>({demo:{view:t,data:JSON.stringify(t)},examples:[{title:"Variations",demo:e.map(n=>`${n}:"${n}"`)},{title:"Custom colors",beforeDemo:{view:"md",source:["Data properties to setup a custom colors:","* `color` \u2013 default background color","* `textColor` \u2013 default text color","* `darkColor` \u2013 background color in dark mode","* `textColor` \u2013 text color in dark mode"].join(`
`)},demo:{view:t,data:{text:"Colored badge",color:"rgba(237, 177, 9, 0.35)",textColor:"orange",darkColor:"#ffff00",darkTextColor:"black"}}},{title:"As a link",demo:{view:t,data:{text:"Link to something",href:"#",external:!0}}},{title:"Prefix and postfix",demo:{view:t,data:{prefix:"prefix",text:"link",postfix:"postfix"}}},{title:"With a hint",demo:{view:t,data:{text:"text",hint:"hint"}}}]});function dk(t,e,n){if(!n)return;let r=t.appendChild(document.createElement("span"));r.className=e,r.textContent=n}function pk(t){function e(n,r,s,a){let{content:h}=r,{color:f,textColor:g,darkColor:p,darkTextColor:m,text:x,href:v,external:C,prefix:w,postfix:b,hint:T}=s||{},M;return(typeof s=="string"||typeof s=="number"||typeof s=="boolean")&&(x=s),f&&n.style.setProperty("--discovery-view-badge-color",f),p&&n.style.setProperty("--discovery-view-badge-dark-color",p),g&&n.style.setProperty("--discovery-view-badge-text-color",g),m&&n.style.setProperty("--discovery-view-badge-dark-text-color",m),v&&(n.href=v),C&&(n.target="_blank"),T&&(n.title=T),dk(n,"prefix",w),h?M=this.render(n,h,s,a):n.append(document.createTextNode(x)),dk(n,"postfix",b),M}t.view.define("badge",e,{tag:"a",usage:Np}),t.view.define("pill-badge",e,{tag:"a",usage:Np})}var gk={beforeDemo:"A block has no its own look. It's using for wrapping some content with a `className` (btw `className` is a common property for any view when appropriate)",demo:{view:"block",className:"foo",content:['text:"Content inside block"']}};function mk(t){t.view.define("block",function(e,n,r,s){let{content:a=[],onInit:h,onChange:f}=n,g=typeof h!="function"&&typeof f!="function"?a:this.composeConfig(a,{onInit:h,onChange:f});return t.view.render(e,g,r,s)},{usage:gk})}var Ol=(t,e)=>({demo:{view:t,onClick:Function('return () => alert("Hello world!")')(),data:{text:"Button"}},examples:[{title:"Variations",demo:e.map(n=>`${n}:{ text: "${n}" }`)},{title:"Disabled state",demo:e.map(n=>({view:n,disabled:!0,data:{text:n}}))},{title:"Button as a link",demo:{view:"button",data:{text:"Click me",href:"#url",external:!0}}}]});function yk(t){function e(n,r,s,a){let{content:h,disabled:f=!1,onClick:g}=r,{text:p="",href:m,external:x}=s||{};if(n.classList.add("view-button"),t.query(f,s,a)?n.disabled=!0:typeof g=="function"?(n.addEventListener("click",()=>g(n,s,a)),n.classList.add("onclick")):m&&n.addEventListener("click",()=>je("a",{href:m,target:x?"_blank":""}).click()),h)return t.view.render(n,h,s,a);n.textContent=p}t.view.define("button",e,{tag:"button",usage:Ol}),t.view.define("button-primary",e,{tag:"button",usage:Ol}),t.view.define("button-danger",e,{tag:"button",usage:Ol}),t.view.define("button-warning",e,{tag:"button",usage:Ol})}var vk={demo:{view:"checkbox-list",checkbox:{content:"text"},data:["one","two","three"]}};function xk(t){t.view.define("checkbox-list",function(e,n,r,s){let{name:a="filter",checkbox:h,checkboxValue:f="$",emptyText:g,limit:p,onChange:m,onInit:x}=n,v=new Set;if(g!==!1&&g!==""&&e.setAttribute("emptyText",g||"Empty list"),!Array.isArray(r)&&r&&(r=[r]),Array.isArray(r))return t.view.renderList(e,this.composeConfig({view:"checkbox",...h,onInit:(C,w,b,T)=>{C&&v.add(t.query(f,b,T))},onChange:(C,w,b,T)=>{let M=v.size,L=t.query(f,b,T);C?v.add(L):v.delete(L),M!==v.size&&typeof m=="function"&&m([...v],a)}}),r,s,0,t.view.listLimit(p,25)).then(()=>{typeof x=="function"&&x([...v],a)})},{usage:vk})}var bk={demo:{view:"checkbox",content:'text:"checkbox caption"'},examples:[{title:"Checked state",beforeDemo:"Checked state is set up with `checked` property. Its value can be a query",demo:[{view:"checkbox",checked:!0,content:'text:"should be checked"'},{view:"checkbox",checked:"1 > 5",content:`text:"shouldn't be checked"`},{view:"checkbox",checked:"1 < 5",content:'text:"should be checked"'}]},{title:"Readonly checkbox",demo:{view:"checkbox",readonly:!0,content:'text:"checkbox caption"'}},{title:"On change",demo:{view:"checkbox",onChange:new Function("return (value, name, data, context) => alert(`Changed to ${value}!`)")(),content:'text:"click me!"'}}]};function wk(t){function e(n,r,s,a,h,f){if(n===null)return;let g=h?{...a,[h]:f.checked}:a;return n.innerHTML="",t.view.render(n,r,s,g)}t.view.define("checkbox",function(n,r,s,a){let{name:h,checked:f,readonly:g,content:p,onInit:m,onChange:x}=r,v=n.appendChild(je("input")),C=p?n.appendChild(je("span","view-checkbox__label")):null;return v.type="checkbox",v.checked=f!==void 0?t.queryBool(f,s,a):Boolean(a[h]),v.readOnly=g,v.addEventListener("click",w=>{g&&w.preventDefault()}),v.addEventListener("change",()=>{typeof x=="function"&&(x(v.checked,h,s,a),e(C,p,s,a,h,v))}),typeof m=="function"&&m(v.checked,h,s,a),e(C,p,s,a,h,v)},{tag:"label",usage:bk})}var Cu={demo:{view:"columns",data:["one","two","three","four"],column:"text"}};function kk(t){t.view.define("column",function(e,n,r,s){let{content:a=[]}=n;return t.view.render(e,a,r,s)},{usage:Cu})}function Sk(t){t.view.define("columns",function(n,r,s,a){let{column:h,columnConfig:f,emptyText:g,limit:p}=r;if(g!==!1&&g!==""&&n.setAttribute("emptyText",g||"Empty"),!Array.isArray(s)&&s&&(s=[s]),Array.isArray(s))return t.view.renderList(n,this.composeConfig({view:"column",content:h},f),s,a,0,t.view.listLimit(p,25))},{usage:Cu})}var Ck={demo:{view:"content-filter",data:["foo","bar","baz"],content:{view:"list",data:".[$ ~= #.filter]"}},examples:[{title:"Using with text-match",demo:{view:"content-filter",data:[{name:"foo"},{name:"bar"},{name:"baz"}],name:"customName",content:{view:"list",data:".[name ~= #.customName]",item:"text-match:{ text: name, match: #.customName }"}}}]};function Tk(t){t.view.define("content-filter",function(e,n,r,s){let{name:a="filter",type:h="regexp",placeholder:f,content:g,onInit:p,onChange:m}=n;return t.view.render(e,{view:"context",modifiers:{view:"input",name:a,type:h,placeholder:f||"Filter"},content:{view:"block",className:"content",content:g,onInit:p,onChange:m}},r,s)},{usage:Ck})}var Lk={demo:{view:"context",data:{name:"text",demo:123},content:["text:name","table"]},examples:[{title:"Using with modifiers",demo:{view:"context",modifiers:['h2:"Modifiers"',{view:"input",name:"inputValue"},{view:"select",name:"selectValue",data:["foo","bar","baz"]}],content:['h2:"Values"',"struct:#"]}}]};function Ak(t){t.view.define("context",function(e,n,r,s){function a(){let L=p.previousSibling;for(;L&&L!==g;)L=L.previousSibling,L.nextSibling.remove();let A=m=document.createDocumentFragment();return t.view.render(A,C,r,f).then(()=>{A===m&&(t.view.adoptFragment(A,g),g.after(A))})}function h(L,A){A&&(!hasOwnProperty.call(f,A)||f[A]!==L)&&(f={...f,[A]:L},x?(a(),w&&typeof T=="function"&&T(L,A)):typeof b=="function"&&b(L,A))}let f=s,g=null,p=null,m=null,x=!1,{modifiers:v=[],content:C=[]}=n,{proxy:w,onInit:b,onChange:T}=n;Array.isArray(v)||(v=[v]);let M=t.view.render(e,this.composeConfig(v,{onInit:h,onChange:h}),r,s);return g=e.appendChild(document.createComment('{ view: "context" } content start')),p=e.appendChild(document.createComment('{ view: "context" } content end')),w&&(b||T)&&(C=this.composeConfig(C,{onInit:b,onChange:T})),M.then(()=>(x=!0,a()))},{tag:!1,usage:Lk})}var Mk={demo:{view:"context",modifiers:{view:"dropdown",name:"demo",value:{foo:"two",bar:"hello"},resetValue:{foo:"one",bar:""},caption:"text:`${#.demo.foo} / ${#.demo.bar}`",content:[{view:"select",name:"foo",data:["one","two","three","four"]},{view:"input",name:"bar"}]},content:[{view:"block",content:'text:"Modified context (see values in \\"demo\\" section):"'},{view:"struct",expanded:1,data:"#"}]}};var{hasOwnProperty:Ek}=Object.prototype;function SR(t,e){if(!t||!e||typeof t!="object"||typeof e!="object")return t===e;for(let n in t)if(Ek.call(t,n)&&t[n]!==e[n])return!1;for(let n in e)if(Ek.call(e,n)&&t[n]!==e[n])return!1;return!0}function Pk(t){t.view.define("dropdown",function(e,n,r,s){function a(B,z){return typeof b=="function"?b(B,z):SR(B,z)}function h(){return E.innerHTML="",t.view.render(E,C||"text",r,{...s,[p||"__self"]:L})}function f(B){L=B,typeof M=="function"&&M(L,p,r,s),A.hide(),h()}function g(B,z){if(D){let I={changed:!a(B,z)};D.innerHTML="",t.view.render(D,[{view:"button-primary",disabled:"=not changed",content:'text:"Apply"',onClick(O,S,P){f(P)}},{view:"button",when:()=>m&&!a(m,L),content:'text:"Reset"',onClick(){f(m)}},{view:"button",disabled:"=not changed",content:'text:"Cancel"',onClick(){A.hide()}}],I,z)}}let{name:p,resetValue:m,value:x,placeholder:v,caption:C,content:w,compare:b,onInit:T,onChange:M}=n,L="value"in n?x:s[p],A=null,E=e.appendChild(document.createElement("div")),D;return v&&(e.dataset.placeholder=v),e.tabIndex=0,e.addEventListener("click",()=>{A===null&&(A=new t.view.Popup({className:"view-dropdown-popup"}));let B={...L},z;A.toggle(e,I=>t.view.render(I,[{view:"block",className:"content",content:t.view.composeConfig(w,{onInit(O,S){B[S]=O},onChange(O,S){B[S]=O,g(z,B)}})},{view:"block",className:"confirm",postRender(O){D=O}}],r,{...s,...L}).then(()=>{z={...B},g(z,B)}))}),E.className="view-dropdown__caption",typeof T=="function"&&T(L,p,r,s),h()},{usage:Mk})}var Dp={};tt(Dp,{escapeHtml:()=>gi,numDelim:()=>$n});function gi(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function $n(t,e=!0){let n=e&&typeof t!="number"?gi(String(t)):String(t);return n.length>3?n.replace(/\.\d+(eE[-+]?\d+)?|\B(?=(\d{3})+(\D|$))/g,r=>r||'<span class="num-delim"></span>'):n}var Il=Pn(Wr(),1);var jp=Pn(Wr(),1);function zp(t){let e=jp.default.getMode(t,{name:"javascript",json:!0});return{...e,indent(n,r){return n.indented+t.indentUnit*(n.lastType==="{"&&r.trim()[0]!=="}"||n.lastType==="("&&r.trim()[0]!==")"||n.lastType==="["&&r.trim()[0]!=="]")},token(n,r){let s=n.peek();return s==="#"||s==="@"?(e.token(new jp.default.StringStream("$",4,n.lineOracle),r),n.pos++,"variable"):e.token(n,r)}}}var Ok=Pn(Wr(),1);function Nk(t,e){let n=typeof e.isDiscoveryViewDefined=="function"?e.isDiscoveryViewDefined:()=>{},r=Ok.default.getMode(t,{name:"javascript",json:!0});return{...r,indent(s,a){return s.indented+t.indentUnit*(s.lastType==="{"&&a.trim()[0]!=="}"||s.lastType==="("&&a.trim()[0]!==")"||s.lastType==="["&&a.trim()[0]!=="]")},token:function(s,a){if(a.suspendTokens){let{pos:g,token:p}=a.suspendTokens.shift();return s.pos=g,a.suspendTokens.length===0&&(a.suspendTokens=null),p}let h=s.pos,f=r.token(s,a);if(f==="string"){let g=s.pos,[,p]=s.string.slice(h+1,g-1).match(/^(.+?)([:{]|$)/)||[];n(p)&&(s.pos=h+1,a.suspendTokens=[{pos:h+1+p.length,token:"string discovery-view-name"},{pos:g,token:f}])}return f}}}var A8=Pn(Bp(),1);var Cn=Pn(Wr(),1);var Hp={};tt(Hp,{getBoundingRect:()=>Lr,getOffsetParent:()=>Nl,getOverflowParent:()=>Dl,getPageOffset:()=>Fp,getViewportRect:()=>_p});var{documentElement:zs}=document,Rk=document.compatMode==="CSS1Compat";function Nl(t){let e=t.offsetParent;for(;e!==null&&e!==zs&&getComputedStyle(e).position==="static";)e=e.offsetParent;return e||zs}function Dl(t){let e=t.parentNode;for(;e!==null&&e!==zs&&getComputedStyle(e).overflow==="visible";)e=e.parentNode;return e||zs}function Fp(t){let e=0,n=0;if(t&&t.getBoundingClientRect){let r=t.getBoundingClientRect();e=-r.top,n=-r.left}else if(Rk)e=window.pageYOffset||zs.scrollTop,n=window.pageXOffset||zs.scrollLeft;else{let{body:r}=document;t!==r&&(e=r.scrollTop-r.clientTop,n=r.scrollLeft-r.clientLeft)}return{left:n,top:e}}function Lr(t,e){let n=Fp(e),r=0,s=0,a=0,h=0;return t&&t.getBoundingClientRect&&({top:r,left:s,right:a,bottom:h}=t.getBoundingClientRect()),{top:r+n.top,left:s+n.left,right:a+n.left,bottom:h+n.top,width:a-s,height:h-r}}function _p(t,e){let n=Rk?document.documentElement:document.body,{top:r,left:s}=t===n&&!e?Fp():Lr(t,e),a,h;return!t||t===window?(a=window.innerWidth||0,h=window.innerHeight||0):(r+=t.clientTop,s+=t.clientLeft,a=t.clientWidth,h=t.clientHeight),{top:r,left:s,right:s+a,bottom:r+h,width:a,height:h}}var CR="discovery-view-editor-hints-popup",TR="discovery-view-editor-hint",Wp="active",LR=window.requestAnimationFrame||(t=>setTimeout(t,1e3/60)),AR=window.cancelAnimationFrame||clearTimeout;Cn.default.commands.autocomplete=Cn.default.showHint;Cn.default.defineOption("showHintOptions",null);Cn.default.defineExtension("showHint",function(t){t={closeOnUnfocus:!0,container:null,...this.options.showHintOptions,...t},this.state.completionActive&&this.state.completionActive.close(),!(this.listSelections().length>1)&&(this.somethingSelected()||typeof t.hint=="function"&&(this.state.completionActive=new qp(this,t),this.state.completionActive.update(!0),Cn.default.signal(this,"startCompletion",this)))});var qp=class{constructor(e,n){if(this.cm=e,this.options=n,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,e.on("cursorActivity",this.activityFunc=()=>this.cursorActivity()),n.closeOnUnfocus){let r;this.onFocus=()=>clearTimeout(r),this.onBlur=()=>r=setTimeout(()=>this.close(),100),e.on("focus",this.onFocus),e.on("blur",this.onBlur)}}close(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.options.closeOnUnfocus&&(this.cm.off("blur",this.onBlur),this.cm.off("focus",this.onFocus)),this.widget&&(this.data&&Cn.default.signal(this.data,"close"),this.widget.close()),Cn.default.signal(this.cm,"endCompletion",this.cm))}active(){return this.cm.state.completionActive===this}pick(e,n){let r=e.list[n];this.cm.state.completionEnabled=!1,r.hint?r.hint(this.cm,e,r):this.cm.replaceRange(jk(r),r.from||e.from,r.to||e.to,"complete"),Cn.default.signal(e,"pick",r),this.close()}cursorActivity(){this.debounce&&(AR(this.debounce),this.debounce=0);let e=this.cm.getCursor(),n=this.cm.getLine(e.line);e.line!=this.startPos.line||n.length-e.ch!=this.startLen-this.startPos.ch||e.ch<this.startPos.ch||this.cm.somethingSelected()?this.close():(this.debounce=LR(()=>this.update()),this.widget&&this.widget.disable())}update(e){if(this.tick===null)return;let n=++this.tick;Promise.resolve(this.options.hint(this.cm,this.options)).then(r=>{this.tick==n&&this.finishUpdate(r,e)})}finishUpdate(e){this.data&&Cn.default.signal(this.data,"update");let n=this.widget&&this.widget.picked;this.widget&&this.widget.close(),this.data=e,e&&e.list.length&&(n&&e.list.length==1?this.pick(e,0):(this.widget=new Up(this,e),Cn.default.signal(e,"shown")))}};function jk(t){return typeof t=="string"?t:t.text}function MR(t,e){for(;e&&e.parentNode!==t;)e=e.parentNode;return e}var Up=class{constructor(e,n){let r=e.cm,s=this.hintsEl=document.createElement("ul"),a=[CR,e.cm.options.theme].filter(Boolean),h=e.options.container||document.body;this.rootEls=new Set([h.getRootNode()]),this.completion=e,this.data=n,this.picked=!1,this.selectedHint=n.selectedHint||0,s.style.visibility="hidden",a.forEach(f=>s.classList.add(f)),h.appendChild(s),this.items=n.list.map((f,g)=>{let p=s.appendChild(document.createElement("li"));return p.className=TR,g===this.selectedHint&&p.classList.add(Wp),f.render?f.render(p,n,f):p.appendChild(document.createTextNode(f.displayText||jk(f))),p}),r.addKeyMap(this.keyMap={Up:()=>this.changeActive(this.selectedHint-1),Down:()=>this.changeActive(this.selectedHint+1),Enter:()=>this.pick(),Tab:()=>this.pick(),Esc:()=>{r.state.completionEnabled=!1,e.close()}}),this.updatePosSize(),this.onScroll=()=>this.updatePosSize();for(let f of this.rootEls)f.addEventListener("scroll",this.onScroll,Vn);Cn.default.on(s,"mousedown",f=>{let g=MR(s,f.target),p=this.items.indexOf(g);p!==-1&&(this.close(),this.selectedHint=p,this.pick(),setTimeout(()=>r.focus(),1))}),Cn.default.signal(n,"select",n.list[this.selectedHint],this.items[this.selectedHint])}close(){if(this.completion.widget===this){this.completion.widget=null,this.completion.cm.removeKeyMap(this.keyMap),this.hintsEl.remove();for(let e of this.rootEls)e.removeEventListener("scroll",this.onScroll,Vn)}}disable(){this.completion.cm.removeKeyMap(this.keyMap),this.keyMap={Enter:()=>this.picked=!0},this.completion.cm.addKeyMap(this.keyMap)}pick(){this.completion.pick(this.data,this.selectedHint)}changeActive(e,n){e>=this.items.length?e=n?this.items.length-1:0:e<0&&(e=n?0:this.items.length-1);let r=this.items[this.selectedHint],s=this.items[this.selectedHint=e];s!==r&&(r&&r.classList.remove(Wp),s.classList.add(Wp),s.offsetTop<this.hintsEl.scrollTop?this.hintsEl.scrollTop=s.offsetTop-3:s.offsetTop+s.offsetHeight>this.hintsEl.scrollTop+this.hintsEl.clientHeight&&(this.hintsEl.scrollTop=s.offsetTop+s.offsetHeight-this.hintsEl.clientHeight+3),Cn.default.signal(this.data,"select",this.data.list[this.selectedHint],s))}getCursorCoords(){let{completion:e,hintsEl:n}=this,r=e.cm,s=Nl(n),a=r.cursorCoords(null,"local"),h=Lr(r.display.wrapper,s);return{top:h.top+a.top+5,left:h.left+a.left+9,bottom:h.top+a.bottom+5,right:h.left+a.right+9}}updatePosSize(){let{hintsEl:r}=this,s=this.getCursorCoords(),{clientWidth:a,clientHeight:h}=Dl(r);r.style.left="0px",r.style.top="0px";let{width:f,height:g}=r.getBoundingClientRect(),p=h-s.bottom,m=s.top;p<g&&m>p?(r.style.top=`${s.top-1-Math.min(g,m-6)-1}px`,r.style.maxHeight=`${m-1-6}px`):(r.style.top=`${s.bottom+1}px`,r.style.maxHeight=`${p-1-6}px`);let x=a-s.right,v=s.left;x<f&&v>x?(r.style.left=`${s.left+1-Math.min(f,v-6)}px`,r.style.maxWidth=`${v-6}px`):(r.style.left=`${s.right}px`,r.style.maxWidth=`${x-6}px`),r.style.visibility="visible"}};function ER(t,e,{entry:{type:n,text:r,value:s}}){let a=r[0],h=r[r.length-1],f=a==='"'||a==="'"?1:0,g=h==='"'||h==="'"?1:0,p=r.toLowerCase().substring(f,r.length-g),m=p?s.toLowerCase().indexOf(p,s[0]==='"'||s[0]==="'"?1:0):-1;m!==-1&&(s=gi(s.substring(0,m))+'<span class="match">'+gi(s.substr(m,p.length))+"</span>"+gi(s.substr(m+p.length))),t.classList.add("type-"+n),t.appendChild(je("span","name",s))}var Tu=class extends sr{constructor({hint:e,mode:n}){super(),this.el=document.createElement("div"),this.el.className="discovery-editor";let r=this,s=(0,Il.default)(this.el,{extraKeys:{"Alt-Space":"autocomplete"},mode:n||"javascript",theme:"neo",indentUnit:0,showHintOptions:{hint:e,get container(){return r.container}}});s.on("change",()=>this.emit("change",s.getValue())),typeof e=="function"&&(s.on("cursorActivity",a=>{a.state.completionEnabled&&a.state.focused&&a.showHint()}),s.on("focus",a=>{a.getValue()===""&&(a.state.completionEnabled=!0),a.state.completionEnabled&&!a.state.completionActive&&a.showHint()}),s.on("change",(a,h)=>{h.origin!=="complete"&&(s.state.completionEnabled=!0)})),this.cm=s}getValue(){return this.cm.getValue()}setValue(e){Promise.resolve().then(()=>this.cm.refresh()),typeof e=="string"&&this.getValue()!==e&&this.cm.setValue(e||"")}focus(){this.cm.focus()}},Gp=class extends Tu{constructor(e){super({mode:"discovery-query",hint:function(n){let r=n.getCursor(),s=e(n.getValue(),n.doc.indexFromPos(r));if(s)return{list:s.slice(0,50).map(a=>({entry:a,text:a.value,render:ER,from:n.posFromIndex(a.from),to:n.posFromIndex(a.to)}))}}})}},Vp=class extends Tu{constructor(){super({mode:{name:"discovery-view",isDiscoveryViewDefined:e=>this.isViewDefined(e)}})}};Il.default.defineMode("jora",zp);Il.default.defineMode("discovery-query",zp);Il.default.defineMode("discovery-view",Nk);function zk(t){Object.assign(t.view,{QueryEditor:class extends Gp{get container(){return t.dom.container}},ViewEditor:class extends Vp{isViewDefined(e){return t.view.isDefined(e)}}})}var Bk={demo:{view:"expand",header:'text:"Expand me!"',content:'text:"Content"'}};function Fk(t){t.view.define("expand",function(e,n,r,s){function a(){if(e.classList.toggle("expanded",h),h)return v=je("div","content"),t.view.render(v,g,r,s).then(()=>e.appendChild(v));v!==null&&(v.remove(),v=null)}let{expanded:h,header:f,content:g,onToggle:p}=n,m=e.appendChild(je("div","header")),x=m.appendChild(je("div","header-content")),v=null;return!f&&n.title&&(f=n.title,console.warn("expand.title is deprecated, use expand.header instead")),h=t.queryBool(h,r,s),m.appendChild(je("div","trigger")),m.addEventListener("click",()=>{h=!h,a(),typeof p=="function"&&p(h)}),Promise.all([t.view.render(x,f||'text:"\xA0"',r,s),a()])},{usage:Bk})}function Vk(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}var Fs=Vk();function PR(t){Fs=t}var OR=/[&<>"']/,NR=/[&<>"']/g,DR=/[<>"']|&(?!#?\w+;)/,IR=/[<>"']|&(?!#?\w+;)/g,RR={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_k=t=>RR[t];function $i(t,e){if(e){if(OR.test(t))return t.replace(NR,_k)}else if(DR.test(t))return t.replace(IR,_k);return t}var jR=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function $k(t){return t.replace(jR,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}var zR=/(^|[^\[])\^/g;function xi(t,e){t=typeof t=="string"?t:t.source,e=e||"";let n={replace:(r,s)=>(s=s.source||s,s=s.replace(zR,"$1"),t=t.replace(r,s),n),getRegex:()=>new RegExp(t,e)};return n}var BR=/[^\w:]/g,FR=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Hk(t,e,n){if(t){let r;try{r=decodeURIComponent($k(n)).replace(BR,"").toLowerCase()}catch{return null}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return null}e&&!FR.test(n)&&(n=qR(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}var Lu={},_R=/^[^:]+:\/*[^/]*$/,HR=/^([^:]+:)[\s\S]*$/,WR=/^([^:]+:\/*[^/]*)[\s\S]*$/;function qR(t,e){Lu[" "+t]||(_R.test(t)?Lu[" "+t]=t+"/":Lu[" "+t]=Au(t,"/",!0)),t=Lu[" "+t];let n=t.indexOf(":")===-1;return e.substring(0,2)==="//"?n?e:t.replace(HR,"$1")+e:e.charAt(0)==="/"?n?e:t.replace(WR,"$1")+e:t+e}var Mu={exec:function(){}};function ur(t){let e=1,n,r;for(;e<arguments.length;e++){n=arguments[e];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}function Wk(t,e){let n=t.replace(/\|/g,(a,h,f)=>{let g=!1,p=h;for(;--p>=0&&f[p]==="\\";)g=!g;return g?"|":" |"}),r=n.split(/ \|/),s=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;s<r.length;s++)r[s]=r[s].trim().replace(/\\\|/g,"|");return r}function Au(t,e,n){let r=t.length;if(r===0)return"";let s=0;for(;s<r;){let a=t.charAt(r-s-1);if(a===e&&!n)s++;else if(a!==e&&n)s++;else break}return t.slice(0,r-s)}function UR(t,e){if(t.indexOf(e[1])===-1)return-1;let n=t.length,r=0,s=0;for(;s<n;s++)if(t[s]==="\\")s++;else if(t[s]===e[0])r++;else if(t[s]===e[1]&&(r--,r<0))return s;return-1}function Yk(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function qk(t,e){if(e<1)return"";let n="";for(;e>1;)e&1&&(n+=t),e>>=1,t+=t;return n+t}function Uk(t,e,n,r){let s=e.href,a=e.title?$i(e.title):null,h=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){r.state.inLink=!0;let f={type:"link",raw:n,href:s,title:a,text:h,tokens:r.inlineTokens(h,[])};return r.state.inLink=!1,f}return{type:"image",raw:n,href:s,title:a,text:$i(h)}}function GR(t,e){let n=t.match(/^(\s+)(?:```)/);if(n===null)return e;let r=n[1];return e.split(`
`).map(s=>{let a=s.match(/^\s+/);if(a===null)return s;let[h]=a;return h.length>=r.length?s.slice(r.length):s}).join(`
`)}var Rl=class{constructor(e){this.options=e||Fs}space(e){let n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){let n=this.rules.block.code.exec(e);if(n){let r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Au(r,`
`)}}}fences(e){let n=this.rules.block.fences.exec(e);if(n){let r=n[0],s=GR(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim():n[2],text:s}}}heading(e){let n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(/#$/.test(r)){let a=Au(r,"#");(this.options.pedantic||!a||/ $/.test(a))&&(r=a.trim())}let s={type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:[]};return this.lexer.inline(s.text,s.tokens),s}}hr(e){let n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){let n=this.rules.block.blockquote.exec(e);if(n){let r=n[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:n[0],tokens:this.lexer.blockTokens(r,[]),text:r}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r,s,a,h,f,g,p,m,x,v,C,w,b=n[1].trim(),T=b.length>1,M={type:"list",raw:"",ordered:T,start:T?+b.slice(0,-1):"",loose:!1,items:[]};b=T?`\\d{1,9}\\${b.slice(-1)}`:`\\${b}`,this.options.pedantic&&(b=T?b:"[*+-]");let L=new RegExp(`^( {0,3}${b})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(w=!1,!(!(n=L.exec(e))||this.rules.block.hr.test(e)));){if(r=n[0],e=e.substring(r.length),m=n[2].split(`
`,1)[0],x=e.split(`
`,1)[0],this.options.pedantic?(h=2,C=m.trimLeft()):(h=n[2].search(/[^ ]/),h=h>4?1:h,C=m.slice(h),h+=n[1].length),g=!1,!m&&/^ *$/.test(x)&&(r+=x+`
`,e=e.substring(x.length+1),w=!0),!w){let E=new RegExp(`^ {0,${Math.min(3,h-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),D=new RegExp(`^ {0,${Math.min(3,h-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),B=new RegExp(`^ {0,${Math.min(3,h-1)}}(?:\`\`\`|~~~)`),z=new RegExp(`^ {0,${Math.min(3,h-1)}}#`);for(;e&&(v=e.split(`
`,1)[0],m=v,this.options.pedantic&&(m=m.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(B.test(m)||z.test(m)||E.test(m)||D.test(e)));){if(m.search(/[^ ]/)>=h||!m.trim())C+=`
`+m.slice(h);else if(!g)C+=`
`+m;else break;!g&&!m.trim()&&(g=!0),r+=v+`
`,e=e.substring(v.length+1)}}M.loose||(p?M.loose=!0:/\n *\n *$/.test(r)&&(p=!0)),this.options.gfm&&(s=/^\[[ xX]\] /.exec(C),s&&(a=s[0]!=="[ ] ",C=C.replace(/^\[[ xX]\] +/,""))),M.items.push({type:"list_item",raw:r,task:!!s,checked:a,loose:!1,text:C}),M.raw+=r}M.items[M.items.length-1].raw=r.trimRight(),M.items[M.items.length-1].text=C.trimRight(),M.raw=M.raw.trimRight();let A=M.items.length;for(f=0;f<A;f++){this.lexer.state.top=!1,M.items[f].tokens=this.lexer.blockTokens(M.items[f].text,[]);let E=M.items[f].tokens.filter(B=>B.type==="space"),D=E.every(B=>{let z=B.raw.split(""),I=0;for(let O of z)if(O===`
`&&(I+=1),I>1)return!0;return!1});!M.loose&&E.length&&D&&(M.loose=!0,M.items[f].loose=!0)}return M}}html(e){let n=this.rules.block.html.exec(e);if(n){let r={type:"html",raw:n[0],pre:!this.options.sanitizer&&(n[1]==="pre"||n[1]==="script"||n[1]==="style"),text:n[0]};return this.options.sanitize&&(r.type="paragraph",r.text=this.options.sanitizer?this.options.sanitizer(n[0]):$i(n[0]),r.tokens=[],this.lexer.inline(r.text,r.tokens)),r}}def(e){let n=this.rules.block.def.exec(e);if(n)return n[3]&&(n[3]=n[3].substring(1,n[3].length-1)),{type:"def",tag:n[1].toLowerCase().replace(/\s+/g," "),raw:n[0],href:n[2],title:n[3]}}table(e){let n=this.rules.block.table.exec(e);if(n){let r={type:"table",header:Wk(n[1]).map(s=>({text:s})),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(r.header.length===r.align.length){r.raw=n[0];let s=r.align.length,a,h,f,g;for(a=0;a<s;a++)/^ *-+: *$/.test(r.align[a])?r.align[a]="right":/^ *:-+: *$/.test(r.align[a])?r.align[a]="center":/^ *:-+ *$/.test(r.align[a])?r.align[a]="left":r.align[a]=null;for(s=r.rows.length,a=0;a<s;a++)r.rows[a]=Wk(r.rows[a],r.header.length).map(p=>({text:p}));for(s=r.header.length,h=0;h<s;h++)r.header[h].tokens=[],this.lexer.inline(r.header[h].text,r.header[h].tokens);for(s=r.rows.length,h=0;h<s;h++)for(g=r.rows[h],f=0;f<g.length;f++)g[f].tokens=[],this.lexer.inline(g[f].text,g[f].tokens);return r}}}lheading(e){let n=this.rules.block.lheading.exec(e);if(n){let r={type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}paragraph(e){let n=this.rules.block.paragraph.exec(e);if(n){let r={type:"paragraph",raw:n[0],text:n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}text(e){let n=this.rules.block.text.exec(e);if(n){let r={type:"text",raw:n[0],text:n[0],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}escape(e){let n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:$i(n[1])}}tag(e){let n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):$i(n[0]):n[0]}}link(e){let n=this.rules.inline.link.exec(e);if(n){let r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;let h=Au(r.slice(0,-1),"\\");if((r.length-h.length)%2===0)return}else{let h=UR(n[2],"()");if(h>-1){let g=(n[0].indexOf("!")===0?5:4)+n[1].length+h;n[2]=n[2].substring(0,h),n[0]=n[0].substring(0,g).trim(),n[3]=""}}let s=n[2],a="";if(this.options.pedantic){let h=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);h&&(s=h[1],a=h[3])}else a=n[3]?n[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(this.options.pedantic&&!/>$/.test(r)?s=s.slice(1):s=s.slice(1,-1)),Uk(n,{href:s&&s.replace(this.rules.inline._escapes,"$1"),title:a&&a.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let s=(r[2]||r[1]).replace(/\s+/g," ");if(s=n[s.toLowerCase()],!s||!s.href){let a=r[0].charAt(0);return{type:"text",raw:a,text:a}}return Uk(r,s,r[0],this.lexer)}}emStrong(e,n,r=""){let s=this.rules.inline.emStrong.lDelim.exec(e);if(!s||s[3]&&r.match(/[\p{L}\p{N}]/u))return;let a=s[1]||s[2]||"";if(!a||a&&(r===""||this.rules.inline.punctuation.exec(r))){let h=s[0].length-1,f,g,p=h,m=0,x=s[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(x.lastIndex=0,n=n.slice(-1*e.length+h);(s=x.exec(n))!=null;){if(f=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!f)continue;if(g=f.length,s[3]||s[4]){p+=g;continue}else if((s[5]||s[6])&&h%3&&!((h+g)%3)){m+=g;continue}if(p-=g,p>0)continue;if(g=Math.min(g,g+p+m),Math.min(h,g)%2){let C=e.slice(1,h+s.index+g);return{type:"em",raw:e.slice(0,h+s.index+g+1),text:C,tokens:this.lexer.inlineTokens(C,[])}}let v=e.slice(2,h+s.index+g-1);return{type:"strong",raw:e.slice(0,h+s.index+g+1),text:v,tokens:this.lexer.inlineTokens(v,[])}}}}codespan(e){let n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(/\n/g," "),s=/[^ ]/.test(r),a=/^ /.test(r)&&/ $/.test(r);return s&&a&&(r=r.substring(1,r.length-1)),r=$i(r,!0),{type:"codespan",raw:n[0],text:r}}}br(e){let n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){let n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2],[])}}autolink(e,n){let r=this.rules.inline.autolink.exec(e);if(r){let s,a;return r[2]==="@"?(s=$i(this.options.mangle?n(r[1]):r[1]),a="mailto:"+s):(s=$i(r[1]),a=s),{type:"link",raw:r[0],text:s,href:a,tokens:[{type:"text",raw:s,text:s}]}}}url(e,n){let r;if(r=this.rules.inline.url.exec(e)){let s,a;if(r[2]==="@")s=$i(this.options.mangle?n(r[0]):r[0]),a="mailto:"+s;else{let h;do h=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0];while(h!==r[0]);s=$i(r[0]),r[1]==="www."?a="http://"+s:a=s}return{type:"link",raw:r[0],text:s,href:a,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(e,n){let r=this.rules.inline.text.exec(e);if(r){let s;return this.lexer.state.inRawBlock?s=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):$i(r[0]):r[0]:s=$i(this.options.smartypants?n(r[0]):r[0]),{type:"text",raw:r[0],text:s}}}},Nt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Mu,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Nt._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;Nt._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;Nt.def=xi(Nt.def).replace("label",Nt._label).replace("title",Nt._title).getRegex();Nt.bullet=/(?:[*+-]|\d{1,9}[.)])/;Nt.listItemStart=xi(/^( *)(bull) */).replace("bull",Nt.bullet).getRegex();Nt.list=xi(Nt.list).replace(/bull/g,Nt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Nt.def.source+")").getRegex();Nt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";Nt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;Nt.html=xi(Nt.html,"i").replace("comment",Nt._comment).replace("tag",Nt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();Nt.paragraph=xi(Nt._paragraph).replace("hr",Nt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Nt._tag).getRegex();Nt.blockquote=xi(Nt.blockquote).replace("paragraph",Nt.paragraph).getRegex();Nt.normal=ur({},Nt);Nt.gfm=ur({},Nt.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});Nt.gfm.table=xi(Nt.gfm.table).replace("hr",Nt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Nt._tag).getRegex();Nt.gfm.paragraph=xi(Nt._paragraph).replace("hr",Nt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Nt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Nt._tag).getRegex();Nt.pedantic=ur({},Nt.normal,{html:xi(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Nt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Mu,paragraph:xi(Nt.normal._paragraph).replace("hr",Nt.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Nt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Qe={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Mu,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Mu,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Qe._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";Qe.punctuation=xi(Qe.punctuation).replace(/punctuation/g,Qe._punctuation).getRegex();Qe.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;Qe.escapedEmSt=/\\\*|\\_/g;Qe._comment=xi(Nt._comment).replace("(?:-->|$)","-->").getRegex();Qe.emStrong.lDelim=xi(Qe.emStrong.lDelim).replace(/punct/g,Qe._punctuation).getRegex();Qe.emStrong.rDelimAst=xi(Qe.emStrong.rDelimAst,"g").replace(/punct/g,Qe._punctuation).getRegex();Qe.emStrong.rDelimUnd=xi(Qe.emStrong.rDelimUnd,"g").replace(/punct/g,Qe._punctuation).getRegex();Qe._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;Qe._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;Qe._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;Qe.autolink=xi(Qe.autolink).replace("scheme",Qe._scheme).replace("email",Qe._email).getRegex();Qe._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;Qe.tag=xi(Qe.tag).replace("comment",Qe._comment).replace("attribute",Qe._attribute).getRegex();Qe._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;Qe._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;Qe._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;Qe.link=xi(Qe.link).replace("label",Qe._label).replace("href",Qe._href).replace("title",Qe._title).getRegex();Qe.reflink=xi(Qe.reflink).replace("label",Qe._label).replace("ref",Nt._label).getRegex();Qe.nolink=xi(Qe.nolink).replace("ref",Nt._label).getRegex();Qe.reflinkSearch=xi(Qe.reflinkSearch,"g").replace("reflink",Qe.reflink).replace("nolink",Qe.nolink).getRegex();Qe.normal=ur({},Qe);Qe.pedantic=ur({},Qe.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:xi(/^!?\[(label)\]\((.*?)\)/).replace("label",Qe._label).getRegex(),reflink:xi(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Qe._label).getRegex()});Qe.gfm=ur({},Qe.normal,{escape:xi(Qe.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});Qe.gfm.url=xi(Qe.gfm.url,"i").replace("email",Qe.gfm._extended_email).getRegex();Qe.breaks=ur({},Qe.gfm,{br:xi(Qe.br).replace("{2,}","*").getRegex(),text:xi(Qe.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function VR(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function Gk(t){let e="",n,r,s=t.length;for(n=0;n<s;n++)r=t.charCodeAt(n),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}var lr=class{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Fs,this.options.tokenizer=this.options.tokenizer||new Rl,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={block:Nt.normal,inline:Qe.normal};this.options.pedantic?(n.block=Nt.pedantic,n.inline=Qe.pedantic):this.options.gfm&&(n.block=Nt.gfm,this.options.breaks?n.inline=Qe.breaks:n.inline=Qe.gfm),this.tokenizer.rules=n}static get rules(){return{block:Nt,inline:Qe}}static lex(e,n){return new lr(n).lex(e)}static lexInline(e,n){return new lr(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(e,n=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(f,g,p)=>g+"    ".repeat(p.length));let r,s,a,h;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(f=>(r=f.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),s=n[n.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text):n.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),s=n[n.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+r.raw,s.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(a=e,this.options.extensions&&this.options.extensions.startBlock){let f=1/0,g=e.slice(1),p;this.options.extensions.startBlock.forEach(function(m){p=m.call({lexer:this},g),typeof p=="number"&&p>=0&&(f=Math.min(f,p))}),f<1/0&&f>=0&&(a=e.substring(0,f+1))}if(this.state.top&&(r=this.tokenizer.paragraph(a))){s=n[n.length-1],h&&s.type==="paragraph"?(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):n.push(r),h=a.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),s=n[n.length-1],s&&s.type==="text"?(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):n.push(r);continue}if(e){let f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return this.state.top=!0,n}inline(e,n){this.inlineQueue.push({src:e,tokens:n})}inlineTokens(e,n=[]){let r,s,a,h=e,f,g,p;if(this.tokens.links){let m=Object.keys(this.tokens.links);if(m.length>0)for(;(f=this.tokenizer.rules.inline.reflinkSearch.exec(h))!=null;)m.includes(f[0].slice(f[0].lastIndexOf("[")+1,-1))&&(h=h.slice(0,f.index)+"["+qk("a",f[0].length-2)+"]"+h.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(f=this.tokenizer.rules.inline.blockSkip.exec(h))!=null;)h=h.slice(0,f.index)+"["+qk("a",f[0].length-2)+"]"+h.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(f=this.tokenizer.rules.inline.escapedEmSt.exec(h))!=null;)h=h.slice(0,f.index)+"++"+h.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(g||(p=""),g=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(m=>(r=m.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),s=n[n.length-1],s&&r.type==="text"&&s.type==="text"?(s.raw+=r.raw,s.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),s=n[n.length-1],s&&r.type==="text"&&s.type==="text"?(s.raw+=r.raw,s.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(e,h,p)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(e,Gk)){e=e.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,Gk))){e=e.substring(r.raw.length),n.push(r);continue}if(a=e,this.options.extensions&&this.options.extensions.startInline){let m=1/0,x=e.slice(1),v;this.options.extensions.startInline.forEach(function(C){v=C.call({lexer:this},x),typeof v=="number"&&v>=0&&(m=Math.min(m,v))}),m<1/0&&m>=0&&(a=e.substring(0,m+1))}if(r=this.tokenizer.inlineText(a,VR)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(p=r.raw.slice(-1)),g=!0,s=n[n.length-1],s&&s.type==="text"?(s.raw+=r.raw,s.text+=r.text):n.push(r);continue}if(e){let m="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(m);break}else throw new Error(m)}}return n}},jl=class{constructor(e){this.options=e||Fs}code(e,n,r){let s=(n||"").match(/\S*/)[0];if(this.options.highlight){let a=this.options.highlight(e,s);a!=null&&a!==e&&(r=!0,e=a)}return e=e.replace(/\n$/,"")+`
`,s?'<pre><code class="'+this.options.langPrefix+$i(s,!0)+'">'+(r?e:$i(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:$i(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,n,r,s){if(this.options.headerIds){let a=this.options.headerPrefix+s.slug(r);return`<h${n} id="${a}">${e}</h${n}>
`}return`<h${n}>${e}</h${n}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,n,r){let s=n?"ol":"ul",a=n&&r!==1?' start="'+r+'"':"";return"<"+s+a+`>
`+e+"</"+s+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,n){let r=n.header?"th":"td";return(n.align?`<${r} align="${n.align}">`:`<${r}>`)+e+`</${r}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,n,r){if(e=Hk(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let s='<a href="'+$i(e)+'"';return n&&(s+=' title="'+n+'"'),s+=">"+r+"</a>",s}image(e,n,r){if(e=Hk(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let s=`<img src="${e}" alt="${r}"`;return n&&(s+=` title="${n}"`),s+=this.options.xhtml?"/>":">",s}text(e){return e}},Eu=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,r){return""+r}image(e,n,r){return""+r}br(){return""}},Bs=class{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,n){let r=e,s=0;if(this.seen.hasOwnProperty(r)){s=this.seen[e];do s++,r=e+"-"+s;while(this.seen.hasOwnProperty(r))}return n||(this.seen[e]=s,this.seen[r]=0),r}slug(e,n={}){let r=this.serialize(e);return this.getNextSafeSlug(r,n.dryrun)}},cr=class{constructor(e){this.options=e||Fs,this.options.renderer=this.options.renderer||new jl,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Eu,this.slugger=new Bs}static parse(e,n){return new cr(n).parse(e)}static parseInline(e,n){return new cr(n).parseInline(e)}parse(e,n=!0){let r="",s,a,h,f,g,p,m,x,v,C,w,b,T,M,L,A,E,D,B,z=e.length;for(s=0;s<z;s++){if(C=e[s],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[C.type]&&(B=this.options.extensions.renderers[C.type].call({parser:this},C),B!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(C.type))){r+=B||"";continue}switch(C.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{r+=this.renderer.heading(this.parseInline(C.tokens),C.depth,$k(this.parseInline(C.tokens,this.textRenderer)),this.slugger);continue}case"code":{r+=this.renderer.code(C.text,C.lang,C.escaped);continue}case"table":{for(x="",m="",f=C.header.length,a=0;a<f;a++)m+=this.renderer.tablecell(this.parseInline(C.header[a].tokens),{header:!0,align:C.align[a]});for(x+=this.renderer.tablerow(m),v="",f=C.rows.length,a=0;a<f;a++){for(p=C.rows[a],m="",g=p.length,h=0;h<g;h++)m+=this.renderer.tablecell(this.parseInline(p[h].tokens),{header:!1,align:C.align[h]});v+=this.renderer.tablerow(m)}r+=this.renderer.table(x,v);continue}case"blockquote":{v=this.parse(C.tokens),r+=this.renderer.blockquote(v);continue}case"list":{for(w=C.ordered,b=C.start,T=C.loose,f=C.items.length,v="",a=0;a<f;a++)L=C.items[a],A=L.checked,E=L.task,M="",L.task&&(D=this.renderer.checkbox(A),T?L.tokens.length>0&&L.tokens[0].type==="paragraph"?(L.tokens[0].text=D+" "+L.tokens[0].text,L.tokens[0].tokens&&L.tokens[0].tokens.length>0&&L.tokens[0].tokens[0].type==="text"&&(L.tokens[0].tokens[0].text=D+" "+L.tokens[0].tokens[0].text)):L.tokens.unshift({type:"text",text:D}):M+=D),M+=this.parse(L.tokens,T),v+=this.renderer.listitem(M,E,A);r+=this.renderer.list(v,w,b);continue}case"html":{r+=this.renderer.html(C.text);continue}case"paragraph":{r+=this.renderer.paragraph(this.parseInline(C.tokens));continue}case"text":{for(v=C.tokens?this.parseInline(C.tokens):C.text;s+1<z&&e[s+1].type==="text";)C=e[++s],v+=`
`+(C.tokens?this.parseInline(C.tokens):C.text);r+=n?this.renderer.paragraph(v):v;continue}default:{let I='Token with "'+C.type+'" type was not found.';if(this.options.silent){console.error(I);return}else throw new Error(I)}}}return r}parseInline(e,n){n=n||this.renderer;let r="",s,a,h,f=e.length;for(s=0;s<f;s++){if(a=e[s],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]&&(h=this.options.extensions.renderers[a.type].call({parser:this},a),h!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type))){r+=h||"";continue}switch(a.type){case"escape":{r+=n.text(a.text);break}case"html":{r+=n.html(a.text);break}case"link":{r+=n.link(a.href,a.title,this.parseInline(a.tokens,n));break}case"image":{r+=n.image(a.href,a.title,a.text);break}case"strong":{r+=n.strong(this.parseInline(a.tokens,n));break}case"em":{r+=n.em(this.parseInline(a.tokens,n));break}case"codespan":{r+=n.codespan(a.text);break}case"br":{r+=n.br();break}case"del":{r+=n.del(this.parseInline(a.tokens,n));break}case"text":{r+=n.text(a.text);break}default:{let g='Token with "'+a.type+'" type was not found.';if(this.options.silent){console.error(g);return}else throw new Error(g)}}}return r}};function Dt(t,e,n){if(typeof t>"u"||t===null)throw new Error("marked(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(typeof e=="function"&&(n=e,e=null),e=ur({},Dt.defaults,e||{}),Yk(e),n){let r=e.highlight,s;try{s=lr.lex(t,e)}catch(f){return n(f)}let a=function(f){let g;if(!f)try{e.walkTokens&&Dt.walkTokens(s,e.walkTokens),g=cr.parse(s,e)}catch(p){f=p}return e.highlight=r,f?n(f):n(null,g)};if(!r||r.length<3||(delete e.highlight,!s.length))return a();let h=0;Dt.walkTokens(s,function(f){f.type==="code"&&(h++,setTimeout(()=>{r(f.text,f.lang,function(g,p){if(g)return a(g);p!=null&&p!==f.text&&(f.text=p,f.escaped=!0),h--,h===0&&a()})},0))}),h===0&&a();return}try{let r=lr.lex(t,e);return e.walkTokens&&Dt.walkTokens(r,e.walkTokens),cr.parse(r,e)}catch(r){if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+$i(r.message+"",!0)+"</pre>";throw r}}Dt.options=Dt.setOptions=function(t){return ur(Dt.defaults,t),PR(Dt.defaults),Dt};Dt.getDefaults=Vk;Dt.defaults=Fs;Dt.use=function(...t){let e=ur({},...t),n=Dt.defaults.extensions||{renderers:{},childTokens:{}},r;t.forEach(s=>{if(s.extensions&&(r=!0,s.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if(a.renderer){let h=n.renderers?n.renderers[a.name]:null;h?n.renderers[a.name]=function(...f){let g=a.renderer.apply(this,f);return g===!1&&(g=h.apply(this,f)),g}:n.renderers[a.name]=a.renderer}if(a.tokenizer){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");n[a.level]?n[a.level].unshift(a.tokenizer):n[a.level]=[a.tokenizer],a.start&&(a.level==="block"?n.startBlock?n.startBlock.push(a.start):n.startBlock=[a.start]:a.level==="inline"&&(n.startInline?n.startInline.push(a.start):n.startInline=[a.start]))}a.childTokens&&(n.childTokens[a.name]=a.childTokens)})),s.renderer){let a=Dt.defaults.renderer||new jl;for(let h in s.renderer){let f=a[h];a[h]=(...g)=>{let p=s.renderer[h].apply(a,g);return p===!1&&(p=f.apply(a,g)),p}}e.renderer=a}if(s.tokenizer){let a=Dt.defaults.tokenizer||new Rl;for(let h in s.tokenizer){let f=a[h];a[h]=(...g)=>{let p=s.tokenizer[h].apply(a,g);return p===!1&&(p=f.apply(a,g)),p}}e.tokenizer=a}if(s.walkTokens){let a=Dt.defaults.walkTokens;e.walkTokens=function(h){s.walkTokens.call(this,h),a&&a.call(this,h)}}r&&(e.extensions=n),Dt.setOptions(e)})};Dt.walkTokens=function(t,e){for(let n of t)switch(e.call(Dt,n),n.type){case"table":{for(let r of n.header)Dt.walkTokens(r.tokens,e);for(let r of n.rows)for(let s of r)Dt.walkTokens(s.tokens,e);break}case"list":{Dt.walkTokens(n.items,e);break}default:Dt.defaults.extensions&&Dt.defaults.extensions.childTokens&&Dt.defaults.extensions.childTokens[n.type]?Dt.defaults.extensions.childTokens[n.type].forEach(function(r){Dt.walkTokens(n[r],e)}):n.tokens&&Dt.walkTokens(n.tokens,e)}};Dt.parseInline=function(t,e){if(typeof t>"u"||t===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");e=ur({},Dt.defaults,e||{}),Yk(e);try{let n=lr.lexInline(t,e);return e.walkTokens&&Dt.walkTokens(n,e.walkTokens),cr.parseInline(n,e)}catch(n){if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+$i(n.message+"",!0)+"</pre>";throw n}};Dt.Parser=cr;Dt.parser=cr.parse;Dt.Renderer=jl;Dt.TextRenderer=Eu;Dt.Lexer=lr;Dt.lexer=lr.lex;Dt.Tokenizer=Rl;Dt.Slugger=Bs;Dt.parse=Dt;var j8=Dt.options,z8=Dt.setOptions,B8=Dt.use,F8=Dt.walkTokens,_8=Dt.parseInline;var H8=cr.parse,W8=lr.lex;var Bo=(t,e)=>({demo:`${t}:"Header \\"${t}\\""`,examples:[{title:"Variations",view:e.map(n=>`${n}:"Header \\"${n}\\""`)},{title:"Complex content",demo:{view:t,content:['text:"Text "','link:{ text: "Link" }']}},{title:"Using anchor",demo:[{view:t,anchor:"foo",content:'text:"Explicit value for an anchor"'},{view:t,anchor:!0,content:'text:"Auto generated anchor based on text content of header"'}]}]});function Xk(t){let e=new Bs;function n(r,s,a,h){let{content:f,anchor:g=!1}=s;r.classList.add("view-header");let p=t.view.render(r,f||"text",a,h);return g&&p.then(()=>{let m=e.slug(g===!0?r.textContent:String(g),{dryrun:!0}),x=t.encodePageHash(t.pageId,t.pageRef,{...t.pageParams,"!anchor":m});r.prepend(je("a",{class:"view-header__anchor",id:`!anchor:${m}`,href:x}))}),p}t.view.define("header",n,{tag:"h4",usage:Bo}),t.view.define("h1",n,{tag:"h1",usage:Bo}),t.view.define("h2",n,{tag:"h2",usage:Bo}),t.view.define("h3",n,{tag:"h3",usage:Bo}),t.view.define("h4",n,{tag:"h4",usage:Bo}),t.view.define("h5",n,{tag:"h5",usage:Bo})}var Kk={demo:{view:"hstack",content:['button:{text:"First button"}','button-primary:{text:"Second button"}']}};function Zk(t){t.view.define("hstack",function(e,n,r,s){let{content:a=[]}=n;return t.view.render(e,a,r,s)},{usage:Kk})}var Qk={demo:{view:"html",data:'"<h1>I am inner HTML</h1>"'}};function Jk(t){let e=document.createElement("div");t.view.define("html",function(n,r,s){e.innerHTML=s,n.append(...e.childNodes)},{tag:null,usage:Qk})}var $p="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMjggMTI4Ij4KICAgIDxyZWN0IHg9IjY1LjYiIHk9IjI0LjYiIHRyYW5zZm9ybT0ibWF0cml4KDAuOTM5NyAtMC4zNDIgMC4zNDIgMC45Mzk3IC05Ljk0MjYgMzEuODI4KSIgZmlsbD0iI0ZGRkZGRiIgd2lkdGg9IjM5LjMiIGhlaWdodD0iMzkiPjwvcmVjdD4KICAgIDxyZWN0IHg9IjcwLjYiIHk9IjUyLjciIHRyYW5zZm9ybT0ibWF0cml4KC0wLjkzOTcgMC4zNDIgLTAuMzQyIC0wLjkzOTcgMTk0Ljc4NTIgODEuMTIwNCkiIGZpbGw9IiNDN0Q3RTIiIHdpZHRoPSIzOS4zIiBoZWlnaHQ9IjEwIj48L3JlY3Q+CiAgICA8cGF0aCBmaWxsPSIjOThCRUQ4IiBkPSJNMTExLjUsNTQuNmwtMS4xLDEuMUw5Ny4xLDE5LjFsMS41LDAuMmM4LDAuOSwxNC43LDYuMiwxNy40LDEzLjdsMCwwQzExOC44LDQwLjQsMTE3LDQ4LjgsMTExLjUsNTQuNnoiPjwvcGF0aD4KICAgIDxwYXRoIGZpbGw9IiM0NTRCNTQiIGQ9Ik03My41LDcyLjJjLTEuMiwwLTIuNC0wLjgtMi44LTJMNTcuMywzMy41Yy0wLjMtMC43LTAuMi0xLjYsMC4xLTIuM2MwLjMtMC43LDAuOS0xLjMsMS43LTEuNmwzNi45LTEzLjRjMS42LTAuNiwzLjMsMC4yLDMuOCwxLjhsMTMuMywzNi42YzAuMywwLjcsMC4yLDEuNi0wLjEsMi4zYy0wLjMsMC43LTAuOSwxLjMtMS43LDEuNkw3NC41LDcyQzc0LjIsNzIuMSw3My44LDcyLjIsNzMuNSw3Mi4yek02NCwzNC4zbDExLjMsMzFsMzEuMy0xMS40bC0xMS4zLTMxTDY0LDM0LjN6Ij48L3BhdGg+CiAgICA8cmVjdCB4PSIzNSIgeT0iNDYuNyIgdHJhbnNmb3JtPSJtYXRyaXgoMC45Mzk3IC0wLjM0MiAwLjM0MiAwLjkzOTcgLTE2LjIwMTEgMjAuOTg4KSIgZmlsbD0iI0ZGRkZGRiIgd2lkdGg9IjMyLjgiIGhlaWdodD0iMTkuNSI+PC9yZWN0PgogICAgPHJlY3QgeD0iMzcuMyIgeT0iNTkuOCIgdHJhbnNmb3JtPSJtYXRyaXgoLTAuOTM5NyAwLjM0MiAtMC4zNDIgLTAuOTM5NyAxMjUuNjc2MyAxMDMuMzk0NikiIGZpbGw9IiNDN0Q3RTIiIHdpZHRoPSIzMi44IiBoZWlnaHQ9IjYiPjwvcmVjdD4KICAgIDxwYXRoIGZpbGw9IiM0NTRCNTQiIGQ9Ik0zOS40LDc0LjJjLTAuNCwwLTAuOS0wLjEtMS4zLTAuM2MtMC43LTAuMy0xLjMtMC45LTEuNi0xLjdsLTYuNy0xOC4zYy0wLjMtMC43LTAuMi0xLjYsMC4xLTIuM2MwLjMtMC43LDAuOS0xLjMsMS43LTEuNmwzMC44LTExLjJjMC43LTAuMywxLjYtMC4yLDIuMywwLjFjMC43LDAuMywxLjMsMC45LDEuNiwxLjdMNzMsNTljMC42LDEuNi0wLjIsMy4zLTEuOCwzLjhMNDAuNCw3NEM0MCw3NC4xLDM5LjcsNzQuMiwzOS40LDc0LjJ6IE0zNi41LDU0LjdsNC42LDEyLjdsMjUuMi05LjJsLTQuNi0xMi43TDM2LjUsNTQuN3oiPjwvcGF0aD4KICAgIDxwYXRoIGZpbGw9IiM0NTRCNTQiIGQ9Ik03MCwxMTguOWMtMS4yLDAtMi40LTAuNy0yLjgtMS45bC0xNC0zNy4ybC04LjQsMy4xbC0xNy4yLDM0LjRjLTAuNywxLjUtMi41LDIuMS00LDEuM2MtMS41LTAuNy0yLjEtMi41LTEuMy00TDQwLDc5YzAuMy0wLjcsMC45LTEuMiwxLjctMS41TDU0LDczLjFjMS41LTAuNiwzLjMsMC4yLDMuOCwxLjhsMTUsNDBjMC42LDEuNi0wLjIsMy4zLTEuOCwzLjlDNzAuNywxMTguOCw3MC40LDExOC45LDcwLDExOC45eiI+PC9wYXRoPgogICAgPHBhdGggZmlsbD0iIzQ1NEI1NCIgZD0iTTEzLjYsODAuMWMtMS4yLDAtMi40LTAuOC0yLjgtMkw2LjMsNjUuOWMtMC42LTEuNiwwLjItMy4zLDEuOC0zLjhjMS42LTAuNiwzLjMsMC4yLDMuOCwxLjhsNC40LDEyLjJjMC42LDEuNi0wLjIsMy4zLTEuOCwzLjhDMTQuMyw4MC4xLDE0LDgwLjEsMTMuNiw4MC4xeiI+PC9wYXRoPgogICAgPHBhdGggZmlsbD0iIzQ1NEI1NCIgZD0iTTEzLjIsNzMuM2MtMS4yLDAtMi40LTAuOC0yLjgtMmMtMC42LTEuNiwwLjItMy4zLDEuOC0zLjhMMzUsNTkuMmMxLjYtMC42LDMuMywwLjIsMy44LDEuOGMwLjYsMS42LTAuMiwzLjMtMS44LDMuOGwtMjIuOCw4LjNDMTMuOSw3My4zLDEzLjYsNzMuMywxMy4yLDczLjN6Ij48L3BhdGg+Cjwvc3ZnPgo=",eS={demo:{view:"image",src:$p,height:100},examples:[{title:"Src is not defined",demo:"image"},{title:"Bad url",demo:'image{ src: "<bad url>" }'}]};function tS(t){t.view.define("image",function(e,n){Object.assign(e,n),e.onerror=()=>e.classList.add("error"),e.onload=()=>e.classList.add("loaded")},{tag:"img",usage:eS})}var iS={beforeDemo:['md:"The same as `image` view but with "'],demo:{view:"image-preview",src:$p,height:100},examples:[{title:"Src is not defined",demo:"image-preview"},{title:"Bad url",demo:'image-preview{ src: "<bad url>" }'}]};function nS(t){t.view.define("image-preview",function(e,n,r,s){this.render(e,{view:"image",...n},r,s)},{usage:iS})}var rS={demo:{view:"indicator",data:{label:"Label",value:"1234"}},examples:[{title:"Indicator as link",demo:{view:"indicator",data:{label:"Label",value:"4321",href:"#"}}}]};function oS(t){t.view.define("indicator",function(e,n,r,s){let{value:a,label:h}=n,{href:f}=r||{},g=document.createElement("div"),p=document.createElement("div");return g.className="value",p.className="label",f&&(e.href=f),Promise.all([t.view.render(g,a||"text:value",r,s),t.view.render(p,h||"text:label",r,s)]).then(()=>e.append(g,p))},{tag:"a",usage:rS})}var sS=new Function("return (value) => alert(`Changed to ${value}!`)")(),aS={examples:[{title:"Input with value",demo:{view:"input",value:'"value"'}},{title:"Input with placeholder",demo:{view:"input",placeholder:"placeholder"}},{title:"Input type number with min and max",demo:{view:"input",htmlType:"number",htmlMin:10,htmlMax:20}},{title:"Input with onChange",demo:{view:"input",onChange:sS}},{title:"Input with onChange debounced",demo:{view:"input",onChange:sS,debounce:300}}]};function $R(t,e){try{return new RegExp("((?:"+t+")+)",e)}catch{}return new RegExp("((?:"+t.replace(/[\[\]\(\)\?\+\*\{\}\\]/g,"\\$&")+")+)",e)}function zl(t,e="i"){let n=$R(t,e);return n.rawSource=t,n}function YR(t){let e=typeof t;return t!=null&&(e==="object"||e==="function")}function qr(t,e){if(typeof e=="number"&&(e={wait:e}),!YR(e))return t;let{wait:n}=e,r,s,a,h,f,g,p=0,m=!1,x=!1,v=!0;if(typeof t!="function")throw new TypeError("Expected a function");n=Math.max(0,Number(n)||0),m=Boolean(e.leading),x="maxWait"in e,a=x?Math.max(Number(e.maxWait)||0,n):a,v="trailing"in e?Boolean(e.trailing):v;function C(O){let S=r,P=s;return r=s=void 0,p=O,h=t.apply(P,S),h}function w(O,S){return setTimeout(O,S)}function b(O){clearTimeout(O)}function T(O){return p=O,f=w(A,n),m?C(O):h}function M(O){let S=O-g,P=O-p,k=n-S;return x?Math.min(k,a-P):k}function L(O){let S=O-g,P=O-p;return g===void 0||S>=n||S<0||x&&P>=a}function A(){let O=Date.now();if(L(O))return E(O);f=w(A,M(O))}function E(O){return f=void 0,v&&r?C(O):(r=s=void 0,h)}function D(){f!==void 0&&b(f),p=0,r=g=s=f=void 0}function B(){return f===void 0?h:E(Date.now())}function z(){return f!==void 0}function I(...O){let S=Date.now(),P=L(S);if(r=O,s=this,g=S,P){if(f===void 0)return T(g);if(x)return f=w(A,n),C(g)}return f===void 0&&(f=w(A,n)),h}return I.cancel=D,I.flush=B,I.pending=z,I}function lS(t){let e={regexp:n=>n?zl(n):null,text:n=>n};t.view.define("input",function(n,r,s,a){let{name:h,value:f,type:g="text",placeholder:p,onInit:m,onChange:x,htmlType:v="text",htmlMin:C,htmlMax:w,debounce:b}=r,T=e[g]||e.text,M=n.appendChild(document.createElement("input")),L=f?t.query(f,s,a):a[h];typeof L!="string"&&(L=""),M.type=v,M.value=L,M.placeholder=[p||"",T!==e.text?"("+g+")":""].filter(Boolean).join(" "),typeof C<"u"&&(M.min=C),w&&(M.max=w),M.addEventListener("input",qr(()=>{let A=M.value.trim();L!==A&&(L=A,typeof x=="function"&&x(T(A),h,s,a))},b)),typeof m=="function"&&m(T(M.value.trim()),h,s,a)},{usage:aS})}var cS={demo:{view:"link",data:{text:"I am link",href:"#"}},examples:[{title:"Link opened in new tab",demo:{view:"link",data:{text:"Discovery github",href:"https://github.com/discoveryjs/discovery",external:!0}}}]};function uS(t){t.view.define("link",function(e,n,r,s){let{content:a,onClick:h}=n,{href:f,text:g,external:p}=r||{};if(typeof r=="string"&&(f=g=r),g===void 0&&f?g=f:f===void 0&&g&&(f=g),f&&(e.href=f),p&&e.setAttribute("target","_blank"),typeof h=="function"&&(e.classList.add("onclick"),e.addEventListener("click",m=>{m.preventDefault(),h(e,r,s)})),a)return t.view.render(e,a,r,s);e.textContent=g},{tag:"a",usage:cS})}function hS(t){t.view.define("list-item",function(e,n,r,s){let{content:a="text"}=n;return t.view.render(e,a,r,s)},{tag:"li"})}var _s=(t,e)=>({demo:{view:t,data:["one","two","three","four"]},examples:[{title:"Variations",demo:{view:"context",data:["foo","bar","baz"],content:e.map(n=>[`header{ content: 'md:${JSON.stringify('`view: \\"'+n+'\\"`')}' }`,n])}},{title:"Configure item's content",demo:[{view:t,data:["one","two","three","four"],item:['text:"<item> "',{view:"link",data:'{ href: "#" + $ }'}]}]},{title:"Configure item's config",demo:{view:t,data:["one","two","three","four"],itemConfig:{className:"special"},item:{view:"text",data:'"prefix-" + $'}}}]});function fS(t){function e(n,r,s,a){let{item:h,itemConfig:f,limit:g,emptyText:p}=r;if(p!==!1&&p!==""&&n.setAttribute("emptyText",p||"Empty list"),!Array.isArray(s)&&s&&(s=[s]),Array.isArray(s))return t.view.renderList(n,this.composeConfig({view:"list-item",content:h},f),s,a,0,t.view.listLimit(g,25))}t.view.define("list",e,{usage:_s}),t.view.define("inline-list",e,{usage:_s}),t.view.define("comma-list",e,{usage:_s}),t.view.define("ol",e,{tag:"ol",usage:_s}),t.view.define("ul",e,{tag:"ul",usage:_s})}var Yp={demo:{view:"markdown",source:`# Markdown example

> NOTE: That's an experimental view based on [marked](https://github.com/markedjs/marked)

Markdown is good because:
* You'll get **formatted** *text* with _no tags_
* It's much simpler than \`HTML\`

\`\`\`html
<b>bold</b><i>italic</i>
\`\`\`
[Read more](https://guides.github.com/features/mastering-markdown/)`},examples:[{title:"Inline config",demo:'markdown{ source: "**Hello** `world`!" }'},{title:"Shorthand syntax",beforeDemo:['md:"You can use `md` as an alias for `markdown` with a string as data. That\'s a **shortest** definition for a marked text"'],demo:'md:"**Hello** `world`!"'},{title:"Array of strings as a source",beforeDemo:['md:"Array of strings might be passed as a value for `source` property which is useful for a long sources\\n> NOTE: This doesn\'t work a source passed via data"'],demo:{view:"markdown",source:["Array","of","`strings`"]}},{title:"Interpolation",beforeDemo:['md:"Interpolation can be used almost anywhere in a markdown to embed the result of a jora query into resulting HTML. Just place a jora query between `{{`{{`}}` and `{{`}`+`}`}}`:"'],demo:{view:"md",source:["Simple evaluation: 2 + 2 = `{{ 2 + 2 }}`","","Markdown view has {{ viewDef.examples.size() }} examples"]}},{title:"Disable anchors for headers",beforeDemo:"Hover a header to see a chain icon on the left side of header when anchors are enabled:",demo:[{view:"markdown",source:"## header with default settings"},{view:"markdown",anchors:!1,source:"## header with disabled anchor"}]},{title:"Showcase",demo:{view:"markdown",source:`
# Header
## Header
### Header
#### Header
##### Header
* One
* Two
    * Three

4. Four
5. Five
    6. Six
- [{{ true }}] Task 1
- [x] Task 2

Interpolation in text: 2 + 2 = \`{{ 2 + 2 }}\`, or in attribute: [link](#dummy-link/{{"exam" + "ple"}} "{{ "example" + " title" }}")

Paragraph **bold** __bold__ *italic* _italic_ ~line-through~ \`code\` [link](#href)

>Blockquote
> > Line 2

\`\`\`js
var some = "code";
\`\`\`

foo | bar
----|-----
1 | A
2 | C
3 | E
`.trim().split(/\n/)}}]};var Xp=class extends Dt.Renderer{heading(e,n,r,s){let{discovery:a,anchors:h}=this.options,f="";if(h){let g=s.slug(r),p=a.encodePageHash(a.pageId,a.pageRef,{...a.pageParams,"!anchor":g});f=`<a class="view-header__anchor" id="!anchor:${gi(g)}" href="${p}"></a>`}return`<h${n} class="view-header view-h${n}">${f}${e}</h${n}>
`}link(e,n,r){if(e===null)return r;let s='<a class="view-link" href="'+gi(e)+'"';return n&&(s+=' title="'+gi(n)+'"'),e.startsWith("#")||(s+=' target="_blank"'),s+=">"+r+"</a>",s}checkbox(e){return'<label class="view-checkbox"><input type="checkbox" disabled'+(e?" checked":"")+"/></label> "}list(e,n,r){let s=n?"ol":"ul",a=n&&r!==1?` start="${r}"`:"";return`<${s} class="view-${s}"${a}>
`+e+`
</${s}>
`}listitem(e){return'<li class="view-list-item">'+e+`</li>
`}table(e,n){return`<table class="view-table">
<thead>
`+e.replace(/ class="view-table-row"/g,"")+`</thead>
`+(n?"<tbody>"+n+"</tbody>":"")+`</table>
`}tablerow(e){return`<tr class="view-table-row">
`+e+`</tr>
`}tablecell(e,n){let r=n.header?"th":"td";return`<${r} class="view-table-cell"${n.align?` align="${n.align}"`:""}>`+e+`</${r}>
`}};Dt.setOptions({smartLists:!0,langPrefix:"discovery-markdown-",renderer:new Xp});function dS(t){let e={discovery:t,highlight(a,h,f){let g=document.createDocumentFragment();t.view.render(g,"source",{syntax:h,content:a}).then(()=>f(null,g.firstChild.outerHTML))}};function n(a,h){return a.replace(/{{(\d+)}}/gs,(f,g)=>h[g])}function r(a,h){for(let f of a.childNodes)switch(f.nodeType){case document.ELEMENT_NODE:if(!f.classList.contains("view-source")){r(f,h);for(let g of f.attributes)g.nodeValue=n(g.nodeValue,h)}break;case document.TEXT_NODE:f.nodeValue=n(f.nodeValue,h);break}}function s(a,h,f,g){let{source:p,anchors:m=!0}=h,x=new Map,v=typeof f=="string"?f:p||"";return Array.isArray(v)&&(v=v.join(`
`)),v=v.replace(/{{(.+?)}}/gs,(C,w)=>(w=w.trim(),x.has(w)||x.set(w,x.size),`{{${x.get(w)}}}`)),a.classList.add("view-markdown"),new Promise(C=>{Dt(v,{...e,anchors:m},(w,b)=>{if(a.innerHTML=b.replace(/\n(<\/code>)/g,"$1"),x.size>0){let T=new Array(x.size);for(let[M,L]of x.entries())try{T[L]=t.query(M,f,g)}catch(A){console.error("Interpolation query error: "+A.message)}r(a,T)}C()})})}t.view.define("markdown",s,{usage:Yp}),t.view.define("md",s,{usage:Yp})}var XR=new Function("return (value) => alert(`Changed to ${value.text}!`)")(),pS={demo:{view:"menu",data:[{text:"one",href:"#"},{text:"two",href:"#"},{text:"three",href:"#"}]},examples:[{title:"With limit",demo:{view:"menu",data:[{text:"one",href:"#"},{text:"two",href:"#"},{text:"three",href:"#"}],limit:2}},{title:"With custom item",demo:{view:"menu",data:[{text:"one",href:"#"},{text:"two",href:"#"},{text:"three",href:"#"}],item:"h1:text"}},{title:"On chage handler",demo:{view:"menu",onChange:XR,data:[{text:"one",href:"#"},{text:"two",href:"#"},{text:"three",href:"#"}]}}]};function gS(t){t.view.define("menu",function(e,n,r,s){let{name:a="filter",item:h,itemConfig:f,limit:g,emptyText:p,onClick:m,onInit:x,onChange:v}=n;if(p!==!1&&p!==""&&e.setAttribute("emptyText",p||"No items"),Array.isArray(r)){let C=this.composeConfig({view:"menu-item",content:h,onClick:typeof m=="function"?m:typeof v=="function"?w=>v(w,a):void 0},f);return t.view.renderList(e,C,r,s,0,t.view.listLimit(g,25)).then(()=>{typeof x=="function"&&x(t.query(".[selected].pick()",r,s),a)})}},{usage:pS})}var mS={demo:{view:"menu",data:[{text:"one",href:"#"},{text:"two",href:"#"},{text:"three",href:"#"}]},examples:[{title:"Preselected item",demo:{view:"menu",data:[{text:"one",href:"#"},{text:"two",href:"#",selected:!0},{text:"three",href:"#"}]}},{title:"Disabled item",demo:{view:"menu",data:[{text:"one",href:"#"},{text:"two",href:"#",disabled:!0},{text:"three",href:"#"}]}},{title:"External links",demo:{view:"menu",data:[{text:"one",external:!0,href:"https://github.com/discoveryjs/discovery"},{text:"two",external:!0,href:"https://github.com/discoveryjs/discovery"},{text:"three",external:!0,href:"https://github.com/discoveryjs/discovery"}]}}]};function yS(t){t.view.define("menu-item",function(e,n,r,s){let{content:a,onClick:h}=n,{text:f,selected:g=!1,disabled:p=!1,href:m,external:x}=r||{};if(p?e.classList.add("disabled"):typeof h=="function"?(e.addEventListener("click",()=>h(r,s)),e.classList.add("onclick")):m&&(e.href=m,e.target=x?"_blank":""),g&&e.classList.add("selected"),a)return t.view.render(e,a,r,s);e.textContent=typeof r=="string"?r:f||"Untitled item"},{tag:"a",usage:mS})}var KR=()=>alert("changed!"),vS={demo:{view:"nav-button",data:{text:"I am nav button"}},examples:[{title:"With href",demo:{view:"nav-button",data:{text:"I am nav button",href:"#"}}},{title:"External link",demo:{view:"nav-button",data:{text:"I am nav button",external:!0,href:"https://github.com/discoveryjs/discovery"}}},{title:"On click handler",demo:{view:"nav-button",data:{text:"I am nav button"},onClick:KR}}]};function xS(t){t.view.define("nav-button",function(e,n,r,s){let{name:a,content:h,disabled:f=!1,onClick:g}=n,{text:p="",href:m,external:x}=r||{};if(a&&(e.dataset.name=a),t.query(f,r,s)?e.classList.add("disabled"):typeof g=="function"?(e.addEventListener("click",()=>g(e,r,s)),e.classList.add("onclick")):m&&(e.href=m,e.target=x?"_blank":""),h)return t.view.render(e,h,r,s);e.textContent=p},{tag:"a",usage:vS})}var bS=t=>({beforeDemo:['md:"A special view to be used as the first view in the body of the page. This view stays in place as the page scrolls (although it may move slightly to the top of the page at the start of the scroll), so that the most relevant information and important action elements can remain accessible despite page scrolling."'],demoFixed:100,demo:`${t}:"That's a \\"${t}\\""`,examples:[{title:"Prelude",demoFixed:150,highlightProps:["prelude"],demo:{view:t,prelude:['badge:{ text: "demo" }','badge:{ text: "demo", prefix: "prelude", postfix: "postfix" }'],content:'h1:"Header"'}}]});function wS(t){t.view.define("page-header",function(n,r,s,a){let{prelude:h,content:f,onInit:g,onChange:p}=r,m=n.appendChild(je("div","view-page-header__prelude")),x=n.appendChild(je("div","view-page-header__content")),v=C=>typeof g!="function"&&typeof p!="function"?C:this.composeConfig(C,{onInit:g,onChange:p});return Promise.all([t.view.render(m,v(h||[]),s,a),t.view.render(x,v(f||"text"),s,a)])},{usage:bS})}var Kp={};tt(Kp,{pointerXY:()=>ho});var kS=new In({x:0,y:0},(t,e)=>t.x!==e.x||t.y!==e.y);document.addEventListener("pointermove",({x:t,y:e})=>kS.set({x:t,y:e}),Vn);var ho=kS.readonly;var Yn=[],SS=[!1,"popup-hover","trigger-click"],ZR={position:"trigger",hoverTriggers:null,hoverPin:!1,hideIfEventOutside:!0,hideOnResize:!0,render:void 0};function Zp(t,e){return t.el.contains(e)?t:t.relatedPopups.reduce((n,r)=>n||Zp(r,e),null)}function CS(t){return t?t.getRootNode({composed:!0})===document:!0}function Pu(t){Yn.slice().forEach(e=>e.hideIfEventOutside(t))}function QR(){Yn.slice().forEach(t=>t.hideIfTriggerElementNotInDocument())}function TS(t){Yn.slice().forEach(e=>e.hideOnResize(t))}function LS(t){let e=[],n=new Set,r=null,s=null,a=()=>{r===null&&(r=[t.addHostElEventListener("mouseenter",({target:h})=>{if(h!==document)for(let f of e){let g=Zp(f,h),p=g?g.el:h.closest(f.options.hoverTriggers);p&&(f.hideTimer=clearTimeout(f.hideTimer),p!==f.lastHoverTriggerEl&&((!g||!g.hoverPinned)&&(f.lastHoverTriggerEl=p),g||(f.hoverPinned=!1,f.el.classList.remove("pinned"),f.show(p))))}},Vn),t.addHostElEventListener("mouseleave",({target:h})=>{for(let f of e)f.lastHoverTriggerEl===h&&(f.lastHoverTriggerEl=null,f.hideTimer=setTimeout(f.hide,100))},Vn),t.addGlobalEventListener("scroll",h=>{s=setTimeout(()=>Pu(h),0)},!0),t.addHostElEventListener("scroll",h=>{clearTimeout(s),Pu(h)}),t.addGlobalEventListener("click",h=>{s=setTimeout(()=>Pu(h),0)},!0),t.addHostElEventListener("click",h=>{clearTimeout(s),Pu(h),setTimeout(QR,50);for(let f of e)f.options.hoverPin==="trigger-click"&&f.lastHoverTriggerEl&&f.lastTriggerEl.contains(h.target)&&(f.lastHoverTriggerEl=null,f.hoverPinned=!0,f.el.classList.add("pinned"),h.stopPropagation())},!0)])};ho.subscribe(()=>{for(let h of Yn)h.options.position==="pointer"&&!h.hoverPinned&&!h.frozen&&h.updatePosition()}),t.inspectMode.subscribe(h=>h?Yn.forEach(f=>n.add(f)):n.clear()),t.view.Popup=class{constructor(f){this.options={...ZR,...f},this.el=document.createElement("div"),this.el.classList.add("discovery-view-popup"),this.hide=this.hide.bind(this),this.hideTimer=null,this.lastTriggerEl=null,this.lastHoverTriggerEl=null,this.hoverPinned=!1,this.frozen=!1,this.options.className&&this.el.classList.add(this.options.className),SS.includes(this.options.hoverPin)||(console.warn(`Bad value for \`Popup#options.hoverPin\` (should be ${SS.join(", ")}):`,this.options.hoverPin),this.options.hoverPin=!1),this.options.hoverTriggers&&(this.el.classList.add("show-on-hover"),this.el.dataset.pinMode=this.options.hoverPin||"none",e.push(this),a())}get relatedPopups(){return Yn.filter(f=>this.el.contains(f.lastTriggerEl))}get visible(){return Yn.includes(this)}toggle(...f){this.visible?this.hide():this.show(...f)}show(f,g=this.options.render){let p=t.dom.container;this.hideTimer=clearTimeout(this.hideTimer),this.relatedPopups.forEach(m=>m.hide()),this.el.classList.toggle("inspect",t.inspectMode.value),typeof g=="function"&&(this.el.innerHTML="",g(this.el,f,this.hide)),this.lastTriggerEl&&this.lastTriggerEl.classList.remove("discovery-view-popup-active"),f&&f.classList.add("discovery-view-popup-active"),this.lastTriggerEl=f||null,this.visible||(Yn.push(this),Yn.length===1&&window.addEventListener("resize",TS)),this.updatePosition(),p.appendChild(this.el)}updatePosition(){if(!this.visible||this.options.position!=="pointer"&&!this.lastTriggerEl)return;let f=t.dom.container,g=Nl(f.firstChild),p=_p(window,g),{x:m,y:x}=ho.value,v=3,C=this.options.position!=="pointer"?Lr(this.lastTriggerEl,f):{left:parseInt(m)+v,right:parseInt(m)-v,top:parseInt(x)-v,bottom:parseInt(x)+v},w=C.top-p.top-3,b=p.bottom-C.bottom-3,T=C.right-p.left-3,M=p.right-C.left-3;w>b?(this.el.style.maxHeight=w+"px",this.el.style.top="auto",this.el.style.bottom=p.bottom-C.top+"px",this.el.dataset.vTo="top"):(this.el.style.maxHeight=b+"px",this.el.style.top=C.bottom-p.top+"px",this.el.style.bottom="auto",this.el.dataset.vTo="bottom"),T>M?(this.el.style.left="auto",this.el.style.right=p.right-C.right+"px",this.el.style.maxWidth=T+"px",this.el.dataset.hTo="left"):(this.el.style.left=C.left-p.left+"px",this.el.style.right="auto",this.el.style.maxWidth=M+"px",this.el.dataset.hTo="right"),this.relatedPopups.forEach(L=>L.updatePosition())}freeze(){this.frozen=!0,this.el.classList.add("frozen")}unfreeze(){this.frozen=!1,this.el.classList.remove("frozen"),this.updatePosition()}hide(){this.hideTimer=clearTimeout(this.hideTimer),this.visible&&!n.has(this)&&(this.relatedPopups.forEach(f=>f.hide()),Yn.splice(Yn.indexOf(this),1),this.el.remove(),this.unfreeze(),this.lastTriggerEl&&(this.lastTriggerEl.classList.remove("discovery-view-popup-active"),this.lastTriggerEl=null),Yn.length===0&&window.removeEventListener("resize",TS))}hideIfEventOutside({target:f}){!this.options.hideIfEventOutside||n.has(this)||this.lastTriggerEl&&this.lastTriggerEl.contains(f)||Zp(this,f)||this.hide()}hideIfTriggerElementNotInDocument(){(!CS(this.lastHoverTriggerEl)||!CS(this.lastTriggerEl))&&this.hide()}hideOnResize(){!this.options.hideOnResize||n.has(this)||this.hide()}destroy(){n.delete(this);let f=e.indexOf(this);f!==-1&&e.splice(f,1),this.hide(),this.el=null,this.lastTriggerEl=null,this.lastHoverTriggerEl=null}}}var AS={demo:{view:"progress",progress:.5,content:'text:"Loading..."'},examples:[{title:"With no label (content)",demo:{view:"progress",progress:.25}},{title:"Custom color",demo:{view:"progress",progress:.85,color:"#bdab77",content:'text:"Yellow progress"'}}]};function MS(t){t.view.define("progress",function(e,n,r,s){let{content:a,progress:h,color:f}=n,g=e.appendChild(je("div",{class:"progress",style:`--progress: ${Math.max(0,Math.min(1,Number(h)))};--color: ${f||"unset"};`}));if(a){let p=e.insertBefore(je("div",{class:"content"}),g);return t.view.render(p,a,r,s)}},{usage:AS})}var ES={demo:{view:"section",header:'text:"I am section"',content:['text:"content"']}};function PS(t){t.view.define("section",function(e,n,r,s){let{header:a,content:h}=n;return t.view.render(e,[{view:"header",content:a},h],r,s)},{usage:ES})}var JR=new Function("return (value) => alert(`Changed to ${value}!`)")(),OS={demo:{view:"select",data:["one","two","three","four"]},examples:[{title:"Select with value",demo:{view:"select",value:'"three"',data:["one","two","three","four"]}},{title:"Select with reset option",demo:{view:"select",resetItem:!0,value:'"three"',data:["one","two","three","four"]}},{title:"Select with placeholder",demo:{view:"select",placeholder:"placeholder",data:["one","two","three","four"]}},{title:"Select with onChange",demo:{view:"select",onChange:JR,data:["one","two","three","four"]}},{title:"Select with custom options",demo:{view:"select",item:"h1:text",data:["one","two","three","four"]}}]};function NS(t){let e="text-match:{ text, match: #.filter }",n="{ value: $, text: #.selectVariantTextQuery.query($, #) }",r=new t.view.Popup({className:"view-select-popup"});t.view.define("select",function(s,a,h,f){function g(){if(s.innerHTML="",B!==void 0)return t.view.render(s,t.view.composeConfig({view:"menu-item",data:n,content:T},M),B,z)}let{name:p,value:m,text:x="$",placeholder:v,limit:C,minItemsFilter:w=10,resetItem:b=!1,item:T=e,itemConfig:M,beforeItems:L,afterItems:A,onInit:E,onChange:D}=a,B=m?t.query(m,h,f):f[p],z={...f,selectMinItemsFilter:w,selectCurrentValue:B,selectVariantTextQuery:x,selectResetItem:b?[{value:void 0,text:"",...b,resetItem:!0}]:[]},I=[];return L&&I.push(t.view.composeConfig(L,{onInit:E,onChange:D})),I.push({view:"context",data:`.(${n})`,modifiers:{view:"input",when:"size() >= #.selectMinItemsFilter",type:"regexp",name:"filter",className:"view-select__filter",placeholder:"Filter"},content:{view:"menu",className:"view-select__variants",data:"#.selectResetItem + .[no #.filter or text~=#.filter]",limit:C,itemConfig:t.view.composeConfig({className:[O=>O.resetItem?"reset-item":"",O=>O.value===B?"selected":""]},M),item:T,onClick(O){r.hide(),B!==O.value&&(B=O.value,z={...z,selectCurrentValue:B},g(),typeof D=="function"&&D(O.value,p,O,f))}}}),A&&I.push(t.view.composeConfig(A,{onInit:E,onChange:D})),v&&(s.dataset.placeholder=v),s.tabIndex=0,s.addEventListener("click",()=>{r.toggle(s,O=>t.view.render(O,I,h,z).then(()=>(O.querySelector(".view-select__filter input")||{focus(){}}).focus()))}),typeof E=="function"&&E(B,p,h,f),g()},{usage:OS})}function Qp(t,e,n){for(let r in t){if(!hasOwnProperty.call(t,r))continue;if(!e){n.properties=null;break}let s;n.dictMode?(s=n.dictMode,s.count++,s.keys.add(r)):n.properties.has(r)?(s=n.properties.get(r),s.count++):(s={count:1,map:Object.create(null)},n.properties.set(r,s)),Bl(t[r],e-1,s.map)}}function Bl(t,e,n=Object.create(null)){let r=t===null?"null":Array.isArray(t)?"array":typeof t;switch(r){default:r in n||(n[r]=new Map),n[r].set(t,(n[r].get(t)||0)+1);break;case"object":"object"in n||(n.object=new Map,n.object.count=0,n.object.properties=new Map,n.object.dictMode=null,n.object.sortKeys=!1),n.object.count++,n.object.has(t)?n.object.set(t,n.object.get(t)+1):(n.object.set(t,1),Qp(t,e,n.object));break;case"array":"array"in n||(n.array=new Map,n.array.count=0,n.array.map=Object.create(null)),n.array.count++,n.array.set(t,(n.array.get(t)||0)+1);for(let s=0;s<t.length;s++)Bl(t[s],e,n.array.map);break}return n}var Ou=["rgba(83,211,75,0.75)","rgba(241,235,44,0.75)","rgba(244,152,99,0.75)","rgba(148,99,244,0.75)","rgba(44,132,241,0.75)","rgba(233,117,117,0.75)","rgba(85,187,155,0.75)","rgba(151,147,99,0.75)","rgba(216,107,196,0.75)","rgba(108,204,227,0.75)","rgba(164,164,164,0.75)"],Fl=["null","undefined","string","number","bigint","boolean","symbol","function","array","object"];function _l(t,e,n,r=[],s=""){Object.keys(e).sort((a,h)=>Fl.indexOf(a)-Fl.indexOf(h)).forEach((a,h)=>{switch(h>0&&t.appendChild(yn(" | ")),a){default:{let f=t.appendChild(je("span","type",a));n.set(f,{type:"type",path:r,stat:e,name:a});break}case"object":{let f=e[a],{properties:g,dictMode:p,sortKeys:m}=f;if(g===null){n.set(t.appendChild(je("span","expand","{\u2026}")),{type:"expand",path:r,map:e[a],offset:s});break}if(g.size===0){t.appendChild(je("span","object","{}"));break}let x=f.size,v=p?[["[key]",p]]:[...g.entries()],C=s+"    ",w=t.appendChild(je("span","object",["{",je("span",{"data-action":"collapse"})]));g.size>1&&(w.appendChild(je("span",{title:"Toggle dictionary mode (collapse all the values in a single signature)","data-action":"dict-mode","data-enabled":p!==null})),v.some(([b],T)=>T!==0&&b<v[T-1][0])&&w.appendChild(je("span",{title:"Toggle keys sorting","data-action":"sort-keys","data-enabled":m}))),n.set(w,{type:"shape",path:r,map:e[a],offset:s}),x>1&&(w.appendChild(je("span","count")).dataset.value=String(x)),m&&v.sort(([b],[T])=>b<T?-1:b>T?1:0);for(let[b,{count:T,map:M}]of v){let L=je("span","property",[b]);n.set(L,{type:"property",path:r,stat:e,name:b,map:M}),w.appendChild(yn(`
${C}`)),w.appendChild(L),T!==x&&p===null&&L.appendChild(je("span","optional","?")),w.appendChild(yn(": ")),_l(w,M,n,r.concat(p?"*":b),C),w.appendChild(yn(";"))}w.lastChild.nodeValue===";"&&w.appendChild(yn(`
${s}`)),w.appendChild(yn("}"));break}case"array":t.appendChild(yn("[")),_l(t,e[a].map,n,r,s),t.appendChild(yn("]"));break}})}function Hs(t,e){return t.toFixed(e).replace(/\.?0+$/,"")}function DS(t){let e=Math.cos(2*Math.PI*t),n=Math.sin(2*Math.PI*t);return[e,n]}function IS(t){let e=0;return['<svg viewBox="-1 -1 2 2" class="pie">',...t.map(n=>{let[r,s]=DS(e),[a,h]=DS(e+=n.percent),f=n.percent>.5?1:0;return`<path d="${[`M ${r} ${s}`,`A 1 1 0 ${f} 1 ${a} ${h}`,"L 0 0"].join(" ")}" fill="${n.color}"/>`}),"</svg>"].join(`
`)}function e7(t){let e=0;for(let n in t)t[n].forEach(r=>e+=r);return e}function t7(t){let e=Object.create(null);for(let n in t)e[n]=0,t[n].forEach(r=>e[n]+=r);return e}function RS(t,e,n){let{count:r,map:s}=e.stat.object.dictMode||e.stat.object.properties.get(e.name),a=(e.stat.object.dictMode||e.stat.object).count,h={name:e.name,path:e.path,total:a,count:r,percent:Hs(100*r/a,1)+"%"};n.view.render(t,[{view:"block",when:"path",className:"path",data:f=>n.pathToQuery(f.path),content:"text:$"},{view:"h1",className:"property",content:["text:name",{view:"html",when:"count != total",data:`"<span class=\\"usage-stat optional\\">" + (
                        "(in <span class=\\"num\\">" + count + "</span> of <span class=\\"num\\">" + total + "</span> objects, <span class=\\"num\\">" + percent + "</span>)"
                    ) + "</span>"`}]}],h),jS(t,{map:s,count:r},n)}function jS(t,{map:e,count:n},r){let s=t7(e),a=[],h=Fl.filter(f=>f in e);Object.entries(s).sort(([,f],[,g])=>f-g).reverse().forEach(([f,g],p)=>{a.push({name:gi(f),count:g,percent:g/n,percent100:Hs(100*g/n,1),color:Ou[p]})}),r.view.render(t,{view:"block",when:"typeStat.size() > 1",data:"typeStat",className:"pie-stat",content:[{view:"block",content:{view:"html",data:IS}},{view:"block",content:['html:"<span class=\\"list-header\\">Types usage:</span>"',{view:"list",item:`html:
                            "<span class=\\"dot\\" style=\\"--size: 10px; background-color: " + color + "\\"></span> " +
                            "<span class=\\"caption\\">" + name + "</span>" +
                            "<span class=\\"times\\"> \xD7 " + count + " (" + percent100 + "%)</span>"
                        `}]}]},a),h.forEach(f=>Jp(t,{name:f,stat:e},r))}function Jp(t,e,n){let r=e.stat[e.name],s=e7(e.stat),a=[],h;switch(e.name){case"number":{let f=[],g=0,p=0,m=0,x=1/0,v=-1/0;r.forEach((C,w)=>{f.push({count:C,value:w}),g+=w*C,p+=C,C>1&&m++,w<x&&(x=w),w>v&&(v=w)}),h={type:e.name,count:p,distinct:r.size,duplicated:m,min:x,max:v,sum:g,avg:Hs(g/p,3),values:f.sort((C,w)=>w.count-C.count||C.value-w.value)},h.distinct>1&&a.push({view:"block",className:"overview-stat",content:`html:
                        "range: (min) <span class=\\"num\\">" + min + "</span> ... " +
                        "<span class=\\"num\\">" + max + "</span> (max), " +
                        "avg: <span class=\\"num\\">" + avg + "</span>"
                    `});break}default:{let f=[],g=0,p=0;r.forEach((m,x)=>{f.push({count:m,value:x}),g+=m,m>1&&p++}),h={type:e.name,count:g,distinct:r.size,duplicated:p,values:e.name==="object"||e.name==="array"?f.sort((m,x)=>x.count-m.count):f.sort((m,x)=>x.count-m.count||m.value>x.value||-(m.value<x.value))};break}}if(e.name!=="undefined"&&e.name!=="null"){if(a.unshift({view:"block",className:"overview-stat",content:['html:"<span class=\\"num\\">" + count + "</span> " + (count > 1 ? "values, " : "value")',{view:"switch",when:"count > 1",content:[{when:"distinct = 1",content:'text:"a single unique value:"'},{when:"distinct = count",content:'text:"all unique, no duplicates"'},{content:['html:"<span class=\\"num\\">" + distinct + "</span> unique, "','html:duplicated = distinct ? "all occur more than once" : "<span class=\\"num\\">" + duplicated + "</span> occur more than once"']}]}]}),h.values.length>1&&h.duplicated&&e.name!=="object"&&e.name!=="array"){let f=[],g=h.values.length===10?10:Math.min(9,h.values.length),p=0;for(let m=0;m<g;m++){let{count:x,value:v}=h.values[m];p+=x,f.push({name:gi(String(v)),count:x,percent:x/h.count,percent100:Hs(100*x/h.count,1),color:Ou[m]})}if(f.length){let m=h.count-p;m>0&&f.push({name:"...",count:m,percent:m/h.count,percent100:Hs(100*m/h.count,1),color:Ou[f.length]}),a.push({view:"block",className:"pie-stat",data:f,content:[{view:"block",content:{view:"html",data:IS}},{view:"block",content:['html:"<span class=\\"list-header\\">Dominators:</span>"',{view:"list",item:`html:
                                        "<span class=\\"dot\\" style=\\"--size: 10px; background-color: " + color + "\\"></span> " +
                                        "<span class=\\"caption\\" title=\\"" + name + "\\">" + name + "</span>" +
                                        "<span class=\\"times\\"> \xD7 " + count + " (" + percent100 + "%)</span>"
                                    `}]}]})}}h.values.length>1?(e.name==="number"||e.name==="string")&&a.push({view:"content-filter",name:"filter",content:{view:"menu",data:"values.[no #.filter or value~=#.filter].sort(<value>)",item:[{view:"block",className:"caption",content:"text-match:{ text: value, match: #.filter }"},{view:"block",when:"count > 1",className:"count",content:'text:" \xD7 " + count'}]}}):(e.name==="number"||e.name==="string"||e.name==="boolean")&&a.push({view:"struct",data:"values.pick().value"}),e.name==="object"&&a.push({view:"list",className:"struct-list",data:"values",item:["struct:value",{view:"block",when:"count > 1",className:"count",content:'text:" \xD7 " + count'}]}),e.name==="array"&&Object.keys(r.map).length&&a.push({view:"block",className:"array-types",content:f=>jS(f,r,n)})}n.view.render(t,[{view:"block",when:"path",className:"path",data:f=>n.pathToQuery(f.path),content:"text"},{view:"h1",className:"type",content:["text:name",`html:"<span class=\\"usage-stat\\">" + (
                    count = total
                        ? "only this type is used"
                        : "used in <span class=\\"num\\">" + count + "</span> of <span class=\\"num\\">" + total + "</span> cases (<span class=\\"num\\">" + percent + "</span>)"
                ) + "</span>"`]},...a],{...h,name:e.name,path:e.path,total:s,percent:Hs(100*h.count/s,1)+"%"},{})}var zS={beforeDemo:['md:"The `signature` view is used to output a type definition for current data using TypeScript like style:"'],demo:{view:"signature",expanded:!0}};function eg(t){let e=new WeakMap,n=({target:r})=>{let s="expand",a=r.closest(`
            .view-signature .expand,
            .view-signature [data-action]
        `);if(!a)return;a.dataset.action&&(s=a.dataset.action,a=a.parentNode);let h=e.get(a);if(h){let{path:f,map:g,offset:p}=h,m=document.createDocumentFragment();switch(s){case"sort-keys":g.sortKeys=!g.sortKeys;break;case"dict-mode":if(g.dictMode)g.dictMode=null;else{let x=g.dictMode={keys:new Set,count:0,map:Object.create(null)};g.forEach((v,C)=>{for(let w in C)hasOwnProperty.call(C,w)&&(x.keys.add(w),x.count++,Bl(C[w],1,x.map))})}break;default:g.properties===null?(g.properties=new Map,g.forEach((x,v)=>Qp(v,1,g))):g.properties=null}_l(m,{object:g},e,f,p),a.replaceWith(m)}};t.addHostElEventListener("click",n,!1),new t.view.Popup({className:"signature-details",hoverPin:"trigger-click",hoverTriggers:`
            .view-signature .property,
            .view-signature .type
        `,render:function(r,s){let a=e.get(s);switch(a.type){case"property":return RS(r,a,t);case"type":return Jp(r,a,t)}}}),t.view.define("signature",function(r,s,a){let{expanded:h,path:f}=s,g=Bl(a,h),p=Array.isArray(f)?f:void 0;_l(r,g,e,p)},{usage:zS})}var vC=Pn(cC(),1),Xn=Pn(Wr(),1),jq=Pn(Bp(),1),zq=Pn(fC(),1),Bq=Pn(gC(),1);var sg={};tt(sg,{equal:()=>Hl});var{hasOwnProperty:Ru}=Object;function Hl(t,e){if(t===e)return!0;for(let n in t)if(Ru.call(t,n)&&(!Ru.call(e,n)||t[n]!==e[n]))return!1;for(let n in e)if(Ru.call(e,n)&&(!Ru.call(t,n)||t[n]!==e[n]))return!1;return!0}var Wl='let name = "world";\n\nconsole.log(`Hello, ${name}!`);',mC={demo:{view:"source",data:{syntax:"js",content:Wl}},examples:[{title:"Supported syntaxes",beforeDemo:['md:"Following values (for both `name` and `mime`) are supported for `syntax` option:"',{view:"table",data:"#.options.syntaxes",cols:{name:{content:"comma-list:name"},mime:{content:"comma-list:mime"}}},"md:\"More syntaxes may be added via `import 'codemirror/mode/[name]/[name]';`\""],source:!1},{title:"Highlight ranges",demo:{view:"source",data:{syntax:"js",content:Wl,refs:[{range:[4,8]},{range:[21,28],type:"link",href:"#example",tooltip:{position:"trigger",content:['text:"Link to "',"text:href"]}}]}}},{title:"Custom line numbers",demo:{view:"source",data:{content:Wl,syntax:"js",lineNum:t=>t+5}}},{title:"Without line numbers",demo:{view:"source",data:{content:Wl,syntax:"js",lineNum:!1}}},{title:"Max content size for highlight",beforeDemo:['md:"By default a syntax highlighing is not appling to a source which is bigger than 250Kb. Option `maxSourceSizeToHighlight` is using to change max size of source to be highlighted."'],demo:{view:"source",data:{content:Wl,syntax:"js",maxSourceSizeToHighlight:4}}}]};var d7=250*1024;Xn.default.modeToMime={js:"application/javascript",ts:"application/typescript",typescript:"application/typescript",json:"application/json",html:"text/html",css:"text/css",scss:"text/x-scss",less:"text/x-less"};function p7(){let t=new Set,e=new Map,n=r=>{let s=Xn.default.resolveMode(r),a=[...e.keys()].find(h=>Hl(h,s));return a||(e.set(s,{name:new Set,mime:new Set}),s)};for(let[r,s]of Object.entries(Xn.default.modeToMime)){let a=e.get(n(s));a.mime.add(s),a.name.add(r),t.add(r)}for(let[r,s]of Object.entries(Xn.default.mimeModes)){let a=e.get(n(r));a.mime.add(r),typeof s=="string"&&(a.name.add(s),t.add(s))}for(let[r]of Object.entries(Xn.default.modes))if(!t.has(r)){let s=Xn.default.modes[r];e.has(s)||e.set(s,{name:new Set,mime:[]}),e.get(s).name.add(r)}return[...e.values()].map(r=>({name:[...r.name],mime:[...r.mime]}))}function g7(t,e){let n=Xn.default.getMode(Xn.default.defaults,{name:Xn.default.modeToMime[t]||t,isDiscoveryViewDefined:r=>e.view.isDefined(r)});return(r,s)=>{let a=Xn.default.startState(n),h=r.split(/(\n|\r\n?)/),f=0;for(let g=0;g<h.length;g++){if(g%2===0){let p=new Xn.default.StringStream(h[g],4,{lookAhead:m=>h[g+m],baseToken:function(){}});for(;!p.eol();){let m=n.token(p,a);m&&s(f+p.start,f+p.pos,m),p.start=p.pos}}f+=h[g].length}}}function m7(t,e){let n=t&&t.className,r=[e,Array.isArray(n)?n.join(" "):typeof n=="string"?n:!1].filter(Boolean).join(" ");return r?` class="${r}"`:""}function yC(t){return`${m7(t,"spotlight")}${t.marker?` data-marker="${t.marker}"`:""}${typeof t.tooltipId=="number"?` data-tooltip-id="${t.tooltipId}"`:""}`}var y7={html:{open({data:t}){switch(t.type){case"link":return`<a href="${t.href}"${yC(t)}>`;case"spotlight":return`<span${yC(t)}>`}},close({data:t}){switch(t.type){case"link":return"</a>";case"spotlight":return"</span>"}}}};function xC(t){t.view.define("source",function(e,n,r,s){let a=new Map,h=[],{mime:f,binary:g,size:p,maxSourceSizeToHighlight:m=d7,syntax:x,lineNum:v=!0,content:C,refs:w}=r;if(typeof C=="string")if(C.length<m&&h.push([g7(x||f,t),{html:{open({data:b}){return'<span class="token '+b+'">'},close(){return"</span>"}}}]),Array.isArray(w)&&h.push([(b,T)=>w.forEach(M=>{if(M.range){let L;M.tooltip&&a.set(L=a.size,M),T(M.range[0],M.range[1],{type:"spotlight",...M,tooltipId:L})}}),y7]),g)e.innerHTML="Binary content"+(typeof p=="number"?" ("+p+" bytes)":"");else{let b=typeof v=="function"?v:M=>M+1,T=v?'<div class="lines">'+C.split(/\r\n?|\n/g).map((M,L)=>"<span>"+b(L)+"</span>").join("")+"</div>":"";e.innerHTML=T+"<div>"+(0,vC.default)(h,"html")(C)+"</div>";for(let M of e.querySelectorAll(":scope [data-tooltip-id]")){let L=a.get(Number(M.dataset.tooltipId));delete M.dataset.tooltipId,this.tooltip(M,L.tooltip,L,s)}}},{usage:mC,get syntaxes(){return p7()}})}var hg={};tt(hg,{jsonStringifyAsJavaScript:()=>fo,jsonStringifyInfo:()=>ju});var zC=Pn(RC(),1),{stringifyInfo:ju}=zC.default;function $7(t,e,n){let r=String(t),[s,a]=r.match(/^(?:\S+\s+)?(\S+)\(/)||[];if(s!=="function"&&s!=="function*"&&a===n.trim().slice(0,-1)&&(n=""),r.indexOf(`
`)===-1)return n+r;let h=r.split(/\n/),f=h[h.length-1].match(/^\s*/)[0].length,g=new RegExp("^\\s{0,"+f+"}");return n+h.map((p,m)=>m&&p.length?p.replace(g,e):p).join(`
`)}function Y7(t,e,n){return typeof t=="function"?$7(t,e,n):t instanceof Date?`${n}new Date("${t.toISOString()}")`:n+String(t)}var{toString:jC}=Object.prototype,X7=new Set(["[object Function]","[object RegExp]","[object Date]"]);function fo(t,e,n=4){let r=[],s=function(a,h){return typeof h=="string"&&jC.call(this[a])==="[object Date]"&&(h=this[a]),h!==null&&X7.has(jC.call(h))?(r.push(h),"{{{__placeholder__}}}"):h};return String(JSON.stringify(t,e||s,n)).replace(/"((?:\\.|[^"])*)"(:?)/g,(a,h,f)=>f&&/^[a-z$_][a-z$_\d]*$/i.test(h)?h+f:`'${h.replace(/\\"/g,'"').replace(/'/g,"\\'")}'`+f).replace(/(^|\n)([ \t]*)(.*?)([a-zA-Z$_][a-zA-Z0-9$_]+:\s*)?'{{{__placeholder__}}}'/g,(a,h,f,g,p)=>h+f+g+Y7(r.shift(),f,p))}var zu=je("div",{style:["position: fixed","overflow: hidden","font-size: 1px","width: 1px","height: 1px","top: 0","left: 0","white-space: pre"].join(";")},["text"]);function K7(t){document.body.append(zu);try{let e=window.getSelection(),n=document.createRange();zu.firstChild.nodeValue=t,n.selectNodeContents(zu),e.removeAllRanges(),e.addRange(n),document.execCommand("copy")}finally{zu.remove()}}async function Rn(t){try{if(navigator.clipboard){let e=await navigator.permissions.query({name:"clipboard-write"});if(e.state==="granted"||e.state==="prompt")return navigator.clipboard.writeText(t)}}catch{}K7(t)}var Z7=/^(?:https?:)?\/\/(?:[a-z0-9\-]+(?:\.[a-z0-9\-]+)+|\d+(?:\.\d+){3})(?:\:\d+)?(?:\/\S*?)?$/i;function Ar(t,e){return`<span class="${t}">${e}</span>`}function fg(t){return Ar("more",`\u2026${$n(t)} more\u2026`)}function Ws(t,e,n){switch(typeof t){case"boolean":case"undefined":return Ar("keyword",t);case"number":case"bigint":return Ar("number",$n(t));case"symbol":return Ar("symbol",String(t));case"function":return"\u0192n";case"string":{let r=e?n.maxCompactStringLength:n.maxStringLength;if(t.length>r+n.allowedExcessStringLength)return Ar("string",gi(JSON.stringify(t.slice(0,r)).slice(0,-1))+fg(t.length-r)+'"');let s=JSON.stringify(t);return Ar("string",!e&&(t[0]==="h"||t[0]==="/")&&Z7.test(t)?`"<a href="${gi(t)}" target="_blank">${gi(s.slice(1,-1))}</a>"`:gi(s))}case"object":{if(t===null)return Ar("keyword","null");switch(toString.call(t)){case"[object Array]":{let h=n.limitCollapsed===!1?t.length:n.limitCollapsed,f=t.slice(0,h).map(g=>Ws(g,!0,n));return t.length>h&&f.push(`${fg(t.length-h)} `),`[${f.join(", ")}]`}case"[object Date]":return Ar("date",t);case"[object RegExp]":return Ar("regexp",t)}if(e){for(let h in t)if(hasOwnProperty.call(t,h))return"{\u2026}";return"{}"}let r=n.limitCollapsed===!1?1/0:n.limitCollapsed,s=[],a=0;for(let h in t)if(hasOwnProperty.call(t,h)){if(a<r){let f=gi(h.length>n.maxCompactPropertyLength?h.slice(0,n.maxCompactPropertyLength)+"\u2026":h);s.push(`${Ar("property",f)}: ${Ws(t[h],!0,n)}`)}a++}return a>r&&s.push(fg(a-r)),s.length?`{ ${s.join(", ")} }`:"{}"}default:return`unknown type "${typeof t}"`}}var Q7=["none","default","badge"];function dg(t){let e=Date.now()+8,n=0;for(;n<t.length&&!(Date.now()>e);n++){let{el:r,config:s,renderer:a,data:h,context:f}=t[n],{place:g="after",className:p,text:m=typeof s!="object"?String(s):"",icon:x,href:v,external:C,tooltip:w}=s,b=Q7.includes(s.style)?s.style:g==="before"?"none":"default",T=m!=="",M=["value-annotation","style-"+b,g==="before"?"before":"after",T?"has-text":"",p||""].join(" "),L=je(v?"a":"span",{class:M,href:v,target:C?"_blank":void 0},T?[m]:void 0);x&&(L.classList.add("icon"),/^[a-z_$][a-z0-9_$-]*$/i.test(x)?L.classList.add("icon-"+x):L.style.setProperty("--annotation-image",`url("${x}")`)),w&&a.tooltip(L,w,h,{...f,config:s}),g==="before"?r.before(L):r.parentNode.append(L)}t.splice(0,n)}var BC={level_1:{level_2:{level_3:{level_4:{}},level_3_2:2,level_3_3:3,level_3_4:4,level_3_5:5,level_3_6:6},level_2_2:2,level_2_3:3,level_2_4:4,level_2_5:5,level_2_6:6},level_1_2:2,level_1_3:3,level_1_4:4,level_1_5:5,level_1_6:6,level_1_7:7},FC={beforeDemo:['md:"View to display the structure of any value. This is the simplest yet powerful way to enable data exploration."'],demo:{view:"struct",data:{foo:"bar",baz:[1,2,3]}},examples:[{title:"Default expanded depth",highlightProps:["expanded"],beforeDemo:['md:"By default `struct` view is collapsed in one line. The `expand` option is using to specify an initial expanded depth. A value for the option can be a boolean or a positive number."'],demoData:BC,demo:['badge:"Default (expanded option is not used)"',{view:"struct"},'badge:"expanded = true"',{view:"struct",expanded:!0},'badge:"expanded = 2"',{view:"struct",expanded:2}]},{title:"Annotations",highlightProps:["annotations"],beforeDemo:[{view:"md",source:["Clarity of data can be improved by adding annotations. An annotation is special marker before or after a value which displaying for expanded objects and arrays only.","Any number of annotations can be applied to a single value.","","Annotations are adding with `annotations` option which should contain an array of strings (jora queries) and functions to compute an annotation config. An annotation config is an object with following fields:","```ts","type AnnotationConfig = {",'   place?: "before" | "after"; // the placement of an annotation, "after" is by default','   style?: "none" | "badge" | "default"; // appereance of annotation, "default" is by default',"   className?: string;         // a class to add to an annotation element","   text?: any;                 // text content of an annotation element","   icon?: string;              // name of icon or url to an image","   href?: string;              // annotation is a link and that's an URL","   external?: boolean;         // open a link in new tab, make sence when `href` is specified only","   tooltip?: TooltipConfig;    // configuration for a tooltip, the same as for any view","}","```","",'An annotation is not displayed (not rendered) when computed annotation config is a falsy value. Any other value (truthy, but not an object) is used as value for `text` option, i.e. `"example"` is the same as `{ text: "example" }`.',"","In addition to a string or function, an object can be used as an element of `annotations` array","* `query` \u2013 a string (jora query) or a function to compute an annotation config","* `debug` (optional) - when truthy a debug information is output to the console; when value is a string, it's used in debug message"]}],demoData:{items:[{id:1,value:"example"},{id:2,value:"bar"},{id:3,value:"baz"}],"annotation styles":["none","default","badge"]},demo:{view:"struct",expanded:3,annotations:['#.key = "items" ? { place: "before", style: "badge", text: "view as table", tooltip: "table" } : null',`$ ~= /az/ and "Value has 'az' substring!"`,'$ in ["none", "default", "badge"] and { style: $, place: "before", text: $ + " before" }','$ in ["none", "default", "badge"] and { style: $, text: $ + " after" }']}},{title:"Limit number of elements and entries",beforeDemo:{view:"md",source:["The following options define the maximum number of elements in array or entries in object:","* `limit` (default: 50) defines max count for expanded array/object","* `limitCollapsed` (default: 4) defines max count for collapsed array/object"]},highlightProps:["limit","limitCollapsed"],demoData:BC,demo:{view:"struct",limit:4,limitCollapsed:1,expanded:2}},{title:"Maximum length for strings",beforeDemo:{view:"md",source:["The following options define the maximum string length in various cases:","* `maxStringLength` (default: 150) defines max length for strings when a host object is expanded","* `maxCompactStringLength` (default: 40) defines max length for strings when a host object is collapsed",'* `allowedExcessStringLength` (default: 10) defines allowed excess in length before a string will be cut and \\"N more\\" label will be added']},highlightProps:["maxStringLength","maxCompactStringLength","allowedExcessStringLength"],demo:{view:"struct",maxStringLength:30,maxCompactStringLength:10,allowedExcessStringLength:5,expanded:1},demoData:{stringsInExpandedObject:"Quite a long string value Quite a long string value",string_34_chars:"String with 34 chars length demo x",string_35_chars:"String with 35 chars length demo xx",string_36_chars:"String with 36 chars length demo xxx",level2:{stringsInCollapsedObject:"Quite a long string value Quite a long string value",string_14_chars:"Short string x",string_15_chars:"Short string xx",string_16_chars:"Short string xxx"}}}]};var Kn={get collapse(){return je("span",{class:"struct-action-button struct-collapse-value","data-action":"collapse"})},get signature(){return je("span",{class:"struct-action-button show-signature","data-action":"show-signature"})},get actions(){return je("span",{class:"struct-action-button",title:"Value actions","data-action":"value-actions"})},get stringMode(){return je("span",{class:"struct-action-button",title:"Toggle string show mode","data-action":"toggle-string-mode"})},get viewAsTable(){return je("span",{class:"struct-action-button",title:"Toggle view as table","data-action":"toggle-view-as-table"})},get sortKeys(){return je("span",{class:"struct-action-button",title:"Toggle key sorting","data-action":"toggle-sort-keys"})}},_C=zo('"',Kn.collapse,Kn.actions,Kn.stringMode,je("span","string-length"),je("span","string-text-wrapper",[je("span","string-text")]),'"'),HC=zo("[",Kn.collapse,Kn.signature,Kn.actions,Kn.viewAsTable,je("span","value-size"),"]"),WC=zo("{",Kn.collapse,Kn.signature,Kn.actions,Kn.viewAsTable,Kn.sortKeys,je("span","value-size"),"}"),qC=je("div","entry-line"),UC=je("span","value"),GC=je("span","label",["\xA0\xA0\xA0\xA0",je("span","property"),":\xA0"]);var J7=Object.prototype.hasOwnProperty,ej=Object.prototype.toString,VC=50,tj=4,ij=10,nj=150,rj=40,oj=35;function Bu(t,e){return typeof t=="number"&&isFinite(t)&&t>=1?parseInt(t,10):e}function $C(t,e){if(Array.isArray(t))return t.length>0;if(typeof t=="string"&&(t.length>e.maxStringLength||/[\r\n\f\t]/.test(t)))return!0;if(t&&ej.call(t)==="[object Object]"){for(let n in t)if(J7.call(t,n))return!0}return!1}function pg(t,e){t.appendChild(document.createTextNode(e))}function YC(t){return t?", "+$n(t)+" bytes":""}function XC(t,e,n){e.length>1&&(t.lastElementChild.innerHTML=$n(e.length)+" "+n)}function sj(t,e,n){e.length<=1||e.every(([s],a)=>a===0||s>e[a-1][0])?t.querySelector('[data-action="toggle-sort-keys"]').remove():n&&e.sort(([s],[a])=>s<a?-1:s>a?1:0)}function aj(t,e){let n=GC.cloneNode(!0);pg(n.firstElementChild,e),t.appendChild(n)}function gg(t){function e(L){let A=x.get(L),E=p.get(L);L.classList.add("struct-expand-value"),L.innerHTML=Ws(E,!1,A)}function n(L,A,E){let D=p.get(L);if(L.classList.remove("struct-expand-value"),typeof D=="string"){let B=_C.cloneNode(!0),z=B.lastChild.previousSibling,I=JSON.stringify(D);pg(z.firstChild,I.slice(1,-1)),z.previousSibling.innerHTML=`length: ${$n(I.length)} chars`,L.innerHTML="",L.appendChild(B)}else if(Array.isArray(D)){let B=m.get(L),z=x.get(L);L.innerHTML="",L.appendChild(HC.cloneNode(!0)),XC(L,D,"elements"),s(L,L.lastChild,D,(I,O,S)=>{r(I,O,A,z,Object.freeze({parent:B,host:D,key:S,index:S}))},0,z.limit)}else{let B=m.get(L),z=x.get(L),I=Object.entries(D);L.innerHTML="",L.appendChild(WC.cloneNode(!0)),XC(L,I,"entries"),sj(L,I,E),s(L,L.lastChild,I,(O,[S,P],k)=>{aj(O,S),r(O,P,A,z,Object.freeze({parent:B,host:D,key:S,index:k}))},0,z.limit)}}function r(L,A,E,D,B){let z=$C(A,D),I=UC.cloneNode(!0);p.set(I,A),m.set(I,B),x.set(I,D),z&&typeof A!="string"&&E?(L.classList.add("struct-expanded-value"),n(I,E-1)):(z&&I.classList.add("struct-expand-value"),I.innerHTML=Ws(A,!1,D)),f(I,A,D,B),L.appendChild(I)}function s(L,A,E,D,B=0,z=VC){let I=E.length-B-1,O=document.createDocumentFragment();z===!1&&(z=E.length),E.slice(B,B+z).forEach((S,P)=>{let k=qC.cloneNode(!0);D(k,S,B+P),P!==I&&pg(k,","),O.appendChild(k)}),L.insertBefore(O,A),t.view.maybeMoreButtons(L,A,E.length,B+z,z,(S,P)=>s(L,A,E,D,S,P))}function a(L){let A=p.get(L);Array.isArray(A)||(A=Object.entries(A).map(([E,D])=>({"[key]":E,"[value]":D}))),t.view.render(L,"table",A,{}),L.append(L.lastChild.previousSibling)}function h(L){let A=[],E=m.get(L);for(;E!==null&&E.parent!==null;)A.unshift(E.key),E=E.parent;return A}function f(L,A,E,D){if(E.annotations.length){for(let B of E.annotations)try{let{query:z,debug:I}=B,O={...D,context:E.context},S=t.query(z,A,O);I&&console.info(`Compute struct view annotation${typeof I=="string"?` "${I}"`:""}:`,{data:A,context:O,query:z,queryResult:S}),S&&C.push(S.tooltip?{el:L,config:S,renderer:E.renderer,data:A,context:O}:{el:L,config:S})}catch(z){console.error(z)}g()}}function g(){w===null&&C.length&&(w=Promise.resolve().then(()=>{w=null,dg(C),C.length&&g()},0))}let p=new WeakMap,m=new WeakMap,x=new WeakMap,v=new WeakSet,C=[],w=null,b=new t.view.Popup({className:"view-struct-actions-popup",render:(L,A)=>{let E=A.parentNode,D=p.get(E),B=[];if(typeof D=="string")B=[{text:"Copy as quoted string",action:()=>Rn(JSON.stringify(D))},{text:"Copy as unquoted string",action:()=>Rn(JSON.stringify(D).slice(1,-1))},{text:"Copy a value (unescaped)",action:()=>Rn(D)}];else{let z=t.pathToQuery(h(E)),I=1024*1024*1024,O=!1,S=!1,P=0,k=0;try{let{minLength:d,circular:N}=ju(D);P=d,N.length?S="Converting circular structure to JSON":P>I?S="Resulting JSON is over 1 Gb":(k=ju(D,null,4).minLength,k>I&&(O="Resulting JSON is over 1 Gb"))}catch(d){S=/Maximum call stack size|too much recursion/i.test(d.message)?"Too much nested structure":d.message}S&&(S="Can't be copied: "+S,O||(O=S)),z&&B.push({text:"Copy path:",notes:gi(z),action:()=>Rn(z)}),B.push({text:"Copy as JSON",notes:`(formatted${YC(k)})`,error:O,disabled:Boolean(O),action:()=>Rn(JSON.stringify(D,null,4))}),B.push({text:"Copy as JSON",notes:`(compact${S?"":YC(P)})`,error:S,disabled:Boolean(S),action:()=>Rn(JSON.stringify(D))})}t.view.render(L,{view:"menu",onClick(z){b.hide(),z.action()},item:["html:text",{view:"block",when:"notes",className:"notes",content:"html:notes"},{view:"block",when:"error",className:"error",content:"text:error"}]},B)}}),T=new t.view.Popup({hoverPin:"popup-hover",hoverTriggers:".view-struct .show-signature",render:function(L,A){let E=A.parentNode,D=p.get(E);t.view.render(L,{view:"signature",expanded:2,path:h(E)},D)}}),M=({target:L})=>{let A="expand",E=L.closest(`
            .view-struct.struct-expand,
            .view-struct .struct-expand-value,
            .view-struct .struct-action-button
        `);if(E)switch(E.dataset.action&&(A=E.dataset.action),A){case"expand":E.classList.contains("struct-expand")&&(E=E.lastChild),n(E,0),g(),E.parentNode.classList.add("struct-expanded-value"),v.has(E.parentNode)&&E.parentNode.classList.remove("struct-expand");break;case"collapse":E=E.parentNode,e(E),g(),E.parentNode.classList.remove("struct-expanded-value"),E.classList.remove("view-as-table"),v.has(E.parentNode)&&E.parentNode.classList.add("struct-expand");break;case"show-signature":T.show(E);break;case"value-actions":b.show(E);break;case"toggle-sort-keys":n(E.parentNode,0,E.parentNode.classList.toggle("sort-keys")),g();break;case"toggle-string-mode":E=E.parentNode;let D=E.querySelector(".string-text").firstChild;D.nodeValue=E.classList.toggle("string-value-as-text")?JSON.parse(`"${D.nodeValue}"`):JSON.stringify(D.nodeValue).slice(1,-1);break;case"toggle-view-as-table":if(E=E.parentNode,E.classList.toggle("view-as-table"))a(E);else{let z=E.querySelector(":scope > .view-table");z&&z.remove()}break}};return t.addHostElEventListener("click",M,!1),t.view.define("struct",function(L,A,E,D){let{expanded:B,limit:z,limitCollapsed:I,annotations:O,allowedExcessStringLength:S,maxStringLength:P,maxCompactStringLength:k,maxCompactPropertyLength:d}=A,N=O?(t.annotations||[]).concat(O.map(q=>typeof q=="string"||typeof q=="function"?{query:q}:q)):t.annotations,R={renderer:this,context:D,limitCollapsed:t.view.listLimit(I,tj),limit:t.view.listLimit(z,VC),annotations:N,allowedExcessStringLength:Bu(S,ij),maxStringLength:Bu(P,nj),maxCompactStringLength:Bu(k,rj),maxCompactPropertyLength:Bu(d,oj)};v.add(L),r(L,E,B,R,{parent:null,host:{"":E},key:"",index:0}),g(),!B&&$C(E,R)&&L.classList.add("struct-expand")},{usage:FC}),()=>{document.removeEventListener("click",M,!1)}}var KC={demo:{view:"switch",data:{enabled:!0},content:[{when:"not enabled",content:'text:"I am disabled"'},{when:"enabled",content:'text:"I am enabled"'}]},examples:[{title:"Using with tabs",demo:{view:"context",modifiers:{view:"tabs",tabs:["foo","bar","baz"],name:"section"},content:{view:"switch",content:[{when:'#.section="foo"',content:'text:"FOO!"'},{when:'#.section="bar"',content:'text:"BAR!!"'},{content:'text:"When no other conditions are met"'}]}}}]};function ZC(t){t.view.define("switch",function(e,n,r,s){let{content:a}=n,h='alert-warning:"No case choosen"';if(Array.isArray(a))for(let f=0;f<a.length;f++){let g=a[f];if(g&&t.queryBool(g.when||!0,r,s)){h="data"in g?{view:"context",data:g.data,content:g.content}:g.content;break}}return t.view.render(e,h,r,s)},{tag:!1,usage:KC})}var QC={demo:{view:"table",data:[{foo:1,bar:"bar",baz:"zab"},{foo:2,baz:"xyz"},{foo:3,bar:"qux",baz:"baz"},{foo:4,bar:"aaa",baz:"abc"}]},examples:[{title:"Columns setup",demo:{view:"table",cols:[{header:"Header Col 1",data:"col1",content:'text:"prefix-" + $'},{header:"Header Col 3",data:"col3",content:'text:$ + "-suffix"'}],data:[{col1:"foo",col2:"bar",col3:"baz"},{col1:"qux",col2:"oof",col3:"zab"}]}}]};var qs=Object.hasOwnProperty;function mg(t){return{header:t,view:"table-cell",data:e=>e[t],sorting:`$[${JSON.stringify(t)}] ascN`}}function lj(t,e,n){let r="",s="";if("data"in t&&t.data!==void 0)switch(typeof t.data){case"string":s=`(${t.data})`;break;case"function":r="$dataQuery;",s="$dataQuery(#)";break;default:r="$dataQuery;",s="$dataQuery"}if(typeof t.content=="string"){let a=t.content.indexOf(":");if(a===-1)return;let h=t.content.slice(a+1);h&&(s=s?`(${s} | ${h})`:`(${h})`)}return s?e.query(`${r} ${s} ascN`,{dataQuery:t.data},n):!1}function cj(t,e){return typeof e=="string"&&(e={content:e}),qs.call(e,"content")||qs.call(e,"data")?{header:t,view:"table-cell",...e}:{...mg(t),...e}}function JC(t,e){if(typeof e!="function")return!1;let n=0;try{for(let r=1;r<t.length;r++){let s=Math.sign(e(t[r-1],t[r]));if(s){if(n&&s!==n)return!1;n=s}}}catch(r){return console.error("[Discovery] Error on column order detection in table view",r),0}return-n}function e2(t){return t===null||typeof t!="object"||t instanceof RegExp}function t2(t){t.view.define("table",function(e,n,r,s){let{cols:a,rowConfig:h,limit:f}=n,g;Array.isArray(r)||(r=r?[r]:[]);let p=e.appendChild(je("thead")).appendChild(je("tr")),m=[],x=e.appendChild(je("tbody")),v=e.appendChild(je("tbody")),C=v.appendChild(je("tr")).appendChild(je("td")),w=b=>{x.innerHTML="",C.innerHTML="";for(let T of m){let M=JC(b,T.sorting);T.el.classList.toggle("asc",M===1),T.el.classList.toggle("desc",M===-1)}return t.view.renderList(x,g,b,{...s,isScalar:e2,cols:a},0,t.view.listLimit(f,25),C).then(()=>v.hidden=!C.firstChild)};if(Array.isArray(a))a=a.map((b,T)=>typeof b=="string"?mg(b):{header:"col"+T,view:"table-cell",...b});else{let b=new Set,T=a&&typeof a=="object"?a:{},M=!1;a=[];for(let L of r)if(e2(L))M=!0;else for(let A of Object.keys(L))b.add(A);for(let L of Object.keys(T))T[L]?b.add(L):b.delete(L);M&&a.push({header:"[value]",view:"table-cell",sorting:"$ ascN",scalarAsStruct:!0,colSpan:"=$isScalar:#.isScalar;$isScalar() ? #.cols.size() : 1"});for(let L of b)a.push(qs.call(T,L)?cj(L,T[L]):mg(L))}a=a.filter(b=>!qs.call(b,"when")||t.queryBool(b.when,r,s));for(let b of a){if(qs.call(b,"whenData")&&b.whenData!==void 0){let{whenData:E,content:D}=b;b.whenData=void 0,b.content=(B,z)=>t.queryBool(E,B,z)?{content:D}:void 0}let T=p.appendChild(je("th")),M={el:T};m.push(M),T.textContent=b.header;let L=qs.call(b,"sorting")?t.query(b.sorting,null,s):lj(b,t,s),A=typeof L=="function"?JC(r,L):0;A!==0?(b.sorting=L,M.sorting=L,T.classList.add("sortable"),T.addEventListener("click",()=>{T.classList.contains("asc")?w(r.slice().sort((E,D)=>-L(E,D))):T.classList.contains("desc")&&!A?w(r):w(r.slice().sort(L))})):b.sorting=!1}return C.colSpan=a.length,g=this.composeConfig({view:"table-row",cols:"=$isScalar:#.isScalar;$isScalar() ? [#.cols[]] : #.cols"},h),w(r)},{tag:"table",usage:QC})}function i2(t){t.view.define("table-row",function(e,n,r,s){let{cols:a}=n;if(Array.isArray(a))return Promise.all(a.map((h,f)=>t.view.render(e,h,r,{...s,colIndex:f})))},{tag:"tr"})}var uj={view:"struct",expanded:1},hj=Object.hasOwnProperty;function fj(t,e,n){if(Array.isArray(e)){t.classList.add("complex"),t.textContent=e.length?"[\u2026]":"[]";return}if(n){t.classList.add("complex");for(let r in e)if(hj.call(e,r)){t.textContent="{\u2026}";return}t.textContent="{}";return}if(e!==void 0){if(typeof e=="number"){let r=String(e);t.classList.add("number"),r.length>3?t.innerHTML=$n(r,!1):t.textContent=r;return}t.textContent=String(e)}}function n2(t){t.view.define("table-cell",function(e,n,r,s){let{content:a,details:h,colSpan:f,scalarAsStruct:g}=n,p=r!==null&&typeof r=="object"&&!(r instanceof RegExp);if(typeof f=="number"&&f>1&&(e.colSpan=f),typeof a=="function"){if(a=a(r,s),!a)return;a=a.content}if((h||!a&&p)&&(e.classList.add("details"),e.addEventListener("click",m=>{let x=m.target;if(x===e){let v=x.parentNode,C=v.parentNode,w=Array.from(C.querySelectorAll(".view-table-cell.details-expanded")).find(T=>T.parentNode.parentNode===C),b=null;if(w){let T=w.parentNode;if(w.classList.remove("details-expanded"),w===e){v.parentNode.removeChild(v.nextSibling);return}T!==v?T.parentNode.removeChild(T.nextSibling):(b=v.nextSibling.firstChild,b.innerHTML="")}b===null&&(b=v.parentNode.insertBefore(document.createElement("tr"),v.nextSibling).appendChild(document.createElement("td")),b.parentNode.className="view-table-cell-details-row",b.className="view-cell-details-content",b.colSpan=1e3),e.classList.add("details-expanded"),t.view.render(b,h||uj,r,s)}})),g&&!a&&!p&&(a="struct"),a)return t.view.render(e,a,r,s);fj(e,r,p)},{tag:"td"})}var r2={demo:{view:"tabs",name:"tabs",tabs:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}],content:{view:"switch",content:[{when:'#.tabs="one"',content:'text:"One"'},{when:'#.tabs="two"',content:'text:"Two"'},{when:'#.tabs="three"',content:'text:"Three"'}]}},examples:[{title:"With before and after content",demo:{view:"tabs",name:"example",tabs:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}],beforeTabs:'text:"<Content before tabs>"',afterTabs:'text:"<Content after tabs>"',content:'text:"Selected: " + #.example'}},{title:"On change handler",demo:{view:"tabs",name:"example",tabs:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}],onChange:new Function('return (value) => alert("changed to " + value)')(),content:'text:"Selected: " + #.example'}}]};function o2(t){t.view.define("tabs",function(e,n,r,s){async function a(D){let B=L?m:p;if(A===D)return;let z=f||g||h?{...s,[x]:D}:null;A=D,L=!0,Array.isArray(v)&&(w.innerHTML="",f&&(T.innerHTML="",await t.view.render(T,f,r,z),w.appendChild(T)),await Promise.all(v.map(I=>t.view.render(w,t.view.composeConfig(I,{active:I.value===A}),r,s))),g&&(M.innerHTML="",await t.view.render(M,g,r,z),w.appendChild(M))),h&&(b.innerHTML="",await t.view.render(b,h,r,z)),typeof B=="function"&&B(A,x,r,s)}let{content:h,beforeTabs:f,afterTabs:g,onInit:p,onChange:m}=n,{name:x,tabs:v,tabConfig:C}=n,w=e.appendChild(document.createElement("div")),b=null,T=null,M=null,L=!1,A=NaN,E="value"in n?n.value:x in s?s[x]:void 0;return v=t.query(v,r,s),C=t.view.composeConfig({view:"tab",onClick:a},C),w.className="view-tabs-buttons",f&&(T=document.createElement("div"),T.className="view-tabs-buttons-before"),g&&(M=document.createElement("div"),M.className="view-tabs-buttons-after"),h&&(b=e.appendChild(document.createElement("div")),b.className="view-tabs-content"),typeof x!="string"&&(x="filter"),Array.isArray(v)?v=v.map(D=>{let B=typeof D;return(B==="string"||B==="number"||B==="boolean")&&(D={value:D}),(E===void 0||D.active)&&(E=D.value),t.view.composeConfig(C,D)}):v=[],a(E)},{usage:r2})}var yg=()=>alert("clicked!"),s2={demo:{view:"tabs",name:"tabs",tabs:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}],content:{view:"switch",content:[{when:'#.tabs="one"',content:'text:"One"'},{when:'#.tabs="two"',content:'text:"Two"'},{when:'#.tabs="three"',content:'text:"Three"'}]}},examples:[{title:"Active & disabled tab",demo:{view:"tabs",name:"tabs",tabs:[{value:"one",text:"One"},{value:"two",text:"Two",active:!0},{value:"three",text:"Three",disabled:!0}],content:{view:"switch",content:[{when:'#.tabs="one"',content:'text:"One"'},{when:'#.tabs="two"',content:'text:"Two"'},{when:'#.tabs="three"',content:'text:"Three"'}]}}},{title:"On click handler",demo:{view:"tabs",name:"tabs",tabs:[{value:"one",text:"One",onClick:yg},{value:"two",text:"Two",onClick:yg},{value:"three",text:"Three",onClick:yg}],content:{view:"switch",content:[{when:'#.tabs="one"',content:'text:"One"'},{when:'#.tabs="two"',content:'text:"Two"'},{when:'#.tabs="three"',content:'text:"Three"'}]}}}]};function a2(t){t.view.define("tab",function(e,n,r,s){let{content:a,active:h=!1,disabled:f=!1,onClick:g,value:p,text:m=String(p).replace(/^./,x=>x.toUpperCase())}=n;if(t.query(f,r,s)?e.classList.add("disabled"):typeof g=="function"&&(e.addEventListener("click",()=>g(p)),e.classList.add("onclick")),h&&e.classList.add("active"),a)return t.view.render(e,a,r,s);e.textContent=m},{usage:s2})}var l2={demo:{view:"text",data:'"Hello world!"'},examples:[{title:"Shorthand usage",view:'text:"Hello world!"'}]};function c2(t){t.view.define("text",function(e,n,r){e.appendChild(document.createTextNode(String(r)))},{tag:!1,usage:l2})}var xg={};tt(xg,{has:()=>dj,matchAll:()=>vg});var{toString:f2}=Object.prototype,u2=(t,e,n)=>{let r=t.slice(n).search(e);return r!==-1?{offset:n+r,length:RegExp.lastMatch.length}:null},h2=(t,e,n)=>{let r=t.indexOf(e,n);return r!==-1?{offset:r,length:e.length}:null};function dj(t,e,n){return f2.call(e)==="[object RegExp]"?n&&!e.ignoreCase?new RegExp(e,e.flags+"i").test(t):e.test(t):typeof e=="string"?n?String(t).toLowerCase().indexOf(e.toLowerCase()):String(t).indexOf(e)!==-1:!1}function vg(t,e,n,r,s){let a=f2.call(e)==="[object RegExp]"?u2:typeof e=="string"?h2:null,h=String(t);if(s)switch(a){case u2:e.ignoreCase||(e=new RegExp(e,e.flags+"i"));break;case h2:h=h.toLowerCase(),e=e.toLowerCase();break}if(a===null){n(t);return}let f=0;do{let g=a(h,e,f);if(g===null||g.length===0&&g.offset===f){n(f>0?t.slice(f):t);break}g.length!==0&&(g.offset!==f&&n(t.slice(f,g.offset)),r(t.substr(g.offset,g.length))),f=g.offset+g.length}while(f!==t.length)}var d2={demo:{view:"text-match",data:{text:"I am matched text or a text with matches!",match:/match/}},examples:[{title:"Raw string as match",demo:{view:"text-match",data:{text:"I am matched text or a text with matches!",match:"match"}}},{title:"Using with a link",demo:{view:"link",data:{href:"#"},content:'text-match:{ text: "Test link", match: /\\w+/i }'}},{title:"Various configurations",demo:{view:"table",cols:[{header:"text-match",content:"text-match"},{header:"Config",content:"struct"}],data:[null,{},{},{match:"test"},{match:"Test"},{match:"test",ignoreCase:!0},{match:"Test",ignoreCase:!0},{match:/test/},{match:/test/g},{match:/test/i},{match:/test/,ignoreCase:!0},{match:/test/g,ignoreCase:!0}].map((t,e)=>e>1?{text:"test Test",...t}:t)}}]};var pj=je("span","view-text-match");function p2(t){t.view.define("text-match",function(e,n,r){let{text:s,match:a,ignoreCase:h=!1}=r||{};vg(String(s),a,f=>e.appendChild(yn(f)),f=>e.appendChild(pj.cloneNode()).appendChild(yn(f)),h)},{tag:!1,usage:d2})}var g2={demo:{view:"text-numeric",data:'"Like a `text` view but adds a thousands separator to integer part of numbers, e.g. 12345678 or 12345.67890"'},examples:[{title:"Shorthand usage",view:"text-numeric:1234567"}]};function m2(t){t.view.define("text-numeric",function(e,n,r){e.innerHTML=$n(r)},{tag:"span",usage:g2})}function y2(t){t.view.define("toc-section",function(e,n,r,s){let{header:a,content:h}=n;return t.view.render(e,[{view:"block",className:"header",content:a},{view:"block",className:"content",content:h}],r,s)},{tag:"section"})}var Fu={demo:{view:"context",modifiers:{view:"toggle-group",name:"toggleValue",data:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}]},content:{view:"switch",content:[{when:'#.toggleValue="one"',content:'text:"One"'},{when:'#.toggleValue="two"',content:'text:"Two"'},{when:'#.toggleValue="three"',content:'text:"Three"'}]}},examples:[{title:"With before and after content",demo:{view:"toggle-group",data:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}],beforeToggles:'text:"<Content before toggles>"',afterToggles:'text:"<Content after toggles>"'}},{title:"On change handler",demo:{view:"toggle-group",name:"example",onChange:new Function('return (value) => alert("changed to " + value)')(),data:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}]}}]};function v2(t){t.view.define("toggle",function(e,n,r,s){let{content:a,disabled:h=!1,onToggle:f,value:g,text:p=String(g).replace(/^./,x=>x.toUpperCase())}=n,{checked:m=!1}=n;if(h?e.classList.add("disabled"):typeof f=="function"&&(e.addEventListener("click",()=>{m=!m,f(m,g)}),e.classList.add("onclick")),m&&e.classList.add("checked"),a)return t.view.render(e,a,r,s);e.textContent=p},{usage:Fu})}function x2(t){t.view.define("toggle-group",function(e,n,r,s){async function a(L,A){let E=b?p:g;T!==A&&(T=A,b=!0,Array.isArray(v)&&(e.innerHTML="",h&&(C.innerHTML="",await t.view.render(C,h,r,{...s,[m]:A}),e.appendChild(C)),f&&(w.innerHTML="",await t.view.render(w,f,r,{...s,[m]:A}),e.appendChild(w)),await Promise.all(v.map((D,B)=>t.view.render(e,t.view.composeConfig(D,{checked:D.value===T}),r[B],s)))),typeof E=="function"&&E(T,m,r,s))}let{beforeToggles:h,afterToggles:f,onInit:g,onChange:p}=n,{name:m,toggleConfig:x}=n,v=[],C=null,w=null,b=!1,T=NaN,M="value"in n?n.value:m in s?s[m]:void 0;return x=t.view.composeConfig({view:"toggle",onToggle:a},x),h&&(C=document.createElement("div"),C.className="view-toggle-group-before"),f&&(w=document.createElement("div"),w.className="view-toggle-group-after"),typeof m!="string"&&(m="filter"),Array.isArray(r)&&(v=r.map(L=>{let A=typeof L;return(A==="string"||A==="number"||A==="boolean")&&(L={value:L}),(M===void 0||L.active)&&(M=L.value),t.view.composeConfig(x,L)})),a(!0,M)},{usage:Fu})}var gj=()=>alert("toggled!"),b2=([t,...e],n="")=>{let r=[];for(let s=0;s<t;s++){let a=n+"."+(s+1);r.push({title:a,children:e.length?b2(e,a):null})}return r},w2={demo:{view:"tree",item:"text:text",data:{text:"Root",children:[{text:"Child"},{text:"Another child",children:[{text:"Lvl 2 child"},{text:"Lvl 2 child"}]}]}},examples:[{title:"Expanded tree",demo:{view:"tree",item:"text:text",expanded:999,data:{text:"Root",children:[{text:"Child"},{text:"Another child",children:[{text:"Lvl 2 child"},{text:"Lvl 2 child"}]}]}}},{title:"With empty text",demo:{view:"tree",emptyText:"This tree is empty",data:null}},{title:"With toggle handler",demo:{view:"tree",item:"text:text",onToggle:gj,data:{text:"Root",children:[{text:"Child"},{text:"Another child",children:[{text:"Lvl 2 child"},{text:"Lvl 2 child"}]}]}}},{title:"limitLines",demo:{view:"tree",item:"text:title",limitLines:7,data:b2([5,3,3])}}]};function k2(t){function e(r,s,a,h,f,g){return g===!1&&(g=a.length),r.classList.add("incomplete"),a.slice(f,f+g).reduce((p,m)=>p.then(()=>{let{container:x,itemConfig:v}=s;return t.view.render(x,t.view.composeConfig(v,{expanded:m.expanded,last:m.last,hasChildren:m.hasChildren,children:m.children}),m.data,h).then(()=>{if(m.expanded&&m.hasChildren){let C=x.lastChild.querySelector(".view-tree-leaf-children");C.classList.add("incomplete"),s={container:C,itemConfig:t.view.composeConfig(v,v.itemConfig),prev:s}}else for(;m.shift--;)s.container.classList.remove("incomplete"),s=s.prev})}),Promise.resolve()).then(()=>t.view.maybeMoreButtons(r,null,a.length,f+g,g,(p,m)=>e(r,s,a,h,p,m))||r.classList.remove("incomplete"))}function n(r,s,a,h){function f(m,x,v,C=0){m.forEach((w,b,T)=>{let M=t.query(v.children,w,s),L=Array.isArray(M)&&M.length>0,A=b===T.length-1,E=p.has(w)?0:typeof x=="function"?x(w,s):x;p.add(w),g.push({data:w,expanded:E,last:A,hasChildren:L,children:E?null:v.children,shift:A&&(!E||!L)?C+1:0}),L&&E&&f(M,typeof x=="number"?x-1:x,t.view.composeConfig(v,v.itemConfig),A?C+1:0)})}let g=[],p=new Set;return f(r,h,a),g}t.view.define("tree",function(s,a,h,f){let{children:g="children",item:p="text",itemConfig:m,collapsible:x,emptyText:v,onToggle:C}=a,{expanded:w,limit:b,limitLines:T=!0}=a;if(v!==!1&&v!==""&&s.setAttribute("emptyText",v||"Empty tree"),!Array.isArray(h)&&h&&(h=[h]),Array.isArray(h)){if(b=t.view.listLimit(b,25),T=t.view.listLimit(T,25),w=typeof w=="function"?w:t.view.listLimit(w,1),T){let M=n(h,f,this.composeConfig({children:g},m),w),L={container:s,itemConfig:this.composeConfig({view:"tree-leaf",itemConfig:m,content:p,collapsible:x,onToggle:C},m)};return e(s,L,M,f,0,T)}return this.renderList(s,this.composeConfig({view:"tree-leaf",itemConfig:m,content:p,collapsible:x,expanded:w,children:g,limit:b,onToggle:C},m),h,f,0,b)}},{tag:"ul",usage:w2})}function S2(t){let e=new WeakMap,n=({target:r})=>{let s=r.closest(".view-tree-leaf-toggle");if(s){let a=e.get(s),h=!s.parentNode.classList.toggle("collapsed");typeof a.render=="function"&&a.render(),typeof a.onToggle=="function"&&a.onToggle(h,s.parentNode,a.data,a.context)}};t.addHostElEventListener("click",n,!1),t.view.define("tree-leaf",async function(r,s,a,h){let{expanded:f,content:g="text",itemConfig:p,collapsible:m=!0,last:x,hasChildren:v,children:C,limit:w,onToggle:b}=s,T=r.appendChild(je("span","view-tree-leaf-toggle")),M=r.appendChild(je("span","view-tree-leaf-content")),L=null,A=v;if(x&&r.classList.add("last"),m||r.classList.add("non-collapsible"),await this.render(M,g,a,h),C&&(L=t.query(C,a,h),A=Array.isArray(L)&&L.length>0),A){let E=r.appendChild(je("ul","view-tree-leaf-children")),D={data:a,context:h,onToggle:b,render:null},B=(z,I)=>{typeof I=="number"&&I--,this.renderList(E,this.composeConfig({view:"tree-leaf",expanded:I,itemConfig:p,content:g,collapsible:m,children:C,limit:w,onToggle:b},p),z,h,0,this.listLimit(w,25))};r.classList.add("has-children"),e.set(T,D),(typeof f=="function"?f(a,h):f)?L&&await B(L,f):(r.classList.add("collapsed"),L&&(D.render=()=>{D.render=null,B(L,f||1)}))}},{tag:"li"})}var Xl={};tt(Xl,{default:()=>C2,notFound:()=>T2,report:()=>F2,viewsShowcase:()=>_2});function C2(t){t.page.define("default",{view:"switch",content:[{when:"not #.dataLoaded",content:[{view:"h1",className:"no-data-loaded",content:'text:"Discovery.js"'},{view:"markdown",when:"#.meta.description",source:"=#.meta.description"},'html:"<br>"',"preset/upload"]},{content:['page-header{ content: "h1:#.name" }',{view:"struct",expanded:1}]}]})}function T2(t){t.page.define("not-found",['alert-warning:"Page `" + name + "` not found"'])}var Hu={};tt(Hu,{decode:()=>Yl,encode:()=>$l});var po=[],Vl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),_u=Vl.reduce(function(t,e,n){return t[e]=n,t},{});for(Gl=0;Gl<255;Gl++)po[Gl]=String.fromCharCode(Gl);var Gl;function mj(t){let e="";for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e+=po[r]:r<2048?e+=po[r>>6|192]+po[r&63|128]:e+=po[r>>12|224]+po[r>>6&63|128]+po[r&63|128]}return e}function yj(t){t=mj(t);let e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}function vj(t){let e="";for(let n=0;n<t.length;){let r=t.charCodeAt(n++);if(r<128)e+=String.fromCharCode(r);else{let s=t.charCodeAt(n++);if(r&32){let a=t.charCodeAt(n++);e+=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}else e+=String.fromCharCode((r&31)<<6|s&63)}}return e}function xj(t){return vj(t.map(function(e){return po[e]}).join(""))}function $l(t){let e="";Array.isArray(t)||(t=yj(t));for(let n=0;n<t.length;){let r=t[n++],s=t[n++],a=t[n++],h=r>>2,f=(r&3)<<4|s>>4,g=(s&15)<<2|a>>6,p=a&63;s==null?g=p=64:a==null&&(p=64),e+=Vl[h]+Vl[f]+Vl[g]+Vl[p]}return e}function Yl(t){let e=[],n,r,s,a;t=t.replace(/[^a-zA-Z0-9\+\/]/g,"");for(let h=0;h<t.length;){n=_u[t.charAt(h++)],r=_u[t.charAt(h++)],s=_u[t.charAt(h++)],a=_u[t.charAt(h++)];let f=n<<2|r>>4,g=(r&15)<<4|s>>2,p=(s&3)<<6|a;e.push(f,g,p)}return(s==null||s==64)&&e.pop(),(a==null||a==64)&&e.pop(),xj(e)}function L2(t,e){return typeof t=="string"?t:e||""}var M2=["query","view","title","dzen","noedit"],bj=["q","v","title","dzen","noedit"];function E2(t){let{query:e,view:n,title:r,dzen:s,noedit:a,...h}=typeof t=="string"?{query:t}:t,f=[];return s&&f.push(["dzen"]),a&&f.push(["noedit"]),r&&f.push(["title",r]),e&&f.push(["q",$l(e)]),typeof n=="string"&&f.push(n?["v",$l(n)]:["v"]),Object.keys(h||{}).sort().forEach(g=>{M2.includes(g)||f.push([g,g.endsWith("-b64")&&typeof h[g]=="string"?$l(h[g]):h[g]])}),f}function P2(t){let e=Object.fromEntries(t),n={title:e.title||"",query:Yl(L2(e.q,"")),view:"v"in e?Yl(L2(e.v,"")):void 0,dzen:"dzen"in e,noedit:"noedit"in e};return Object.keys(e).forEach(r=>{bj.includes(r)||(n[r]=r.endsWith("-b64")&&typeof e[r]=="string"?Yl(e[r]):e[r])}),n}function wj(t){return Object.fromEntries(Object.entries(t).filter(([e])=>!M2.includes(e)))}function A2(t,e,n){for(let r of Object.keys(t))if(r!==n&&t[r]!==e[r])return!1;for(let r of Object.keys(e))if(r!==n&&t[r]!==e[r])return!1;return!0}function Wu(t,e={}){let n={...t,params:wj(t.params)};return!A2(e,n,"params")||!A2(e.params,n.params)?n:e}function kj(t){let e=h=>h.replace(/\\/g,"\\\\").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/'/g,"\\'"),{title:n,query:r,view:s}=t,a={title:n,query:r,view:s};return`{
${Object.keys(a).reduce((h,f)=>h.concat(a[f]?`    ${f}: '${e(a[f])}'`:[]),[]).join(`,
`)}
}`}function Sj(t){if(t&&(typeof t=="number"||typeof t=="string")){let e=new Date(t);return isNaN(e)?null:e}return t instanceof Date?t:null}function O2(t){let e=Sj(t);return e?e.toISOString().replace(/^(\d{4})-(\d{2})-(\d{2})T([\d:]+).*/,"$3/$2/$1 $4"):null}function N2(t,e){let n,r,s,a,h=new t.view.Popup({render:(m,x,v)=>t.view.render(m,{view:"menu",data:[{text:"Copy link to report",action:()=>Rn(location)},{text:"Copy report as JSON",action:()=>Rn(kj(t.pageParams))}],onClick(C){v(),C.action()}})}),f=je("div","report-actions",[a=je("button",{class:"edit-mode discovery-hidden-in-dzen",title:"Toggle edit mode",onclick:({target:m})=>{m.blur(),e({noedit:!t.pageParams.noedit})}}),je("button",{class:"share",title:"Share ...",onclick:({target:m})=>{m.blur(),h.show(m)}}),je("button",{class:"toggle-fullscreen",title:"Toggle full page mode",onclick:({target:m})=>{m.blur(),e({dzen:!t.pageParams.dzen})}})]),g=m=>{m.parentNode.dataset.title=m.value||m.placeholder},p=je("div","report-header",[je("div",{class:"report-header-text","data-title":"\xA0"},[n=je("input",{class:"discovery-hidden-in-dzen",placeholder:"Untitled report",oninput:({target:m})=>{g(m)},onchange:({target:m})=>{g(m),e({title:m.value},!0)},onkeypress:m=>{(m.charCode===13||m.keyCode===13)&&m.target.blur()}}),je("span","timestamp",[r=je("span",null,"&nbsp;"),s=je("span")])])]);return{el:[f,p],render(m,x){let{title:v,noedit:C}=x.params,w=O2(x.createdAt);n.value=v,g(n),a.classList.toggle("disabled",C),r.innerText=w?"Data collected at "+w+" | ":"",s.innerText="Rendered at "+O2(new Date)}}}function D2(t,e,n){return t.length?`${t.length} ${t.length===1?e:n}`:"empty"}function Cj(t){return Array.isArray(t)?`Array (${D2(t,"element","elements")})`:t&&typeof t=="object"?`Object (${D2(Object.keys(t),"key","keys")})`:`Scalar (${t===null?"null":typeof t})`}function I2(t,e){let n=!1,r={},s,a=(v,C)=>t.querySuggestions(v,C,t.data,t.context),h=new t.view.QueryEditor(a).on("change",v=>s.checked&&e({query:v},!0)),f=t.getQueryEngineInfo(),g=je("div","buttons"),p=je("div","data-query-result"),m=je("div","form query-editor-form",[je("div","query-editor",[h.el,je("div","editor-toolbar",[je("span","syntax-hint",`Use <a class="view-link" href="${f.link}" target="_blank">${f.name}</a> ${f.version||""} syntax for queries`),je("label","view-checkbox",[s=je("input",{class:"live-update",type:"checkbox",checked:!0,onchange:v=>{v.target.checked&&e({query:h.getValue()},!0)}}),je("span","view-checkbox__label","process on input")]),g])]),p]);t.view.render(g,{view:"button-primary",content:'text:"Process"',onClick:()=>{r={},e({query:h.getValue()},!0),t.scheduleRender("page")}});let x;return{el:m,perform(v,C){let w=Wu(C,r.context),b=C.params.query,T,M;if(h.setValue(b),r.query===b&&r.data===v&&r.context===w)M=r.results;else{x&&(x.clear(),x=null);try{T=Date.now(),M=t.query(b,v,w),T=Date.now()-T}catch(L){let A=L.details&&L.details.loc,E=h.cm.doc;if(A){let[D,B]=L.details.loc.range;x=L.details.token==="EOF"||D===B||b[D]===`
`?E.setBookmark(E.posFromIndex(D),{widget:je("span","discovery-editor-error"," ")}):E.markText(E.posFromIndex(D),E.posFromIndex(B),{className:"discovery-editor-error"})}return r={},p.innerHTML='<div class="report-error query-error">'+gi(L.message)+"</div>",{error:L}}r={data:v,context:w,query:b,results:M},p.innerHTML="",t.view.render(p,{view:"expand",header:`text:"${Cj(M)} in ${parseInt(T,10)}ms"`,expanded:n,onToggle:L=>n=L,content:{view:"struct",expanded:1}},M)}return{data:M}}}}function qu(t){return Boolean(t&&t.nodeType===Node.TEXT_NODE)}function bg(t,e=`
`){let n="";for(let r of t.childNodes)!qu(r)&&r.previousSibling&&!qu(r.previousSibling)&&(n+=e),n+=Tj(r,e);return n}function Tj(t,e=`
`){switch(t.nodeType){case Node.ELEMENT_NODE:let[n,r=""]=t.cloneNode().outerHTML.split(/(?=<\/[^>]+>$)/);return n+(t.firstChild&&!qu(t.firstChild)?e+"  ":"")+bg(t,e+"  ")+(t.lastChild&&!qu(t.lastChild)?e:"")+r;case Node.TEXT_NODE:return t.nodeValue;case Node.COMMENT_NODE:return"<!--"+t.nodeValue+"-->";case Node.DOCUMENT_FRAGMENT_NODE:return bg(t,e)}return""}function R2(t,e){let n=[],r=[...Array.isArray(t.highlight)?t.highlight:t.highlight?[t.highlight]:[]];Array.isArray(t.highlightProps)&&r.push(`(")?(?:${t.highlightProps.join("|")})\\1(?=:)`);for(let s of r){let a=new RegExp(s,"gm"),h;for(;h=a.exec(e);)n.push({range:[h.index,h.index+h[0].length]})}return n}function Uu(t){let e={view:"context",modifiers:[{view:"switch",when:"beforeDemo",content:[{when:({beforeDemo:n})=>typeof n=="string",content:'html:"<p>" + beforeDemo + "</p>"'},{content:{view:"render",config:"beforeDemo",context:"{ __demoContext: true, ...(#.viewDef | { name, group, options }) }"}}]},{view:"block",when:"demo or view",className:"usage-render",postRender:(n,{onInit:r},{demoFixed:s})=>{s&&(n.classList.add("demo-fixed"),n.style.height=s+"px"),r(n,"root")},content:{view:"render",config:"demo or view",data:"demoData",context:"{ __demoContext: true, ...(#.viewDef | { name, group, options }) }"}},{view:"switch",when:"afterDemo",content:[{when:({afterDemo:n})=>typeof n=="string",content:'html:"<p>" + afterDemo + "</p>"'},{content:{view:"render",config:"afterDemo",context:"{ __demoContext: true, ...(#.viewDef | { name, group, options }) }"}}]}],content:{view:"tabs",when:"source != false",className:"usage-sources",name:"code",tabs:[{value:"config",text:"Config (JS)"},{value:"config-json",text:"Config (JSON)"},{value:"html",text:"Rendered HTML"}],content:{view:"switch",content:[{when:'#.code="config"',content:[{view:"expand",when:'"demoData" in $',header:'text:"Input data"',content:{view:"struct",expanded:2,data:"demoData"}},{view:"source",className:"first-tab",data:n=>{let r=fo(n.demo||n.view);return{syntax:"discovery-view",content:r,refs:R2(n,r)}}}]},{when:'#.code="config-json"',content:[{view:"expand",when:'"demoData" in $',header:'text:"Input data"',content:{view:"struct",expanded:2,data:"demoData"}},{view:"source",data:n=>{let r=JSON.stringify(n.demo||n.view,null,4);return{syntax:"json",content:r,refs:R2(n,r)}}}]},{when:'#.code="html"',content:{view:"source",data:(n,r)=>({syntax:"html",content:bg(r.root)})}}]}}};return{view:"block",className:"discovery-view-usage",data({name:n,options:r},s){let a=[...t.view.values].filter(h=>h.options.usage===r.usage).map(h=>h.name);return a.includes(n)||a.unshift(n),s.viewDef={demo:{view:n,data:'"'+n+'"'},...typeof r.usage=="function"?r.usage(n,a):Array.isArray(r.usage)?{examples:r.usage}:r.usage,name:n,group:a,options:r}},content:["h1:name",e,{view:"list",data:"examples",itemConfig:{className:"usage-section"},item:["h2{ anchor: true, data: title }",e]}]}}var j2=`{
    view: 'struct',
    expanded: 1
}`,z2=[{name:"Table",content:fo({view:"table"})},{name:"Auto-link list",content:fo({view:"ol",item:"auto-link"})},{name:"Signature",content:fo({view:"signature",expanded:2})}];function Lj(t,e,n){return je("div",{class:"report-editor-tab",onclick:()=>n({view:e})},t||"Untitled preset")}function B2(t,e){let n={},r=Array.isArray(t.options.viewPresets)?z2.concat(t.options.viewPresets):z2,s,a,h,f,g,p,m=new t.view.ViewEditor(t).on("change",w=>p.checked&&e({view:w},!0)),x=je("div","buttons"),v=je("div","form view-editor-form",[je("div","view-editor-form-header",[je("div","report-editor-tabs view-mode",g=["Default","Custom"].map(w=>je("div",{class:"report-editor-tab","data-mode":w.toLowerCase(),onclick:()=>e({view:w==="Default"?void 0:j2},!0)},w))),je("div","report-editor-tabs presets",r.map(({name:w,content:b})=>Lj(w,b,e))),je("div","view-editor-form-header-links",'<a href="#views-showcase" class="view-link">Views showcase</a>')]),s=je("div",{class:"view-editor-form-content",hidden:!0},[je("button",{class:"view-button formatting",title:"Prettify (input should be a JSON)",onclick(){m.focus();try{let w=m.getValue().trim(),b=new Function("return 0,"+w)();e({view:fo(b)})}catch(w){console.error("[Discovery] Prettify failed",w)}}}),m.el,je("div","editor-toolbar",[a=je("div","view-expand",[je("div",{class:"header",onclick:()=>{a.classList.toggle("expanded"),f.classList.toggle("visible")}},[h=je("div","header-content"),je("div","trigger")]),f=je("div","view-editor-view-list")]),je("label","view-checkbox",[p=je("input",{class:"live-update",type:"checkbox",checked:!0,onchange:w=>{w.target.checked&&e({view:m.getValue()},!0)}}),je("span","view-checkbox__label","build on input")]),x])])]);t.view.render(x,{view:"button-primary",content:'text:"Build"',onClick:()=>{n={},e({view:m.getValue()},!0),t.scheduleRender("page")}}),new t.view.Popup({className:"view-editor-view-list-hint",hoverTriggers:".view-editor-view-list .item.with-usage",render:function(w,b){t.view.render(w,Uu(t),t.view.get(b.textContent),{})}}),h.textContent=`Available ${[...t.view.entries].filter(([,w])=>w.options.usage).length} views`;let C=()=>f.innerHTML='<a href="#views-showcase" class="view-link">Views showcase</a><br><br>'+[...t.view.entries].sort().map(([w,b])=>`<div><a class="item view-link${b.options.usage?" with-usage":""}" ${b.options.usage?'href="#views-showcase:'+w+'"':""}>${w}</a></div>`).join("");return C(),t.view.on("define",qr(C,100)),{el:v,render(w,b,T){let M=Wu(b,n.context),L=typeof b.params.view=="string"?"custom":"default",A=b.params.view,E=null;if(m.setValue(A),s.hidden=L!=="custom",g.forEach(D=>D.classList.toggle("active",D.dataset.mode===L)),!A&&L==="default"&&(A=j2),n.view!==A||n.data!==w||n.context!==M){T.innerHTML="";try{E=Function("return "+(A?"0,"+A:"null"))(),t.view.render(T,E,w,M)}catch(D){t.view.render(T,B=>{B.className="report-error render-error",B.innerHTML=gi(String(D))+"<br>(see details in console)",console.error(D)})}n={data:w,context:M,view:A}}}}}function F2(t){function e(s,a){return t.setPageParams({...t.pageParams,...s},a)}function n(){if(r!==null)return r;let s=N2(t,e),a=I2(t,e),h=B2(t,e),f=je("div",{class:"report-editor discovery-hidden-in-dzen",hidden:!0},[a.el,h.el]),g=je("div","report-content"),p=[...s.el,f,g];return r={header:s,queryEditor:a,viewEditor:h,reportEditorEl:f,reportContentEl:g,layout:p}}let r=null;t.page.define("report",function(s,a,h){let{header:f,queryEditor:g,viewEditor:p,reportEditorEl:m,reportContentEl:x}=n();m.hidden=h.params.noedit,f.render(a,h);let v=g.perform(a,h);if(v.error){p.el.hidden=!0,x.hidden=!0;return}p.el.hidden=!1,x.hidden=!1,p.render(v.data,h,x)},{reuseEl:!0,init(s){n().layout.forEach(a=>s.appendChild(a))},encodeParams:E2,decodeParams:P2})}var Aj=`
## Working with views

A presentation in Discovery.js is setting up as a tree of views.
There are several ways to define a view, some may be more convenient in one case, others in another.
The main notation is an object, all other notations are converted to it.
The only required property is \`view\` which defines a view name, any other properties are optional:

\`\`\`discovery-view
{
    view: "view-name"
}
\`\`\`

The following properties are supported by any view:

- \`when\` \u2013 control view rendering (should it be rendered or not) before an input data is transformed (\`data\` is applied)
- \`data\` \u2013 transform input data for the view and its nested views
- \`whenData\` \u2013 control view rendering after an input data is transformed
- \`className\` \u2013 add class name(s) to the root element of view if any
- \`postRender\` - a function which should be invoked after view rendering but before placing to destination place in DOM
- \`tooltip\` \u2013 setup a tooltip to show on view hovering, can be applied for views with a container only

The order of evaluation during a view render:

\`\`\`js
                          input data | output data (the result of "data" evaluation if any)
                                     |
render start ---> [when] --> [data] -|-> [whenData] --> [postRender] --> [className] --> render finish
                                     |
\`\`\`

When \`data\` property is specified, it changes flow's data according the following rules:

- a string \u2013 treated as a query which result is used as the output data
- a function like \`fn(data, context)\` \u2013 the result of the function invocation is used as the output data
- any other value used as the output data

> Note: Only \`when\` and \`data\` properties get an input data, any other functions and queries receive
a result of \`data\` property evalution. When \`data\` is not specified all the queries and functions
receive the same input data.

Properties \`when\` and \`whenData\` can take:

- a string \u2013 treated as a query
- \`true\` \u2013 treated as a empty query which mean that the data itself is examinated with no any transformation
- \`undefined\` \u2013 same when not specified, just render (ignore the property)
- a function like \`fn(data, context)\`
- any other value used as is

Regardless of how the value is obtained, it is coerce to a boolean.
Plase note, that Jora rules are used which mean that empty arrays and object with no own keys are falsy (truthy in JavaScript).
The view is only rendered if the resulting value is truthy.

## Queries for properties

In some cases, it is necessary to compute the value of a property based on the data.
To do this, you can use a string value for a property that starts with \`=\`.
This will mean that everything after the \`=\` is a query which will take output data and produce a value for the property.
Other values are passed to the view render as is, without any changes.

In the following, limit number of items rendered at once only if there are more than 12 items:

\`\`\`discovery-view
{
    view: 'list',
    limit: '=size() <= 12 and 10'  // the same as '=size() <= 12 ? false : 10'
}
\`\`\`

> Note: In those rare cases when you need to pass to a property a string that starts with \`=\`,
you can use a query like \`="=some string"\`,<br>e.g. \`{ view: 'example', prop: '="=string="' }\`

## Shorthand notations

| Shorhand notation | Expands into ... |
| --- | --- |
| \`'name'\` | \`{ view: 'name' }\`
| \`'name:<query>'\` | \`{ view: 'name', data: '<query>' }\`
| \`'name{ foo: size() / 2, bar: "qux" }'\` | \`{ view: 'name', foo: '=size() / 2', bar: 'qux' }\`

## List of views

If you need to specify a list of views, then you must use an array.
An array with view definitions can be passed anywhere a view is accepted as a value.

\`\`\`discovery-view
[
    {
        view: 'list',
        item: [
            'text:name',
            { view: 'badge', data: 'something.size()' }
        ]
    },
    'table{ limit: 10 }'
]
\`\`\`

## Tooltip

A canonical form for a toolup setup is an object with fields (all are optional):

\`\`\`js
{
    className: 'string',
    position: 'trigger', // 'trigger' or 'pointer' (default)
    content: 'a view setup'
}
\`\`\`

Instead of such object, any view notation can be used, i.e. a string, an object with \`view\` property, an array or a function:

| Shorhand notation | Expands into ... |
| --- | --- |
| \`'name'\` | \`{ content: 'name' }\`
| \`{ view: 'name' }\` | \`{ content: { view: 'name' } }\`
| \`['view', { view: 'name' }]\` | \`{ content: ['view', { view: 'name' }] }\`

A content is rendering into a popup container. When \`className\` is used it behaves the same as for a view but applies to a popup container.
`;function _2(t){t.page.define("views-showcase",{view:"context",data:()=>[...t.view.values],modifiers:[{view:"block",className:"sidebar",content:{view:"content-filter",content:{view:"menu",name:"view",limit:!1,data:`
                            .[name ~= #.filter]
                            .sort(name asc)
                            .({ ..., disabled: no options.usage })
                        `,item:"text-match:{ text: name, match: #.filter }"}}}],content:{view:"block",className:"content",data:"$[=> name=(#.view.name or #.id)]",content:{view:"switch",content:[{when:"no $ and #.id",content:'alert-warning:"View \\"" + #.id + "\\" not found"'},{when:"no $",content:['h1:"Views showcase"','alert:"\u2190 Select a view to get details"',{view:"markdown",source:Aj}]},{content:[{view:"context",postRender:function(e,n,r,s){t.setPageRef(r.name),t.cancelScheduledRender(),s.id=t.pageRef}},Uu(t)]}]}}},{sidebar:!1})}function Kl(t,e){let n=je("style",null,":host{display:none}"),r=new Set,s=Promise.resolve();return Array.isArray(e)&&(t.append(...e.map(a=>{switch(typeof a=="string"&&(a={type:"style",content:a}),a.type){case"style":case"inline":return je("style",{media:a.media},a.content);case"link":case"external":{let h,f,g=new Promise((m,x)=>{h=m,f=x});return r.add(g),je("link",{rel:"stylesheet",href:a.href,media:a.media,onerror(m){r.delete(g),f(m),r.size||n.remove()},onload(){r.delete(g),h(),r.size||n.remove()}})}default:throw new Error(`Unknown type "${a.type}" for a style descriptor`)}})),r.size&&(s=Promise.all(r),t.append(n))),s}var wg=0,H2=[{view:"badge",when:'view.data != parent.(view or viewRoot).data or "data" in view.config',data:{text:"D"},tooltip:'text:"Data value was changed"'},{view:"badge",when:"view.context != parent.(view or viewRoot).context",data:{text:"C"},tooltip:'text:"Context value was changed"'}];function Mj(t){let e=Dl(t),n=Lr(t,e),r=0,s=0,{scrollTop:a,scrollLeft:h,clientWidth:f,clientHeight:g}=e,p=a+r,m=h+s,x=h+f,v=a+g,C=a+n.top,w=h+n.left,b=w+n.width,T=a,M=h;(C<p||C>v)&&(T=C-r),w<m?M=w-s:b>x&&(M=Math.max(w,h-(b-x))-s),e?.scrollTo(M,T)}function W2(){wg=0}function q2(t,{selectTreeViewLeaf:e,detailsSidebarLeafExpanded:n}){return{view:"tree",when:"#.selectedView",data:"$[0]",className:"sidebar",limitLines:!1,itemConfig:{collapsible:"=not viewRoot",expanded:r=>n.has(r),onToggle:(r,s,a)=>r?n.add(a):n.delete(a)},item:{view:"switch",content:[{when:"viewRoot",content:{view:"block",className:"view-root",content:"text:viewRoot.name"}},{when:"$ = #.selectedView",content:[{view:"block",className:[r=>r.view?.skipped?"skipped":!1,"selected"],content:'text:view.config.view or "#root" | $ + "" = $ ? $ : "\u0192n"',postRender(r){requestAnimationFrame(()=>{t.querySelector(".sidebar").scrollTop=wg,Mj(r)})}},...H2]},{content:[{view:"link",className:r=>r.view?.skipped?"skipped":!1,data:'{ text: view.config.view or "#root" | $ + "" = $ ? $ : "\u0192n", href: false, view, self: $ }',onClick(r,s){wg=t.querySelector(".sidebar")?.scrollTop||0,e(s.self)}},...H2]}]}}}var U2={view:"block",className:["content","props-config"],data:"#.view | view or viewRoot",content:[{view:"block",className:"content-section skip",when:"skipped",content:'block{ content: "badge:{ text: skipped }" }'},{view:"block",className:"content-section render",when:'config | view + "" != view',content:'source:{ content: config.view + "", syntax: "js" }'},{view:"block",when:"props != undefined",className:"content-section props",content:{view:"struct",expanded:2,data:"props"}},{view:"block",className:"content-section config",content:[{view:"struct",expanded:1,data:"config"},{view:"tree",data:(t,e)=>e.host.view.getViewConfigTransitionTree(t.config).deps,whenData:!0,expanded:3,children:"deps",item:{view:"struct",expanded:1,data:"value"}}]}]};function Ej(t){t=t.replace(/^(?:\s*[\n]+)+?([ \t]*)/,"$1").trimRight(),t=t.replace(/\n[ \t]+\n/g,`

`);let e=t.split(/\n+/),n=Number(t.match(/^\s/)===null),r=1e3;for(var s=n;s<e.length;s++){let a=e[s].match(/^\s*/);if(a[0].length<r&&(r=a[0].length),r==0)break}return r>0&&(t=t.replace(new RegExp("(^|\\n) {"+r+"}","g"),"$1")),t}var G2={view:"list",className:"data-flow-transitions",limit:1,when:".[view]",data:`
        [null]    // to show empty list on first render
        + .[view] // filter viewRoot
        .(
            $parent;
            $parentName: parent.view.config.view;
            $queryData: view | inputDataIndex != undefined ? inputData[inputDataIndex] : inputData;

            view | [
                ...'data' in config ? { inputData: $queryData, transition: config.data, name: config.view, view: $, $parent } : [],
                ...inputDataIndex != undefined ? { inputData, transition: \`$[\${inputDataIndex}]\`, name: \`\${$parentName} \u2192 \${config.view}\`, view: $, $parent } : []
            ]
        )
    `,whenData:"size() > 1",itemConfig:{when:!0},item:[{view:"block",className:"root-data",when:"inputData = ..parent.viewRoot[].data",content:'badge:"Root data"'},{view:"struct",data:"inputData"},{view:"block",className:"data-flow-transition",content:[{view:"switch",content:[{when:"$isString: #.isString; transition | $isString() or $ = undefined",content:{view:"context",data(t){return{content:Ej(t.transition),refs:[]}},content:{view:"source",data:`{
                                    ...,
                                    syntax: "jora",
                                    lineNum: false
                                }`}}},{content:{view:"struct",data:"transition"}}]},{view:"block",className:"view-name",content:"text:name"}]}]},V2={view:"block",className:"content-section data",data:"#.view",content:[{view:"context",data:"..parent",content:G2},{view:"context",content:{...G2,limit:!1}},{view:"block",className:"root-data",when:"view or viewRoot | data = ([@] + @..parent).viewRoot[].data",content:'badge:"Root data"'},{view:"struct",expanded:1,data:"view or viewRoot | data"}]};function Pj(t,e){if(t===null)return!0;for(let n of["top","left","width","height"])if(t[n]!==e[n])return!0;return!1}var Gu=t=>{let e=!1,n=null,r=null,s=null,a=null,h,f=new Set,g=new Map,p=new Map,m=je("div","cancel-hint view-alert view-alert-warning"),x=je("div",{class:"discovery-view-inspector-overlay",onclick:()=>M(r&&!s?r:null)},[m]),v=qr(()=>{if(!e||s!==null)return;let B=t.view.getViewTree([E.el]),z=new Set([...p.keys()]);(function O(S,P){for(let k of S){if(!k.node||!k.view&&!k.viewRoot){k.children.length&&O(k.children,P);continue}let d=Lr(k.node,P),N=p.get(k.node)||null;N===null?(N={el:P.appendChild(document.createElement("div")),box:null},N.el.className=k.viewRoot?"overlay view-root":"overlay",p.set(k.node,N),g.set(N.el,k)):z.delete(k.node),Pj(N.box,d)&&(N.el.style.top=`${d.top}px`,N.el.style.left=`${d.left}px`,N.el.style.width=`${d.width}px`,N.el.style.height=`${d.height}px`,N.box=d),k.children.length&&(k.node.nodeType===1&&(N.el.style.overflow=getComputedStyle(k.node).overflow!=="visible"?"hidden":"visible"),O(k.children,N.el))}})(B,x);for(let O of z)p.get(O).el.remove(),p.delete(O);C()},{maxWait:0,wait:50}),C=()=>{let{x:B,y:z}=ho.value;A([...t.dom.container.parentNode.elementsFromPoint(B|0,z|0)||[]].find(I=>g.has(I))||null)},w=B=>{(B.key==="Escape"||B.keyCode===27||B.which===27)&&t.inspectMode.set(!1)},b=()=>{e||(e=!0,document.addEventListener("scroll",v,Vn),document.addEventListener("keydown",w,!0),ho.subscribe(v),h=setInterval(v,500),t.dom.container.append(x),v())},T=()=>{e&&(e=!1,clearInterval(h),document.removeEventListener("scroll",v,Vn),document.removeEventListener("keydown",w,!0),ho.unsubscribe(v),D=!1,delete m.dataset.alt,x.remove(),L())},M=B=>{s=B||null,B?(E.show(),E.freeze(),delete m.dataset.alt):D?t.inspectMode.set(!1):(f.clear(),W2(),L(),v())},L=()=>{n&&n.classList.remove("hovered"),n=null,r=null,s=null,E.hide()},A=B=>{if(B===n)return;if(n!==null&&n.classList.remove("hovered"),n=B,B===null){a=setTimeout(L,100);return}B.classList.add("hovered");let z=g.get(B)||null;if(z===null){r=null;return}r!==null&&z.view===r.view||(r=z,clearTimeout(a),E.show())},E=new t.view.Popup({className:"discovery-inspect-details-popup",position:"pointer",hideIfEventOutside:!1,hideOnResize:!1,render(B){let z=s||r,I=[],O=z;for(;O!==null&&(O.view||O.viewRoot);)O!==z&&s!==null&&f.add(O),I.unshift(O),O=O.parent;t.view.render(B,{view:"context",modifiers:[q2(B,{selectTreeViewLeaf:M,detailsSidebarLeafExpanded:f})],content:{view:"context",data(S,P){return P.isString=k=>typeof k=="string",S},modifiers:{view:"block",className:"toolbar",content:[{view:"toggle-group",className:"stack-view-chain",name:"view",data:".({ value: $ })",value:"=$[-1].value",toggleConfig:{className:[S=>S.value.viewRoot?"view-root":!1,S=>S.value.view&&S.value.view.skipped?"skipped":!1],content:['text:value | viewRoot.name or view.config.view | $ + "" = $ ? $ : "\u0192n"']}},{view:"button",when:s!==null,content:'text:"Close inspector"',onClick(){t.inspectMode.set(!1)}}]},content:[U2,{view:"block",className:["content","data-context"],content:[V2,{view:"block",className:"content-section context",data:"$[-1] | view or viewRoot",content:{view:"struct",expanded:1,data:"context"}}]}]}},I,{selectedView:s,host:t})}});t.actions.startInspect=b,t.actions.stopInspect=T,t.inspectMode.subscribeSync(B=>B?b():T());let D=!1};var Cg={};tt(Cg,{localStorageEntry:()=>Sg,sessionStorageEntry:()=>Nj});function Oj(t){let e="__storage_test__"+Math.random(),n;try{n=window[t]}catch{return null}try{n.setItem(e,e),n.removeItem(e)}catch(r){if(!(r instanceof DOMException&&(r.code===22||r.code===1014||r.name==="QuotaExceededError"||r.name==="NS_ERROR_DOM_QUOTA_REACHED")&&n.length!==0))return null}return n}function $2(t){let e=new Map;return e.storage=Oj(t),e.getOrCreate=n=>e.get(n)||Dj(n,e),e.getOrCreate.available=e.storage!==null,e}var kg=new Map([["session",$2("sessionStorage")],["local",$2("localStorage")]]),Nj=kg.get("session").getOrCreate,Sg=kg.get("local").getOrCreate;addEventListener("storage",t=>{for(let[,e]of kg)e.storage===t.storageArea&&e.has(t.key)&&e.get(t.key).forceSync()});function Dj(t,e){let n=null,r=new sr,s=(h=e.storage.getItem(t))=>{n!==h&&r.emit("change",n=h)},a={get value(){return this.get()},get(){return n},set(h){e.storage&&(e.storage.setItem(t,h),s())},delete(){e.storage&&(e.storage.removeItem(t),s())},forceSync(){return e.storage&&s(),this.get()},on(h,f){return r.on("change",h),f&&h(n),()=>r.off("change",h)},off(h){r.off("change",h)}};return e.set(t,a),a.forceSync(),a}var X2=new Set([!0,!1,"auto","disabled"]),Vu=new Set,$u=matchMedia("(prefers-color-scheme:dark)"),Tg=Sg("discoveryjs:darkmode"),Y2=new Map([["true",!0],["false",!1],["auto","auto"]]),Yu=null;function Ij(){for(let t of Vu)t.mode==="auto"&&t.set("auto")}function K2(t){let e=Y2.has(t)?Y2.get(t):null;if(Yu!==e){Yu=e;for(let n of Vu)n.persistent&&n.mode!=="disabled"&&n.set(e!==null?e:"auto")}}K2(Tg.value);Tg.on(K2);$u.addListener(Ij);function Z2(t,e){return(t==="off"||t==="disable")&&(t="disabled"),t!=="disabled"&&e&&Yu!==null&&(t=Yu),t}function Q2(t){return X2.has(t)||(t="disabled"),t==="auto"?$u.matches:t===!0}function J2(t,e){return Q2(Z2(t,e))}var Xu=class{constructor(e,n){this.persistent=n?Tg:null,this.handlers=[],this.set(Z2(e,n),!0),Vu.add(this)}subscribe(e,n){let r={fn:e};return this.handlers.push(r),n&&r.fn(this.value,this.mode),()=>{let s=this.handlers.indexOf(r);r=null,s!==-1&&this.handlers.splice(s,1)}}destroy(){Vu.delete(this)}set(e,n){let r=this.value,s=this.mode;X2.has(e)||(console.warn('Bad value "'+e+'" for darkmode, fallback to "disabled"'),e="disabled"),this.mode=typeof e=="boolean"?"manual":e,this.value=Q2(e),this.mode!=="disabled"&&(this.persistent&&!n&&this.persistent.set(this.mode==="auto"?"auto":this.value),(this.value!==r||this.mode!==s)&&this.handlers.forEach(({fn:a})=>a(this.value,this.mode)))}toggle(e){switch(this.mode){case"auto":this.set(!$u.matches);break;case"manual":this.set(e&&this.value!==$u.matches?"auto":!this.value);break}}};var Lg={};tt(Lg,{ContentRect:()=>Zl});var Rj=typeof ResizeObserver=="function",Zl=class extends In{constructor(){super(),this.el=null,Rj&&(this.observer=new ResizeObserver(e=>{for(let n of e)this.set(n.contentRect)}))}observe(e){e=e||null,this.observer&&this.el!==e&&(this.el!==null&&this.observer.unobserve(this.el),e!==null&&this.observer.observe(e)),this.el=e}};var Ql={};tt(Ql,{darkmodeToggle:()=>Pg,indexPage:()=>Ag,inspect:()=>Og,loadData:()=>Eg,reportPage:()=>Mg});function Ag(t){t.nav.append({name:"index-page",when:"#.widget | pageId != defaultPageId",data:'{ text: "Index", href: pageLink(#.widget.defaultPageId) }'})}function Mg(t){t.nav.append({name:"report-page",when:"#.widget | pageId != reportPageId",data:'{ text: "Make report", href: pageLink(#.widget.reportPageId) }'})}function Eg(t){t.nav.append({name:"load-data",when:"#.actions.uploadFile and (#.dataLoaded or (#.widget | pageId != defaultPageId))",content:'text:"Open file\u2026"',onClick:"=#.actions.uploadFile"})}function Pg(t){let e=()=>{};t.nav.menu.append({view:"block",className:["toggle-menu-item","dark-mode-switcher"],name:"dark-mode",when:'#.widget | darkmode.mode != "disabled"',postRender:(n,r,s,{widget:a,hide:h})=>{let f;e(),e=a.darkmode.subscribe((g,p)=>{let m=p==="auto"?"auto":g;m!==f&&(n.innerHTML="",f=m,a.view.render(n,{view:"toggle-group",beforeToggles:'text:"Color schema"',onChange:x=>{f=x,a.darkmode.set(x),h()},value:m,data:[{value:!1,text:"Light"},{value:!0,text:"Dark"},{value:"auto",text:"Auto"}]},null,{widget:a}))},!0)}})}function Og(t){t.nav.append({name:"inspect",onClick:()=>t.inspectMode.set(!t.inspectMode.value),postRender(e){e.title="Enable view inspection"}})}function Ng(t,e){let n=[],r=(s,a,h)=>{switch(a){case"after":a=n.findIndex(f=>f.name===h),a===-1?a=n.length:a++;break;case"before":a=n.findIndex(f=>f.name===h),a===-1&&(a=n.length);break;default:(a===void 0||isNaN(a)||!isFinite(a))&&(a=n.length)}n.splice(Math.max(0,Math.min(n.length,a)),0,t.view.composeConfig(e,s))};return Object.assign(n,{insert:r,prepend(s){r(s,0)},append(s){r(s)},before(s,a){r(a,"before",s)},after(s,a){r(a,"after",s)},replace(s,a){let h=n.findIndex(f=>f.name===s);h!==-1?n[h]=a:r(a)},remove(s){let a=n.findIndex(h=>h.name===s);if(a!==-1)return n.splice(a,1)[0]}})}var Ku=class{constructor(e){let n=je("div","powered-by-discoveryjs",["powered by ",je("a",{class:"view-link",href:"https://github.com/discoveryjs/discovery",target:"_blank"},"Discovery.js"),` ${Su}`]);this.host=e,this.popup=null,this.data=null,this.context=null,this.primary=Ng(e,"nav-button"),this.secondary=Ng(e,"nav-button"),this.menu=Ng(e,"menu-item"),this.config=[this.secondary,{view:"nav-button",name:"burger",data:()=>{let r=zo();return this.host.view.render(r,this.menu,this.host.data,{...this.context,hide:()=>this.popup&&this.popup.hide()}).then(()=>[...r.childNodes].filter(s=>s.nodeType===1||s.nodeType===3))},whenData:!0,onClick:(r,s)=>{this.popup||(this.popup=new this.host.view.Popup({className:"discovery-nav-popup"}),this.popup.el.addEventListener("click",({target:a})=>{a.closest("a[href]")&&setTimeout(()=>this.popup.hide(),50)},!0)),this.popup.toggle(r,a=>a.append(...s,n))}},this.primary],Object.assign(this,this.secondary),this.contentRect=new Zl,this.contentRect.subscribe(({width:r,height:s})=>{let{container:a}=e.dom;a&&(a.style.setProperty("--discovery-nav-width",r+"px"),a.style.setProperty("--discovery-nav-height",s+"px"))})}render(e,n,r){this.contentRect.observe(e),e&&(this.data=n,this.context={...r,widget:this.host},this.host.view.setViewRoot(e,"nav",{config:this.config,data:this.data,context:this.context}),e.innerHTML="",this.host.view.render(e,this.config,this.data,this.context))}};var Us=new Map,Dg=null;function jj(){Dg=null;for(let[t,e]of Us.entries())console.groupCollapsed(`${t} (${e.length})`),e.forEach(n=>console.warn(...n)),console.groupEnd();Us.clear()}function zj(t,...e){Dg===null&&Us.size===0&&(Dg=setTimeout(jj,1)),Us.has(t)?Us.get(t).push(e):Us.set(t,[e])}function iT(t,e,n){switch(typeof e){case"function":return e;case"string":return Object.assign(r=>r&&Object.hasOwnProperty.call(r,e)?r[e]:void 0,{getterFromString:`object[${JSON.stringify(e)}]`});default:throw new Error(`[Discovery] Bad type "${typeof key}" for ${n} in object marker "${t}" config (must be a string or a function)`)}}function eT(t,e,n,r){return e&&hasOwnProperty.call(e,n)?iT(t,e[n],`"${n}" option`):r}function tT(t,e,n){return(Array.isArray(e[n])?e[n]:[]).map(r=>iT(t,r,`"${n}" option`))}function Bj(t){let{name:e,indexRefs:n,lookupRefs:r,page:s,getRef:a,getTitle:h}=t;s&&(a!==null?n.unshift(a):console.warn(`Option "ref" for "${e}" marker must be specified when "page" options is defined ("page" option ignored)`)),n.length>0&&r.unshift(C=>C);let f=new Set,g=new Map,p=new Map,m=new WeakMap;return{page:a!==null?s:null,mark:C=>{if(C===null||typeof C!="object"){console.warn(`Invalid value used for "${e}" marker (should be an object)`);return}f.add(C);for(let w of n){let b=w(C),T=b===null?"null":typeof b;if(T==="object"||T==="string"||T==="number"){if(!g.has(b)){g.set(b,C);continue}g.get(b)!==C&&zj(`The same reference value used for different objects for "${e}" marker`,`Reference value "${b}"`,{refGetter:w.getterFromString||w,ref:b,currentObject:g.get(b),newObject:C})}}},lookup:C=>{let w=C===null?"null":typeof C;if(w!=="object"&&w!=="string"&&w!=="number")return null;if(p.has(C))return p.get(C);if(m.has(C))return m.get(C);let b=null,T=null;if(f.has(C))T=C;else for(let M of r){let L=M(C);if(g.has(L)){T=g.get(L);break}}if(T!==null){if(p.has(T))b=p.get(T);else{let M=a!==null?a(T):null;b=Object.freeze({type:e,object:T,ref:M,title:h(T),href:s!==null&&M!==null?`#${encodeURIComponent(s)}:${encodeURIComponent(M)}`:null}),p.set(T,b)}C!==T&&(typeof C!="object"?p.set(C,b):m.set(C,b))}return b}}}var Jl=class extends ar{define(e,n){if(this.isDefined(e)){console.error(`[Discovery] Object marker "${e}" is already defined, new definition ignored`);return}n=n||{};let r=tT(e,n,"refs"),s=tT(e,n,"lookupRefs"),a=typeof n.page=="string"?n.page:null,h=eT(e,n,"ref",null),f=eT(e,n,"title",h||(()=>null));return super.define(e,Bj({name:e,indexRefs:r,lookupRefs:s,page:a,getRef:h,getTitle:f}))}lookup(e,n){if(n)return this.get(n)?.lookup(e);for(let{lookup:r}of this.values){let s=r(e);if(s!==null)return s}return null}resolveAll(e){let n=[];for(let{lookup:r}of this.values){let s=r(e);s!==null&&n.push(s)}return null}};var nT="1.0.0-beta.7";var Be=function(t,e,n={}){return t.forEach(r=>n[r]=e),n},go=[2,5],jn=[1,13],Ke=[1,41],Ze=[1,18],St=[1,7],Ct=[1,8],Tt=[1,10],Lt=[1,11],At=[1,12],st=[1,19],at=[1,20],lt=[1,21],ct=[1,22],ut=[1,23],ht=[1,24],ft=[1,25],dt=[1,29],pt=[1,32],gt=[1,33],mt=[1,34],yt=[1,35],vt=[1,36],xt=[1,37],bt=[1,42],wt=[1,43],kt=[1,40],Ig=[5,18,56,59],Mi=[1,47],Vt=[1,55],$t=[1,54],li=[1,48],ci=[1,49],ui=[1,50],hi=[1,51],mi=[1,52],bi=[1,53],zt=[1,56],Bt=[1,57],Ft=[1,58],ei=[1,59],ti=[1,60],Xt=[1,61],Kt=[1,62],Zt=[1,63],Qt=[1,64],ii=[1,65],wi=[1,66],Gs=[5,9,14,15,17,18,19,22,23,24,44,45,46,47,48,49,50,54,56,58,59,60,61,62,63,64,72,73,76,77,80],mo=[5,10,11,18,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,56,59,66,74,75,77],Rg=[1,67],jg=[1,68],zg=[1,69],Bg=[1,70],Fg=[1,71],_g=[1,72],rT=[1,73],jt=[1,76],oT=[5,18,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,54,56,59,60,61,62,63,64,66,74,75,77,84],sT=[2,46],aT=[1,82],lT=[1,83],cT=[2,48],uT=[1,84],Hg=[1,86],Et=[5,10,11,18,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,54,56,59,60,61,62,63,64,66,74,75,77,84],hT=[5,10,11,18,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,54,56,58,59,60,61,62,63,64,66,74,75,77,84],Vs=[1,93],fT=[1,94],ec=[1,95],Zu=[1,111],Qu=[1,110],dT=[1,116],Ju=[1,119],eh=[1,120],th=[1,121],ih=[1,122],nh=[1,123],pT=[9,14,15,17,19,22,23,24,44,45,46,47,48,49,50,54,58,60,61,62,63,64,72,73,74,75,76],rh=[5,10,11,18,21,56,59,66,74,75,77],gT=[5,10,11,18,21,29,30,41,56,59,66,74,75,77],oh=[5,10,11,18,21,23,24,25,26,27,28,29,30,34,35,36,37,38,39,40,41,56,59,66,74,75,77],$s=[56,66],mT=[2,115],yT=[11,56],on=[66,77],vT=[2,102],xT=[2,103],sh=[5,10,11,18,21,25,26,27,28,29,30,41,56,59,66,74,75,77],Wg=[5,10,11,18,21,25,26,27,28,29,30,34,35,40,41,56,59,66,74,75,77],ah=[5,10,11,18,21,25,26,27,28,29,30,34,35,36,37,38,39,40,41,56,59,66,74,75,77],bT=[1,199],wT=[1,201],kT=[59,66],ST=[1,211],CT=[2,109],Fj=function(){return{yy:{},options:{ranges:!0},rules:[/^(?:\/\/.*?(?:\n|\r\n?|\u2028|\u2029|$)|\/\*(?:.|\s)*?(?:\*\/|$))/,/^\s+/,/^\//,/^<(?!=)/,/^/,(e,n)=>{if(e[0]!==(n==="template"?"}":"`"))return null;for(let r=1;r<e.length;r++){if(e[r]==="`")return r+1;if(e[r]==="$"&&e[r+1]==="{")return r+2;e[r]==="\\"&&r++}return null},(e,n)=>{if(e[0]!==(n==="template"?"}":"`"))return null;for(let r=1;r<e.length;r++){if(e[r]==="`")return r+1;if(e[r]==="$"&&e[r+1]==="{")return r+2;e[r]==="\\"&&r++}return null},/^/,/^\(/,/^\)/,/^\[/,/^\]/,/^\{/,/^\}/,/^(?:(true|false|null|undefined|Infinity|NaN)\b)/,/^and\b/,/^or\b/,/^has\s+no\b/,/^has\b/,/^in\b/,/^not\s+in\b/,/^not?\b/,/^(?:(asc|desc)(NA?|AN?)?\b)/,/^(?:(\d+\.|\.)?\d+([eE][-+]?\d+)?\b)/,/^0[xX][0-9a-fA-F]+/,/^(?:"(?:\\[\\"]|[^"])*")/,/^(?:'(?:\\[\\']|[^'])*')/,/^(?:\/(?:\\.|[^/])+\/[gimsu]*)/,/^(?:(?:[a-zA-Z_]|\\u[0-9a-fA-F]{4})(?:[a-zA-Z_$0-9]|\\u[0-9a-fA-F]{4})*)/,/^(?:\$(?:[a-zA-Z_]|\\u[0-9a-fA-F]{4})(?:[a-zA-Z_$0-9]|\\u[0-9a-fA-F]{4})*)/,/^@/,/^#/,/^\$\$/,/^\$/,/^=>/,/^<(?!=)/,/^=/,/^!=/,/^~=/,/^>=/,/^<=/,/^</,/^>/,/^\.\.\(/,/^\.\(/,/^\.\[/,/^\.\.\./,/^\.\./,/^\./,/^\?/,/^,/,/^:/,/^;/,/^\-/,/^\+/,/^\*/,/^\//,/^\%/,/^(?:\|)/,/^./,/^$/],conditions:{preventPrimitive:{rules:[0,1,2,3,4,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60],inclusive:!0},template:{rules:[6,7],inclusive:!1},INITIAL:{rules:[0,1,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60],inclusive:!0}},performAction(e,n,r,s){let a=s;switch(r){case 0:{e.commentRanges.push(n.yylloc.range);break}case 1:break;case 2:{return this.popState(),32;break}case 3:{return this.popState(),36;break}case 4:{this.done=!1,this.popState();break}case 5:{let h=n.yytext.endsWith("`")?"TEMPLATE":"TPL_START";return n.yytext=this.toStringLiteral(n.yytext,!0,1+Number(h!=="TEMPLATE")),h==="TEMPLATE"&&e.pps(),h;break}case 6:{let h=n.yytext.endsWith("`")?"TPL_END":"TPL_CONTINUE";return n.yytext=this.toStringLiteral(n.yytext,!0,1+Number(h!=="TPL_END")),this.popState(),h==="TPL_END"&&e.pps(),h;break}case 7:{this.parseError("Unexpected end of input");break}case 8:return 58;case 9:{return e.pps(),59;break}case 10:return 54;case 11:{return e.pps(),56;break}case 12:return 76;case 13:{if(this.bracketStack[this.bracketStack.length-1]!=="TPL_END")return e.pps(),77;this.unput("}"),this.begin("template");break}case 14:{return n.yytext=this.toLiteral(n.yytext),50;break}case 15:return 29;case 16:return 30;case 17:return 28;case 18:return 26;case 19:return 25;case 20:return 27;case 21:return 22;case 22:return 84;case 23:{return e.pps(),n.yytext=Number(n.yytext),48;break}case 24:{return e.pps(),n.yytext=parseInt(n.yytext,16),48;break}case 25:{return e.pps(),n.yytext=this.toStringLiteral(n.yytext),47;break}case 26:{return e.pps(),n.yytext=this.toStringLiteral(n.yytext),47;break}case 27:{return e.pps(),n.yytext=this.toRegExp(n.yytext),49;break}case 28:{return e.pps(),n.yytext=this.ident(n.yytext),14;break}case 29:{return e.pps(),n.yytext=this.ident(n.yytext.slice(1)),15;break}case 30:{return e.pps(),44;break}case 31:{return e.pps(),45;break}case 32:{return e.pps(),46;break}case 33:{return e.pps(),9;break}case 34:return 19;case 35:{return this.fnOpened++,17;break}case 36:return 34;case 37:return 35;case 38:return 40;case 39:return 39;case 40:return 37;case 41:return 36;case 42:return this.fnOpened?(this.fnOpened--,18):38;case 43:return 64;case 44:return 61;case 45:return 62;case 46:return 80;case 47:{return e.pps(),63;break}case 48:{return e.pps(),60;break}case 49:return 41;case 50:return 66;case 51:return 11;case 52:return 10;case 53:return 23;case 54:return 24;case 55:return 31;case 56:return 32;case 57:return 33;case 58:return 21;case 59:{this.parseError(`Bad input on line ${n.yylloc.first_line} column ${n.yylloc.first_column}
`+this.showPosition(),{text:n.yytext,token:"BAD_TOKEN"});break}case 60:return 5}},setInput(e,n){return this.yy=n||this.yy||{},this._input=e,this._more=!1,this._backtrack=!1,this.done=!1,this.currentCondition="INITIAL",this.conditionStack=["INITIAL"],this.offset=0,this.yytext=this.match="",this.yyleng=0,this.yylineno=0,this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.yylloc.range=[0,0],this},parseError(e,n){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,n)},input(){let e=this._input[this.offset],n=/\n|\r\n?|\u2028|\u2029/g.test(e);return this.offset++,this.yyleng++,this.yytext=this.match=this.yytext+e,n?(this.yylineno++,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++,this.yylloc.range[1]++,e},lineColumnForOffset(e=this.offset,n=this._input,r=1,s=0){let a=/\n|\r\n?|\u2028|\u2029/g,h=r,f=s,g=0,p;for(;(p=a.exec(n))!==null;)if(p.index<e)h++,f=0,g=p.index+p[0].length;else{f+=e-g,g=-1;break}return g!==-1&&(f+=e-g),{line:h,column:f}},setMatch(e,n){let r=this._input.slice(e,n),s=e!==this.offset?this.lineColumnForOffset(e):{line:this.yylloc.last_line,column:this.yylloc.last_column},a=e!==n?this.lineColumnForOffset(n-e,r,s.line,s.column):s;this.yytext=this.match=r,this.yyleng=n-e,this.offset=n,this.yylineno=a.line-1,this.yylloc={first_line:s.line,first_column:s.column,last_line:a.line,last_column:a.column},this.yylloc.range=[e,n]},less(e){let n=this.offset-this.match.length;this.setMatch(n,n+e)},unput(e){let n=this.match.length-e.length;if(!this.match.startsWith(e,n))throw new Error("Lexer#unput() should receive a part of matched text only");this.less(n)},more(){this._more=!0},reject(){throw new Error("reject() is allowed only when options.backtrack_lexer = true")},showPosition(e=this.offset-this.match.length){let n=this._input,r=Math.max(e-20,0),s=Math.min(e+20,n.length),a=(r===0?"":"...")+n.slice(r,e).replace(/\n|\r\n?|\u2028|\u2029/g,"\\n"),h=n.slice(e,s).replace(/\n|\r\n?|\u2028|\u2029/g,"\\n")+(s===n.length?"":"...");return a+h+`
${"-".repeat(a.length)}^`},test_match(e,n){let r;this._more=!1,this._backtrack=!1,this.setMatch(this.offset,this.offset+e[0].length),this.matches=e;let s=this.performAction.call(this,this.yy,this,n,this.conditionStack[this.conditionStack.length-1]);return!s&&this._backtrack?(Object.assign(this,r),!1):(this.eof()||(this.done=!1),typeof s=="number"&&this.yy.parser?this.yy.parser.terminals_[s]:s||!1)},eof(){return this.offset===this._input.length},next(){if(this.done)return 1;this.eof()&&(this.done=!0),this._more||(this.yytext="",this.match="");let e,n;for(let r of this.conditions[this.currentCondition].rules){let s=this.rules[r],a=this._input.slice(this.offset),h;if(typeof s=="function"){let f=s(a,this.currentCondition);switch(typeof f){case"string":h=[f];break;case"number":h=[a.slice(0,f)];break;default:h=f}}else h=a.match(s);if(h&&(!e||h[0].length>e[0].length)){e=h,n=r;break}}if(e)return this.test_match(e,n);if(this.eof())return 1;this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex(){let e;for(;!e;)e=this.next();return e},begin(e){this.currentCondition=e,this.conditionStack.push(e)},pushState(e){this.begin(e)},popState(){return this.conditionStack.pop(),this.currentCondition=this.conditionStack.length?this.conditionStack[this.conditionStack.length-1]:"INITIAL"},topState(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},stateStackSize(){return this.conditionStack.length}}}();function qg(){this.yy={}}qg.prototype={Parser:qg,lexer:Fj,symbols_:{error:2,root:3,block:4,EOF:5,definitions:6,e:7,def:8,$:9,";":10,":":11,$ident:12,ident:13,IDENT:14,$IDENT:15,query:16,FUNCTION_START:17,FUNCTION_END:18,FUNCTION:19,sortingCompareList:20,"|":21,NOT:22,"-":23,"+":24,IN:25,HAS:26,NOTIN:27,HASNO:28,AND:29,OR:30,"*":31,"/":32,"%":33,"=":34,"!=":35,"<":36,"<=":37,">":38,">=":39,"~=":40,"?":41,queryRoot:42,relativePath:43,"@":44,"#":45,$$:46,STRING:47,NUMBER:48,REGEXP:49,LITERAL:50,template:51,object:52,array:53,"[":54,sliceNotation:55,"]":56,"method()":57,"(":58,")":59,".":60,".(":61,".[":62,"..":63,"..(":64,arguments:65,",":66,templateString:67,templateStart:68,templateTail:69,templateEnd:70,templateContinue:71,TEMPLATE:72,TPL_START:73,TPL_CONTINUE:74,TPL_END:75,"{":76,"}":77,objectEntries:78,objectEntry:79,"...":80,arrayElements:81,arrayElement:82,sortingCompare:83,ORDER:84,sliceNotationComponent:85,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",9:"$",10:";",11:":",14:"IDENT",15:"$IDENT",17:"FUNCTION_START",18:"FUNCTION_END",19:"FUNCTION",21:"|",22:"NOT",23:"-",24:"+",25:"IN",26:"HAS",27:"NOTIN",28:"HASNO",29:"AND",30:"OR",31:"*",32:"/",33:"%",34:"=",35:"!=",36:"<",37:"<=",38:">",39:">=",40:"~=",41:"?",44:"@",45:"#",46:"$$",47:"STRING",48:"NUMBER",49:"REGEXP",50:"LITERAL",54:"[",56:"]",58:"(",59:")",60:".",61:".(",62:".[",63:"..",64:"..(",66:",",72:"TEMPLATE",73:"TPL_START",74:"TPL_CONTINUE",75:"TPL_END",76:"{",77:"}",80:"...",84:"ORDER"},productions_:[0,[3,2],[4,2],[4,1],[4,1],[4,0],[6,1],[6,2],[8,2],[8,4],[8,2],[8,4],[13,1],[12,1],[7,1],[7,3],[7,2],[7,1],[7,3],[7,4],[7,2],[7,2],[7,2],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,5],[16,1],[16,1],[42,1],[42,1],[42,1],[42,1],[42,1],[42,1],[42,1],[42,1],[42,1],[42,1],[42,1],[42,1],[42,3],[42,1],[42,1],[42,3],[42,4],[42,2],[42,2],[42,3],[42,3],[42,2],[42,2],[42,3],[43,3],[43,4],[43,4],[43,3],[43,3],[43,4],[43,4],[43,3],[43,3],[43,4],[57,3],[57,4],[57,3],[57,4],[65,1],[65,3],[51,1],[51,2],[69,1],[69,2],[69,2],[69,3],[67,1],[68,1],[71,1],[70,1],[52,2],[52,3],[52,4],[52,3],[52,4],[52,5],[78,1],[78,3],[79,1],[79,1],[79,1],[79,3],[79,3],[79,3],[79,3],[79,3],[79,5],[79,1],[79,2],[81,1],[81,3],[82,1],[82,1],[82,2],[53,2],[53,3],[53,4],[20,1],[20,3],[83,2],[55,1],[55,2],[55,2],[55,3],[85,1],[85,2]],table:[{3:1,4:2,5:go,6:3,7:4,8:5,9:jn,12:14,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{1:[3]},{5:[1,44]},Be(Ig,[2,3],{16:6,20:9,12:14,42:15,43:16,83:17,51:26,52:27,53:28,13:30,57:31,67:38,68:39,7:45,8:46,9:jn,14:Ke,15:Ze,17:St,19:Ct,22:Tt,23:Lt,24:At,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,54:dt,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,72:bt,73:wt,76:kt}),Be(Ig,[2,4],{21:Mi,23:Vt,24:$t,25:li,26:ci,27:ui,28:hi,29:mi,30:bi,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii,41:wi}),Be(Gs,[2,6]),Be(mo,[2,14],{54:Rg,60:jg,61:zg,62:Bg,63:Fg,64:_g,84:rT}),{4:74,6:3,7:4,8:5,9:jn,12:14,13:30,14:Ke,15:Ze,16:6,17:St,18:go,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{7:75,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},Be([5,10,11,18,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,56,59,74,75,77],[2,17],{66:[1,78]}),{7:79,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{7:80,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{7:81,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},Be(oT,sT,{10:aT,11:lT}),Be(oT,cT,{10:uT,11:[1,85],58:Hg}),Be(Et,[2,42]),Be(Et,[2,43]),Be(mo,[2,121]),Be(hT,[2,13]),Be(Et,[2,44]),Be(Et,[2,45]),Be(Et,[2,47]),Be(Et,[2,49]),Be(Et,[2,50]),Be(Et,[2,51]),Be(Et,[2,52]),Be(Et,[2,53]),Be(Et,[2,54]),Be(Et,[2,55]),{7:91,9:jt,11:Vs,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,55:87,56:[1,88],57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,80:fT,81:89,82:92,83:17,85:90},Be(Et,[2,57],{58:ec}),Be(Et,[2,58]),{6:97,7:96,8:5,9:jn,12:14,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{12:100,13:98,14:Ke,15:Ze,57:99},{4:101,6:3,7:4,8:5,9:jn,12:14,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,59:go,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{4:102,6:3,7:4,8:5,9:jn,12:14,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,56:go,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{12:100,13:103,14:Ke,15:Ze,57:104},{4:105,6:3,7:4,8:5,9:jn,12:14,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,59:go,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},Be(Et,[2,84]),{7:108,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,69:106,70:107,71:109,72:bt,73:wt,74:Zu,75:Qu,76:kt,83:17},{6:114,8:5,9:dT,12:117,13:118,14:Ke,15:Ze,47:Ju,48:eh,50:th,54:ih,77:[1,112],78:113,79:115,80:nh},Be(hT,[2,12]),Be(Et,[2,90]),Be(pT,[2,91]),{1:[2,1]},Be(Ig,[2,2],{21:Mi,23:Vt,24:$t,25:li,26:ci,27:ui,28:hi,29:mi,30:bi,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii,41:wi}),Be(Gs,[2,7]),{6:125,7:124,8:5,9:jn,12:14,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{7:126,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{7:127,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{7:128,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{7:129,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{7:130,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{7:131,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{7:132,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{7:133,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{7:134,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{7:135,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{7:136,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{7:137,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{7:138,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{7:139,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{7:140,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{7:141,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{7:142,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{7:143,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{7:144,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{7:146,9:jt,11:Vs,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,55:147,56:[1,145],57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17,85:90},{12:100,13:148,14:Ke,15:Ze,57:149},{4:150,6:3,7:4,8:5,9:jn,12:14,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,59:go,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{4:151,6:3,7:4,8:5,9:jn,12:14,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,56:go,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{12:100,13:152,14:Ke,15:Ze,57:153},{4:154,6:3,7:4,8:5,9:jn,12:14,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,59:go,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},Be(mo,[2,123]),{18:[1,155]},Be(rh,[2,16],{23:Vt,24:$t,25:li,26:ci,27:ui,28:hi,29:mi,30:bi,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii,41:wi}),Be(Et,sT),Be(Et,cT,{58:Hg}),{9:jt,12:77,13:30,14:Ke,15:Ze,16:157,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:156},Be(gT,[2,20],{23:Vt,24:$t,25:li,26:ci,27:ui,28:hi,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii}),Be(oh,[2,21],{31:zt,32:Bt,33:Ft}),Be(oh,[2,22],{31:zt,32:Bt,33:Ft}),Be(Gs,[2,8]),{7:158,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},Be(Gs,[2,10]),{7:159,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{7:162,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,59:[1,160],60:gt,61:mt,62:yt,63:vt,64:xt,65:161,67:38,68:39,72:bt,73:wt,76:kt,83:17},{56:[1,163]},Be(Et,[2,118]),{56:[1,164],66:[1,165]},{11:Vs,56:[2,124],85:166},Be($s,mT,{85:167,11:Vs,21:Mi,23:Vt,24:$t,25:li,26:ci,27:ui,28:hi,29:mi,30:bi,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii,41:wi}),Be($s,[2,113]),Be(yT,[2,128],{16:6,20:9,42:15,43:16,83:17,51:26,52:27,53:28,13:30,57:31,67:38,68:39,12:77,7:168,9:jt,14:Ke,15:Ze,17:St,19:Ct,22:Tt,23:Lt,24:At,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,54:dt,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,72:bt,73:wt,76:kt}),Be($s,[2,116],{16:6,20:9,42:15,43:16,83:17,51:26,52:27,53:28,13:30,57:31,67:38,68:39,12:77,7:169,9:jt,14:Ke,15:Ze,17:St,19:Ct,22:Tt,23:Lt,24:At,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,54:dt,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,72:bt,73:wt,76:kt}),{7:162,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,59:[1,170],60:gt,61:mt,62:yt,63:vt,64:xt,65:171,67:38,68:39,72:bt,73:wt,76:kt,83:17},{21:Mi,23:Vt,24:$t,25:li,26:ci,27:ui,28:hi,29:mi,30:bi,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii,41:wi,59:[1,172]},{7:173,8:46,9:jn,12:14,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},Be(Et,[2,61],{58:ec}),Be(Et,[2,62]),{58:Hg},{59:[1,174]},{56:[1,175]},Be(Et,[2,65],{58:ec}),Be(Et,[2,66]),{59:[1,176]},Be(Et,[2,85]),Be(Et,[2,86]),{21:Mi,23:Vt,24:$t,25:li,26:ci,27:ui,28:hi,29:mi,30:bi,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii,41:wi,70:177,71:178,74:Zu,75:Qu},{7:108,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,69:179,70:107,71:109,72:bt,73:wt,74:Zu,75:Qu,76:kt,83:17},Be(Et,[2,93]),Be(pT,[2,92]),Be(Et,[2,94]),{66:[1,181],77:[1,180]},{8:46,9:dT,12:117,13:118,14:Ke,15:Ze,47:Ju,48:eh,50:th,54:ih,77:[1,182],78:183,79:115,80:nh},Be(on,[2,100]),Be(on,vT,{10:aT,11:lT}),Be(on,xT,{10:uT,11:[1,184]}),Be(on,[2,104],{11:[1,185]}),{11:[1,186]},{11:[1,187]},{11:[1,188]},{7:189,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},Be(on,[2,111],{42:15,43:16,51:26,52:27,53:28,13:30,57:31,67:38,68:39,12:77,16:190,9:jt,14:Ke,15:Ze,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,54:dt,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,72:bt,73:wt,76:kt}),Be(rh,[2,18],{23:Vt,24:$t,25:li,26:ci,27:ui,28:hi,29:mi,30:bi,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii,41:wi}),{7:191,8:46,9:jn,12:14,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},Be(sh,[2,23],{23:Vt,24:$t,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii}),Be(sh,[2,24],{23:Vt,24:$t,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii}),Be(sh,[2,25],{23:Vt,24:$t,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii}),Be(sh,[2,26],{23:Vt,24:$t,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii}),Be(gT,[2,27],{23:Vt,24:$t,25:li,26:ci,27:ui,28:hi,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii}),Be([5,10,11,18,21,30,41,56,59,66,74,75,77],[2,28],{23:Vt,24:$t,25:li,26:ci,27:ui,28:hi,29:mi,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii}),Be(oh,[2,29],{31:zt,32:Bt,33:Ft}),Be(oh,[2,30],{31:zt,32:Bt,33:Ft}),Be(mo,[2,31]),Be(mo,[2,32]),Be(mo,[2,33]),Be(Wg,[2,34],{23:Vt,24:$t,31:zt,32:Bt,33:Ft,36:Xt,37:Kt,38:Zt,39:Qt}),Be(Wg,[2,35],{23:Vt,24:$t,31:zt,32:Bt,33:Ft,36:Xt,37:Kt,38:Zt,39:Qt}),Be(ah,[2,36],{23:Vt,24:$t,31:zt,32:Bt,33:Ft}),Be(ah,[2,37],{23:Vt,24:$t,31:zt,32:Bt,33:Ft}),Be(ah,[2,38],{23:Vt,24:$t,31:zt,32:Bt,33:Ft}),Be(ah,[2,39],{23:Vt,24:$t,31:zt,32:Bt,33:Ft}),Be(Wg,[2,40],{23:Vt,24:$t,31:zt,32:Bt,33:Ft,36:Xt,37:Kt,38:Zt,39:Qt}),{11:[1,192],21:Mi,23:Vt,24:$t,25:li,26:ci,27:ui,28:hi,29:mi,30:bi,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii,41:wi},Be(Et,[2,68]),{11:Vs,21:Mi,23:Vt,24:$t,25:li,26:ci,27:ui,28:hi,29:mi,30:bi,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii,41:wi,56:[1,193],85:167},{56:[1,194]},Be(Et,[2,71],{58:ec}),Be(Et,[2,72]),{59:[1,195]},{56:[1,196]},Be(Et,[2,75],{58:ec}),Be(Et,[2,76]),{59:[1,197]},Be(mo,[2,15]),Be(mo,[2,122]),{54:Rg,60:jg,61:zg,62:Bg,63:Fg,64:_g,84:rT},{10:[1,198],21:Mi,23:Vt,24:$t,25:li,26:ci,27:ui,28:hi,29:mi,30:bi,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii,41:wi},{10:bT,21:Mi,23:Vt,24:$t,25:li,26:ci,27:ui,28:hi,29:mi,30:bi,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii,41:wi},Be(Et,[2,80]),{59:[1,200],66:wT},Be(kT,[2,82],{21:Mi,23:Vt,24:$t,25:li,26:ci,27:ui,28:hi,29:mi,30:bi,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii,41:wi}),Be(Et,[2,56]),Be(Et,[2,119]),{7:204,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,56:[1,202],57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,80:fT,82:203,83:17},{56:[2,125]},{11:Vs,56:[2,126],85:205},Be(yT,[2,129],{21:Mi,23:Vt,24:$t,25:li,26:ci,27:ui,28:hi,29:mi,30:bi,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii,41:wi}),Be($s,[2,117],{21:Mi,23:Vt,24:$t,25:li,26:ci,27:ui,28:hi,29:mi,30:bi,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii,41:wi}),Be(Et,[2,78]),{59:[1,206],66:wT},Be(Et,[2,59]),{21:Mi,23:Vt,24:$t,25:li,26:ci,27:ui,28:hi,29:mi,30:bi,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii,41:wi,59:[1,207]},Be(Et,[2,63]),Be(Et,[2,64]),Be(Et,[2,67]),Be(Et,[2,87]),{7:108,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,69:208,70:107,71:109,72:bt,73:wt,74:Zu,75:Qu,76:kt,83:17},Be(Et,[2,88]),Be(Et,[2,95]),{9:ST,12:212,13:118,14:Ke,15:Ze,47:Ju,48:eh,50:th,54:ih,77:[1,209],79:210,80:nh},Be(Et,[2,97]),{66:[1,214],77:[1,213]},{7:215,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{7:216,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{7:217,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{7:218,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{7:219,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},{21:Mi,23:Vt,24:$t,25:li,26:ci,27:ui,28:hi,29:mi,30:bi,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii,41:wi,56:[1,220]},Be(on,[2,112],{54:Rg,60:jg,61:zg,62:Bg,63:Fg,64:_g}),Be(rh,[2,19],{23:Vt,24:$t,25:li,26:ci,27:ui,28:hi,29:mi,30:bi,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii,41:wi}),{7:221,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},Be(Et,[2,69]),Be(Et,[2,70]),Be(Et,[2,73]),Be(Et,[2,74]),Be(Et,[2,77]),Be(Gs,[2,9]),Be(Gs,[2,11]),Be(Et,[2,81]),{7:222,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},Be(Et,[2,120]),Be($s,[2,114]),Be($s,mT,{21:Mi,23:Vt,24:$t,25:li,26:ci,27:ui,28:hi,29:mi,30:bi,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii,41:wi}),{56:[2,127]},Be(Et,[2,79]),Be(Et,[2,60]),Be(Et,[2,89]),Be(Et,[2,96]),Be(on,[2,101]),Be(on,vT),Be(on,xT,{11:[1,223]}),Be(Et,[2,98]),{9:ST,12:212,13:118,14:Ke,15:Ze,47:Ju,48:eh,50:th,54:ih,77:[1,224],79:210,80:nh},Be(on,CT,{10:bT,21:Mi,23:Vt,24:$t,25:li,26:ci,27:ui,28:hi,29:mi,30:bi,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii,41:wi}),Be(on,[2,105],{21:Mi,23:Vt,24:$t,25:li,26:ci,27:ui,28:hi,29:mi,30:bi,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii,41:wi}),Be(on,[2,106],{21:Mi,23:Vt,24:$t,25:li,26:ci,27:ui,28:hi,29:mi,30:bi,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii,41:wi}),Be(on,[2,107],{21:Mi,23:Vt,24:$t,25:li,26:ci,27:ui,28:hi,29:mi,30:bi,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii,41:wi}),Be(on,[2,108],{21:Mi,23:Vt,24:$t,25:li,26:ci,27:ui,28:hi,29:mi,30:bi,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii,41:wi}),{11:[1,225]},Be(rh,[2,41],{23:Vt,24:$t,25:li,26:ci,27:ui,28:hi,29:mi,30:bi,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii,41:wi}),Be(kT,[2,83],{21:Mi,23:Vt,24:$t,25:li,26:ci,27:ui,28:hi,29:mi,30:bi,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii,41:wi}),{7:226,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},Be(Et,[2,99]),{7:227,9:jt,12:77,13:30,14:Ke,15:Ze,16:6,17:St,19:Ct,20:9,22:Tt,23:Lt,24:At,42:15,43:16,44:st,45:at,46:lt,47:ct,48:ut,49:ht,50:ft,51:26,52:27,53:28,54:dt,57:31,58:pt,60:gt,61:mt,62:yt,63:vt,64:xt,67:38,68:39,72:bt,73:wt,76:kt,83:17},Be(on,CT,{21:Mi,23:Vt,24:$t,25:li,26:ci,27:ui,28:hi,29:mi,30:bi,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii,41:wi}),Be(on,[2,110],{21:Mi,23:Vt,24:$t,25:li,26:ci,27:ui,28:hi,29:mi,30:bi,31:zt,32:Bt,33:Ft,34:ei,35:ti,36:Xt,37:Kt,38:Zt,39:Qt,40:ii,41:wi})],defaultActions:{44:[2,1],166:[2,125],205:[2,127]},performAction(t,e,n,r,s,a,h){let f=a.length-1;switch(s){case 1:return r.buildResult(a[f-1]);case 2:this.$={type:"Block",definitions:a[f-1],body:a[f],range:this._$.range};break;case 3:this.$={type:"Block",definitions:a[f],body:{type:"Placeholder",range:[h[f].range[1],h[f].range[1]]},range:this._$.range};break;case 4:this.$={type:"Block",definitions:[],body:a[f],range:this._$.range};break;case 5:this.$={type:"Block",definitions:[],body:{type:"Placeholder",range:[h[f].range[1],h[f].range[1]]},range:this._$.range};break;case 6:case 82:case 84:case 100:case 113:case 121:this.$=[a[f]];break;case 7:a[f-1].push(a[f]);break;case 8:this.$={type:"Definition",declarator:{type:"Declarator",name:null,range:h[f-1].range},value:null,range:this._$.range};break;case 9:this.$={type:"Definition",declarator:{type:"Declarator",name:null,range:h[f-3].range},value:a[f-1],range:this._$.range};break;case 10:this.$={type:"Definition",declarator:{type:"Declarator",name:a[f-1].name,range:h[f-1].range},value:null,range:this._$.range};break;case 11:this.$={type:"Definition",declarator:{type:"Declarator",name:a[f-3].name,range:h[f-3].range},value:a[f-1],range:this._$.range};break;case 12:case 13:this.$={type:"Identifier",name:a[f],range:this._$.range};break;case 14:case 42:case 43:case 54:case 55:case 115:break;case 15:this.$={type:"Function",arguments:[],body:a[f-1],legacy:!0,range:this._$.range};break;case 16:this.$={type:"Function",arguments:[],body:a[f],legacy:!1,range:this._$.range};break;case 17:this.$={type:"SortingFunction",compares:a[f],range:this._$.range};break;case 18:this.$={type:"Pipeline",left:a[f-2],right:a[f],range:this._$.range};break;case 19:this.$={type:"Pipeline",left:a[f-3],right:{type:"Block",definitions:a[f-1],body:a[f]},range:this._$.range};break;case 20:case 21:case 22:this.$={type:"Unary",operator:a[f-1],argument:a[f],range:this._$.range};break;case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:this.$={type:"Binary",operator:a[f-1],left:a[f-2],right:a[f],range:this._$.range};break;case 41:this.$={type:"Conditional",test:a[f-4],consequent:a[f-2],alternate:a[f],range:this._$.range};break;case 44:this.$={type:"Data",range:this._$.range};break;case 45:this.$={type:"Context",range:this._$.range};break;case 46:this.$={type:"Current",range:this._$.range};break;case 47:this.$={type:"Arg1",range:this._$.range};break;case 48:this.$={type:"Reference",name:a[f],range:this._$.range};break;case 49:case 50:case 51:case 52:case 90:case 91:case 92:case 93:this.$={type:"Literal",value:a[f],range:this._$.range};break;case 53:this.$={type:"Template",values:a[f],range:this._$.range};break;case 56:this.$={type:"SliceNotation",value:null,arguments:a[f-1],range:this._$.range};break;case 57:case 61:this.$={type:"GetProperty",value:null,property:a[f],range:this._$.range};break;case 58:case 62:this.$={type:"MethodCall",value:null,method:a[f],range:this._$.range};break;case 59:this.$={type:"Parentheses",body:a[f-1],range:this._$.range};break;case 60:this.$={type:"Parentheses",body:{type:"Block",definitions:a[f-2],body:a[f-1]},range:this._$.range};break;case 63:this.$={type:"Map",value:null,query:a[f-1],range:this._$.range};break;case 64:this.$={type:"Filter",value:null,query:a[f-1],range:this._$.range};break;case 65:this.$={type:"MapRecursive",value:null,query:{type:"GetProperty",value:null,property:a[f]},range:this._$.range};break;case 66:this.$={type:"MapRecursive",value:null,query:{type:"MethodCall",value:null,method:a[f]},range:this._$.range};break;case 67:this.$={type:"MapRecursive",value:null,query:a[f-1],range:this._$.range};break;case 68:this.$={type:"Pick",value:a[f-2],getter:null,range:this._$.range};break;case 69:this.$={type:"Pick",value:a[f-3],getter:a[f-1],range:this._$.range};break;case 70:this.$={type:"SliceNotation",value:a[f-3],arguments:a[f-1],range:this._$.range};break;case 71:this.$={type:"GetProperty",value:a[f-2],property:a[f],range:this._$.range};break;case 72:this.$={type:"MethodCall",value:a[f-2],method:a[f],range:this._$.range};break;case 73:this.$={type:"Map",value:a[f-3],query:a[f-1],range:this._$.range};break;case 74:this.$={type:"Filter",value:a[f-3],query:a[f-1],range:this._$.range};break;case 75:this.$={type:"MapRecursive",value:a[f-2],query:{type:"GetProperty",value:null,property:a[f]},range:this._$.range};break;case 76:this.$={type:"MapRecursive",value:a[f-2],query:{type:"MethodCall",value:null,method:a[f]},range:this._$.range};break;case 77:this.$={type:"MapRecursive",value:a[f-3],query:a[f-1],range:this._$.range};break;case 78:this.$={type:"Method",reference:a[f-2],arguments:[],range:this._$.range};break;case 79:this.$={type:"Method",reference:a[f-3],arguments:a[f-1],range:this._$.range};break;case 80:this.$={type:"Method",reference:{type:"Reference",name:a[f-2]},arguments:[],range:this._$.range};break;case 81:this.$={type:"Method",reference:{type:"Reference",name:a[f-3]},arguments:a[f-1],range:this._$.range};break;case 83:case 101:case 114:case 122:a[f-2].push(a[f]);break;case 85:this.$=[a[f-1],...a[f]];break;case 86:case 124:this.$=[null,a[f]];break;case 87:case 126:this.$=[a[f-1],a[f]];break;case 88:this.$=[null,a[f-1],...a[f]];break;case 89:this.$=[a[f-2],a[f-1],...a[f]];break;case 94:case 97:this.$={type:"Object",properties:[],range:this._$.range};break;case 95:this.$={type:"Object",properties:a[f-1],range:this._$.range};break;case 96:this.$={type:"Object",properties:a[f-2],range:this._$.range};break;case 98:this.$={type:"Block",definitions:a[f-2],body:{type:"Object",properties:a[f-1]},range:this._$.range};break;case 99:this.$={type:"Block",definitions:a[f-3],body:{type:"Object",properties:a[f-2]},range:this._$.range};break;case 102:this.$={type:"ObjectEntry",key:{type:"Current"},value:null,range:this._$.range};break;case 103:this.$={type:"ObjectEntry",key:{type:"Reference",name:a[f]},value:null,range:this._$.range};break;case 104:this.$={type:"ObjectEntry",key:a[f],value:null,range:this._$.range};break;case 105:this.$={type:"ObjectEntry",key:a[f-2],value:a[f],range:this._$.range};break;case 106:case 107:case 108:this.$={type:"ObjectEntry",key:{type:"Literal",value:a[f-2]},value:a[f],range:this._$.range};break;case 109:this.$={type:"ObjectEntry",key:{type:"Identifier",name:"$"+a[f-2].name},value:a[f],range:this._$.range};break;case 110:this.$={type:"ObjectEntry",key:a[f-3],value:a[f],range:this._$.range};break;case 111:this.$={type:"Spread",query:null,array:!1,range:this._$.range};break;case 112:this.$={type:"Spread",query:a[f],array:!1,range:this._$.range};break;case 116:this.$={type:"Spread",query:null,array:!0,range:this._$.range};break;case 117:this.$={type:"Spread",query:a[f],array:!0,range:this._$.range};break;case 118:this.$={type:"Array",elements:[],range:this._$.range};break;case 119:this.$={type:"Array",elements:a[f-1],range:this._$.range};break;case 120:this.$={type:"Array",elements:a[f-2],range:this._$.range};break;case 123:this.$={type:"Compare",query:a[f-1],order:a[f],range:this._$.range};break;case 125:this.$=[null,a[f-1],a[f]];break;case 127:this.$=[a[f-2],a[f-1],a[f]];break;case 128:this.$=null;break;case 129:this.$=a[f];break}},trace(...t){this.DEBUG&&Jison.print(...t)},parseError(t,e){if(e.recoverable)this.trace(t);else{let n=new Error(t);throw n.hash=e,n}},parse(t,...e){let f=O=>{b.length-=2*O,T.length-=O,M.length-=O},g=()=>{let O=p.lex()||1;return typeof O!="number"&&(O=this.symbols_[O]||O),O},p=Object.create(this.lexer),m=p.options&&p.options.ranges,x={...this.yy,parser:this,lexer:p};p.setInput(t,x),typeof x.parseError=="function"&&(this.parseError=x.parseError),typeof p.yylloc>"u"&&(p.yylloc={});let v=this.table,C={},w=p.yylloc,b=[0],T=[null],M=[w],L=[],A="",E=0,D=0,B=0,z,I;for(;;){let O=b[b.length-1],S;if(this.defaultActions[O]?S=this.defaultActions[O]:((z===null||typeof z>"u")&&(z=g()),S=v[O]&&v[O][z]),!S||!S[0]){let d=function(N){let R=b.length-1,q=0;for(;;){if(2 .toString()in v[N])return q;if(N===0||R<2)return!1;R-=2,N=b[R],++q}},P,k="";if(!B){let N=[];for(let R in v[O])R in this.terminals_&&R>2&&N.push("'"+this.terminals_[R]+"'");k=p.showPosition?"Parse error on line "+(E+1)+`:
`+p.showPosition()+`
Expecting `+N.join(", ")+", got '"+(this.terminals_[z]||z)+"'":"Parse error on line "+(E+1)+": Unexpected "+(z===1?"end of input":"'"+(this.terminals_[z]||z)+"'"),this.parseError(k,{text:p.match,token:this.terminals_[z]||z,line:p.yylineno,loc:w,expected:N})}if(B===3){if(z===1||I===1)throw new Error(k||"Parsing halted while starting to recover from another error.");D=p.yyleng,A=p.yytext,E=p.yylineno,w=p.yylloc,z=g()}if(P===!1)throw new Error(k||"Parsing halted. No suitable error recovery rule available.");f(P),I=z==2?null:z,z=2,O=b[b.length-1],S=v[O]&&v[O][2],B=3}if(Array.isArray(S[0])&&S.length>1)throw new Error("Parse Error: multiple actions possible at state: "+O+", token: "+z);switch(S[0]){case 1:b.push(z),T.push(p.yytext),M.push(p.yylloc),b.push(S[1]),z=null,I?(z=I,I=null):(D=p.yyleng,A=p.yytext,E=p.yylineno,w=p.yylloc,B>0&&B--);break;case 2:{let P=this.productions_[S[1]][1],k=M[M.length-(P||1)],d=M[M.length-1];C.$=T[T.length-P],C._$={first_line:k.first_line,last_line:d.last_line,first_column:k.first_column,last_column:d.last_column},m&&(C._$.range=[k.range[0],d.range[1]]);let N=this.performAction.call(C,A,D,E,x,S[1],T,M,...e);if(typeof N<"u")return N;P&&f(P),b.push(this.productions_[S[1]][0]),T.push(C.$),M.push(C._$),b.push(v[b[b.length-2]][b[b.length-1]]);break}case 3:return!0}}}};var _j=function(e){function n(L,A){Object.entries(A).forEach(([E,D])=>L[E]=D(L[E]))}let r=new Map([["EOF",["<end of input>"]],["IDENT",["ident"]],["$IDENT",["$ident"]],["FUNCTION_START",["'<'"]],["FUNCTION_END",["'>'"]],["FUNCTION",["'=>'"]],["NOT",["'not'"]],["IN",["'in'"]],["HAS",["'has'"]],["NOTIN",["'not in'"]],["HASNO",["'has no'"]],["AND",["'and'"]],["OR",["'or'"]],["STRING",["string"]],["TPL_START",["template"]],["TEMPLATE",["template"]],["NUMBER",["number"]],["REGEXP",["regexp"]],["LITERAL",["'true'","'false'","'null'","'undefined'"]],["ORDER",["'asc'","'desc'","'ascN'","'descN'"]]]),s=L=>r.get(L)||`'${L}'`,a=function(L,A={},E){if(A.recoverable)this.trace(L);else{if(Array.isArray(A.inside)){let O=E.lexer.offset-E.lexer.match.length;E.lexer.setMatch(O+A.inside[0],O+A.inside[1])}let D=E.lexer.yylloc,B=[L.split(/\n/)[0],"",E.lexer.showPosition()],z=Array.isArray(A.expected)?[...new Set([].concat(...A.expected.map(O=>s(O.slice(1,-1)))))]:null;z&&B.push("","Expecting "+z.join(", ")+" got "+s(A.token));let I=new SyntaxError(B.join(`
`));throw I.details={rawMessage:L,text:A.text,token:A.token,expected:z,loc:{range:D.range,start:{line:D.first_line,column:D.first_column,offset:D.range[0]},end:{line:D.last_line,column:D.last_column,offset:D.range[1]}}},I}},h=new Set([`
`,"\r","\u2028","\u2029"]),f=new Map([["null",null],["false",!1],["true",!0],["Infinity",1/0],["NaN",NaN]]);Object.assign(e.lexer,{ident:L=>L.replace(/\\u[0-9a-fA-F]{4}/g,A=>String.fromCharCode(parseInt(A.slice(2),16))),toLiteral:L=>f.get(L),toStringLiteral(L,A=!1,E=1){let D=L.length-E,B="";for(let z=1;z<D;z++){if(!A&&h.has(L[z])&&this.parseError("Invalid line terminator",{inside:[z,z+1]}),L[z]!=="\\"){B+=L[z];continue}z===D-1&&this.parseError("Invalid backslash",{inside:[z,z+1]});let I=L[++z];switch(I){case"\r":z+=L[z+1]===`
`;break;case`
`:case"\u2028":case"\u2029":break;case"0":B+="\0";break;case"b":B+="\b";break;case"n":B+=`
`;break;case"r":B+="\r";break;case"f":B+="\f";break;case"t":B+="	";break;case"v":B+="\v";break;case"u":{let[O=""]=L.slice(z+1,z+5).match(/^[0-9a-f]*/i)||[];if(O.length===4){B+=String.fromCharCode(parseInt(O,16)),z+=4;break}this.parseError("Invalid Unicode escape sequence",{inside:[z-1,Math.min(z+1+O.length,D)]});break}case"x":{let[O=""]=L.slice(z+1,z+3).match(/^[0-9a-f]*/i)||[];if(O.length===2){B+=String.fromCharCode(parseInt(O,16)),z+=2;break}this.parseError("Invalid hexadecimal escape sequence",{inside:[z-1,Math.min(z+1+O.length,D)]});break}default:B+=I}}return B},toRegExp(L){let A=L.lastIndexOf("/")+1,E=L.substr(A);return E.split("").forEach((D,B,z)=>{let I=z.indexOf(D,B+1);I!==-1&&this.parseError("Duplicate flag in regexp",{inside:[A+I,A+I+1]})}),new RegExp(L.substr(1,L.lastIndexOf("/")-1),E)}}),n(e.lexer,{setInput:L=>function(A,E){let D=[];return E.commentRanges=D,E.buildResult=B=>({ast:B,commentRanges:D}),E.parseError=function(...B){return a.call(this,...B,E)},E.pps=()=>{this.eof()||this.begin("preventPrimitive")},this.fnOpened=0,this.fnOpenedStack=[],this.bracketStack=[],this.prevToken=null,this.prevYylloc={first_line:1,last_line:1,first_column:0,last_column:0,range:[0,0]},L.call(this,A,E)}});let g=new e.Parser;g.lexer={...e.lexer},g.yy={...e.yy};let p=["AND","OR","IN","NOTIN","HAS","HASNO"],m=[...p,"NOT","ORDER"],x=["+","-","*","/","%","|","=","!=","~=",">=","<=","<",">"],v=[null,":",";",",",".","..","(","[",".(","..(",".[","FUNCTION",...x,...p,"NOT"],C=new Set([",","?",":",";","EOF","]",")","}","TPL_CONTINUE","TPL_END",...x,...p,"ORDER"]),w=new Map(v.map(L=>[L,C]));w.set("{",new Set([","])),w.set("[",new Set([...C,","])),w.set("(",new Set([...C,","])),n(g.lexer,{lex:L=>function(){let E=this.offset,D=L.call(this);if(w.has(this.prevToken)&&w.get(this.prevToken).has(D)){let B={first_line:this.prevYylloc.last_line,last_line:this.yylloc.first_line,first_column:this.prevYylloc.last_column,last_column:this.yylloc.first_column,range:[this.prevYylloc.range[1],this.yylloc.range[0]]};if(this.unput(this.match),this.pushState("preventPrimitive"),this.done=!1,this.yytext="",this.yylloc=this.prevYylloc=B,E!==this.offset&&m.includes(D))switch(this._input[E]){case" ":case"	":B.last_column--,B.range[1]--;break;case`
`:{let z=this._input.lastIndexOf(`
`,E-1);B.last_line--,B.last_column=z===-1?B.last_column-1:E-z,B.range[1]--;break}}return this.prevToken="IDENT"}if(this.prevYylloc=this.yylloc,m.includes(D))switch(this._input[this.offset]){case" ":case"	":this.prevYylloc={...this.prevYylloc,last_column:this.prevYylloc.last_column+1,range:[this.prevYylloc.range[0],this.prevYylloc.range[1]+1]};break;case`
`:this.prevYylloc={...this.prevYylloc,last_line:this.prevYylloc.last_line+1,last_column:0,range:[this.prevYylloc.range[0],this.prevYylloc.range[1]+1]};break}return this.prevToken=D}});let b=new Map([["(",")"],[".(",")"],["..(",")"],["[","]"],[".[","]"],["{","}"],["TPL_START","TPL_END"]]),T=new Set([")","]","}","TPL_END"]),M=L=>function(){let E=L.call(this);if(T.has(E)){let D=this.bracketStack.pop();D!==E&&this.parseError(`Expected "${D}" got "${E}"`),this.fnOpened=this.fnOpenedStack.pop()||0}return b.has(E)&&(this.bracketStack.push(b.get(E)),this.fnOpenedStack.push(this.fnOpened),this.fnOpened=0),E};return n(e.lexer,{lex:M}),n(g.lexer,{lex:M}),{parse(L,A){return A?g.parse(L):e.parse(L)},*tokenize(L,A,E){let D=A?g:e,B=Object.create(D.lexer);for(B.setInput(L,{parser:D});!B.done;){let z={type:B.lex(),value:B.match,offset:B.yylloc.range[0]};E&&(z.loc={range:B.yylloc.range,start:{line:B.yylloc.first_line,column:B.yylloc.first_column},end:{line:B.yylloc.last_line,column:B.yylloc.last_column}}),yield z}}}}(new qg),lh=_j;var Ug={};tt(Ug,{compile:()=>Hj,stringify:()=>qj,walk:()=>Wj});function Hj(t,e){e.put(e.scope.arg1?"arguments[1]":"undefined")}function Wj(){}function qj(t,e){e.put("$$")}var Gg={};tt(Gg,{compile:()=>Gj,stringify:()=>$j,suggest:()=>Uj,walk:()=>Vj});function Uj(t,e){t.elements.length===0&&e.queryRoot(t.range[0]+1,t.range[1]-1)}function Gj(t,e){e.put("["),e.list(t.elements,","),e.put("]")}function Vj(t,e){e.list(t.elements)}function $j(t,e){e.put("["),e.list(t.elements,","),e.put("]")}var Vg={};tt(Vg,{compile:()=>Xj,stringify:()=>Zj,suggest:()=>Yj,walk:()=>Kj});var TT={in:"in","not in":"notIn",has:"has","has no":"hasNo",and:"and",or:"or","+":"add","-":"sub","*":"mul","/":"div","%":"mod","=":"eq","!=":"ne","<":"lt","<=":"lte",">":"gt",">=":"gte","~=":"match"};function ch(t,e,n){if(n.type==="Array"){if(n.elements.length===0){t.range([n.range[0]+1,n.range[1]-1],"value-subset",e,!1);return}let r=[];for(let{type:a,range:h,value:f}of n.elements)h&&(a==="Literal"||a==="Identifier")&&r.push(f);let s=r.length?t.literalList(r):!1;for(let{type:a,range:h,value:f}of n.elements)h&&(a==="Literal"||a==="Identifier"||a==="GetProperty"&&f===null)&&t.range(h,"value-subset",e,s)}}function Yj(t,e){switch(t.operator){case"in":e.range(t.left.range,"in-value",t.right,null),ch(e,t.left,t.right);break;case"not in":ch(e,t.left,t.right);break;case"has":e.range(t.right.range,"in-value",t.left,null),ch(e,t.right,t.left);break;case"has no":ch(e,t.right,t.left);break;case"=":case"!=":e.range(t.right.range,"value",t.left,null);break}}function Xj(t,e){if(!(t.operator in TT)){e.error('Unknown operator "'+t.operator+'"',t);return}switch(t.operator){case"and":e.put("!");case"or":{let n=e.allocateVar();e.put(`${e.buildinFn("bool")}(${n}=`),e.node(t.left),e.put(`)?${n}:`),e.scope.captureCurrent.disabled=!0,e.node(t.right),e.scope.captureCurrent.disabled=!1;break}case"has no":e.put("!");case"has":e.put(e.buildinFn("in")),e.put("("),e.node(t.right),e.put(","),e.node(t.left),e.put(")");break;default:e.put(e.buildinFn(TT[t.operator])),e.put("("),e.node(t.left),e.put(","),e.node(t.right),e.put(")")}}function Kj(t,e){e.node(t.left),e.node(t.right)}function Zj(t,e){e.node(t.left),/^[a-z]/i.test(t.operator)?(e.put(" "),e.put(t.operator),e.put(" ")):e.put(t.operator),e.node(t.right)}var $g={};tt($g,{compile:()=>Jj,stringify:()=>tz,suggest:()=>Qj,walk:()=>ez});function Qj(t,e){t.body===null&&e.queryRoot(t.range[1])}function Jj(t,e){t.definitions.length?e.createScope(()=>{e.put("(()=>{"),e.list(t.definitions),e.put("return "),e.nodeOrCurrent(t.body),e.put("})()")},(n,r)=>n+r+";"):t.body&&t.body.type==="Object"?(e.put("("),e.nodeOrCurrent(t.body),e.put(")")):e.nodeOrCurrent(t.body)}function ez(t,e){e.list(t.definitions),e.nodeOrNothing(t.body)}function tz(t,e){e.list(t.definitions),e.nodeOrNothing(t.body)}var Yg={};tt(Yg,{compile:()=>iz,stringify:()=>rz,walk:()=>nz});var LT={"":"cmp",N:"cmpNatural",A:"cmpAnalytical",NA:"cmpNaturalAnalytical",AN:"cmpNaturalAnalytical"};function iz(t,e){t.order.startsWith("desc")&&e.put("-"),e.createScope(()=>{let n=LT[t.order.slice(3+t.order.startsWith("desc"))]||LT[""];e.put(e.buildinFn(n)),e.put("((_q=$=>("),e.node(t.query),e.put("))(a),_q(b))")},(n,r)=>n+r+",")}function nz(t,e){e.node(t.query)}function rz(t,e){e.node(t.query),e.put(" "),e.put(t.order)}var Xg={};tt(Xg,{compile:()=>oz,stringify:()=>az,walk:()=>sz});function oz(t,e){e.put(e.buildinFn("bool")),e.put("("),e.node(t.test),e.scope.captureCurrent.disabled=!0,e.put(")?"),e.node(t.consequent),e.put(":"),e.node(t.alternate),e.scope.captureCurrent.disabled=!1}function sz(t,e){e.node(t.test),e.node(t.consequent),e.node(t.alternate)}function az(t,e){e.node(t.test),e.put("?"),e.node(t.consequent),e.put(":"),e.node(t.alternate)}var Kg={};tt(Kg,{compile:()=>lz,stringify:()=>uz,walk:()=>cz});function lz(t,e){e.put("context")}function cz(){}function uz(t,e){e.put("#")}var Zg={};tt(Zg,{compile:()=>fz,stringify:()=>pz,suggest:()=>hz,walk:()=>dz});function hz(t,e){t.range&&e.range(t.range,"var")}function fz(t,e){e.put("$")}function dz(){}function pz(t,e){e.put("$")}var Qg={};tt(Qg,{compile:()=>gz,stringify:()=>yz,walk:()=>mz});function gz(t,e){e.put("data")}function mz(){}function yz(t,e){e.put("@")}var Jg={};tt(Jg,{compile:()=>vz,stringify:()=>bz,walk:()=>xz});function vz(t,e){t.name&&e.put("$"+t.name)}function xz(){}function bz(t,e){e.put(t.name?"$"+t.name:"$")}var em={};tt(em,{compile:()=>Sz,stringify:()=>Tz,suggest:()=>kz,walk:()=>Cz});function uh(t,e){return{type:"GetProperty",value:t,property:e}}function hh(t){return{type:"Identifier",name:t}}var wz=["data","context","ctx","array","idx","index"];function kz(t,e){t.value===null&&e.range(t.declarator.range,"path")}function Sz(t,e){if(t.declarator.name===null){e.node(t.declarator),e.nodeOrCurrent(t.value),e.put(";");return}if(e.scope.own.includes(t.declarator.name)){e.error(`Identifier "$${t.declarator.name}" has already been declared`,t.declarator);return}if(wz.includes(t.declarator.name)){e.error(`Identifier "$${t.declarator.name}" is reserved for future use`,t.declarator);return}e.put("const "),e.node(t.declarator),e.put("="),e.node(t.value||uh(null,hh(t.declarator.name))),e.put(";"),e.scope.push(t.declarator.name),e.scope.own.push(t.declarator.name)}function Cz(t,e){e.node(t.declarator),e.nodeOrNothing(t.value)}function Tz(t,e){e.node(t.declarator),t.value!==null&&(e.put(":"),e.node(t.value)),e.put(";")}var tm={};tt(tm,{compile:()=>Lz,stringify:()=>Mz,walk:()=>Az});function Lz(t,e){e.put(e.buildinFn("filter")),e.put("("),e.nodeOrCurrent(t.value),e.createScope(()=>{e.put(",$=>"),e.node(t.query)},(n,r)=>(e.put(")"),n+"("+r+",")),e.put(")")}function Az(t,e){e.nodeOrNothing(t.value),e.node(t.query)}function Mz(t,e){e.nodeOrNothing(t.value),e.put(".["),e.node(t.query),e.put("]")}var im={};tt(im,{compile:()=>Ez,stringify:()=>Oz,walk:()=>Pz});function Ez(t,e){e.createScope(()=>{e.scope.arg1=!0,e.put("function($){return "),e.node(t.body),e.put("}")},(n,r)=>n+r+",")}function Pz(t,e){e.node(t.body)}function Oz(t,e){t.legacy?(e.put("<"),e.node(t.body),e.put(">")):(e.put("=>"),e.node(t.body))}var nm={};tt(nm,{compile:()=>Dz,stringify:()=>Rz,suggest:()=>Nz,walk:()=>Iz});function Nz(t,e){e.range(t.property.range,"path",t.value||void 0,!t.value),t.value===null&&e.range(t.property.range,"var"),t.range&&t.value===null&&t.property.range[0]!==t.range[0]&&e.queryRoot(t.range[0])}function Dz(t,e){e.put(e.buildinFn("map")),e.put("("),e.nodeOrCurrent(t.value),e.put(","),t.property.type==="Identifier"?e.put(JSON.stringify(t.property.name)):e.node(t.property),e.put(")")}function Iz(t,e){e.nodeOrNothing(t.value),e.node(t.property)}function Rz(t,e){e.nodeOrNothing(t.value)&&e.put("."),e.node(t.property)}var rm={};tt(rm,{compile:()=>jz,stringify:()=>Bz,walk:()=>zz});function jz(t,e){e.put(t.name)}function zz(){}function Bz(t,e){e.put(t.name)}var om={};tt(om,{compile:()=>Fz,stringify:()=>Hz,walk:()=>_z});function Fz(t,e){e.put(typeof t.value=="string"?JSON.stringify(t.value):String(t.value))}function _z(){}function Hz(t,e){e.put(typeof t.value=="string"?JSON.stringify(t.value):String(t.value))}var sm={};tt(sm,{compile:()=>Wz,stringify:()=>Uz,walk:()=>qz});function Wz(t,e){e.put(e.buildinFn("map")),e.put("("),e.nodeOrCurrent(t.value),e.createScope(()=>{e.put(",$=>"),e.node(t.query)},(n,r)=>(e.put(")"),n+"("+r+",")),e.put(")")}function qz(t,e){e.nodeOrNothing(t.value),e.node(t.query)}function Uz(t,e){e.nodeOrNothing(t.value),e.put(".("),e.node(t.query),e.put(")")}var am={};tt(am,{compile:()=>Gz,stringify:()=>$z,walk:()=>Vz});function Gz(t,e){e.put(e.buildinFn("mapRecursive")),e.put("("),e.nodeOrCurrent(t.value),e.createScope(()=>{e.put(",$=>"),e.node(t.query)},(n,r)=>(e.put(")"),n+"("+r+",")),e.put(")")}function Vz(t,e){e.nodeOrNothing(t.value),e.node(t.query)}function $z(t,e){e.nodeOrNothing(t.value),e.put(".."),e.isSimpleGetPropertyQuery(t.query)||e.isSimpleMethodCallQuery(t.query)?e.node(t.query):(e.put("("),e.node(t.query),e.put(")"))}var lm={};tt(lm,{compile:()=>Xz,stringify:()=>Zz,suggest:()=>Yz,walk:()=>Kz});function Yz(t,e){t.arguments.length===0&&e.queryRoot(t.range[1]-1)}function Xz(t,e,n){e.tolerant&&e.put("(typeof "),t.reference.type==="Identifier"&&(e.usedMethods.has(t.reference.name)?e.usedMethods.get(t.reference.name).push(t.reference.range):e.usedMethods.set(t.reference.name,t.reference.range),e.put("m.")),e.node(t.reference),e.tolerant&&(e.put('==="function"?'),t.reference.type==="Identifier"&&e.put("m."),e.node(t.reference)),e.put("("),e.nodeOrCurrent(n),t.arguments.length&&(e.put(","),e.list(t.arguments,",")),e.put(")"),e.tolerant&&e.put(":undefined)")}function Kz(t,e){e.node(t.reference),e.list(t.arguments)}function Zz(t,e){e.node(t.reference),e.put("("),e.list(t.arguments,","),e.put(")")}var cm={};tt(cm,{compile:()=>Qz,stringify:()=>eB,walk:()=>Jz});function Qz(t,e){e.node(t.method,t.value)}function Jz(t,e){e.nodeOrNothing(t.value),e.node(t.method)}function eB(t,e){e.nodeOrNothing(t.value)&&e.put("."),e.node(t.method)}var um={};tt(um,{compile:()=>iB,stringify:()=>rB,suggest:()=>tB,walk:()=>nB});function tB(t,e){t.properties.length===0&&e.queryRoot(t.range[0]+1,t.range[1]-1)}function iB(t,e){e.put("{"),e.list(t.properties,","),e.put("}")}function nB(t,e){e.list(t.properties)}function rB(t,e){e.put("{"),e.list(t.properties,","),e.put("}")}var hm={};tt(hm,{compile:()=>aB,stringify:()=>cB,suggest:()=>sB,walk:()=>lB});var oB=new Set(["Literal","Identifier","Reference","Current"]);function sB(t,e){if(t.value===null)switch(t.key.type){case"Identifier":e.range(t.range,"path"),e.range(t.range,"var");break;case"Current":case"Reference":e.range(t.range,"var");break}}function aB(t,e){let n=t.value;switch(t.key.type){case"Current":return;case"Literal":e.node(t.key);break;case"Identifier":e.node(t.key),n=n||uh(null,hh(t.key.name));break;case"Reference":e.node(t.key.name),n=n||t.key;break;default:e.put("["),e.node(t.key),e.put("]")}e.put(":"),e.node(n)}function lB(t,e){e.node(t.key),e.nodeOrNothing(t.value)}function cB(t,e){if(oB.has(t.key.type)){if(e.node(t.key),t.value===null)return}else e.put("["),e.node(t.key),e.put("]");e.put(":"),e.node(t.value)}var fm={};tt(fm,{compile:()=>uB,stringify:()=>fB,walk:()=>hB});function uB(t,e){e.put("("),e.node(t.body),e.put(")")}function hB(t,e){e.node(t.body)}function fB(t,e){e.put("("),e.node(t.body),e.put(")")}var dm={};tt(dm,{compile:()=>pB,stringify:()=>mB,suggest:()=>dB,walk:()=>gB});function dB(t,e){if(t.getter===null){let n=t.range[1]-1;e.range([n,n],"key",t.value,!1),e.queryRoot(n)}else(t.getter.type==="GetProperty"||t.getter.type==="Reference"||t.getter.type==="Literal"&&typeof t.getter.value=="string")&&e.range(t.getter.range,"key",t.value,!1)}function pB(t,e){e.put(e.buildinFn("pick")),e.put("("),e.node(t.value),t.getter&&(e.put(","),e.node(t.getter)),e.put(")")}function gB(t,e){e.node(t.value),t.getter!==null&&e.node(t.getter)}function mB(t,e){e.node(t.value),e.put("["),t.getter!==null&&e.node(t.getter),e.put("]")}var pm={};tt(pm,{compile:()=>yB,stringify:()=>xB,walk:()=>vB});function yB(t,e){e.createScope(()=>{e.put("($=>("),e.node(t.right),e.put("))")},(n,r)=>n+r+";"),e.put("("),e.node(t.left),e.put(")")}function vB(t,e){e.node(t.left),e.node(t.right)}function xB(t,e){e.node(t.left),e.put("|"),e.node(t.right)}var gm={};tt(gm,{compile:()=>wB,stringify:()=>SB,suggest:()=>bB,walk:()=>kB});function bB(t,e){e.queryRoot(t.range[1])}function wB(t,e){e.put("$")}function kB(){}function SB(){}var mm={};tt(mm,{compile:()=>TB,stringify:()=>AB,suggest:()=>CB,walk:()=>LB});function CB(t,e){t.range&&e.range(t.range,"var")}function TB(t,e){if(!e.scope.includes(t.name.name)&&e.tolerant){e.put("(typeof $"),e.node(t.name),e.put('!=="undefined"?$'),e.node(t.name),e.put(":undefined)");return}e.put("$"),e.node(t.name)}function LB(t,e){e.node(t.name)}function AB(t,e){e.put("$"),e.node(t.name)}var ym={};tt(ym,{compile:()=>MB,stringify:()=>PB,walk:()=>EB});function MB(t,e){e.put(e.buildinFn("slice")),e.put("("),e.nodeOrCurrent(t.value),t.arguments.slice(0,3).forEach(n=>{e.put(","),n?e.node(n):e.put("undefined")}),e.put(")")}function EB(t,e){e.nodeOrNothing(t.value);for(let n of t.arguments.slice(0,3))n&&e.node(n)}function PB(t,e){let[n,r,s]=t.arguments;e.nodeOrNothing(t.value),e.put("["),n&&e.node(n),e.put(":"),r&&e.node(r),s&&(e.put(":"),e.node(s)),e.put("]")}var vm={};tt(vm,{compile:()=>OB,stringify:()=>DB,walk:()=>NB});function OB(t,e){e.put("(a, b)=>{let _q;return "),e.list(t.compares,"||"),e.put("||0}")}function NB(t,e){e.list(t.compares)}function DB(t,e){e.list(t.compares,",")}var xm={};tt(xm,{compile:()=>RB,stringify:()=>zB,suggest:()=>IB,walk:()=>jB});function IB(t,e){t.query===null&&e.queryRoot(t.range[1])}function RB(t,e){if(t.array){e.put("..."),e.put(e.buildinFn("ensureArray")),e.put("("),e.nodeOrCurrent(t.query),e.put(")");return}e.put("..."),e.nodeOrCurrent(t.query)}function jB(t,e){e.nodeOrNothing(t.query)}function zB(t,e){e.put("..."),e.nodeOrNothing(t.query)}var bm={};tt(bm,{compile:()=>FB,stringify:()=>HB,suggest:()=>BB,walk:()=>_B});function BB(t,e){for(let[n,r]of Object.entries(t.values))r===null&&e.queryRoot(t.values[Number(n)-1].range[1])}function FB(t,e){for(let[n,r]of Object.entries(t.values)){let s=Number(n);r!==null&&(s!==0&&e.put("+"),s%2===0?e.put('"'+AT(r.value,WB)+'"'):(e.put("("),e.node(r),e.put(")")))}}function _B(t,e){for(let n of t.values)n!==null&&e.node(n)}function HB(t,e){let n=t.values.length-1;for(let[r,s]of Object.entries(t.values)){let a=Number(r);a%2===0?(e.put(a===0?"`":"}"),e.put(AT(s.value,qB)),e.put(a===n?"`":"${")):s!==null&&e.node(s)}}var WB=new Map([["\b","\\b"],[`
`,"\\n"],["\r","\\r"],["\f","\\f"],["	","\\t"],["\v","\\v"],["\u2028","\\u2028"],["\u2029","\\u2029"],["\\","\\\\"],['"','\\"']]),qB=new Map([["\b","\\b"],["\f","\\f"],["	","\\t"],["\v","\\v"],["\\","\\\\"],["$","\\$"]]);function AT(t,e){let n="";for(let r=0;r<t.length;r++)n+=e.get(t[r])||t[r];return n}var wm={};tt(wm,{compile:()=>UB,stringify:()=>VB,walk:()=>GB});function UB(t,e){switch(t.operator){case"no":case"not":e.put("!"),e.put(e.buildinFn("bool")),e.put("("),e.node(t.argument),e.put(")");break;case"+":case"-":e.put(t.operator),e.node(t.argument);break;default:e.error('Unknown operator "'+t.operator+'"',t)}}function GB(t,e){e.node(t.argument)}function VB(t,e){e.put(t.operator),t.operator!=="-"&&t.operator!=="+"&&e.put(" "),e.node(t.argument)}var $B={Arg1:Ug,Array:Gg,Binary:Vg,Block:$g,Compare:Yg,Conditional:Xg,Context:Kg,Current:Zg,Data:Qg,Declarator:Jg,Definition:em,Filter:tm,Function:im,GetProperty:nm,Identifier:rm,Literal:om,Map:sm,MapRecursive:am,Method:lm,MethodCall:cm,Object:um,ObjectEntry:hm,Parentheses:fm,Pick:dm,Pipeline:pm,Placeholder:gm,Reference:mm,SliceNotation:ym,SortingFunction:vm,Spread:xm,Template:bm,Unary:wm},tc=t=>new Map(Object.entries($B).map(([e,n])=>[e,n[t]]).filter(([,e])=>typeof e=="function")),YB={};tc("build").forEach((t,e)=>YB[e]=t);var km=tc("compile"),Sm=tc("walk"),Cm=tc("stringify"),Tm=tc("suggest");function ic(t,e){function n(h){if(Sm.has(h.type))s(h),Sm.get(h.type)(h,r),a(h);else throw new Error('Unknown node type "'+h.type+'"')}let r={node:n,nodeOrNothing(h){h!==null&&n(h)},list(h){h.forEach(n)}},s=()=>{},a=()=>{};typeof e=="function"&&(e={enter:e}),e&&(typeof e.enter=="function"&&(s=e.enter),typeof e.leave=="function"&&(a=e.leave)),n(t)}function MT(t,e){return e>=0&&e<t.length&&/[a-zA-Z_$0-9]/.test(t[e])}function Lm(t,e){let n=t.charCodeAt(e);return n===9||n===10||n===13||n===32}function XB(t,e,n){for(;e<n;e++)if(!Lm(t,e))return!1;return!0}function KB(t,e,n,r,s){let a=[];for(let h=0;h<r.length;h++){let[f,g]=r[h];if(f>=e)break;f<t||(a.push(t,f),t=g)}return(t!==n.length||!s)&&a.push(t,e),a}function ZB(t,e,n,r){let s=[];for(let a=0;a<t.length;a++){let[h,f,g,p]=t[a];if(XB(e,h,f)){for(;h>=0&&Lm(e,h-1);)h--;for(;f<e.length&&Lm(e,f);)f++;if(MT(e,h-1)){if(h===f)continue;h++}if(MT(e,f)){if(h===f)continue;f--}}let m=KB(h,f,e,n,r);for(let x=0;x<m.length;x+=2)s.push([m[x],m[x+1],g,p])}return s}function QB(t){let e=null,n=[],r=Object.assign(new Map,{literalList:n}),s=(h,f)=>{r.has(h)?r.get(h).push(f):r.set(h,[f])},a={range(h,f,g=e,p=!0){s(g,[...h,f,p])},literalList(h){let f="l"+n.length;return n.push([f,h]),f},queryRoot(h,f=h){s(e,[h,f,"var",!0]),s(e,[h,f,"path",!0])}};return ic(t,h=>{if(Tm.has(h.type)){let f=e;e=h,Tm.get(h.type)(h,a),e=f}}),r}function fh(t,{ast:e,commentRanges:n}){let r=QB(e),s=n.length&&n[n.length-1][1]===t.length&&!/[\r\n]$/.test(t);for(let[a,h]of r)r.set(a,ZB(h,t,n,s));return r}function JB(t){return t.type==="GetProperty"}function eF(t){return t.type==="MethodCall"}function dh(t){function e(s){if(Cm.has(s.type))Cm.get(s.type)(s,r);else throw new Error('Unknown node type "'+s.type+'"')}let n=[],r={isSimpleGetPropertyQuery:JB,isSimpleMethodCallQuery:eF,put(s){n.push(s)},node:e,nodeOrNothing(s){if(s!==null)return e(s),!0},list(s,a){if(!a){s.forEach(e);return}s.forEach((h,f)=>{f>0&&r.put(a),e(h)})}};return e(t),n.join("")}var Zn=Object.hasOwnProperty,tF=Object.prototype.toString;function Ys(t,e){return e!==void 0&&(Array.isArray(e)?e.forEach(n=>t.add(n)):t.add(e)),t}function ET(t,e){return t&&Zn.call(t,e)?t[e]:void 0}function Ur(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function ph(t){return tF.call(t)==="[object RegExp]"}function PT(t){return t&&Zn.call(t,"length")}function Am(t,e,n){let r=Object.assign(Object.create(SyntaxError.prototype),n),s=new Error;return r.name=t,r.message=e,Object.defineProperty(r,"stack",{get:function(){return(s.stack||"").replace(/^(.+\n){1,3}/,t+": "+e+`
`)}}),r}function gh(t,e=!1,n=null){function r(T){let M="s"+g.length;return g.push(T?[M,T]:[M]),M}function s(T){let M=p.get(T);return M||p.set(T,M=r()),M}function a(T,M,L,A,E){let D=[T,M,JSON.stringify(L)];if(L==="var"){if(!b.scope.length)return;D.push(JSON.stringify(b.scope))}else A||(A=r()),D.push(A),E&&D.push(typeof E=="string"?E:s(E));return x.push(D),A}function h(T,M){let L=b.scope,A=v.length;if(b.scope=b.scope.slice(),b.scope.own=[],b.scope.firstCurrent=null,b.scope.captureCurrent=[],b.scope.arg1=L.arg1||!1,T(),b.scope.captureCurrent.length){let D="stat("+b.scope.captureCurrent.reduce((B,z)=>a(...z,B),void 0)+",$)";b.scope.firstCurrent?v[b.scope.firstCurrent]=D:v[A]=M(v[A],D)}b.scope=L}function f(T,M){let L=!1;if(n!==null){if(n.has(T))for(let[A,E,D,B]of n.get(T))D==="var"?a(A,E,D):B===!0?b.scope.captureCurrent.push([A,E,D]):(L||(L=s(T),v.push("stat("+L+",")),D&&a(A,E,D,L,B));T.type==="Current"&&b.scope.firstCurrent===null&&b.scope.captureCurrent.disabled!==!0&&(b.scope.firstCurrent=v.length)}if(km.has(T.type))km.get(T.type)(T,b,M);else throw new Error('Unknown node type "'+T.type+'"');L&&v.push(")")}let g=[],p=new WeakMap,m=[],x=[],v=["((data,context)=>{","const $=data;",{toString(){return m.length>0?"let "+m+`;
`:""}},{toString(){return g.length>0?[`const stat=(s,v)=>(s.add(v),v);
`,"const "+g.map(([T,M])=>T+"=new Set("+(M?JSON.stringify(M):"")+")")+`;
`].join(""):""}},{toString(){let T=n&&Array.isArray(n.literalList)&&n.literalList.map(([M,L])=>M+"="+JSON.stringify(L));return T&&T.length?"const "+T+`;
`:""}},"return "],C={},w=new Set,b={tolerant:e,usedMethods:new Map,buildinFn(T){return w.add(T),"f."+T},scope:[],createScope:h,error:(T,M)=>{let L=new SyntaxError(T);if(M&&M.range&&(L.details={loc:{range:M.range}}),!e)throw L},allocateVar(){let T="tmp"+m.length;return m.push(T),T},put:T=>v.push(T),node:f,nodeOrCurrent(T,M){f(T||{type:"Current"},M)},list(T,M,L){T.forEach((A,E)=>{E>0&&v.push(M),f(A,L)})}};if(h(()=>f(t),(T,M)=>(v.push(")"),"("+M+","+T)),!e&&b.usedMethods.size){let{usedMethods:T}=b;v.unshift(" this.assertMethods(m)||"),C.assertMethods=function(M){for(let[L,A]of T.entries())if(!Zn.call(M,L))return()=>{throw Object.assign(new Error(`Method "${L}" is not defined`),{details:{loc:{range:A}}})}}}n!==null&&v.push(`
,[`+x.map(T=>"["+T+"]")+"]");try{let T=new Function("f,m","return"+v.join("")+"})");return Object.assign(T.bind(C),{toString(){return T.toString().replace(/^(\S+\s+)anonymous([^)\s]+)\s*\)/,"$1query$2)")}})}catch(T){throw Am("SyntaxError","Jora query compilation error",{compiledSource:v.join(""),details:T})}}var Ji=(t,e)=>e<t.length?t.charCodeAt(e):0,mh=t=>t===43||t===45,yo=t=>t>=48&&t<=57,Mm=t=>t===9||t===10||t===12||t===13||t===32,Em=t=>t>32&&t<256&&(t<65||t>90)&&(t<97||t>122)&&(t<48||t>57)&&t!==43&&t!==45||t===8470;function iF(t,e,n){return mh(t)?yo(e)?2:e===46&&yo(n)?3:0:yo(t)?1:0}function Pm(t,e){for(;yo(Ji(t,e));)e++;return e}function nF(t,e,n){let r=Ji(t,e);if(mh(r)&&(r=Ji(t,e+=1)),yo(r)&&(e=Pm(t,e+1),r=Ji(t,e)),r===46&&yo(Ji(t,e+1))){if(n)return e;let s=e+2;if(s=Pm(t,s),Ji(t,s)===46)return e;e=s}if(r=Ji(t,e),r===69||r===101){let s=0;r=Ji(t,e+1),mh(r)&&(s=1,r=Ji(t,e+2)),yo(r)&&(e=Pm(t,e+1+s+1))}return e}function OT(t,e,n,r){if(e>=t.length)return 0;let s=Ji(t,e);if(Mm(s)){let g=e+1;for(;Mm(Ji(t,g));)g++;return 1|g-e<<3}if(Em(s)||r&&mh(s)){let g=e+1,p=s;do s=p,p=Ji(t,g++);while(Em(p)||p===s);return 2|g-e-1<<3}let a=Ji(t,e+1),h=Ji(t,e+2);if(iF(s,a,h))return 3|nF(t,e,n)-e<<3;let f=e;do s=a,a=h,h=Ji(t,3+f++);while(f<t.length&&!Mm(s)&&!Em(s)&&!yo(s));return 4|f-e<<3}function NT(t,e,n){let r=0,s=0,a=!1,h=!1,f=0,g=0,p=!0;do{let m=OT(t,r,a,h),x=OT(e,s,a,h),v=m&7,C=m>>3,w=x&7,b=x>>3;if(v!==w&&p){if((v===1||v===2)&&(w===3||w===4)){f=1,g=v,r+=C;continue}if((w===1||w===2)&&(v===3||v===4)){f=-1,g=w,s+=b;continue}}if(p=!1,v!==w)return v<w?-1:1;if(a=!1,h=!1,v===0)return f;let T=C<b?C:b,M=C-b,L=0;for(;L<T;L++){let A=t[r+L],E=e[s+L];if(A!==E){M=A<E?-1:1;break}}if(v===1||v===2)M!==0&&(f===0||v>g)&&(g=v,f=M),a=t[r+C-1]===".";else if(v===3){if(h=!0,M!==0){let A=t.substr(r,C)-e.substr(s,b);if(A!==0)return n?-A:A;if(f===0||v>g){let E=Ji(t,r),D=Ji(e,s),B=E===45?-1:1;g=v,f=E!==D&&(E===45||D===43)?-1:E!==D&&(E===43||D===45)?1:(C!==b?C<b:M<0)?-B:B,n&&(f=-f)}}}else{if(M!==0){if(L<T){let A=t[r+L].toLowerCase(),E=e[s+L].toLowerCase();if(A!==E)return A<E?-1:1}return M}a=t[r+C-1]==="."}r+=C,s+=b}while(!0)}function DT(t,e){let n=typeof t,r=typeof e,s=0;return(n==="number"||n==="string")&&(r==="number"||r==="string")&&(s=Math.sign(NT(String(t),String(e),!1))),s}function IT(t,e){let n=typeof t,r=typeof e,s=0;return(n==="number"||n==="string")&&(r==="number"||r==="string")&&(s=Math.sign(NT(String(t),String(e),!0))),s}var rF=1,oF=2,Xs=3,nc=4,sF=5,aF=6,lF=7,cF=8;function vo(t){switch(typeof t){case"boolean":return rF;case"number":return t!==t?oF:Xs;case"string":return nc;case"object":return t===null?sF:aF;case"undefined":return cF;default:return lF}}var Tn=Object.freeze({ensureArray:uF,bool:_o,and:(t,e)=>_o(t)?e:t,or:(t,e)=>_o(t)?t:e,add:hF,sub:fF,mul:dF,div:pF,mod:gF,eq:mF,ne:yF,lt:vF,lte:xF,gt:bF,gte:wF,in:yh,notIn:(t,e)=>!yh(t,e),has:(t,e)=>yh(e,t),hasNo:(t,e)=>!yh(e,t),cmp:kF,cmpAnalytical:SF,cmpNatural:CF,cmpNaturalAnalytical:TF,match:LF,pick:AF,map:Om,mapRecursive:MF,some:Nm,filter:EF,slice:PF});function uF(t){return Array.isArray(t)?t:[t]}function _o(t){if(Array.isArray(t))return t.length>0;if(Ur(t)){for(let e in t)if(Zn.call(t,e))return!0;return!1}return Boolean(t)}function hF(t,e){return Array.isArray(t)||Array.isArray(e)?[...new Set([].concat(t,e))]:t+e}function fF(t,e){if(Array.isArray(t)){let n=new Set(t);return Array.isArray(e)?e.forEach(r=>n.delete(r)):n.delete(e),[...n]}return t-e}function dF(t,e){return t*e}function pF(t,e){return t/e}function gF(t,e){return t%e}function mF(t,e){return Object.is(t,e)}function yF(t,e){return!Object.is(t,e)}function vF(t,e){return t<e}function xF(t,e){return t<=e}function bF(t,e){return t>e}function wF(t,e){return t>=e}function yh(t,e){return Ur(e)?Zn.call(e,t):e&&typeof e.indexOf=="function"?e.indexOf(t)!==-1:!1}function kF(t,e){let n=vo(t),r=vo(e);return n!==r?n<r?-1:1:t<e?-1:t>e?1:0}function SF(t,e){let n=vo(t),r=vo(e);return n!==r?n<r?-1:1:n===Xs?e-t:t<e?-1:t>e?1:0}function CF(t,e){let n=vo(t),r=vo(e);return(n===Xs||n===nc)&&(r===Xs||r===nc)?DT(t,e):n!==r?n<r?-1:1:t<e?-1:t>e?1:0}function TF(t,e){let n=vo(t),r=vo(e);return(n===Xs||n===nc)&&(r===Xs||r===nc)?IT(t,e,!0):n!==r?n<r?-1:1:t<e?-1:t>e?1:0}function LF(t,e){return typeof e=="function"?Nm(t,e):ph(e)?Nm(t,e.test.bind(e)):e==null}function AF(t,e=()=>!0){if(t){if(typeof e=="function"){if(Array.isArray(t)||typeof t=="string"){for(let n=0;n<t.length;n++)if(e(t[n],n))return t[n]}for(let n in t)if(Zn.call(t,n)&&e(t[n],n))return t[n];return}return Array.isArray(t)||typeof t=="string"?isFinite(e)?t[e<0?t.length+Number(e):Number(e)||0]:void 0:Zn.call(t,e)?t[e]:void 0}}function Om(t,e){let n=typeof e=="function"?e:r=>ET(r,e);return Array.isArray(t)?[...t.reduce((r,s)=>Ys(r,n(s)),new Set)]:t!==void 0?n(t):t}function MF(t,e){let n=new Set;return Ys(n,Om(t,e)),n.forEach(r=>Ys(n,Om(r,e))),[...n]}function Nm(t,e){return Array.isArray(t)?t.some(n=>_o(e(n))):_o(e(t))}function EF(t,e){return Array.isArray(t)?t.filter(n=>_o(e(n))):_o(e(t))?t:void 0}function PF(t,e=0,n=t&&t.length,r=1){if(!PT(t))return[];if(e=parseInt(e,10)||0,n=parseInt(n,10)||t.length,r=parseInt(r,10)||1,r!==1){let s=[];e=e<0?Math.max(0,t.length+e):Math.min(t.length,e),n=n<0?Math.max(0,t.length+n):Math.min(t.length,n);for(let a=r>0?e:n-1;a>=e&&a<n;a+=r)s.push(t[a]);return s}return typeof t=="string"?t.slice(e,n):Array.prototype.slice.call(t,e,n)}function OF(){}function NF(t){return t}function RT(t){return{matched:t.slice(),start:t.index,end:t.index+t[0].length,input:t.input,groups:t.groups||null}}var DF=jT(20)?1/0:jT(10)?10:0;function jT(t){return Array.from({length:t},(e,n)=>({idx:n})).sort((e,n)=>e.idx%2-n.idx%2).every((e,n)=>n<t/2?e.idx>>1===n:Math.ceil(t/2)+(e.idx>>1)===n)}function IF(t,e){return t.length<=DF?t.slice().sort(e):t.map((n,r)=>({value:n,idx:r})).sort((n,r)=>(n.value===void 0?r.value!==void 0:r.value===void 0?-1:e(n.value,r.value))||n.idx-r.idx).map(n=>n.value)}var rc=Object.freeze({bool:Tn.bool,filter:Tn.filter,map:Tn.map,pick:Tn.pick,keys(t){return Object.keys(t||{})},values(t){let e=new Set;for(let n in t)Zn.call(t,n)&&Ys(e,t[n]);return[...e]},entries(t){let e=[];for(let n in t)Zn.call(t,n)&&e.push({key:n,value:t[n]});return e},fromEntries(t){let e={};return Array.isArray(t)&&t.forEach(n=>{n&&(e[n.key]=n.value)}),e},size(t){return Ur(t)?Object.keys(t).length:t&&t.length||0},sort(t,e){let n;return Array.isArray(t)?(typeof e=="function"?n=e.length===2?e:(r,s)=>{if(r=e(r),s=e(s),Array.isArray(r)&&Array.isArray(s)){if(r.length!==s.length)return r.length<s.length?-1:1;for(let a=0;a<r.length;a++){if(r[a]<s[a])return-1;if(r[a]>s[a])return 1}return 0}return r<s?-1:r>s}:n=Tn.cmp,IF(t,n)):t},reverse(t){return Array.isArray(t)?t.slice().reverse():t},slice(t,e,n){return Tn.slice(t,e,n)},group(t,e,n){typeof e!="function"&&(e=OF),typeof n!="function"&&(n=NF),Array.isArray(t)||(t=[t]);let r=new Map,s=[];return t.forEach(a=>{let h=e(a);Array.isArray(h)||(h=[h]),h.forEach(f=>{r.has(f)?r.get(f).add(n(a)):r.set(f,new Set([n(a)]))})}),r.forEach((a,h)=>s.push({key:h,value:[...a]})),s},split(t,e){return String(t).split(e)},join(t,e){return Array.isArray(t)?t.join(e):String(t)},match(t,e,n){let r=String(t),s=ph(e)?e.flags:"";if(n||s.includes("g")){let h=[],f=new RegExp(e,(s||"").replace(/g|$/,"g")),g;for(;g=f.exec(r);)h.push(RT(g));return h}let a=r.match(e);return a&&RT(a)},reduce(t,e,n=void 0){return Array.isArray(t)?n!==void 0?t.reduce((r,s)=>e(s,r),n):t.reduce((r,s)=>e(s,r)):e(t,n)}});var RF=(t,e)=>t-e,jF=()=>!0,Ks=class{constructor(e,n,r){this.maxSize=e||1/0,this.compare=n||RF,this.accept=r||jF,this.values=[]}add(e){let n=this.values.length+1;if(n>this.maxSize)this.compare(this.values[0],e)>0&&this.accept(e)&&(this.values[0]=e,this.heapify(0));else if(this.accept(e)&&(this.values.push(e),n===this.maxSize))for(let r=n-1;r>=0;r--)this.heapify(r)}heapify(e){let n=this.values.length;if(e>=n>>1)return;let r=2*e+1,s=2*e+2,a=this.values[e],h=this.compare(this.values[r],a)>0?r:e;s<n&&this.compare(this.values[s],this.values[h])>0&&(h=s),h!==e&&(this.values[e]=this.values[h],this.values[h]=a,this.heapify(h))}[Symbol.iterator](){return this.values.slice().sort(this.compare)[Symbol.iterator]()}};var zF={path:"property",key:"value",value:"value","in-value":"value","value-subset":"value",var:"variable"};function vh(t,e){Object.keys(t).forEach(e.add,e)}function BF(t,e,n,r=new Set){let s=a=>{switch(typeof a){case"string":case"number":r.add(a);break}};switch(t){case"path":{let a=new Set;for(let h of e)if(Array.isArray(h))for(let f of h)Ur(f)&&vh(f,a);else Ur(h)&&vh(h,a);a.forEach(r.add,r);break}case"key":{let a=new Set;for(let h of e)h!==null&&typeof h=="object"&&!Array.isArray(h)&&vh(h,a);a.forEach(r.add,r);break}case"value":for(let a of e)s(a);break;case"in-value":{let a=new Set;for(let h of e)Array.isArray(h)?h.forEach(s):Ur(h)&&vh(h,a);a.forEach(r.add,r);break}case"var":for(let a of e)r.add("$"+a);break;case"value-subset":{let a=new Set(n);for(let h of e)a.has(h)||s(h);break}}return r}function zT(t,e,n,r=!1){let s=[];for(let[a,h,f,g,p=null]of n)if(e>=a&&e<=h&&(r||g.size||g.length)){let m=t.substring(a,h);/\S/.test(m)||(a=h=e,m=""),s.push({context:f,from:a,to:h,text:m,values:g,related:p})}return s}function BT(t,e){return typeof t=="function"?t:t===!0?e:!1}function FT(t){if(/^(["']).*\1$/.test(t))try{return t[0]==="'"&&(t=`"${t.slice(1,-1).replace(/\\.|"/g,e=>e==="\\'"?"'":e==='"'?'\\"':e)}"`),JSON.parse(t)}catch{}return t}function FF(t){return e=>(typeof e=="string"?e:String(e)).toLowerCase().indexOf(t)!==-1}var Dm=(t,e)=>({stat(n,r){return zT(t,n,e,r)},suggestion(n,r){let{limit:s=1/0,sort:a,filter:h}=r||{};a=BT(a,Tn.cmp),h=BT(h,FF);let f=a&&isFinite(s)?Ks:Set,g=zT(t,n,e),p=new Map,m=[];for(let x of g){let{context:v,text:C,from:w,to:b,values:T,related:M}=x,L=zF[v];if(!p.has(L)){let E;switch(f){case Ks:E=new Ks(s,a,h&&h(FT(C)));break;case Set:E=new Set;break}p.set(L,{type:L,from:w,to:b,text:C,suggestions:E})}let{suggestions:A}=p.get(L);BF(v,T,M,A)}if(f===Set)for(let x of p.values()){let{suggestions:v}=x;if(a&&(v=[...v].sort(a)),h||isFinite(s)){let C=[],w=h?h(FT(x.text)):()=>!0;for(let b of v)if(w(b)&&C.push(b)>=s)break;v=C}x.suggestions=v}for(let x of p.values())x.suggestions=Array.isArray(x.suggestions)?x.suggestions:[...x.suggestions],x.suggestions.length&&m.push(x);return m.length?m:null}});var _F=new Map,HF=new Map,WF=new Map,qF=new Map;function UF(t,e){console.log(`[${t}]`),typeof e=="string"?console.log(e):e!==void 0&&console.dir(e,{depth:null}),console.log()}function Im(t,e,n,r){r=typeof r=="function"?r:Boolean(r)?UF:!1,r&&(r("========================="),r("Compile query from source",t));let s=lh.parse(t,n);r&&(r("AST",s.ast),r("Restored source",dh(s.ast)));let a=e?fh(t,s):null;if(r&&a){let f=x=>JSON.stringify(x).slice(1,-1),g=[].concat(...[...a.entries()].map(([x,v])=>v.map(C=>[x,...C]))),p=[],m=null;r("Stat/suggestion ranges",g.sort((x,v)=>x[1]-v[1]).map(([x,...v])=>{let[C,w,b,T]=v,M;if(C===p[0]&&w===p[1])M=" ".repeat(m.length);else{let L=f(t.slice(0,C)).length,A=f(t.substring(C,w)).length;p=v,m=" ".repeat(L)+(A?"~".repeat(A):"\\")+" "+C+":"+w,M=f(t)+`
`+m}return M+" ["+b+"] on "+x.type+(T===!0?" (current)":T&&T.type?" & "+T.type:"")}).join(`
`))}let h=gh(s.ast,n,a);return r&&r("Compiled code",h.toString()),h}function GF(t,e){e=e||{};let n=Boolean(e.stat),r=Boolean(e.tolerant),s=e.methods?{...rc,...e.methods}:rc,a=n?r?qF:HF:r?WF:_F,h;return t=String(t),a.has(t)&&!e.debug?h=a.get(t):(h=Im(t,n,r,e.debug),a.set(t,h)),h=h(Tn,s),n?(f,g)=>Dm(t,h(f,g)):h}function VF(t){let e=new Map,n=new Map,r=new Map,s=new Map,a={...rc};for(let[h,f]of Object.entries(t||{}))typeof f=="string"?Object.defineProperty(a,h,{configurable:!0,get(){let g=Im(f)(Tn,a),p=m=>g(m,null);return Object.defineProperty(a,h,{value:p}),p}}):a[h]=f;return function(f,g){g=g||{};let p=Boolean(g.stat),m=Boolean(g.tolerant),x=p?m?s:n:m?r:e,v;if(f=String(f),x.has(f)&&!g.debug)v=x.get(f);else{let C=Im(f,p,m,g.debug)(Tn,a);v=p?(w,b)=>Dm(f,C(w,b)):C,x.set(f,v)}return v}}var Gr=Object.assign(GF,{version:nT,buildin:Tn,methods:rc,setup:VF,syntax:{tokenize:lh.tokenize,parse:lh.parse,suggest:fh,walk:ic,stringify:dh,compile:gh}});function Rm(t){let e=new Jl,n=[],r=[],s=(m,x)=>e.lookup(m,x),a=m=>e.lookupAll(m),h=(m,x=!1)=>{typeof x=="boolean"&&(x={debug:x}),r.push({query:m,...x})},f=m=>{let x=[],v=typeof m;if(m&&(v==="object"||v==="string"))for(let C of n){let w=C(m);w&&x.push(w)}return x.length?x:null},g={query:(...m)=>t.query(...m),pageLink:(m,x,v)=>t.encodePageHash(x,m,v),marker:s,markerAll:a},p=Gr.setup(g);return{apply(){Object.assign(t,{objectMarkers:e,linkResolvers:n,resolveValueLinks:f,annotations:r,queryFnFromString:p})},methods:{rejectData(m,x){throw Object.assign(new Error(m),{renderContent:x})},lookupObjectMarker:s,lookupObjectMarkerAll:a,resolveValueLinks:f,defineObjectMarker(m,x){let{page:v,mark:C,lookup:w}=e.define(m,x)||{};if(!w)return()=>{};if(v!==null){if(!t.page.isDefined(x.page)){console.error(`[Discovery] Page reference "${x.page}" doesn't exist`);return}n.push(b=>{let T=w(b);if(T!==null)return{type:v,text:T.title,href:T.href,entity:T.object}}),h((b,T)=>{let M=w(b);if(M&&M.object!==T.host)return{place:"before",style:"badge",text:v,href:M.href}})}else h((b,T)=>{let M=w(b);if(M&&M.object!==T.host)return{place:"before",style:"badge",text:m}});return C},addValueAnnotation:h,addQueryHelpers(m){p=Gr.setup(g={...g,...m})},query(m,...x){return t.queryFn.call({queryFnFromString:p},m)(...x)}}}}var _T=new WeakMap,HT=["variable","property","value","method"],$F=(t,e)=>HT.indexOf(t.type)-HT.indexOf(e.type),YF=t=>(t=t.toLowerCase(),e=>e!==t&&(typeof e=="string"?e:String(e)).toLowerCase().indexOf(t)!==-1);function XF(t,e){return typeof t!="string"?String(t):(t=JSON.stringify(t),e[0]!=="'"?t:`'${t.slice(1,-1).replace(/\\.|'/g,n=>n==='\\"'?'"':n==="'"?"\\'":n)}'`)}function KF(t,e,n){if(e===n)return!0;let r=t.stat(e)||[],s=t.stat(n)||[];if(r.length!==s.length)return!1;for(let a=0;a<r.length;a++){let h=r[a],f=s[a];for(let g of Object.keys(h))if(h[g]!==f[g])return!1}return!0}function WT(t,e,n,r,s){try{let a=_T.get(t);if(!a||a.query!==e||a.data!==r||a.context!==s){let f={tolerant:!0,stat:!0};_T.set(t,a={query:e,data:r,context:s,offset:-1,suggestions:null,api:null}),a.api=t.queryFnFromString(e,f)(r,s)}if(a.api===null)return null;if(a.offset!==-1&&KF(a.api,a.offset,n))return a.suggestions;let h=a.api.suggestion(a.offset=n,{sort:!0,filter:YF,limit:50});if(h){a.suggestions=[];for(let f of h.sort($F))a.suggestions.push(...f.suggestions.map(g=>({type:f.type,from:f.from,to:f.to,text:f.text,value:f.type==="value"?XF(g,f.text):g})))}else a.suggestions=null;return a.suggestions}catch(a){console.groupCollapsed("[Discovery] Error on getting suggestions for query"),console.error(a),console.groupEnd();return}}var qT=new WeakMap,Zs=new WeakMap,ZF=t=>t,QF=t=>Object.fromEntries(t);function jm(t,e,n){n?t.dataset[e]=n:delete t.dataset[e]}function JF(t,e,n,r){let s=t.page.get(e);return s&&Object.hasOwnProperty.call(s.options,n)?s.options[n]:r}function UT(t,e,n,r){let s=JF(t,e,n,r);return typeof s=="function"?s:r}var Ho=class extends sr{constructor(e={}){super(),this.lib=zm,this.options=e||{},this.actions={};let{darkmode:n="disabled",darkmodePersistent:r=!1,defaultPageId:s,reportPageId:a,extensions:h,inspector:f=!1}=this.options;this.darkmode=new Xu(n,r),this.inspectMode=new In(!1),this.initDom(),this.view=new Ml(this),this.nav=new Ku(this),this.preset=new El(this.view),this.page=new Pl(this),this.page.on("define",(g,p)=>{let{resolveLink:m}=p.options;if(typeof m<"u"&&console.warn('"resolveLink" in "page.define()" options is deprecated, use "page" option for "defineObjectMarker()" method in prepare function'),this.pageId===g&&this.pageHash!=="#"){let x=this.pageHash;this.pageHash="#",this.setPageHash(x),this.cancelScheduledRender()}}),Zs.set(this,new Set),this.dataLoaded=!1,this.data=void 0,this.context=void 0,this.prepare=g=>g,Rm(this).apply(),this.defaultPageId=s||"default",this.reportPageId=a||"report",this.pageId=this.defaultPageId,this.pageRef=null,this.pageParams={},this.pageHash=this.encodePageHash(this.pageId,this.pageRef,this.pageParams),this.apply(Ul),this.apply(Xl),this.options.defaultPage&&this.page.define(this.defaultPageId,this.options.defaultPage),h&&this.apply(h),f&&this.apply(Gu),this.nav.render(this.dom.nav,this.data,this.getRenderContext()),this.setContainer(this.options.container)}apply(e){Array.isArray(e)?e.forEach(n=>this.apply(n)):typeof e=="function"?e.call(window,this):e?this.apply(Object.values(e)):console.error("Bad type of extension:",e)}setPrepare(e){if(typeof e!="function")throw new Error("An argument should be a function");this.prepare=e}setData(e,n={},r){r=r||{};let s=Date.now(),a=Rm(this),h=()=>{if(qT.get(this)!==f)throw new Error("Prevented by another setData()")},f=Promise.resolve().then(()=>(h(),this.prepare(e,a.methods)||e)).then(g=>{h(),this.dataLoaded=!0,this.data=g,this.context={...n,data:g},a.apply(),this.emit("data"),console.log(`[Discovery] Data prepared in ${Date.now()-s}ms`)});return qT.set(this,f),(!("render"in r)||r.render)&&f.then(()=>{this.scheduleRender("sidebar"),this.scheduleRender("page")}),f}async setDataProgress(e,n,r={setState(){},finish(){}}){await r.setState({stage:"prepare"}),await this.setData(e,n,{render:!1}),await r.setState({stage:"initui"}),this.scheduleRender("sidebar"),this.scheduleRender("page"),await Promise.all([this.dom.wrapper.parentNode?this.dom.ready:!0,Zs.get(this).timer]),await r.finish()}unloadData(){this.dataLoaded&&(this.dataLoaded=!1,this.data=void 0,this.context=void 0,this.scheduleRender("sidebar"),this.scheduleRender("page"))}addEntityResolver(){console.error('[Discovery] "Widget#addEntityResolver()" method was removed, use "defineObjectMarker()" instead, i.e. setPrepare((data, { defineObjectMarker }) => objects.forEach(defineObjectMarker(...)))')}addValueLinkResolver(){console.error('[Discovery] "Widget#addValueLinkResolver()" method was removed, use "defineObjectMarker()" with "page" option instead, i.e. setPrepare((data, { defineObjectMarker }) => objects.forEach(defineObjectMarker("marker-name", { ..., page: "page-name" })))')}resolveValueLinks(){return null}queryFn(e){switch(typeof e){case"function":return e;case"string":return this.queryFnFromString(e)}}query(e,n,r){switch(typeof e){case"function":return e(n,r);case"string":return this.queryFn(e)(n,r);default:return e}}queryBool(...e){return Gr.buildin.bool(this.query(...e))}queryToConfig(e,n){let{ast:r}=Gr.syntax.parse(n),s={view:e};if(r.type!=="Block")throw new SyntaxError('[Discovery] Widget#queryToConfig(): query root must be a "Block"');if(r.body.type!=="Object")throw new SyntaxError('[Discovery] Widget#queryToConfig(): query root must return an "Object"');for(let a of r.body.properties){if(a.type!=="ObjectEntry")throw new SyntaxError('[Discovery] Widget#queryToConfig(): unsupported object entry type "'+a.type+'"');let h;switch(a.key.type){case"Literal":h=a.key.value;break;case"Identifier":h=a.key.name,a.value=a.value||a.key;break;case"Reference":h=a.key.name.name,a.value=a.value||a.key;break;default:throw new SyntaxError('[Discovery] Widget#queryToConfig(): unsupported object key type "'+a.key.type+'"')}if(h==="view"||h==="postRender")throw new SyntaxError('[Discovery] Widget#queryToConfig(): set a value for "'+h+'" property in shorthand notation is prohibited');h==="when"||h==="data"||h==="whenData"?s[h]=a.value.type==="Literal"&&typeof a.value.value!="string"?a.value.value:Gr.syntax.stringify(a.value):s[h]=a.value.type==="Literal"&&(typeof a.value.value!="string"||a.value.value[0]!=="=")?a.value.value:"="+Gr.syntax.stringify(a.value)}return s}querySuggestions(e,n,r,s){return WT(this,e,n,r,s)}pathToQuery(e){return e.map((n,r)=>n==="*"?r===0?"values()":".values()":typeof n=="number"||!/^[a-zA-Z_][a-zA-Z_$0-9]*$/.test(n)?r===0?`$[${JSON.stringify(n)}]`:`[${JSON.stringify(n)}]`:r===0?n:"."+n).join("")}getQueryEngineInfo(){return{name:"jora",version:Gr.version,link:"https://github.com/discoveryjs/jora"}}addQueryHelpers(){console.error('[Discovery] "Widget#addQueryHelpers()" method was removed, use "addQueryHelpers()" instead, i.e. setPrepare((data, { addQueryHelpers }) => addQueryHelpers(...))')}initDom(){let e=je("div","discovery init"),n=e.attachShadow({mode:"open"}),r=Kl(n,this.options.styles),s=n.appendChild(je("div"));this.dom={},this.dom.ready=Promise.all([r]),this.dom.wrapper=e,this.dom.root=n,this.dom.container=s,s.classList.add("discovery-root","discovery"),s.append(this.dom.nav=je("div","discovery-nav discovery-hidden-in-dzen"),this.dom.sidebar=je("nav","discovery-sidebar discovery-hidden-in-dzen"),this.dom.content=je("main","discovery-content",[this.dom.pageContent=je("article")])),this.dom.detachDarkMode=this.darkmode.subscribe(a=>s.classList.toggle("discovery-root-darkmode",a),!0),this.dom.ready.then(()=>{getComputedStyle(this.dom.wrapper).opacity,this.dom.wrapper.classList.remove("init")})}setContainer(e){e instanceof Node?e.append(this.dom.wrapper):this.dom.wrapper.remove()}disposeDom(){typeof this.dom.detachDarkMode=="function"&&(this.dom.detachDarkMode(),this.dom.detachDarkMode=null),this.dom.container.remove(),this.dom=null}addGlobalEventListener(e,n,r){return document.addEventListener(e,n,r),()=>document.removeEventListener(e,n,r)}addHostElEventListener(e,n,r){let s=this.dom.container;return s.addEventListener(e,n,r),()=>s.removeEventListener(e,n,r)}addBadge(){console.error("Widget#addBadge() is obsoleted, use Widget#nav API instead")}scheduleRender(e){let n=Zs.get(this);if(!n.has(e)&&(n.add(e),!n.timer))return n.timer=Promise.resolve().then(async()=>{for(let r of n)switch(r){case"sidebar":await this.renderSidebar();break;case"page":await this.renderPage();break}n.timer=null}),n.timer}cancelScheduledRender(e){let n=Zs.get(this);n&&(e?n.delete(e):n.clear())}getRenderContext(){return{page:this.pageId,id:this.pageRef,params:this.pageParams,actions:this.actions,dataLoaded:this.dataLoaded,...this.context}}renderSidebar(){if(Zs.get(this).delete("sidebar"),this.dataLoaded&&this.view.isDefined("sidebar")){let e=Date.now(),n=this.data,r=this.getRenderContext();return this.view.setViewRoot(this.dom.sidebar,"sidebar",{data:n,context:r}),this.dom.sidebar.innerHTML="",this.view.render(this.dom.sidebar,"sidebar",n,r).then(()=>console.log(`[Discovery] Sidebar rendered in ${Date.now()-e}ms`))}}encodePageHash(e,n,r){let a=UT(this,e,"encodeParams",ZF)(r||{});return a&&typeof a!="string"&&(Array.isArray(a)||(a=Object.entries(a)),a=a.map(h=>h.map(encodeURIComponent).join("=")).join("&")),`#${e!==this.defaultPageId?encodeURIComponent(e):""}${typeof n=="string"&&n||typeof n=="number"?":"+encodeURIComponent(n):""}${a?"&"+a:""}`}decodePageHash(e){let n=(e.indexOf("&")+1||e.length+1)-1,[r,s]=e.substring(1,n).split(":").map(decodeURIComponent),a=UT(this,r||this.defaultPageId,"decodeParams",QF),h=e.substr(n+1).split("&").filter(Boolean).map(f=>{let g=f.indexOf("=");return g!==-1?[decodeURIComponent(f.slice(0,g)),decodeURIComponent(f.slice(g+1))]:[decodeURIComponent(f),!0]});return{pageId:r||this.defaultPageId,pageRef:s,pageParams:a(h)}}setPage(e,n,r,s=!1){return this.setPageHash(this.encodePageHash(e||this.defaultPageId,n,r),s)}setPageRef(e,n=!1){return this.setPage(this.pageId,e,this.pageParams,n)}setPageParams(e,n=!1){return this.setPage(this.pageId,this.pageRef,e,n)}setPageHash(e,n=!1){let{pageId:r,pageRef:s,pageParams:a}=this.decodePageHash(e);return(this.pageId!==r||this.pageRef!==s||!Hl(this.pageParams,a))&&(this.pageId=r,this.pageRef=s,this.pageParams=a,this.scheduleRender("page"),e!==this.pageHash)?(this.pageHash=e,this.emit("pageHashChange",n),!0):!1}renderPage(){Zs.get(this).delete("page");let e=this.data,n=this.getRenderContext(),{pageEl:r,renderState:s,config:a}=this.page.render(this.dom.pageContent,this.pageId,e,n);return this.view.setViewRoot(r,"Page: "+this.pageId,{config:a,data:e,context:n}),this.dom.pageContent=r,this.nav.render(this.dom.nav,e,n),jm(this.dom.container,"page",this.pageId),jm(this.dom.container,"dzen",Boolean(this.pageParams.dzen)),jm(this.dom.container,"compact",Boolean(this.options.compact)),s.then(()=>{if(this.pageParams["!anchor"]){let h=r.querySelector("#"+CSS.escape("!anchor:"+this.pageParams["!anchor"]));if(h){let f=r.querySelector(".view-page-header");h.style.scrollMargin=f?f.offsetHeight+"px":"",h.scrollIntoView(!0)}}}),s}};var GT=t=>/^\./.test(t);function xh(t){let e=t.options.upload||!0,n=e.accept?String(e.accept):"application/json,.json",r=n.split(","),s=[{view:"button-primary",onClick:"=#.actions.uploadFile",content:'text:`Open file ${#.actions.uploadFile.fileExtensions | $ ? "(" + join(", ") + ")" : ""}`'}];(e.dragdrop||e.dragdrop===void 0)&&(t.dom.container.addEventListener("drop",a=>{t.loadDataFromEvent(a)},!0),t.dom.container.addEventListener("dragover",a=>{a.stopPropagation(),a.preventDefault()},!0),s.push('html:"<span style=\\"color: #888; padding: 0 1ex\\"> or </span>"','text:"drop a file on the page"')),t.preset.define("upload",s),t.actions.unloadData=()=>{t.unloadData()},t.actions.uploadFile=Object.assign(()=>{je("input",{type:"file",accept:n,onchange:a=>t.loadDataFromEvent(a)}).click()},{fileExtensions:r.filter(a=>GT(a)),mimeTypes:r.filter(a=>!GT(a))})}function bh(t){t.setPageHash(location.hash),t.cancelScheduledRender(),window.addEventListener("hashchange",()=>t.setPageHash(location.hash),!1),t.on("pageHashChange",function(e){let n=t.pageHash||"#";n==="#"&&!location.hash||(e?location.replace(n):location.hash=n)})}var Bm={request:{value:0,title:"Awaiting data"},receive:{value:.1,title:"Receiving data"},received:{value:.9,title:"Await app ready"},prepare:{value:.925,title:"Processing data (prepare)"},initui:{value:.975,title:"Rendering UI"},done:{value:1,title:"Done!"}};Object.values(Bm).forEach((t,e,n)=>{t.duration=(e!==n.length-1?n[e+1].value:0)-t.value});var VT=t=>t|0,$T=t=>typeof t=="function"?t:()=>{},e_=async()=>{if(await new Promise(t=>setTimeout(t,1)),!document.hidden)return Promise.race([new Promise(requestAnimationFrame),new Promise(t=>setTimeout(t,8))])},Wo=class{constructor({onTiming:e,onFinish:n,delay:r,domReady:s}){this.finished=!1,this.awaitRepaint=null,this.lastStage=null,this.lastStageStart=null,this.timings=[],this.onTiming=$T(e),this.onFinish=$T(n),this.appearanceDelay=r===!0?200:Number(r)||0,this.domReady=s||Promise.resolve(),this.el=je("div","view-progress init",[je("div","title"),je("div","progress")])}recordTiming(e,n,r=performance.now()){let s={stage:e,title:Bm[e].title,duration:VT(r-n)};this.timings.push(s),this.onTiming(s)}async setState(e){let{stage:n,progress:r,error:s}=e;if(s||this.finished)return;let{value:a,title:h,duration:f}=Bm[n],g=n!==this.lastStage,p=performance.now(),m=0,x;if(this.lastStage||(this.startTime=p,this.domReady.then(()=>{let v=Math.max(0,this.appearanceDelay-VT(performance.now()-p));v&&this.el.style.setProperty("--appearance-delay",`${v}ms`),getComputedStyle(this.el).opacity,this.el.classList.remove("init")})),g&&(this.lastStageStart!==null&&this.recordTiming(this.lastStage,this.lastStageStart,p),this.lastStage=n,this.lastStageStart=p,this.awaitRepaint=p),r){let{done:v,elapsed:C,units:w,completed:b,total:T}=r;T?(m=v?1:b/T,x=w==="bytes"?Math.round(m*100)+"%":`${b}/${T}`):(m=v?1:.1+Math.min(.9,C/2e4),x=w==="bytes"?(b/(1024*1024)).toFixed(1)+"MB":b)}this.el.style.setProperty("--progress",a+m*f),this.el.querySelector(".title").textContent=x?`${h} (${x})...`:n!=="done"?`${h}...`:h,(g||p-this.awaitRepaint>65&&p-this.lastStageStart>200)&&(await e_(),this.awaitRepaint=performance.now())}finish(){this.finished||(this.finished=!0,this.lastStageStart!==null&&this.recordTiming(this.lastStage,this.lastStageStart),this.recordTiming("done",this.startTime),this.onFinish(this.timings))}dispose(){this.finish(),this.el.remove()}};var _m={};tt(_m,{dataSource:()=>s_,jsonFromStream:()=>ZT,loadDataFromEvent:()=>wh,loadDataFromFile:()=>oc,loadDataFromPush:()=>QT,loadDataFromStream:()=>qo,loadDataFromUrl:()=>kh,syncLoaderWithProgressbar:()=>Fm});var YT=typeof new Blob().stream=="function"?t=>t.stream():t_();function t_(){try{return new ReadableStream({type:"bytes"}),i_}catch{try{return new ReadableStream({}),n_}catch{try{return new Response(new Blob).body.getReader(),r_}catch{}}}return o_}function XT(t){return typeof t.arrayBuffer=="function"?t.arrayBuffer():new Promise((e,n)=>{let r=new FileReader;r.readAsArrayBuffer(t),r.onload=r.onerror=({type:s})=>{r.onload=r.onerror=null,s==="load"?e(r.result||r):n(new Error("Failed to read the blob/file"))}})}function i_(t){let e=0;return new ReadableStream({type:"bytes",autoAllocateChunkSize:512*1024,pull(n){let r=n.byobRequest.view,s=t.slice(e,e+r.byteLength);return XT(s).then(a=>{let h=new Uint8Array(a),f=h.byteLength;e+=f,r.set(h),n.byobRequest.respond(f),e>=t.size&&n.close()})}})}function n_(t){let e=0;return new ReadableStream({pull(n){let r=t.slice(e,e+524288);return XT(r).then(s=>{e+=s.byteLength,n.enqueue(new Uint8Array(s)),e==t.size&&n.close()})}})}function r_(t){return new Response(t).body}function o_(){throw new Error("Blob#stream() is not supported and no fallback can be applied, include https://github.com/MattiasBuelens/web-streams-polyfill")}var KT=Pn(ug(),1),s_={stream:qo,event:wh,file:oc,url:kh,push:QT};function a_(t){try{return new URL(t,location.origin).origin===location.origin}catch{return!1}}function ZT(t,e,n){let s=0;return(0,KT.default)(async function*(){let a=t.getReader(),h=Date.now();try{for(;;){let{done:f,value:g}=await a.read();if(f){await n({done:!0,elapsed:Date.now()-h,units:"bytes",completed:s,total:e});break}for(let p=0;p<g.length;p+=1048576){let m=p===0&&g.length-p<1048576?g:g.slice(p,p+1048576);s+=m.length,yield m,await n({done:!1,elapsed:Date.now()-h,units:"bytes",completed:s,total:e})}}}finally{a.releaseLock()}}).then(a=>({data:a,size:s}))}async function l_(t,e){let n=async(r,s)=>(await e.asyncSet({stage:r}),await s());try{let r=Date.now(),{stream:s,data:a,size:h,validateData:f}=await n("request",t),g=Date.now()-r,{data:p,size:m}=a||await n("receive",()=>ZT(s,Number(h)||0,x=>e.asyncSet({stage:"receive",progress:x})));return typeof f=="function"&&f(p),await e.asyncSet({stage:"received"}),{data:p,size:m,payloadSize:Number(h)||0,time:Date.now()-r,requestTime:g}}catch(r){throw console.error("[Discovery] Error loading data:",r),await e.asyncSet({stage:"error",error:r}),r}}function qo(t,e,n){let r=new In;return{state:r,result:l_(t,r).then(s=>({...s,...e(s.data)})),...n}}function oc(t){return qo(()=>({stream:YT(t),size:t.size}),e=>({data:e,context:{name:t.name,createdAt:new Date(t.lastModified||Date.now()),data:e}}),{title:"Load data from file: "+t.name})}function wh(t){let e=t.dataTransfer||t.target,n=e&&e.files&&e.files[0];return t.stopPropagation(),t.preventDefault(),oc(n)}function kh(t,e){e=e||{};let n=typeof t=="string"?void 0:t,r=e.isResponseOk||(a=>a.ok),s=e.getContentSize||((a,h)=>a_(a)&&!h.headers.get("content-encoding")?h.headers.get("content-length"):h.headers.get("x-file-size"));return qo(async()=>{let a=await fetch(n?"data:application/json,{}":t,e.fetch);if(r(a))return n?{data:n}:{stream:a.body,size:s(t,a),validateData:e.validateData};let h=a.headers.get("content-type")||"",f=await a.text();if(h.toLowerCase().startsWith("application/json")){let g=JSON.parse(f);f=g.error||g}throw f=new Error(f),f.stack=null,f},a=>({data:e.dataField?a[e.dataField]:a,context:{name:"Discovery",createdAt:e.dataField&&a.createdAt?new Date(Date.parse(a.createdAt)):new Date,...e.dataField?a:{data:a}}}),{title:"Load data from url: "+(n?"[explicit data]":t)})}function QT(t,e){let n;return qo(()=>({size:t,stream:new ReadableStream({start(r){n=r},cancel(){n=null}})}),r=>({data:r.data,context:{name:r.name||"Discovery",createdAt:e||r.createdAt||Date.now(),data:r.data}}),{push(r){n.enqueue(r)},finish(){n.close(),n=null}})}function Fm({result:t,state:e},n){return new Promise((r,s)=>{let a=e.subscribeSync(({stage:h,progress:f,error:g})=>{if(g){a(),s(g);return}return h==="received"&&(a(),r(t)),n.setState({stage:h,progress:f})})})}var sc=(t,e)=>t!==void 0?t:e,Uo=class extends Ho{constructor(e={}){let n=e.extensions?[e.extensions]:[];n.push(Pg),sc(e.router,!0)&&n.push(bh),e.mode!=="modelfree"&&(n.push(Ag),n.push(Mg)),sc(e.upload,!1)&&(n.push(xh),n.push(Eg)),sc(e.inspector,!0)&&n.push(Og),super({container:document.body,...e,extensions:e.extensions?n.concat(e.extensions):n,upload:Boolean(e.upload),darkmode:sc(e.darkmode,"auto"),darkmodePersistent:sc(e.darkmodePersistent,!0)}),this.mode=this.options.mode}setLoadingState(e,{error:n,progressbar:r}={}){let s=this.dom.loadingOverlay;switch(e){case"init":{if(s.classList.remove("error","done"),r.el.parentNode)return;s.innerHTML="",s.append(r.el),s.classList.add("init"),requestAnimationFrame(()=>s.classList.remove("init"));break}case"success":{s.classList.add("done");break}case"error":{s.classList.add("error"),s.innerHTML="",console.error(n),this.view.render(s,[{view:"block",className:"action-buttons",content:[{view:"preset/upload",when:this.preset.isDefined("upload")}]},n.renderContent||{view:"alert-danger",content:[{view:"h3",content:['badge:"Error"',"text:errorText"]},'text:"(see details in the console)"']}],{options:this.options,errorText:gi(n.message||String(n)),errorStack:n.stack?gi(n.stack).replace(/^Error:\s*(\S+Error:)/,"$1"):""},{actions:this.actions}).then(()=>{r?.onErrorRender&&r.onErrorRender(n,s)});break}}}async setDataProgress(e,n,r=this.progressbar({title:"Set data"})){try{this.setLoadingState("init",{progressbar:r}),await super.setDataProgress(e,n,r),this.setLoadingState("success")}catch(s){this.setLoadingState("error",{error:s,progressbar:r})}}progressbar(e){return new Wo({delay:200,domReady:this.dom.ready,onFinish(n){console.groupCollapsed(`[Discovery] ${e.title||"Load data"} (${n[n.length-1].duration}ms)`);for(let r of n)console.log(`${r.title}: ${r.duration}ms`);console.groupEnd()},...e})}trackLoadDataProgress(e){let n=this.progressbar({title:e.title});return this.setLoadingState("init",{progressbar:n}),Fm(e,n).then(({data:r,context:s})=>this.setDataProgress(r,s,n),r=>this.setLoadingState("error",{error:r,progressbar:n})),e.result}loadDataFromStream(e,n){return this.trackLoadDataProgress(qo(()=>({stream:e,totalSize:n})))}loadDataFromEvent(e){return this.options.mode==="modelfree"&&this.defaultPageId!==this.reportPageId&&(this._defaultPageId=this.defaultPageId,this.defaultPageId=this.reportPageId,this.setPageHash(this.pageHash,!0),this.cancelScheduledRender()),this.trackLoadDataProgress(wh(e))}loadDataFromFile(e){return this.trackLoadDataProgress(oc(e))}loadDataFromUrl(e,n){return this.trackLoadDataProgress(kh(e,n))}unloadData(){this.dataLoaded&&this.options.mode==="modelfree"&&this._defaultPageId!==this.defaultPageId&&(this.defaultPageId=this._defaultPageId,this.setPageHash(this.pageHash,!0),this.cancelScheduledRender()),super.unloadData()}initDom(){super.initDom(),this.dom.container.append(this.dom.loadingOverlay=je("div","loading-overlay done"))}renderPage(){return document.title=this.getRenderContext().name||document.title,super.renderPage()}};var Wm={};tt(Wm,{applyContainerStyles:()=>h_,rollbackContainerStyles:()=>f_});var c_={"font-family":"Tahoma, Verdana, Arial, sans-serif","font-size":"16px","line-height":"1.6","-webkit-text-size-adjust":"none","text-size-adjust":"none","background-color":"var(--discovery-background-color, white)",color:"var(--discovery-color, black)","transition-property":"background-color, color","transition-duration":".25s","transition-timing-function":"ease-in"},u_={"--discovery-background-color":"#242424","--discovery-color":"#cccccc"},Hm=new WeakSet,Go=new WeakMap;function JT(t,e,n){e in n||(n[e]=[t.style.getPropertyValue(e),t.style.getPropertyPriority(e)])}function h_(t,e){e=e||{},Go.has(t)||Go.set(t,Object.create(null));let n=J2(e.darkmode,e.darkmodePersistent),r=Go.get(t);for(let[s,a]of Object.entries(c_))(Hm.has(t)||!/^transition/.test(s))&&(JT(t,s,r),t.style.setProperty(s,a));for(let[s,a]of Object.entries(u_))JT(t,s,r),n?t.style.setProperty(s,a):t.style.removeProperty(s);return Hm.add(t),n}function f_(t){if(Go.has(t)){let e=Go.get(t);for(let[n,r]of Object.entries(e))t.style.setProperty(n,...r);Go.delete(Go),Hm.delete(t)}}var eL={...Wm,base64:Hu,...sg,copyText:Rn,..._m,debounce:qr,...Op,...Dp,injectStyles:Kl,...hg,...Hp,pattern:xg,persistent:Cg,...Kp,progressbar:Wo,safeFilterRx:zl,...Lg};function jY(t,e,n,r){let s=location.pathname.endsWith("/index.html")?"/index.html":"",a=new Uo(t);return a.apply(g1),a.apply(ek),r={...r,meta:t.meta},t.mode==="multi"&&a.nav.menu.append({name:"switch-model",data:{text:"Switch model",href:`..${s}`}}),n?a.setDataProgress(n,r,e):(a.context=r,a.renderPage())}export{jY as default};
