var SP=Object.create;var ql=Object.defineProperty;var AP=Object.getOwnPropertyDescriptor;var TP=Object.getOwnPropertyNames;var EP=Object.getPrototypeOf,LP=Object.prototype.hasOwnProperty;var N=(t,e)=>()=>(t&&(e=t(t=0)),e);var Nt=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),te=(t,e)=>{for(var n in e)ql(t,n,{get:e[n],enumerable:!0})},Fw=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of TP(e))!LP.call(t,s)&&s!==n&&ql(t,s,{get:()=>e[s],enumerable:!(i=AP(e,s))||i.enumerable});return t};var Xn=(t,e,n)=>(n=t!=null?SP(EP(t)):{},Fw(e||!t||!t.__esModule?ql(n,"default",{value:t,enumerable:!0}):n,t)),mn=t=>Fw(ql({},"__esModule",{value:!0}),t);var Po={};te(Po,{AtKeyword:()=>kt,BadString:()=>Bi,BadUrl:()=>ln,CDC:()=>Zt,CDO:()=>Ir,Colon:()=>Et,Comma:()=>Ot,Comment:()=>yt,Delim:()=>je,Dimension:()=>$e,EOF:()=>sr,Function:()=>Pe,Hash:()=>nt,Ident:()=>ue,LeftCurlyBracket:()=>vt,LeftParenthesis:()=>Ge,LeftSquareBracket:()=>Wt,Number:()=>Ie,Percentage:()=>ht,RightCurlyBracket:()=>Ut,RightParenthesis:()=>Me,RightSquareBracket:()=>cn,Semicolon:()=>Dt,String:()=>Yt,Url:()=>Bt,WhiteSpace:()=>Qe});var sr,ue,Pe,kt,nt,Yt,Bi,Bt,ln,je,Ie,ht,$e,Qe,Ir,Zt,Et,Dt,Ot,Wt,cn,Ge,Me,vt,Ut,yt,Io=N(()=>{sr=0,ue=1,Pe=2,kt=3,nt=4,Yt=5,Bi=6,Bt=7,ln=8,je=9,Ie=10,ht=11,$e=12,Qe=13,Ir=14,Zt=15,Et=16,Dt=17,Ot=18,Wt=19,cn=20,Ge=21,Me=22,vt=23,Ut=24,yt=25});function Kt(t){return t>=48&&t<=57}function Hn(t){return Kt(t)||t>=65&&t<=70||t>=97&&t<=102}function Ul(t){return t>=65&&t<=90}function MP(t){return t>=97&&t<=122}function NP(t){return Ul(t)||MP(t)}function DP(t){return t>=128}function Wl(t){return NP(t)||DP(t)||t===95}function zo(t){return Wl(t)||Kt(t)||t===45}function OP(t){return t>=0&&t<=8||t===11||t>=14&&t<=31||t===127}function Js(t){return t===10||t===13||t===12}function zr(t){return Js(t)||t===32||t===9}function xn(t,e){return!(t!==92||Js(e)||e===0)}function Bo(t,e,n){return t===45?Wl(e)||e===45||xn(e,n):Wl(t)?!0:t===92?xn(t,e):!1}function $l(t,e,n){return t===43||t===45?Kt(e)?2:e===46&&Kt(n)?3:0:t===46?Kt(e)?2:0:Kt(t)?1:0}function Gl(t){return t===65279||t===65534?1:0}function Yl(t){return t<128?Pf[t]:Vl}var Pf,PP,Zs,If,Vl,zf,ea=N(()=>{Pf=new Array(128),PP=128,Zs=130,If=131,Vl=132,zf=133;for(let t=0;t<Pf.length;t++)Pf[t]=zr(t)&&Zs||Kt(t)&&If||Wl(t)&&Vl||OP(t)&&zf||t||PP});function Fo(t,e){return e<t.length?t.charCodeAt(e):0}function Kl(t,e,n){return n===13&&Fo(t,e+1)===10?2:1}function Kr(t,e,n){let i=t.charCodeAt(e);return Ul(i)&&(i=i|32),i===n}function Qr(t,e,n,i){if(n-e!==i.length||e<0||n>t.length)return!1;for(let s=e;s<n;s++){let a=i.charCodeAt(s-e),f=t.charCodeAt(s);if(Ul(f)&&(f=f|32),f!==a)return!1}return!0}function Rw(t,e){for(;e>=0&&zr(t.charCodeAt(e));e--);return e+1}function ta(t,e){for(;e<t.length&&zr(t.charCodeAt(e));e++);return e}function Bf(t,e){for(;e<t.length&&Kt(t.charCodeAt(e));e++);return e}function vr(t,e){if(e+=2,Hn(Fo(t,e-1))){for(let i=Math.min(t.length,e+5);e<i&&Hn(Fo(t,e));e++);let n=Fo(t,e);zr(n)&&(e+=Kl(t,e,n))}return e}function na(t,e){for(;e<t.length;e++){let n=t.charCodeAt(e);if(!zo(n)){if(xn(n,Fo(t,e+1))){e=vr(t,e)-1;continue}break}}return e}function Fi(t,e){let n=t.charCodeAt(e);if((n===43||n===45)&&(n=t.charCodeAt(e+=1)),Kt(n)&&(e=Bf(t,e+1),n=t.charCodeAt(e)),n===46&&Kt(t.charCodeAt(e+1))&&(e+=2,e=Bf(t,e)),Kr(t,e,101)){let i=0;n=t.charCodeAt(e+1),(n===45||n===43)&&(i=1,n=t.charCodeAt(e+2)),Kt(n)&&(e=Bf(t,e+1+i+1))}return e}function Ql(t,e){for(;e<t.length;e++){let n=t.charCodeAt(e);if(n===41){e++;break}xn(n,Fo(t,e+1))&&(e=vr(t,e))}return e}function Ro(t){if(t.length===1&&!Hn(t.charCodeAt(0)))return t[0];let e=parseInt(t,16);return(e===0||e>=55296&&e<=57343||e>1114111)&&(e=65533),String.fromCodePoint(e)}var Xl=N(()=>{ea()});var Ri,Ff=N(()=>{Ri=["EOF-token","ident-token","function-token","at-keyword-token","hash-token","string-token","bad-string-token","url-token","bad-url-token","delim-token","number-token","percentage-token","dimension-token","whitespace-token","CDO-token","CDC-token","colon-token","semicolon-token","comma-token","[-token","]-token","(-token",")-token","{-token","}-token","comment-token"]});function jo(t=null,e){return t===null||t.length<e?new Uint32Array(Math.max(e+1024,16384)):t}var Rf=N(()=>{});function Hw(t){let e=t.source,n=e.length,i=e.length>0?Gl(e.charCodeAt(0)):0,s=jo(t.lines,n),a=jo(t.columns,n),f=t.startLine,p=t.startColumn;for(let m=i;m<n;m++){let h=e.charCodeAt(m);s[m]=f,a[m]=p++,(h===jw||h===_w||h===IP)&&(h===_w&&m+1<n&&e.charCodeAt(m+1)===jw&&(m++,s[m]=f,a[m]=p),f++,p=1)}s[n]=f,a[n]=p,t.lines=s,t.columns=a,t.computed=!0}var jw,IP,_w,Jl,qw=N(()=>{Rf();ea();jw=10,IP=12,_w=13;Jl=class{constructor(){this.lines=null,this.columns=null,this.computed=!1}setSource(e,n=0,i=1,s=1){this.source=e,this.startOffset=n,this.startLine=i,this.startColumn=s,this.computed=!1}getLocation(e,n){return this.computed||Hw(this),{source:n,offset:this.startOffset+e,line:this.lines[e],column:this.columns[e]}}getLocationRange(e,n,i){return this.computed||Hw(this),{source:i,start:{offset:this.startOffset+e,line:this.lines[e],column:this.columns[e]},end:{offset:this.startOffset+n,line:this.lines[n],column:this.columns[n]}}}}});var ar,Br,zP,_o,Ww=N(()=>{Rf();Xl();Ff();Io();ar=16777215,Br=24,zP=new Map([[2,22],[21,22],[19,20],[23,24]]),_o=class{constructor(e,n){this.setSource(e,n)}reset(){this.eof=!1,this.tokenIndex=-1,this.tokenType=0,this.tokenStart=this.firstCharOffset,this.tokenEnd=this.firstCharOffset}setSource(e="",n=()=>{}){e=String(e||"");let i=e.length,s=jo(this.offsetAndType,e.length+1),a=jo(this.balance,e.length+1),f=0,p=0,m=0,h=-1;for(this.offsetAndType=null,this.balance=null,n(e,(g,v,w)=>{switch(g){default:a[f]=i;break;case p:{let k=m&ar;for(m=a[k],p=m>>Br,a[f]=k,a[k++]=f;k<f;k++)a[k]===i&&(a[k]=f);break}case 21:case 2:case 19:case 23:a[f]=m,p=zP.get(g),m=p<<Br|f;break}s[f++]=g<<Br|w,h===-1&&(h=v)}),s[f]=0<<Br|i,a[f]=i,a[i]=i;m!==0;){let g=m&ar;m=a[g],a[g]=i}this.source=e,this.firstCharOffset=h===-1?0:h,this.tokenCount=f,this.offsetAndType=s,this.balance=a,this.reset(),this.next()}lookupType(e){return e+=this.tokenIndex,e<this.tokenCount?this.offsetAndType[e]>>Br:0}lookupTypeNonSC(e){for(let n=this.tokenIndex;n<this.tokenCount;n++){let i=this.offsetAndType[n]>>Br;if(i!==13&&i!==25&&e--===0)return i}return 0}lookupOffset(e){return e+=this.tokenIndex,e<this.tokenCount?this.offsetAndType[e-1]&ar:this.source.length}lookupOffsetNonSC(e){for(let n=this.tokenIndex;n<this.tokenCount;n++){let i=this.offsetAndType[n]>>Br;if(i!==13&&i!==25&&e--===0)return n-this.tokenIndex}return 0}lookupValue(e,n){return e+=this.tokenIndex,e<this.tokenCount?Qr(this.source,this.offsetAndType[e-1]&ar,this.offsetAndType[e]&ar,n):!1}getTokenStart(e){return e===this.tokenIndex?this.tokenStart:e>0?e<this.tokenCount?this.offsetAndType[e-1]&ar:this.offsetAndType[this.tokenCount]&ar:this.firstCharOffset}substrToCursor(e){return this.source.substring(e,this.tokenStart)}isBalanceEdge(e){return this.balance[this.tokenIndex]<e}isDelim(e,n){return n?this.lookupType(n)===9&&this.source.charCodeAt(this.lookupOffset(n))===e:this.tokenType===9&&this.source.charCodeAt(this.tokenStart)===e}skip(e){let n=this.tokenIndex+e;n<this.tokenCount?(this.tokenIndex=n,this.tokenStart=this.offsetAndType[n-1]&ar,n=this.offsetAndType[n],this.tokenType=n>>Br,this.tokenEnd=n&ar):(this.tokenIndex=this.tokenCount,this.next())}next(){let e=this.tokenIndex+1;e<this.tokenCount?(this.tokenIndex=e,this.tokenStart=this.tokenEnd,e=this.offsetAndType[e],this.tokenType=e>>Br,this.tokenEnd=e&ar):(this.eof=!0,this.tokenIndex=this.tokenCount,this.tokenType=0,this.tokenStart=this.tokenEnd=this.source.length)}skipSC(){for(;this.tokenType===13||this.tokenType===25;)this.next()}skipUntilBalanced(e,n){let i=e,s,a;e:for(;i<this.tokenCount;i++){if(s=this.balance[i],s<e)break e;switch(a=i>0?this.offsetAndType[i-1]&ar:this.firstCharOffset,n(this.source.charCodeAt(a))){case 1:break e;case 2:i++;break e;default:this.balance[s]===i&&(i=s)}}this.skip(i-this.tokenIndex)}forEachToken(e){for(let n=0,i=this.firstCharOffset;n<this.tokenCount;n++){let s=i,a=this.offsetAndType[n],f=a&ar,p=a>>Br;i=f,e(p,s,f,n)}}dump(){let e=new Array(this.tokenCount);return this.forEachToken((n,i,s,a)=>{e[a]={idx:a,type:Ri[n],chunk:this.source.substring(i,s),balance:this.balance[a]}}),e}}});function gi(t,e){function n(v){return v<p?t.charCodeAt(v):0}function i(){if(h=Fi(t,h),Bo(n(h),n(h+1),n(h+2))){g=12,h=na(t,h);return}if(n(h)===37){g=11,h++;return}g=10}function s(){let v=h;if(h=na(t,h),Qr(t,v,h,"url")&&n(h)===40){if(h=ta(t,h+1),n(h)===34||n(h)===39){g=2,h=v+4;return}f();return}if(n(h)===40){g=2,h++;return}g=1}function a(v){for(v||(v=n(h++)),g=5;h<t.length;h++){let w=t.charCodeAt(h);switch(Yl(w)){case v:h++;return;case Zs:if(Js(w)){h+=Kl(t,h,w),g=6;return}break;case 92:if(h===t.length-1)break;let k=n(h+1);Js(k)?h+=Kl(t,h+1,k):xn(w,k)&&(h=vr(t,h)-1);break}}}function f(){for(g=7,h=ta(t,h);h<t.length;h++){let v=t.charCodeAt(h);switch(Yl(v)){case 41:h++;return;case Zs:if(h=ta(t,h),n(h)===41||h>=t.length){h<t.length&&h++;return}h=Ql(t,h),g=8;return;case 34:case 39:case 40:case zf:h=Ql(t,h),g=8;return;case 92:if(xn(v,n(h+1))){h=vr(t,h)-1;break}h=Ql(t,h),g=8;return}}}t=String(t||"");let p=t.length,m=Gl(n(0)),h=m,g;for(;h<p;){let v=t.charCodeAt(h);switch(Yl(v)){case Zs:g=13,h=ta(t,h+1);break;case 34:a();break;case 35:zo(n(h+1))||xn(n(h+1),n(h+2))?(g=4,h=na(t,h+1)):(g=9,h++);break;case 39:a();break;case 40:g=21,h++;break;case 41:g=22,h++;break;case 43:$l(v,n(h+1),n(h+2))?i():(g=9,h++);break;case 44:g=18,h++;break;case 45:$l(v,n(h+1),n(h+2))?i():n(h+1)===45&&n(h+2)===62?(g=15,h=h+3):Bo(v,n(h+1),n(h+2))?s():(g=9,h++);break;case 46:$l(v,n(h+1),n(h+2))?i():(g=9,h++);break;case 47:n(h+1)===42?(g=25,h=t.indexOf("*/",h+2),h=h===-1?t.length:h+2):(g=9,h++);break;case 58:g=16,h++;break;case 59:g=17,h++;break;case 60:n(h+1)===33&&n(h+2)===45&&n(h+3)===45?(g=14,h=h+4):(g=9,h++);break;case 64:Bo(n(h+1),n(h+2),n(h+3))?(g=3,h=na(t,h+1)):(g=9,h++);break;case 91:g=19,h++;break;case 92:xn(v,n(h+1))?s():(g=9,h++);break;case 93:g=20,h++;break;case 123:g=23,h++;break;case 125:g=24,h++;break;case If:i();break;case Vl:s();break;default:g=9,h++}e(g,m,m=h)}}var Ne=N(()=>{Io();ea();Xl();Io();Io();Ff();ea();Xl();qw();Ww()});var Ho,gn,ji=N(()=>{Ho=null,gn=class t{static createItem(e){return{prev:null,next:null,data:e}}constructor(){this.head=null,this.tail=null,this.cursor=null}createItem(e){return t.createItem(e)}allocateCursor(e,n){let i;return Ho!==null?(i=Ho,Ho=Ho.cursor,i.prev=e,i.next=n,i.cursor=this.cursor):i={prev:e,next:n,cursor:this.cursor},this.cursor=i,i}releaseCursor(){let{cursor:e}=this;this.cursor=e.cursor,e.prev=null,e.next=null,e.cursor=Ho,Ho=e}updateCursors(e,n,i,s){let{cursor:a}=this;for(;a!==null;)a.prev===e&&(a.prev=n),a.next===i&&(a.next=s),a=a.cursor}*[Symbol.iterator](){for(let e=this.head;e!==null;e=e.next)yield e.data}get size(){let e=0;for(let n=this.head;n!==null;n=n.next)e++;return e}get isEmpty(){return this.head===null}get first(){return this.head&&this.head.data}get last(){return this.tail&&this.tail.data}fromArray(e){let n=null;this.head=null;for(let i of e){let s=t.createItem(i);n!==null?n.next=s:this.head=s,s.prev=n,n=s}return this.tail=n,this}toArray(){return[...this]}toJSON(){return[...this]}forEach(e,n=this){let i=this.allocateCursor(null,this.head);for(;i.next!==null;){let s=i.next;i.next=s.next,e.call(n,s.data,s,this)}this.releaseCursor()}forEachRight(e,n=this){let i=this.allocateCursor(this.tail,null);for(;i.prev!==null;){let s=i.prev;i.prev=s.prev,e.call(n,s.data,s,this)}this.releaseCursor()}reduce(e,n,i=this){let s=this.allocateCursor(null,this.head),a=n,f;for(;s.next!==null;)f=s.next,s.next=f.next,a=e.call(i,a,f.data,f,this);return this.releaseCursor(),a}reduceRight(e,n,i=this){let s=this.allocateCursor(this.tail,null),a=n,f;for(;s.prev!==null;)f=s.prev,s.prev=f.prev,a=e.call(i,a,f.data,f,this);return this.releaseCursor(),a}some(e,n=this){for(let i=this.head;i!==null;i=i.next)if(e.call(n,i.data,i,this))return!0;return!1}map(e,n=this){let i=new t;for(let s=this.head;s!==null;s=s.next)i.appendData(e.call(n,s.data,s,this));return i}filter(e,n=this){let i=new t;for(let s=this.head;s!==null;s=s.next)e.call(n,s.data,s,this)&&i.appendData(s.data);return i}nextUntil(e,n,i=this){if(e===null)return;let s=this.allocateCursor(null,e);for(;s.next!==null;){let a=s.next;if(s.next=a.next,n.call(i,a.data,a,this))break}this.releaseCursor()}prevUntil(e,n,i=this){if(e===null)return;let s=this.allocateCursor(e,null);for(;s.prev!==null;){let a=s.prev;if(s.prev=a.prev,n.call(i,a.data,a,this))break}this.releaseCursor()}clear(){this.head=null,this.tail=null}copy(){let e=new t;for(let n of this)e.appendData(n);return e}prepend(e){return this.updateCursors(null,e,this.head,e),this.head!==null?(this.head.prev=e,e.next=this.head):this.tail=e,this.head=e,this}prependData(e){return this.prepend(t.createItem(e))}append(e){return this.insert(e)}appendData(e){return this.insert(t.createItem(e))}insert(e,n=null){if(n!==null)if(this.updateCursors(n.prev,e,n,e),n.prev===null){if(this.head!==n)throw new Error("before doesn't belong to list");this.head=e,n.prev=e,e.next=n,this.updateCursors(null,e)}else n.prev.next=e,e.prev=n.prev,n.prev=e,e.next=n;else this.updateCursors(this.tail,e,null,e),this.tail!==null?(this.tail.next=e,e.prev=this.tail):this.head=e,this.tail=e;return this}insertData(e,n){return this.insert(t.createItem(e),n)}remove(e){if(this.updateCursors(e,e.prev,e,e.next),e.prev!==null)e.prev.next=e.next;else{if(this.head!==e)throw new Error("item doesn't belong to list");this.head=e.next}if(e.next!==null)e.next.prev=e.prev;else{if(this.tail!==e)throw new Error("item doesn't belong to list");this.tail=e.prev}return e.prev=null,e.next=null,e}push(e){this.insert(t.createItem(e))}pop(){return this.tail!==null?this.remove(this.tail):null}unshift(e){this.prepend(t.createItem(e))}shift(){return this.head!==null?this.remove(this.head):null}prependList(e){return this.insertList(e,this.head)}appendList(e){return this.insertList(e)}insertList(e,n){return e.head===null?this:(n!=null?(this.updateCursors(n.prev,e.tail,n,e.head),n.prev!==null?(n.prev.next=e.head,e.head.prev=n.prev):this.head=e.head,n.prev=e.tail,e.tail.next=n):(this.updateCursors(this.tail,e.tail,null,e.head),this.tail!==null?(this.tail.next=e.head,e.head.prev=this.tail):this.head=e.head,this.tail=e.tail),e.head=null,e.tail=null,this)}replace(e,n){"head"in n?this.insertList(n,e):this.insert(n,e),this.remove(e)}}});function _i(t,e){let n=Object.create(SyntaxError.prototype),i=new Error;return Object.assign(n,{name:t,message:e,get stack(){return(i.stack||"").replace(/^(.+\n){1,3}/,`${t}: ${e}
`)}})}var Zl=N(()=>{});function Gw({source:t,line:e,column:n,baseLine:i,baseColumn:s},a){function f(S,P){return h.slice(S,P).map((M,A)=>String(S+A+1).padStart(w)+" |"+M).join(`
`)}let p=`
`.repeat(Math.max(i-1,0)),m=" ".repeat(Math.max(s-1,0)),h=(p+m+t).split(/\r\n?|\n|\f/),g=Math.max(1,e-a)-1,v=Math.min(e+a,h.length+1),w=Math.max(4,String(v).length)+1,k=0;n+=($w.length-1)*(h[e-1].substr(0,n-1).match(/\t/g)||[]).length,n>jf&&(k=n-Uw+3,n=Uw-2);for(let S=g;S<=v;S++)S>=0&&S<h.length&&(h[S]=h[S].replace(/\t/g,$w),h[S]=(k>0&&h[S].length>k?"\u2026":"")+h[S].substr(k,jf-2)+(h[S].length>k+jf-1?"\u2026":""));return[f(g,e),new Array(n+w+2).join("-")+"^",f(e,v)].filter(Boolean).join(`
`).replace(/^(\s+\d+\s+\|\n)+/,"").replace(/\n(\s+\d+\s+\|)+$/,"")}function _f(t,e,n,i,s,a=1,f=1){return Object.assign(_i("SyntaxError",t),{source:e,offset:n,line:i,column:s,sourceFragment(m){return Gw({source:e,line:i,column:s,baseLine:a,baseColumn:f},isNaN(m)?0:m)},get formattedMessage(){return`Parse error: ${t}
`+Gw({source:e,line:i,column:s,baseLine:a,baseColumn:f},2)}})}var jf,Uw,$w,Vw=N(()=>{Zl();jf=100,Uw=60,$w="    "});function Yw(t){let e=this.createList(),n=!1,i={recognizer:t};for(;!this.eof;){switch(this.tokenType){case 25:this.next();continue;case 13:n=!0,this.next();continue}let s=t.getNode.call(this,i);if(s===void 0)break;n&&(t.onWhiteSpace&&t.onWhiteSpace.call(this,s,e,i),n=!1),e.push(s)}return n&&t.onWhiteSpace&&t.onWhiteSpace.call(this,null,e,i),e}var Kw=N(()=>{Ne()});function RP(t){return function(){return this[t]()}}function qf(t){let e=Object.create(null);for(let n of Object.keys(t)){let i=t[n],s=i.parse||i;s&&(e[n]=s)}return e}function jP(t){let e={context:Object.create(null),features:Object.assign(Object.create(null),t.features),scope:Object.assign(Object.create(null),t.scope),atrule:qf(t.atrule),pseudo:qf(t.pseudo),node:qf(t.node)};for(let[n,i]of Object.entries(t.parseContext))switch(typeof i){case"function":e.context[n]=i;break;case"string":e.context[n]=RP(i);break}return{config:e,...e,...e.node}}function Zw(t){let e="",n="<unknown>",i=!1,s=Qw,a=!1,f=new Jl,p=Object.assign(new _o,jP(t||{}),{parseAtrulePrelude:!0,parseRulePrelude:!0,parseValue:!0,parseCustomProperty:!1,readSequence:Yw,consumeUntilBalanceEnd:()=>0,consumeUntilLeftCurlyBracket(h){return h===Xw?1:0},consumeUntilLeftCurlyBracketOrSemicolon(h){return h===Xw||h===Hf?1:0},consumeUntilExclamationMarkOrSemicolon(h){return h===BP||h===Hf?1:0},consumeUntilSemicolonIncluded(h){return h===Hf?2:0},createList(){return new gn},createSingleNodeList(h){return new gn().appendData(h)},getFirstListNode(h){return h&&h.first},getLastListNode(h){return h&&h.last},parseWithFallback(h,g){let v=this.tokenIndex;try{return h.call(this)}catch(w){if(a)throw w;this.skip(v-this.tokenIndex);let k=g.call(this);return a=!0,s(w,k),a=!1,k}},lookupNonWSType(h){let g;do if(g=this.lookupType(h++),g!==13&&g!==25)return g;while(g!==Jw);return Jw},charCodeAt(h){return h>=0&&h<e.length?e.charCodeAt(h):0},substring(h,g){return e.substring(h,g)},substrToCursor(h){return this.source.substring(h,this.tokenStart)},cmpChar(h,g){return Kr(e,h,g)},cmpStr(h,g,v){return Qr(e,h,g,v)},consume(h){let g=this.tokenStart;return this.eat(h),this.substrToCursor(g)},consumeFunctionName(){let h=e.substring(this.tokenStart,this.tokenEnd-1);return this.eat(2),h},consumeNumber(h){let g=e.substring(this.tokenStart,Fi(e,this.tokenStart));return this.eat(h),g},eat(h){if(this.tokenType!==h){let g=Ri[h].slice(0,-6).replace(/-/g," ").replace(/^./,k=>k.toUpperCase()),v=`${/[[\](){}]/.test(g)?`"${g}"`:g} is expected`,w=this.tokenStart;switch(h){case 1:this.tokenType===2||this.tokenType===7?(w=this.tokenEnd-1,v="Identifier is expected but function found"):v="Identifier is expected";break;case 4:this.isDelim(FP)&&(this.next(),w++,v="Name is expected");break;case 11:this.tokenType===10&&(w=this.tokenEnd,v="Percent sign is expected");break}this.error(v,w)}this.next()},eatIdent(h){(this.tokenType!==1||this.lookupValue(0,h)===!1)&&this.error(`Identifier "${h}" is expected`),this.next()},eatDelim(h){this.isDelim(h)||this.error(`Delim "${String.fromCharCode(h)}" is expected`),this.next()},getLocation(h,g){return i?f.getLocationRange(h,g,n):null},getLocationFromList(h){if(i){let g=this.getFirstListNode(h),v=this.getLastListNode(h);return f.getLocationRange(g!==null?g.loc.start.offset-f.startOffset:this.tokenStart,v!==null?v.loc.end.offset-f.startOffset:this.tokenStart,n)}return null},error(h,g){let v=typeof g<"u"&&g<e.length?f.getLocation(g):this.eof?f.getLocation(Rw(e,e.length-1)):f.getLocation(this.tokenStart);throw new _f(h||"Unexpected input",e,v.offset,v.line,v.column,f.startLine,f.startColumn)}});return Object.assign(function(h,g){e=h,g=g||{},p.setSource(e,gi),f.setSource(e,g.offset,g.line,g.column),n=g.filename||"<unknown>",i=!!g.positions,s=typeof g.onParseError=="function"?g.onParseError:Qw,a=!1,p.parseAtrulePrelude="parseAtrulePrelude"in g?!!g.parseAtrulePrelude:!0,p.parseRulePrelude="parseRulePrelude"in g?!!g.parseRulePrelude:!0,p.parseValue="parseValue"in g?!!g.parseValue:!0,p.parseCustomProperty="parseCustomProperty"in g?!!g.parseCustomProperty:!1;let{context:v="default",onComment:w}=g;if(!(v in p.context))throw new Error("Unknown context `"+v+"`");typeof w=="function"&&p.forEachToken((S,P,M)=>{if(S===25){let A=p.getLocation(P,M),T=Qr(e,M-2,M,"*/")?e.slice(P+2,M-2):e.slice(P+2,M);w(T,A)}});let k=p.context[v].call(p,g);return p.eof||p.error(),k},{SyntaxError:_f,config:p.config})}var Qw,BP,FP,Hf,Xw,Jw,ex=N(()=>{ji();Vw();Ne();Kw();Qw=()=>{},BP=33,FP=35,Hf=59,Xw=123,Jw=0});var nx=Nt(Wf=>{var tx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");Wf.encode=function(t){if(0<=t&&t<tx.length)return tx[t];throw new TypeError("Must be between 0 and 63: "+t)};Wf.decode=function(t){var e=65,n=90,i=97,s=122,a=48,f=57,p=43,m=47,h=26,g=52;return e<=t&&t<=n?t-e:i<=t&&t<=s?t-i+h:a<=t&&t<=f?t-a+g:t==p?62:t==m?63:-1}});var ax=Nt($f=>{var rx=nx(),Uf=5,ix=1<<Uf,ox=ix-1,sx=ix;function _P(t){return t<0?(-t<<1)+1:(t<<1)+0}function HP(t){var e=(t&1)===1,n=t>>1;return e?-n:n}$f.encode=function(e){var n="",i,s=_P(e);do i=s&ox,s>>>=Uf,s>0&&(i|=sx),n+=rx.encode(i);while(s>0);return n};$f.decode=function(e,n,i){var s=e.length,a=0,f=0,p,m;do{if(n>=s)throw new Error("Expected more digits in base 64 VLQ value.");if(m=rx.decode(e.charCodeAt(n++)),m===-1)throw new Error("Invalid base64 digit: "+e.charAt(n-1));p=!!(m&sx),m&=ox,a=a+(m<<f),f+=Uf}while(p);i.value=HP(a),i.rest=n}});var ec=Nt(un=>{function qP(t,e,n){if(e in t)return t[e];if(arguments.length===3)return n;throw new Error('"'+e+'" is a required argument.')}un.getArg=qP;var lx=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,WP=/^data:.+\,.+$/;function ra(t){var e=t.match(lx);return e?{scheme:e[1],auth:e[2],host:e[3],port:e[4],path:e[5]}:null}un.urlParse=ra;function qo(t){var e="";return t.scheme&&(e+=t.scheme+":"),e+="//",t.auth&&(e+=t.auth+"@"),t.host&&(e+=t.host),t.port&&(e+=":"+t.port),t.path&&(e+=t.path),e}un.urlGenerate=qo;var UP=32;function $P(t){var e=[];return function(n){for(var i=0;i<e.length;i++)if(e[i].input===n){var s=e[0];return e[0]=e[i],e[i]=s,e[0].result}var a=t(n);return e.unshift({input:n,result:a}),e.length>UP&&e.pop(),a}}var Gf=$P(function(e){var n=e,i=ra(e);if(i){if(!i.path)return e;n=i.path}for(var s=un.isAbsolute(n),a=[],f=0,p=0;;)if(f=p,p=n.indexOf("/",f),p===-1){a.push(n.slice(f));break}else for(a.push(n.slice(f,p));p<n.length&&n[p]==="/";)p++;for(var m,h=0,p=a.length-1;p>=0;p--)m=a[p],m==="."?a.splice(p,1):m===".."?h++:h>0&&(m===""?(a.splice(p+1,h),h=0):(a.splice(p,2),h--));return n=a.join("/"),n===""&&(n=s?"/":"."),i?(i.path=n,qo(i)):n});un.normalize=Gf;function cx(t,e){t===""&&(t="."),e===""&&(e=".");var n=ra(e),i=ra(t);if(i&&(t=i.path||"/"),n&&!n.scheme)return i&&(n.scheme=i.scheme),qo(n);if(n||e.match(WP))return e;if(i&&!i.host&&!i.path)return i.host=e,qo(i);var s=e.charAt(0)==="/"?e:Gf(t.replace(/\/+$/,"")+"/"+e);return i?(i.path=s,qo(i)):s}un.join=cx;un.isAbsolute=function(t){return t.charAt(0)==="/"||lx.test(t)};function GP(t,e){t===""&&(t="."),t=t.replace(/\/$/,"");for(var n=0;e.indexOf(t+"/")!==0;){var i=t.lastIndexOf("/");if(i<0||(t=t.slice(0,i),t.match(/^([^\/]+:\/)?\/*$/)))return e;++n}return Array(n+1).join("../")+e.substr(t.length+1)}un.relative=GP;var ux=function(){var t=Object.create(null);return!("__proto__"in t)}();function fx(t){return t}function VP(t){return px(t)?"$"+t:t}un.toSetString=ux?fx:VP;function YP(t){return px(t)?t.slice(1):t}un.fromSetString=ux?fx:YP;function px(t){if(!t)return!1;var e=t.length;if(e<9||t.charCodeAt(e-1)!==95||t.charCodeAt(e-2)!==95||t.charCodeAt(e-3)!==111||t.charCodeAt(e-4)!==116||t.charCodeAt(e-5)!==111||t.charCodeAt(e-6)!==114||t.charCodeAt(e-7)!==112||t.charCodeAt(e-8)!==95||t.charCodeAt(e-9)!==95)return!1;for(var n=e-10;n>=0;n--)if(t.charCodeAt(n)!==36)return!1;return!0}function KP(t,e,n){var i=Xr(t.source,e.source);return i!==0||(i=t.originalLine-e.originalLine,i!==0)||(i=t.originalColumn-e.originalColumn,i!==0||n)||(i=t.generatedColumn-e.generatedColumn,i!==0)||(i=t.generatedLine-e.generatedLine,i!==0)?i:Xr(t.name,e.name)}un.compareByOriginalPositions=KP;function QP(t,e,n){var i;return i=t.originalLine-e.originalLine,i!==0||(i=t.originalColumn-e.originalColumn,i!==0||n)||(i=t.generatedColumn-e.generatedColumn,i!==0)||(i=t.generatedLine-e.generatedLine,i!==0)?i:Xr(t.name,e.name)}un.compareByOriginalPositionsNoSource=QP;function XP(t,e,n){var i=t.generatedLine-e.generatedLine;return i!==0||(i=t.generatedColumn-e.generatedColumn,i!==0||n)||(i=Xr(t.source,e.source),i!==0)||(i=t.originalLine-e.originalLine,i!==0)||(i=t.originalColumn-e.originalColumn,i!==0)?i:Xr(t.name,e.name)}un.compareByGeneratedPositionsDeflated=XP;function JP(t,e,n){var i=t.generatedColumn-e.generatedColumn;return i!==0||n||(i=Xr(t.source,e.source),i!==0)||(i=t.originalLine-e.originalLine,i!==0)||(i=t.originalColumn-e.originalColumn,i!==0)?i:Xr(t.name,e.name)}un.compareByGeneratedPositionsDeflatedNoLine=JP;function Xr(t,e){return t===e?0:t===null?1:e===null?-1:t>e?1:-1}function ZP(t,e){var n=t.generatedLine-e.generatedLine;return n!==0||(n=t.generatedColumn-e.generatedColumn,n!==0)||(n=Xr(t.source,e.source),n!==0)||(n=t.originalLine-e.originalLine,n!==0)||(n=t.originalColumn-e.originalColumn,n!==0)?n:Xr(t.name,e.name)}un.compareByGeneratedPositionsInflated=ZP;function eI(t){return JSON.parse(t.replace(/^\)]}'[^\n]*\n/,""))}un.parseSourceMapInput=eI;function tI(t,e,n){if(e=e||"",t&&(t[t.length-1]!=="/"&&e[0]!=="/"&&(t+="/"),e=t+e),n){var i=ra(n);if(!i)throw new Error("sourceMapURL could not be parsed");if(i.path){var s=i.path.lastIndexOf("/");s>=0&&(i.path=i.path.substring(0,s+1))}e=cx(qo(i),e)}return Gf(e)}un.computeSourceURL=tI});var hx=Nt(dx=>{var Vf=ec(),Yf=Object.prototype.hasOwnProperty,Hi=typeof Map<"u";function Jr(){this._array=[],this._set=Hi?new Map:Object.create(null)}Jr.fromArray=function(e,n){for(var i=new Jr,s=0,a=e.length;s<a;s++)i.add(e[s],n);return i};Jr.prototype.size=function(){return Hi?this._set.size:Object.getOwnPropertyNames(this._set).length};Jr.prototype.add=function(e,n){var i=Hi?e:Vf.toSetString(e),s=Hi?this.has(e):Yf.call(this._set,i),a=this._array.length;(!s||n)&&this._array.push(e),s||(Hi?this._set.set(e,a):this._set[i]=a)};Jr.prototype.has=function(e){if(Hi)return this._set.has(e);var n=Vf.toSetString(e);return Yf.call(this._set,n)};Jr.prototype.indexOf=function(e){if(Hi){var n=this._set.get(e);if(n>=0)return n}else{var i=Vf.toSetString(e);if(Yf.call(this._set,i))return this._set[i]}throw new Error('"'+e+'" is not in the set.')};Jr.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)};Jr.prototype.toArray=function(){return this._array.slice()};dx.ArraySet=Jr});var yx=Nt(gx=>{var mx=ec();function nI(t,e){var n=t.generatedLine,i=e.generatedLine,s=t.generatedColumn,a=e.generatedColumn;return i>n||i==n&&a>=s||mx.compareByGeneratedPositionsInflated(t,e)<=0}function tc(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}tc.prototype.unsortedForEach=function(e,n){this._array.forEach(e,n)};tc.prototype.add=function(e){nI(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))};tc.prototype.toArray=function(){return this._sorted||(this._array.sort(mx.compareByGeneratedPositionsInflated),this._sorted=!0),this._array};gx.MappingList=tc});var bx=Nt(vx=>{var ia=ax(),en=ec(),nc=hx().ArraySet,rI=yx().MappingList;function lr(t){t||(t={}),this._file=en.getArg(t,"file",null),this._sourceRoot=en.getArg(t,"sourceRoot",null),this._skipValidation=en.getArg(t,"skipValidation",!1),this._sources=new nc,this._names=new nc,this._mappings=new rI,this._sourcesContents=null}lr.prototype._version=3;lr.fromSourceMap=function(e){var n=e.sourceRoot,i=new lr({file:e.file,sourceRoot:n});return e.eachMapping(function(s){var a={generated:{line:s.generatedLine,column:s.generatedColumn}};s.source!=null&&(a.source=s.source,n!=null&&(a.source=en.relative(n,a.source)),a.original={line:s.originalLine,column:s.originalColumn},s.name!=null&&(a.name=s.name)),i.addMapping(a)}),e.sources.forEach(function(s){var a=s;n!==null&&(a=en.relative(n,s)),i._sources.has(a)||i._sources.add(a);var f=e.sourceContentFor(s);f!=null&&i.setSourceContent(s,f)}),i};lr.prototype.addMapping=function(e){var n=en.getArg(e,"generated"),i=en.getArg(e,"original",null),s=en.getArg(e,"source",null),a=en.getArg(e,"name",null);this._skipValidation||this._validateMapping(n,i,s,a),s!=null&&(s=String(s),this._sources.has(s)||this._sources.add(s)),a!=null&&(a=String(a),this._names.has(a)||this._names.add(a)),this._mappings.add({generatedLine:n.line,generatedColumn:n.column,originalLine:i!=null&&i.line,originalColumn:i!=null&&i.column,source:s,name:a})};lr.prototype.setSourceContent=function(e,n){var i=e;this._sourceRoot!=null&&(i=en.relative(this._sourceRoot,i)),n!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[en.toSetString(i)]=n):this._sourcesContents&&(delete this._sourcesContents[en.toSetString(i)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))};lr.prototype.applySourceMap=function(e,n,i){var s=n;if(n==null){if(e.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);s=e.file}var a=this._sourceRoot;a!=null&&(s=en.relative(a,s));var f=new nc,p=new nc;this._mappings.unsortedForEach(function(m){if(m.source===s&&m.originalLine!=null){var h=e.originalPositionFor({line:m.originalLine,column:m.originalColumn});h.source!=null&&(m.source=h.source,i!=null&&(m.source=en.join(i,m.source)),a!=null&&(m.source=en.relative(a,m.source)),m.originalLine=h.line,m.originalColumn=h.column,h.name!=null&&(m.name=h.name))}var g=m.source;g!=null&&!f.has(g)&&f.add(g);var v=m.name;v!=null&&!p.has(v)&&p.add(v)},this),this._sources=f,this._names=p,e.sources.forEach(function(m){var h=e.sourceContentFor(m);h!=null&&(i!=null&&(m=en.join(i,m)),a!=null&&(m=en.relative(a,m)),this.setSourceContent(m,h))},this)};lr.prototype._validateMapping=function(e,n,i,s){if(n&&typeof n.line!="number"&&typeof n.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!n&&!i&&!s)){if(e&&"line"in e&&"column"in e&&n&&"line"in n&&"column"in n&&e.line>0&&e.column>=0&&n.line>0&&n.column>=0&&i)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:i,original:n,name:s}))}};lr.prototype._serializeMappings=function(){for(var e=0,n=1,i=0,s=0,a=0,f=0,p="",m,h,g,v,w=this._mappings.toArray(),k=0,S=w.length;k<S;k++){if(h=w[k],m="",h.generatedLine!==n)for(e=0;h.generatedLine!==n;)m+=";",n++;else if(k>0){if(!en.compareByGeneratedPositionsInflated(h,w[k-1]))continue;m+=","}m+=ia.encode(h.generatedColumn-e),e=h.generatedColumn,h.source!=null&&(v=this._sources.indexOf(h.source),m+=ia.encode(v-f),f=v,m+=ia.encode(h.originalLine-1-s),s=h.originalLine-1,m+=ia.encode(h.originalColumn-i),i=h.originalColumn,h.name!=null&&(g=this._names.indexOf(h.name),m+=ia.encode(g-a),a=g)),p+=m}return p};lr.prototype._generateSourcesContent=function(e,n){return e.map(function(i){if(!this._sourcesContents)return null;n!=null&&(i=en.relative(n,i));var s=en.toSetString(i);return Object.prototype.hasOwnProperty.call(this._sourcesContents,s)?this._sourcesContents[s]:null},this)};lr.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(e.file=this._file),this._sourceRoot!=null&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e};lr.prototype.toString=function(){return JSON.stringify(this.toJSON())};vx.SourceMapGenerator=lr});function kx(t){let e=new xx.SourceMapGenerator,n={line:1,column:0},i={line:0,column:0},s={line:1,column:0},a={generated:s},f=1,p=0,m=!1,h=t.node;t.node=function(w){if(w.loc&&w.loc.start&&wx.has(w.type)){let k=w.loc.start.line,S=w.loc.start.column-1;(i.line!==k||i.column!==S)&&(i.line=k,i.column=S,n.line=f,n.column=p,m&&(m=!1,(n.line!==s.line||n.column!==s.column)&&e.addMapping(a)),m=!0,e.addMapping({source:w.loc.source,original:i,generated:n}))}h.call(this,w),m&&wx.has(w.type)&&(s.line=f,s.column=p)};let g=t.emit;t.emit=function(w,k,S){for(let P=0;P<w.length;P++)w.charCodeAt(P)===10?(f++,p=0):p++;g(w,k,S)};let v=t.result;return t.result=function(){return m&&e.addMapping(a),{css:v(),map:e}},t}var xx,wx,Cx=N(()=>{xx=Xn(bx(),1),wx=new Set(["Atrule","Selector","Declaration"])});var rc={};te(rc,{safe:()=>Qf,spec:()=>aI});function Ax(t){let e=new Set(t.map(([n,i])=>Kf(n)<<16|Kf(i)));return function(n,i,s){let a=Kf(i,s),f=s.charCodeAt(0);return(f===oI&&i!==1&&i!==2&&i!==15||f===iI?e.has(n<<16|f<<8):e.has(n<<16|a))&&this.emit(" ",13,!0),a}}var iI,oI,Kf,Sx,sI,aI,Qf,Tx=N(()=>{Ne();iI=43,oI=45,Kf=(t,e)=>{if(t===9&&(t=e),typeof t=="string"){let n=t.charCodeAt(0);return n>127?32768:n<<8}return t},Sx=[[1,1],[1,2],[1,7],[1,8],[1,"-"],[1,10],[1,11],[1,12],[1,15],[1,21],[3,1],[3,2],[3,7],[3,8],[3,"-"],[3,10],[3,11],[3,12],[3,15],[4,1],[4,2],[4,7],[4,8],[4,"-"],[4,10],[4,11],[4,12],[4,15],[12,1],[12,2],[12,7],[12,8],[12,"-"],[12,10],[12,11],[12,12],[12,15],["#",1],["#",2],["#",7],["#",8],["#","-"],["#",10],["#",11],["#",12],["#",15],["-",1],["-",2],["-",7],["-",8],["-","-"],["-",10],["-",11],["-",12],["-",15],[10,1],[10,2],[10,7],[10,8],[10,10],[10,11],[10,12],[10,"%"],[10,15],["@",1],["@",2],["@",7],["@",8],["@","-"],["@",15],[".",10],[".",11],[".",12],["+",10],["+",11],["+",12],["/","*"]],sI=Sx.concat([[1,4],[12,4],[4,4],[3,21],[3,5],[3,16],[11,11],[11,12],[11,2],[11,"-"],[22,1],[22,2],[22,11],[22,12],[22,4],[22,"-"]]);aI=Ax(Sx),Qf=Ax(sI)});function cI(t,e){if(typeof e=="function"){let n=null;t.children.forEach(i=>{n!==null&&e.call(this,n),this.node(i),n=i});return}t.children.forEach(this.node,this)}function uI(t){gi(t,(e,n,i)=>{this.token(e,t.slice(n,i))})}function Ex(t){let e=new Map;for(let[n,i]of Object.entries(t.node))typeof(i.generate||i)=="function"&&e.set(n,i.generate||i);return function(n,i){let s="",a=0,f={node(m){if(e.has(m.type))e.get(m.type).call(p,m);else throw new Error("Unknown node type: "+m.type)},tokenBefore:Qf,token(m,h){a=this.tokenBefore(a,m,h),this.emit(h,m,!1),m===9&&h.charCodeAt(0)===lI&&this.emit(`
`,13,!0)},emit(m){s+=m},result(){return s}};i&&(typeof i.decorator=="function"&&(f=i.decorator(f)),i.sourceMap&&(f=kx(f)),i.mode in rc&&(f.tokenBefore=rc[i.mode]));let p={node:m=>f.node(m),children:cI,token:(m,h)=>f.token(m,h),tokenize:uI};return f.node(n),f.result()}}var lI,Lx=N(()=>{Ne();Cx();Tx();lI=92});function Mx(t){return{fromPlainObject(e){return t(e,{enter(n){n.children&&!(n.children instanceof gn)&&(n.children=new gn().fromArray(n.children))}}),e},toPlainObject(e){return t(e,{leave(n){n.children&&n.children instanceof gn&&(n.children=n.children.toArray())}}),e}}}var Nx=N(()=>{ji()});function Dx(t){return typeof t=="function"?t:oa}function Ox(t,e){return function(n,i,s){n.type===e&&t.call(this,n,i,s)}}function fI(t,e){let n=e.structure,i=[];for(let s in n){if(Xf.call(n,s)===!1)continue;let a=n[s],f={name:s,type:!1,nullable:!1};Array.isArray(a)||(a=[a]);for(let p of a)p===null?f.nullable=!0:typeof p=="string"?f.type="node":Array.isArray(p)&&(f.type="list");f.type&&i.push(f)}return i.length?{context:e.walkContext,fields:i}:null}function pI(t){let e={};for(let n in t.node)if(Xf.call(t.node,n)){let i=t.node[n];if(!i.structure)throw new Error("Missed `structure` field in `"+n+"` node type definition");e[n]=fI(n,i)}return e}function Px(t,e){let n=t.fields.slice(),i=t.context,s=typeof i=="string";return e&&n.reverse(),function(a,f,p,m){let h;s&&(h=f[i],f[i]=a);for(let g of n){let v=a[g.name];if(!g.nullable||v){if(g.type==="list"){if(e?v.reduceRight(m,!1):v.reduce(m,!1))return!0}else if(p(v))return!0}}s&&(f[i]=h)}}function Ix({StyleSheet:t,Atrule:e,Rule:n,Block:i,DeclarationList:s}){return{Atrule:{StyleSheet:t,Atrule:e,Rule:n,Block:i},Rule:{StyleSheet:t,Atrule:e,Rule:n,Block:i},Declaration:{StyleSheet:t,Atrule:e,Rule:n,Block:i,DeclarationList:s}}}function zx(t){let e=pI(t),n={},i={},s=Symbol("break-walk"),a=Symbol("skip-node");for(let h in e)Xf.call(e,h)&&e[h]!==null&&(n[h]=Px(e[h],!1),i[h]=Px(e[h],!0));let f=Ix(n),p=Ix(i),m=function(h,g){function v(A,T,L){let O=w.call(M,A,T,L);return O===s?!0:O===a?!1:!!(S.hasOwnProperty(A.type)&&S[A.type](A,M,v,P)||k.call(M,A,T,L)===s)}let w=oa,k=oa,S=n,P=(A,T,L,O)=>A||v(T,L,O),M={break:s,skip:a,root:h,stylesheet:null,atrule:null,atrulePrelude:null,rule:null,selector:null,block:null,declaration:null,function:null};if(typeof g=="function")w=g;else if(g&&(w=Dx(g.enter),k=Dx(g.leave),g.reverse&&(S=i),g.visit)){if(f.hasOwnProperty(g.visit))S=g.reverse?p[g.visit]:f[g.visit];else if(!e.hasOwnProperty(g.visit))throw new Error("Bad value `"+g.visit+"` for `visit` option (should be: "+Object.keys(e).sort().join(", ")+")");w=Ox(w,g.visit),k=Ox(k,g.visit)}if(w===oa&&k===oa)throw new Error("Neither `enter` nor `leave` walker handler is set or both aren't a function");v(h)};return m.break=s,m.skip=a,m.find=function(h,g){let v=null;return m(h,function(w,k,S){if(g.call(this,w,k,S))return v=w,s}),v},m.findLast=function(h,g){let v=null;return m(h,{reverse:!0,enter(w,k,S){if(g.call(this,w,k,S))return v=w,s}}),v},m.findAll=function(h,g){let v=[];return m(h,function(w,k,S){g.call(this,w,k,S)&&v.push(w)}),v},m}var Xf,oa,Bx=N(()=>{({hasOwnProperty:Xf}=Object.prototype),oa=function(){}});function dI(t){return t}function hI(t){let{min:e,max:n,comma:i}=t;return e===0&&n===0?i?"#?":"*":e===0&&n===1?"?":e===1&&n===0?i?"#":"+":e===1&&n===1?"":(i?"#":"")+(e===n?"{"+e+"}":"{"+e+","+(n!==0?n:"")+"}")}function mI(t){switch(t.type){case"Range":return" ["+(t.min===null?"-\u221E":t.min)+","+(t.max===null?"\u221E":t.max)+"]";default:throw new Error("Unknown node type `"+t.type+"`")}}function gI(t,e,n,i){let s=t.combinator===" "||i?t.combinator:" "+t.combinator+" ",a=t.terms.map(f=>Jf(f,e,n,i)).join(s);return t.explicit||n?(i||a[0]===","?"[":"[ ")+a+(i?"]":" ]"):a}function Jf(t,e,n,i){let s;switch(t.type){case"Group":s=gI(t,e,n,i)+(t.disallowEmpty?"!":"");break;case"Multiplier":return Jf(t.term,e,n,i)+e(hI(t),t);case"Type":s="<"+t.name+(t.opts?e(mI(t.opts),t.opts):"")+">";break;case"Property":s="<'"+t.name+"'>";break;case"Keyword":s=t.name;break;case"AtKeyword":s="@"+t.name;break;case"Function":s=t.name+"(";break;case"String":case"Token":s=t.value;break;case"Comma":s=",";break;default:throw new Error("Unknown node type `"+t.type+"`")}return e(s,t)}function qi(t,e){let n=dI,i=!1,s=!1;return typeof e=="function"?n=e:e&&(i=!!e.forceBraces,s=!!e.compact,typeof e.decorate=="function"&&(n=e.decorate)),Jf(t,n,i,s)}var Zf=N(()=>{});function yI(t,e){let n=t.tokens,i=t.longestMatch,s=i<n.length&&n[i].node||null,a=s!==e?s:null,f=0,p=0,m=0,h="",g,v;for(let w=0;w<n.length;w++){let k=n[w].value;w===i&&(p=k.length,f=h.length),a!==null&&n[w].node===a&&(w<=i?m++:m=0),h+=k}return i===n.length||m>1?(g=ic(a||e,"end")||sa(Fx,h),v=sa(g)):(g=ic(a,"start")||sa(ic(e,"start")||Fx,h.slice(0,f)),v=ic(a,"end")||sa(g,h.substr(f,p))),{css:h,mismatchOffset:f,mismatchLength:p,start:g,end:v}}function ic(t,e){let n=t&&t.loc&&t.loc[e];return n?"line"in n?sa(n):n:null}function sa({offset:t,line:e,column:n},i){let s={offset:t,line:e,column:n};if(i){let a=i.split(/\n|\r\n?|\f/);s.offset+=i.length,s.line+=a.length-1,s.column=a.length===1?s.column+i.length:a.pop().length+1}return s}var Fx,Wo,Rx,jx=N(()=>{Zl();Zf();Fx={offset:0,line:1,column:1};Wo=function(t,e){let n=_i("SyntaxReferenceError",t+(e?" `"+e+"`":""));return n.reference=e,n},Rx=function(t,e,n,i){let s=_i("SyntaxMatchError",t),{css:a,mismatchOffset:f,mismatchLength:p,start:m,end:h}=yI(i,n);return s.rawMessage=t,s.syntax=e?qi(e):"<generic>",s.css=a,s.mismatchOffset=f,s.mismatchLength=p,s.message=t+`
  syntax: `+s.syntax+`
   value: `+(a||"<empty string>")+`
  --------`+new Array(s.mismatchOffset+1).join("-")+"^",Object.assign(s,m),s.loc={source:n&&n.loc&&n.loc.source||"<unknown>",start:m,end:h},s}});function aa(t,e){return e=e||0,t.length-e>=2&&t.charCodeAt(e)===sc&&t.charCodeAt(e+1)===sc}function ep(t,e){if(e=e||0,t.length-e>=3&&t.charCodeAt(e)===sc&&t.charCodeAt(e+1)!==sc){let n=t.indexOf("-",e+2);if(n!==-1)return t.substring(e,n+1)}return""}function bI(t){if(oc.has(t))return oc.get(t);let e=t.toLowerCase(),n=oc.get(e);if(n===void 0){let i=aa(e,0),s=i?"":ep(e,0);n=Object.freeze({basename:e.substr(s.length),name:e,prefix:s,vendor:s,custom:i})}return oc.set(t,n),n}function wI(t){if(Uo.has(t))return Uo.get(t);let e=t,n=t[0];n==="/"?n=t[1]==="/"?"//":"/":n!=="_"&&n!=="*"&&n!=="$"&&n!=="#"&&n!=="+"&&n!=="&"&&(n="");let i=aa(e,n.length);if(!i&&(e=e.toLowerCase(),Uo.has(e))){let p=Uo.get(e);return Uo.set(t,p),p}let s=i?"":ep(e,n.length),a=e.substr(0,n.length+s.length),f=Object.freeze({basename:e.substr(a.length),name:e.substr(n.length),hack:n,vendor:s,prefix:a,custom:i});return Uo.set(t,f),f}var oc,Uo,sc,Wi,ac,vI,lc=N(()=>{oc=new Map,Uo=new Map,sc=45,Wi=bI,ac=wI,vI=ep});var cc,tp=N(()=>{cc=["initial","inherit","unset","revert","revert-layer"]});function ip(t,e){return t!==null&&t.type===9&&t.value.charCodeAt(0)===e}function la(t,e,n){for(;t!==null&&(t.type===13||t.type===25);)t=n(++e);return e}function yi(t,e,n,i){if(!t)return 0;let s=t.value.charCodeAt(e);if(s===ca||s===Fr){if(n)return 0;e++}for(;e<t.value.length;e++)if(!Kt(t.value.charCodeAt(e)))return 0;return i+1}function rp(t,e,n){let i=!1,s=la(t,e,n);if(t=n(s),t===null)return e;if(t.type!==10)if(ip(t,ca)||ip(t,Fr)){if(i=!0,s=la(n(++s),s,n),t=n(s),t===null||t.type!==10)return 0}else return e;if(!i){let a=t.value.charCodeAt(0);if(a!==ca&&a!==Fr)return 0}return yi(t,i?0:1,i,s)}function op(t,e){let n=0;if(!t)return 0;if(t.type===10)return yi(t,0,kI,n);if(t.type===1&&t.value.charCodeAt(0)===Fr){if(!Kr(t.value,1,np))return 0;switch(t.value.length){case 2:return rp(e(++n),n,e);case 3:return t.value.charCodeAt(2)!==Fr?0:(n=la(e(++n),n,e),t=e(n),yi(t,0,$o,n));default:return t.value.charCodeAt(2)!==Fr?0:yi(t,3,$o,n)}}else if(t.type===1||ip(t,ca)&&e(n+1).type===1){if(t.type!==1&&(t=e(++n)),t===null||!Kr(t.value,0,np))return 0;switch(t.value.length){case 1:return rp(e(++n),n,e);case 2:return t.value.charCodeAt(1)!==Fr?0:(n=la(e(++n),n,e),t=e(n),yi(t,0,$o,n));default:return t.value.charCodeAt(1)!==Fr?0:yi(t,2,$o,n)}}else if(t.type===12){let i=t.value.charCodeAt(0),s=i===ca||i===Fr?1:0,a=s;for(;a<t.value.length&&Kt(t.value.charCodeAt(a));a++);return a===s||!Kr(t.value,a,np)?0:a+1===t.value.length?rp(e(++n),n,e):t.value.charCodeAt(a+1)!==Fr?0:a+2===t.value.length?(n=la(e(++n),n,e),t=e(n),yi(t,0,$o,n)):yi(t,a+2,$o,n)}return 0}var ca,Fr,np,$o,kI,_x=N(()=>{Ne();ca=43,Fr=45,np=110,$o=!0,kI=!1});function sp(t,e){return t!==null&&t.type===9&&t.value.charCodeAt(0)===e}function AI(t,e){return t.value.charCodeAt(0)===e}function ua(t,e,n){let i=0;for(let s=e;s<t.value.length;s++){let a=t.value.charCodeAt(s);if(a===Hx&&n&&i!==0)return ua(t,e+i+1,!1),6;if(!Hn(a)||++i>6)return 0}return i}function uc(t,e,n){if(!t)return 0;for(;sp(n(e),qx);){if(++t>6)return 0;e++}return e}function ap(t,e){let n=0;if(t===null||t.type!==1||!Kr(t.value,0,SI)||(t=e(++n),t===null))return 0;if(sp(t,CI))return t=e(++n),t===null?0:t.type===1?uc(ua(t,0,!0),++n,e):sp(t,qx)?uc(1,++n,e):0;if(t.type===10){let i=ua(t,1,!0);return i===0?0:(t=e(++n),t===null?n:t.type===12||t.type===10?!AI(t,Hx)||!ua(t,1,!1)?0:n+1:uc(i,n,e))}return t.type===12?uc(ua(t,1,!0),++n,e):0}var CI,Hx,qx,SI,Wx=N(()=>{Ne();CI=43,Hx=45,qx=63,SI=117});function br(t,e){return e<t.length?t.charCodeAt(e):0}function Ux(t,e){return Qr(t,0,t.length,e)}function $x(t,e){for(let n=0;n<e.length;n++)if(Ux(t,e[n]))return!0;return!1}function Gx(t,e){return e!==t.length-2?!1:br(t,e)===92&&Kt(br(t,e+1))}function fc(t,e,n){if(t&&t.type==="Range"){let i=Number(n!==void 0&&n!==e.length?e.substr(0,n):e);if(isNaN(i)||t.min!==null&&i<t.min&&typeof t.min!="string"||t.max!==null&&i>t.max&&typeof t.max!="string")return!0}return!1}function EI(t,e){let n=0,i=[],s=0;e:do{switch(t.type){case 24:case 22:case 20:if(t.type!==n)break e;if(n=i.pop(),i.length===0){s++;break e}break;case 2:case 21:case 19:case 23:i.push(n),n=lp.get(t.type);break}s++}while(t=e(s));return s}function cr(t){return function(e,n,i){return e===null?0:e.type===2&&$x(e.value,TI)?EI(e,n):t(e,n,i)}}function Lt(t){return function(e){return e===null||e.type!==t?0:1}}function LI(t){if(t===null||t.type!==1)return 0;let e=t.value.toLowerCase();return $x(e,cc)||Ux(e,"default")?0:1}function Vx(t){return t===null||t.type!==1||br(t.value,0)!==45||br(t.value,1)!==45?0:1}function MI(t){return!Vx(t)||t.value==="--"?0:1}function NI(t){if(t===null||t.type!==4)return 0;let e=t.value.length;if(e!==4&&e!==5&&e!==7&&e!==9)return 0;for(let n=1;n<e;n++)if(!Hn(br(t.value,n)))return 0;return 1}function DI(t){return t===null||t.type!==4||!Bo(br(t.value,1),br(t.value,2),br(t.value,3))?0:1}function OI(t,e){if(!t)return 0;let n=0,i=[],s=0;e:do{switch(t.type){case 6:case 8:break e;case 24:case 22:case 20:if(t.type!==n)break e;n=i.pop();break;case 17:if(n===0)break e;break;case 9:if(n===0&&t.value==="!")break e;break;case 2:case 21:case 19:case 23:i.push(n),n=lp.get(t.type);break}s++}while(t=e(s));return s}function PI(t,e){if(!t)return 0;let n=0,i=[],s=0;e:do{switch(t.type){case 6:case 8:break e;case 24:case 22:case 20:if(t.type!==n)break e;n=i.pop();break;case 2:case 21:case 19:case 23:i.push(n),n=lp.get(t.type);break}s++}while(t=e(s));return s}function Zr(t){return t&&(t=new Set(t)),function(e,n,i){if(e===null||e.type!==12)return 0;let s=Fi(e.value,0);if(t!==null){let a=e.value.indexOf("\\",s),f=a===-1||!Gx(e.value,a)?e.value.substr(s):e.value.substring(s,a);if(t.has(f.toLowerCase())===!1)return 0}return fc(i,e.value,s)?0:1}}function II(t,e,n){return t===null||t.type!==11||fc(n,t.value,t.value.length-1)?0:1}function Yx(t){return typeof t!="function"&&(t=function(){return 0}),function(e,n,i){return e!==null&&e.type===10&&Number(e.value)===0?1:t(e,n,i)}}function zI(t,e,n){if(t===null)return 0;let i=Fi(t.value,0);return!(i===t.value.length)&&!Gx(t.value,i)||fc(n,t.value,i)?0:1}function BI(t,e,n){if(t===null||t.type!==10)return 0;let i=br(t.value,0)===43||br(t.value,0)===45?1:0;for(;i<t.value.length;i++)if(!Kt(br(t.value,i)))return 0;return fc(n,t.value,i)?0:1}function jI(t){let{angle:e,decibel:n,frequency:i,flex:s,length:a,resolution:f,semitones:p,time:m}=t||{};return{dimension:cr(Zr(null)),angle:cr(Zr(e)),decibel:cr(Zr(n)),frequency:cr(Zr(i)),flex:cr(Zr(s)),length:cr(Yx(Zr(a))),resolution:cr(Zr(f)),semitones:cr(Zr(p)),time:cr(Zr(m))}}function Kx(t){return{...FI,...RI,...jI(t)}}var TI,lp,FI,RI,Qx=N(()=>{tp();_x();Wx();Ne();TI=["calc(","-moz-calc(","-webkit-calc("],lp=new Map([[2,22],[21,22],[19,20],[23,24]]);FI={"ident-token":Lt(1),"function-token":Lt(2),"at-keyword-token":Lt(3),"hash-token":Lt(4),"string-token":Lt(5),"bad-string-token":Lt(6),"url-token":Lt(7),"bad-url-token":Lt(8),"delim-token":Lt(9),"number-token":Lt(10),"percentage-token":Lt(11),"dimension-token":Lt(12),"whitespace-token":Lt(13),"CDO-token":Lt(14),"CDC-token":Lt(15),"colon-token":Lt(16),"semicolon-token":Lt(17),"comma-token":Lt(18),"[-token":Lt(19),"]-token":Lt(20),"(-token":Lt(21),")-token":Lt(22),"{-token":Lt(23),"}-token":Lt(24)},RI={string:Lt(5),ident:Lt(1),percentage:cr(II),zero:Yx(),number:cr(zI),integer:cr(BI),"custom-ident":LI,"dashed-ident":Vx,"custom-property-name":MI,"hex-color":NI,"id-selector":DI,"an-plus-b":op,urange:ap,"declaration-value":OI,"any-value":PI}});var pc={};te(pc,{angle:()=>HI,decibel:()=>GI,flex:()=>$I,frequency:()=>WI,length:()=>_I,resolution:()=>UI,semitones:()=>VI,time:()=>qI});var _I,HI,qI,WI,UI,$I,GI,VI,Xx=N(()=>{_I=["cm","mm","q","in","pt","pc","px","em","rem","ex","rex","cap","rcap","ch","rch","ic","ric","lh","rlh","vw","svw","lvw","dvw","vh","svh","lvh","dvh","vi","svi","lvi","dvi","vb","svb","lvb","dvb","vmin","svmin","lvmin","dvmin","vmax","svmax","lvmax","dvmax","cqw","cqh","cqi","cqb","cqmin","cqmax"],HI=["deg","grad","rad","turn"],qI=["s","ms"],WI=["hz","khz"],UI=["dpi","dpcm","dppx","x"],$I=["fr"],GI=["db"],VI=["st"]});function dc(t,e,n){return Object.assign(_i("SyntaxError",t),{input:e,offset:n,rawMessage:t,message:t+`
  `+e+`
--`+new Array((n||e.length)+1).join("-")+"^"})}var cp=N(()=>{Zl()});var YI,KI,QI,XI,JI,hc,Jx=N(()=>{cp();YI=9,KI=10,QI=12,XI=13,JI=32,hc=class{constructor(e){this.str=e,this.pos=0}charCodeAt(e){return e<this.str.length?this.str.charCodeAt(e):0}charCode(){return this.charCodeAt(this.pos)}nextCharCode(){return this.charCodeAt(this.pos+1)}nextNonWsCode(e){return this.charCodeAt(this.findWsEnd(e))}skipWs(){this.pos=this.findWsEnd(this.pos)}findWsEnd(e){for(;e<this.str.length;e++){let n=this.str.charCodeAt(e);if(n!==XI&&n!==KI&&n!==QI&&n!==JI&&n!==YI)break}return e}substringToPos(e){return this.str.substring(this.pos,this.pos=e)}eat(e){this.charCode()!==e&&this.error("Expect `"+String.fromCharCode(e)+"`"),this.pos++}peek(){return this.pos<this.str.length?this.str.charAt(this.pos++):""}error(e){throw new dc(e,this.str,this.pos)}}});function yc(t){return t.substringToPos(t.findWsEnd(t.pos))}function Go(t){let e=t.pos;for(;e<t.str.length;e++){let n=t.str.charCodeAt(e);if(n>=128||fa[n]===0)break}return t.pos===e&&t.error("Expect a keyword"),t.substringToPos(e)}function vc(t){let e=t.pos;for(;e<t.str.length;e++){let n=t.str.charCodeAt(e);if(n<48||n>57)break}return t.pos===e&&t.error("Expect a number"),t.substringToPos(e)}function s2(t){let e=t.str.indexOf("'",t.pos+1);return e===-1&&(t.pos=t.str.length,t.error("Expect an apostrophe")),t.substringToPos(e+1)}function ok(t){let e=null,n=null;return t.eat(gc),t.skipWs(),e=vc(t),t.skipWs(),t.charCode()===hp?(t.pos++,t.skipWs(),t.charCode()!==nk&&(n=vc(t),t.skipWs())):n=e,t.eat(nk),{min:Number(e),max:n?Number(n):0}}function a2(t){let e=null,n=!1;switch(t.charCode()){case lk:t.pos++,e={min:0,max:0};break;case dp:t.pos++,e={min:1,max:0};break;case fp:t.pos++,e={min:0,max:1};break;case pp:t.pos++,n=!0,t.charCode()===gc?e=ok(t):t.charCode()===fp?(t.pos++,e={min:0,max:0}):e={min:1,max:0};break;case gc:e=ok(t);break;default:return null}return{type:"Multiplier",comma:n,min:e.min,max:e.max,term:null}}function Vo(t,e){let n=a2(t);return n!==null?(n.term=e,t.charCode()===pp&&t.charCodeAt(t.pos-1)===dp?Vo(t,n):n):e}function up(t){let e=t.peek();return e===""?null:{type:"Token",value:e}}function l2(t){let e;return t.eat(mp),t.eat(mc),e=Go(t),t.eat(mc),t.eat(ck),Vo(t,{type:"Property",name:e})}function c2(t){let e=null,n=null,i=1;return t.eat(bc),t.charCode()===ek&&(t.peek(),i=-1),i==-1&&t.charCode()===rk?t.peek():(e=i*Number(vc(t)),fa[t.charCode()]!==0&&(e+=Go(t))),yc(t),t.eat(hp),yc(t),t.charCode()===rk?t.peek():(i=1,t.charCode()===ek&&(t.peek(),i=-1),n=i*Number(vc(t)),fa[t.charCode()]!==0&&(n+=Go(t))),t.eat(gp),{type:"Range",min:e,max:n}}function u2(t){let e,n=null;return t.eat(mp),e=Go(t),t.charCode()===ak&&t.nextCharCode()===i2&&(t.pos+=2,e+="()"),t.charCodeAt(t.findWsEnd(t.pos))===bc&&(yc(t),n=c2(t)),t.eat(ck),Vo(t,{type:"Type",name:e,opts:n})}function f2(t){let e=Go(t);return t.charCode()===ak?(t.pos++,{type:"Function",name:e}):Vo(t,{type:"Keyword",name:e})}function p2(t,e){function n(s,a){return{type:"Group",terms:s,combinator:a,disallowEmpty:!1,explicit:!1}}let i;for(e=Object.keys(e).sort((s,a)=>ik[s]-ik[a]);e.length>0;){i=e.shift();let s=0,a=0;for(;s<t.length;s++){let f=t[s];f.type==="Combinator"&&(f.value===i?(a===-1&&(a=s-1),t.splice(s,1),s--):(a!==-1&&s-a>1&&(t.splice(a,s-a,n(t.slice(a,s),i)),s=a+1),a=-1))}a!==-1&&e.length&&t.splice(a,s-a,n(t.slice(a,s),i))}return i}function uk(t){let e=[],n={},i,s=null,a=t.pos;for(;i=h2(t);)i.type!=="Spaces"&&(i.type==="Combinator"?((s===null||s.type==="Combinator")&&(t.pos=a,t.error("Unexpected combinator")),n[i.value]=!0):s!==null&&s.type!=="Combinator"&&(n[" "]=!0,e.push({type:"Combinator",value:" "})),e.push(i),s=i,a=t.pos);return s!==null&&s.type==="Combinator"&&(t.pos-=a,t.error("Unexpected combinator")),{type:"Group",terms:e,combinator:p2(e,n)||" ",disallowEmpty:!1,explicit:!1}}function d2(t){let e;return t.eat(bc),e=uk(t),t.eat(gp),e.explicit=!0,t.charCode()===sk&&(t.pos++,e.disallowEmpty=!0),e}function h2(t){let e=t.charCode();if(e<128&&fa[e]===1)return f2(t);switch(e){case gp:break;case bc:return Vo(t,d2(t));case mp:return t.nextCharCode()===mc?l2(t):u2(t);case tk:return{type:"Combinator",value:t.substringToPos(t.pos+(t.nextCharCode()===tk?2:1))};case Zx:return t.pos++,t.eat(Zx),{type:"Combinator",value:"&&"};case hp:return t.pos++,{type:"Comma"};case mc:return Vo(t,{type:"String",value:s2(t)});case r2:case ZI:case e2:case n2:case t2:return{type:"Spaces",value:yc(t)};case o2:return e=t.nextCharCode(),e<128&&fa[e]===1?(t.pos++,{type:"AtKeyword",name:Go(t)}):up(t);case lk:case dp:case fp:case pp:case sk:break;case gc:if(e=t.nextCharCode(),e<48||e>57)return up(t);break;default:return up(t)}}function Yo(t){let e=new hc(t),n=uk(e);return e.pos!==t.length&&e.error("Unexpected input"),n.terms.length===1&&n.terms[0].type==="Group"?n.terms[0]:n}var ZI,e2,t2,n2,r2,sk,pp,Zx,mc,ak,i2,lk,dp,hp,ek,mp,ck,fp,o2,bc,gp,gc,tk,nk,rk,fa,ik,yp=N(()=>{Jx();ZI=9,e2=10,t2=12,n2=13,r2=32,sk=33,pp=35,Zx=38,mc=39,ak=40,i2=41,lk=42,dp=43,hp=44,ek=45,mp=60,ck=62,fp=63,o2=64,bc=91,gp=93,gc=123,tk=124,nk=125,rk=8734,fa=new Uint8Array(128).map((t,e)=>/[a-zA-Z0-9\-]/.test(String.fromCharCode(e))?1:0),ik={" ":1,"&&":2,"||":3,"|":4}});function fk(t){return typeof t=="function"?t:pa}function wc(t,e,n){function i(f){switch(s.call(n,f),f.type){case"Group":f.terms.forEach(i);break;case"Multiplier":i(f.term);break;case"Type":case"Property":case"Keyword":case"AtKeyword":case"Function":case"String":case"Token":case"Comma":break;default:throw new Error("Unknown type: "+f.type)}a.call(n,f)}let s=pa,a=pa;if(typeof e=="function"?s=e:e&&(s=fk(e.enter),a=fk(e.leave)),s===pa&&a===pa)throw new Error("Neither `enter` nor `leave` walker handler is set or both aren't a function");i(t,n)}var pa,pk=N(()=>{pa=function(){}});var vi={};te(vi,{SyntaxError:()=>dc,generate:()=>qi,parse:()=>Yo,walk:()=>wc});var vp=N(()=>{cp();Zf();yp();pk()});function g2(t){let e=[];return gi(t,(n,i,s)=>e.push({type:n,value:t.slice(i,s),node:null})),e}function dk(t,e){return typeof t=="string"?g2(t):e.generate(t,m2)}var m2,hk=N(()=>{Ne();m2={decorator(t){let e=[],n=null;return{...t,node(i){let s=n;n=i,t.node.call(this,i),n=s},emit(i,s,a){e.push({type:s,value:i,node:a?null:n})},result(){return e}}}}});function kn(t,e,n){return e===ft&&n===bt||t===ft&&e===ft&&n===ft?t:(t.type==="If"&&t.else===bt&&e===ft&&(e=t.then,t=t.match),{type:"If",match:t,then:e,else:n})}function gk(t){return t.length>2&&t.charCodeAt(t.length-2)===y2&&t.charCodeAt(t.length-1)===v2}function mk(t){return t.type==="Keyword"||t.type==="AtKeyword"||t.type==="Function"||t.type==="Type"&&gk(t.name)}function bp(t,e,n){switch(t){case" ":{let i=ft;for(let s=e.length-1;s>=0;s--){let a=e[s];i=kn(a,i,bt)}return i}case"|":{let i=bt,s=null;for(let a=e.length-1;a>=0;a--){let f=e[a];if(mk(f)&&(s===null&&a>0&&mk(e[a-1])&&(s=Object.create(null),i=kn({type:"Enum",map:s},ft,i)),s!==null)){let p=(gk(f.name)?f.name.slice(0,-1):f.name).toLowerCase();if(!(p in s)){s[p]=f;continue}}s=null,i=kn(f,ft,i)}return i}case"&&":{if(e.length>5)return{type:"MatchOnce",terms:e,all:!0};let i=bt;for(let s=e.length-1;s>=0;s--){let a=e[s],f;e.length>1?f=bp(t,e.filter(function(p){return p!==a}),!1):f=ft,i=kn(a,f,i)}return i}case"||":{if(e.length>5)return{type:"MatchOnce",terms:e,all:!1};let i=n?ft:bt;for(let s=e.length-1;s>=0;s--){let a=e[s],f;e.length>1?f=bp(t,e.filter(function(p){return p!==a}),!0):f=ft,i=kn(a,f,i)}return i}}}function b2(t){let e=ft,n=wp(t.term);if(t.max===0)n=kn(n,xc,bt),e=kn(n,null,bt),e.then=kn(ft,ft,e),t.comma&&(e.then.else=kn({type:"Comma",syntax:t},e,bt));else for(let i=t.min||1;i<=t.max;i++)t.comma&&e!==ft&&(e=kn({type:"Comma",syntax:t},e,bt)),e=kn(n,kn(ft,ft,e),bt);if(t.min===0)e=kn(ft,ft,e);else for(let i=0;i<t.min-1;i++)t.comma&&e!==ft&&(e=kn({type:"Comma",syntax:t},e,bt)),e=kn(n,e,bt);return e}function wp(t){if(typeof t=="function")return{type:"Generic",fn:t};switch(t.type){case"Group":{let e=bp(t.combinator,t.terms.map(wp),!1);return t.disallowEmpty&&(e=kn(e,xc,bt)),e}case"Multiplier":return b2(t);case"Type":case"Property":return{type:t.type,name:t.name,syntax:t};case"Keyword":return{type:t.type,name:t.name.toLowerCase(),syntax:t};case"AtKeyword":return{type:t.type,name:"@"+t.name.toLowerCase(),syntax:t};case"Function":return{type:t.type,name:t.name.toLowerCase()+"(",syntax:t};case"String":return t.value.length===3?{type:"Token",value:t.value.charAt(1),syntax:t}:{type:t.type,value:t.value.substr(1,t.value.length-2).replace(/\\'/g,"'"),syntax:t};case"Token":return{type:t.type,value:t.value,syntax:t};case"Comma":return{type:t.type,syntax:t};default:throw new Error("Unknown node type:",t.type)}}function da(t,e){return typeof t=="string"&&(t=Yo(t)),{type:"MatchGraph",match:wp(t),syntax:e||null,source:t}}var ft,bt,xc,y2,v2,xp=N(()=>{yp();ft={type:"Match"},bt={type:"Mismatch"},xc={type:"DisallowEmpty"},y2=40,v2=41});function A2(t){let e=null,n=null,i=t;for(;i!==null;)n=i.prev,i.prev=e,e=i,i=n;return e}function kp(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let i=e.charCodeAt(n),s=t.charCodeAt(n);if(s>=65&&s<=90&&(s=s|32),s!==i)return!1}return!0}function T2(t){return t.type!==9?!1:t.value!=="?"}function wk(t){return t===null?!0:t.type===18||t.type===2||t.type===21||t.type===19||t.type===23||T2(t)}function xk(t){return t===null?!0:t.type===22||t.type===20||t.type===24||t.type===9&&t.value==="/"}function E2(t,e,n){function i(){do T++,A=T<t.length?t[T]:null;while(A!==null&&(A.type===13||A.type===25))}function s(z){let B=T+z;return B<t.length?t[B]:null}function a(z,B){return{nextState:z,matchStack:O,syntaxStack:v,thenStack:w,tokenIndex:T,prev:B}}function f(z){w={nextState:z,matchStack:O,syntaxStack:v,prev:w}}function p(z){k=a(z,k)}function m(){O={type:x2,syntax:e.syntax,token:A,prev:O},i(),S=null,T>L&&(L=T)}function h(){v={syntax:e.syntax,opts:e.syntax.opts||v!==null&&v.opts||null,prev:v},O={type:Cp,syntax:e.syntax,token:O.token,prev:O}}function g(){O.type===Cp?O=O.prev:O={type:kk,syntax:v.syntax,token:O.token,prev:O},v=v.prev}let v=null,w=null,k=null,S=null,P=0,M=null,A=null,T=-1,L=0,O={type:w2,syntax:null,token:null,prev:null};for(i();M===null&&++P<bk;)switch(e.type){case"Match":if(w===null){if(A!==null&&(T!==t.length-1||A.value!=="\\0"&&A.value!=="\\9")){e=bt;break}M=vk;break}if(e=w.nextState,e===xc)if(w.matchStack===O){e=bt;break}else e=ft;for(;w.syntaxStack!==v;)g();w=w.prev;break;case"Mismatch":if(S!==null&&S!==!1)(k===null||T>k.tokenIndex)&&(k=S,S=!1);else if(k===null){M=k2;break}e=k.nextState,w=k.thenStack,v=k.syntaxStack,O=k.matchStack,T=k.tokenIndex,A=T<t.length?t[T]:null,k=k.prev;break;case"MatchGraph":e=e.match;break;case"If":e.else!==bt&&p(e.else),e.then!==ft&&f(e.then),e=e.match;break;case"MatchOnce":e={type:"MatchOnceBuffer",syntax:e,index:0,mask:0};break;case"MatchOnceBuffer":{let H=e.syntax.terms;if(e.index===H.length){if(e.mask===0||e.syntax.all){e=bt;break}e=ft;break}if(e.mask===(1<<H.length)-1){e=ft;break}for(;e.index<H.length;e.index++){let W=1<<e.index;if(!(e.mask&W)){p(e),f({type:"AddMatchOnce",syntax:e.syntax,mask:e.mask|W}),e=H[e.index++];break}}break}case"AddMatchOnce":e={type:"MatchOnceBuffer",syntax:e.syntax,index:0,mask:e.mask};break;case"Enum":if(A!==null){let H=A.value.toLowerCase();if(H.indexOf("\\")!==-1&&(H=H.replace(/\\[09].*$/,"")),yk.call(e.map,H)){e=e.map[H];break}}e=bt;break;case"Generic":{let H=v!==null?v.opts:null,W=T+Math.floor(e.fn(A,s,H));if(!isNaN(W)&&W>T){for(;T<W;)m();e=ft}else e=bt;break}case"Type":case"Property":{let H=e.type==="Type"?"types":"properties",W=yk.call(n,H)?n[H][e.name]:null;if(!W||!W.match)throw new Error("Bad syntax reference: "+(e.type==="Type"?"<"+e.name+">":"<'"+e.name+"'>"));if(S!==!1&&A!==null&&e.type==="Type"&&(e.name==="custom-ident"&&A.type===1||e.name==="length"&&A.value==="0")){S===null&&(S=a(e,k)),e=bt;break}h(),e=W.matchRef||W.match;break}case"Keyword":{let H=e.name;if(A!==null){let W=A.value;if(W.indexOf("\\")!==-1&&(W=W.replace(/\\[09].*$/,"")),kp(W,H)){m(),e=ft;break}}e=bt;break}case"AtKeyword":case"Function":if(A!==null&&kp(A.value,e.name)){m(),e=ft;break}e=bt;break;case"Token":if(A!==null&&A.value===e.value){m(),e=ft;break}e=bt;break;case"Comma":A!==null&&A.type===18?wk(O.token)?e=bt:(m(),e=xk(A)?bt:ft):e=wk(O.token)||xk(A)?ft:bt;break;case"String":let z="",B=T;for(;B<t.length&&z.length<e.value.length;B++)z+=t[B].value;if(kp(z,e.value)){for(;T<B;)m();e=ft}else e=bt;break;default:throw new Error("Unknown node type: "+e.type)}switch(S2+=P,M){case null:console.warn("[csstree-match] BREAK after "+bk+" iterations"),M=C2,O=null;break;case vk:for(;v!==null;)g();break;default:O=null}return{tokens:t,reason:M,iterations:P,match:O,longestMatch:L}}function Sp(t,e,n){let i=E2(t,e,n||{});if(i.match===null)return i;let s=i.match,a=i.match={syntax:e.syntax||null,match:[]},f=[a];for(s=A2(s).prev;s!==null;){switch(s.type){case Cp:a.match.push(a={syntax:s.syntax,match:[]}),f.push(a);break;case kk:f.pop(),a=f[f.length-1];break;default:a.match.push({syntax:s.syntax||null,token:s.token.value,node:s.token.node})}s=s.prev}return i}var yk,w2,x2,Cp,kk,vk,k2,C2,bk,S2,Ck=N(()=>{xp();Io();({hasOwnProperty:yk}=Object.prototype),w2=0,x2=1,Cp=2,kk=3,vk="Match",k2="Mismatch",C2="Maximum iteration number exceeded (please fill an issue on https://github.com/csstree/csstree/issues)",bk=15e3,S2=0});var Tp={};te(Tp,{getTrace:()=>Sk,isKeyword:()=>N2,isProperty:()=>M2,isType:()=>L2});function Sk(t){function e(s){return s===null?!1:s.type==="Type"||s.type==="Property"||s.type==="Keyword"}function n(s){if(Array.isArray(s.match)){for(let a=0;a<s.match.length;a++)if(n(s.match[a]))return e(s.syntax)&&i.unshift(s.syntax),!0}else if(s.node===t)return i=e(s.syntax)?[s.syntax]:[],!0;return!1}let i=null;return this.matched!==null&&n(this.matched),i}function L2(t,e){return Ap(this,t,n=>n.type==="Type"&&n.name===e)}function M2(t,e){return Ap(this,t,n=>n.type==="Property"&&n.name===e)}function N2(t){return Ap(this,t,e=>e.type==="Keyword")}function Ap(t,e,n){let i=Sk.call(t,e);return i===null?!1:i.some(n)}var Ak=N(()=>{});function Tk(t){return"node"in t?t.node:Tk(t.match[0])}function Ek(t){return"node"in t?t.node:Ek(t.match[t.match.length-1])}function Ep(t,e,n,i,s){function a(p){if(p.syntax!==null&&p.syntax.type===i&&p.syntax.name===s){let m=Tk(p),h=Ek(p);t.syntax.walk(e,function(g,v,w){if(g===m){let k=new gn;do{if(k.appendData(v.data),v.data===h)break;v=v.next}while(v!==null);f.push({parent:w,nodes:k})}})}Array.isArray(p.match)&&p.match.forEach(a)}let f=[];return n.matched!==null&&a(n.matched),f}var Lk=N(()=>{ji()});function Lp(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t&&t>=0}function Mk(t){return!!t&&Lp(t.offset)&&Lp(t.line)&&Lp(t.column)}function D2(t,e){return function(i,s){if(!i||i.constructor!==Object)return s(i,"Type of node should be an Object");for(let a in i){let f=!0;if(ha.call(i,a)!==!1){if(a==="type")i.type!==t&&s(i,"Wrong node type `"+i.type+"`, expected `"+t+"`");else if(a==="loc"){if(i.loc===null)continue;if(i.loc&&i.loc.constructor===Object)if(typeof i.loc.source!="string")a+=".source";else if(!Mk(i.loc.start))a+=".start";else if(!Mk(i.loc.end))a+=".end";else continue;f=!1}else if(e.hasOwnProperty(a)){f=!1;for(let p=0;!f&&p<e[a].length;p++){let m=e[a][p];switch(m){case String:f=typeof i[a]=="string";break;case Boolean:f=typeof i[a]=="boolean";break;case null:f=i[a]===null;break;default:typeof m=="string"?f=i[a]&&i[a].type===m:Array.isArray(m)&&(f=i[a]instanceof gn)}}}else s(i,"Unknown field `"+a+"` for "+t+" node type");f||s(i,"Bad value for `"+t+"."+a+"`")}}for(let a in e)ha.call(e,a)&&ha.call(i,a)===!1&&s(i,"Field `"+t+"."+a+"` is missed")}}function Nk(t,e){let n=[];for(let i=0;i<t.length;i++){let s=t[i];if(s===String||s===Boolean)n.push(s.name.toLowerCase());else if(s===null)n.push("null");else if(typeof s=="string")n.push(s);else if(Array.isArray(s))n.push("List<"+(Nk(s,e)||"any")+">");else throw new Error("Wrong value `"+s+"` in `"+e+"` structure definition")}return n.join(" | ")}function O2(t,e){let n=e.structure,i={type:String,loc:!0},s={type:'"'+t+'"'};for(let a in n){if(ha.call(n,a)===!1)continue;let f=i[a]=Array.isArray(n[a])?n[a].slice():[n[a]];s[a]=Nk(f,t+"."+a)}return{docs:s,check:D2(t,i)}}function Dk(t){let e={};if(t.node){for(let n in t.node)if(ha.call(t.node,n)){let i=t.node[n];if(i.structure)e[n]=O2(n,i);else throw new Error("Missed `structure` field in `"+n+"` node type definition")}}return e}var ha,Ok=N(()=>{ji();({hasOwnProperty:ha}=Object.prototype)});function Mp(t,e,n){let i={};for(let s in t)t[s].syntax&&(i[s]=n?t[s].syntax:qi(t[s].syntax,{compact:e}));return i}function I2(t,e,n){let i={};for(let[s,a]of Object.entries(t))i[s]={prelude:a.prelude&&(n?a.prelude.syntax:qi(a.prelude.syntax,{compact:e})),descriptors:a.descriptors&&Mp(a.descriptors,e,n)};return i}function z2(t){for(let e=0;e<t.length;e++)if(t[e].value.toLowerCase()==="var(")return!0;return!1}function B2(t){let e=t.terms[0];return t.explicit===!1&&t.terms.length===1&&e.type==="Multiplier"&&e.comma===!0}function wr(t,e,n){return{matched:t,iterations:n,error:e,...Tp}}function Ko(t,e,n,i){let s=dk(n,t.syntax),a;return z2(s)?wr(null,new Error("Matching for a tree with var() is not supported")):(i&&(a=Sp(s,t.cssWideKeywordsSyntax,t)),(!i||!a.match)&&(a=Sp(s,e.match,t),!a.match)?wr(null,new Rx(a.reason,e.syntax,n,a),a.iterations):wr(a.match,null,a.iterations))}var P2,Ui,Np=N(()=>{jx();lc();tp();Qx();Xx();vp();hk();xp();Ck();Ak();Lk();Ok();P2=da(cc.join(" | "));Ui=class{constructor(e,n,i){if(this.cssWideKeywordsSyntax=P2,this.syntax=n,this.generic=!1,this.units={...pc},this.atrules=Object.create(null),this.properties=Object.create(null),this.types=Object.create(null),this.structure=i||Dk(e),e){if(e.units)for(let s of Object.keys(pc))Array.isArray(e.units[s])&&(this.units[s]=e.units[s]);if(e.types)for(let[s,a]of Object.entries(e.types))this.addType_(s,a);if(e.generic){this.generic=!0;for(let[s,a]of Object.entries(Kx(this.units)))this.addType_(s,a)}if(e.atrules)for(let[s,a]of Object.entries(e.atrules))this.addAtrule_(s,a);if(e.properties)for(let[s,a]of Object.entries(e.properties))this.addProperty_(s,a)}}checkStructure(e){function n(a,f){s.push({node:a,message:f})}let i=this.structure,s=[];return this.syntax.walk(e,function(a){i.hasOwnProperty(a.type)?i[a.type].check(a,n):n(a,"Unknown node type `"+a.type+"`")}),s.length?s:!1}createDescriptor(e,n,i,s=null){let a={type:n,name:i},f={type:n,name:i,parent:s,serializable:typeof e=="string"||e&&typeof e.type=="string",syntax:null,match:null,matchRef:null};return typeof e=="function"?f.match=da(e,a):(typeof e=="string"?Object.defineProperty(f,"syntax",{get(){return Object.defineProperty(f,"syntax",{value:Yo(e)}),f.syntax}}):f.syntax=e,Object.defineProperty(f,"match",{get(){return Object.defineProperty(f,"match",{value:da(f.syntax,a)}),f.match}}),n==="Property"&&Object.defineProperty(f,"matchRef",{get(){let p=f.syntax,m=B2(p)?da({...p,terms:[p.terms[0].term]},a):null;return Object.defineProperty(f,"matchRef",{value:m}),m}})),f}addAtrule_(e,n){n&&(this.atrules[e]={type:"Atrule",name:e,prelude:n.prelude?this.createDescriptor(n.prelude,"AtrulePrelude",e):null,descriptors:n.descriptors?Object.keys(n.descriptors).reduce((i,s)=>(i[s]=this.createDescriptor(n.descriptors[s],"AtruleDescriptor",s,e),i),Object.create(null)):null})}addProperty_(e,n){n&&(this.properties[e]=this.createDescriptor(n,"Property",e))}addType_(e,n){n&&(this.types[e]=this.createDescriptor(n,"Type",e))}checkAtruleName(e){if(!this.getAtrule(e))return new Wo("Unknown at-rule","@"+e)}checkAtrulePrelude(e,n){let i=this.checkAtruleName(e);if(i)return i;let s=this.getAtrule(e);if(!s.prelude&&n)return new SyntaxError("At-rule `@"+e+"` should not contain a prelude");if(s.prelude&&!n&&!Ko(this,s.prelude,"",!1).matched)return new SyntaxError("At-rule `@"+e+"` should contain a prelude")}checkAtruleDescriptorName(e,n){let i=this.checkAtruleName(e);if(i)return i;let s=this.getAtrule(e),a=Wi(n);if(!s.descriptors)return new SyntaxError("At-rule `@"+e+"` has no known descriptors");if(!s.descriptors[a.name]&&!s.descriptors[a.basename])return new Wo("Unknown at-rule descriptor",n)}checkPropertyName(e){if(!this.getProperty(e))return new Wo("Unknown property",e)}matchAtrulePrelude(e,n){let i=this.checkAtrulePrelude(e,n);if(i)return wr(null,i);let s=this.getAtrule(e);return s.prelude?Ko(this,s.prelude,n||"",!1):wr(null,null)}matchAtruleDescriptor(e,n,i){let s=this.checkAtruleDescriptorName(e,n);if(s)return wr(null,s);let a=this.getAtrule(e),f=Wi(n);return Ko(this,a.descriptors[f.name]||a.descriptors[f.basename],i,!1)}matchDeclaration(e){return e.type!=="Declaration"?wr(null,new Error("Not a Declaration node")):this.matchProperty(e.property,e.value)}matchProperty(e,n){if(ac(e).custom)return wr(null,new Error("Lexer matching doesn't applicable for custom properties"));let i=this.checkPropertyName(e);return i?wr(null,i):Ko(this,this.getProperty(e),n,!0)}matchType(e,n){let i=this.getType(e);return i?Ko(this,i,n,!1):wr(null,new Wo("Unknown type",e))}match(e,n){return typeof e!="string"&&(!e||!e.type)?wr(null,new Wo("Bad syntax")):((typeof e=="string"||!e.match)&&(e=this.createDescriptor(e,"Type","anonymous")),Ko(this,e,n,!1))}findValueFragments(e,n,i,s){return Ep(this,n,this.matchProperty(e,n),i,s)}findDeclarationValueFragments(e,n,i){return Ep(this,e.value,this.matchDeclaration(e),n,i)}findAllFragments(e,n,i){let s=[];return this.syntax.walk(e,{visit:"Declaration",enter:a=>{s.push.apply(s,this.findDeclarationValueFragments(a,n,i))}}),s}getAtrule(e,n=!0){let i=Wi(e);return(i.vendor&&n?this.atrules[i.name]||this.atrules[i.basename]:this.atrules[i.name])||null}getAtrulePrelude(e,n=!0){let i=this.getAtrule(e,n);return i&&i.prelude||null}getAtruleDescriptor(e,n){return this.atrules.hasOwnProperty(e)&&this.atrules.declarators&&this.atrules[e].declarators[n]||null}getProperty(e,n=!0){let i=ac(e);return(i.vendor&&n?this.properties[i.name]||this.properties[i.basename]:this.properties[i.name])||null}getType(e){return hasOwnProperty.call(this.types,e)?this.types[e]:null}validate(){function e(s,a,f,p){if(f.has(a))return f.get(a);f.set(a,!1),p.syntax!==null&&wc(p.syntax,function(m){if(m.type!=="Type"&&m.type!=="Property")return;let h=m.type==="Type"?s.types:s.properties,g=m.type==="Type"?n:i;(!hasOwnProperty.call(h,m.name)||e(s,m.name,g,h[m.name]))&&f.set(a,!0)},this)}let n=new Map,i=new Map;for(let s in this.types)e(this,s,n,this.types[s]);for(let s in this.properties)e(this,s,i,this.properties[s]);return n=[...n.keys()].filter(s=>n.get(s)),i=[...i.keys()].filter(s=>i.get(s)),n.length||i.length?{types:n,properties:i}:null}dump(e,n){return{generic:this.generic,units:this.units,types:Mp(this.types,!n,e),properties:Mp(this.properties,!n,e),atrules:I2(this.atrules,!n,e)}}toString(){return JSON.stringify(this.dump())}}});function Dp(t,e){return typeof e=="string"&&/^\s*\|/.test(e)?typeof t=="string"?t+e:e.replace(/^\s*\|\s*/,""):e||null}function Pk(t,e){let n=Object.create(null);for(let[i,s]of Object.entries(t))if(s){n[i]={};for(let a of Object.keys(s))e.includes(a)&&(n[i][a]=s[a])}return n}function ma(t,e){let n={...t};for(let[i,s]of Object.entries(e))switch(i){case"generic":n[i]=!!s;break;case"units":n[i]={...t[i]};for(let[a,f]of Object.entries(s))n[i][a]=Array.isArray(f)?f:[];break;case"atrules":n[i]={...t[i]};for(let[a,f]of Object.entries(s)){let p=n[i][a]||{},m=n[i][a]={prelude:p.prelude||null,descriptors:{...p.descriptors}};if(f){m.prelude=f.prelude?Dp(m.prelude,f.prelude):m.prelude||null;for(let[h,g]of Object.entries(f.descriptors||{}))m.descriptors[h]=g?Dp(m.descriptors[h],g):null;Object.keys(m.descriptors).length||(m.descriptors=null)}}break;case"types":case"properties":n[i]={...t[i]};for(let[a,f]of Object.entries(s))n[i][a]=Dp(n[i][a],f);break;case"scope":case"features":n[i]={...t[i]};for(let[a,f]of Object.entries(s))n[i][a]={...n[i][a],...f};break;case"parseContext":n[i]={...t[i],...s};break;case"atrule":case"pseudo":n[i]={...t[i],...Pk(s,["parse"])};break;case"node":n[i]={...t[i],...Pk(s,["name","structure","parse","generate","walkContext"])};break}return n}var Ik=N(()=>{});function zk(t){let e=Zw(t),n=zx(t),i=Ex(t),{fromPlainObject:s,toPlainObject:a}=Mx(n),f={lexer:null,createLexer:p=>new Ui(p,f,f.lexer.structure),tokenize:gi,parse:e,generate:i,walk:n,find:n.find,findLast:n.findLast,findAll:n.findAll,fromPlainObject:s,toPlainObject:a,fork(p){let m=ma({},t);return zk(typeof p=="function"?p(m,Object.assign):ma(m,p))}};return f.lexer=new Ui({generic:t.generic,units:t.units,types:t.types,atrules:t.atrules,properties:t.properties,node:t.node},f),f}var kc,Op=N(()=>{Ne();ex();Lx();Nx();Bx();Np();Ik();kc=t=>zk(ma({},t))});var Bk,Fk=N(()=>{Bk={generic:!0,units:{angle:["deg","grad","rad","turn"],decibel:["db"],flex:["fr"],frequency:["hz","khz"],length:["cm","mm","q","in","pt","pc","px","em","rem","ex","rex","cap","rcap","ch","rch","ic","ric","lh","rlh","vw","svw","lvw","dvw","vh","svh","lvh","dvh","vi","svi","lvi","dvi","vb","svb","lvb","dvb","vmin","svmin","lvmin","dvmin","vmax","svmax","lvmax","dvmax","cqw","cqh","cqi","cqb","cqmin","cqmax"],resolution:["dpi","dpcm","dppx","x"],semitones:["st"],time:["s","ms"]},types:{"abs()":"abs( <calc-sum> )","absolute-size":"xx-small|x-small|small|medium|large|x-large|xx-large|xxx-large","acos()":"acos( <calc-sum> )","alpha-value":"<number>|<percentage>","angle-percentage":"<angle>|<percentage>","angular-color-hint":"<angle-percentage>","angular-color-stop":"<color>&&<color-stop-angle>?","angular-color-stop-list":"[<angular-color-stop> [, <angular-color-hint>]?]# , <angular-color-stop>","animateable-feature":"scroll-position|contents|<custom-ident>","asin()":"asin( <calc-sum> )","atan()":"atan( <calc-sum> )","atan2()":"atan2( <calc-sum> , <calc-sum> )",attachment:"scroll|fixed|local","attr()":"attr( <attr-name> <type-or-unit>? [, <attr-fallback>]? )","attr-matcher":"['~'|'|'|'^'|'$'|'*']? '='","attr-modifier":"i|s","attribute-selector":"'[' <wq-name> ']'|'[' <wq-name> <attr-matcher> [<string-token>|<ident-token>] <attr-modifier>? ']'","auto-repeat":"repeat( [auto-fill|auto-fit] , [<line-names>? <fixed-size>]+ <line-names>? )","auto-track-list":"[<line-names>? [<fixed-size>|<fixed-repeat>]]* <line-names>? <auto-repeat> [<line-names>? [<fixed-size>|<fixed-repeat>]]* <line-names>?",axis:"block|inline|vertical|horizontal","baseline-position":"[first|last]? baseline","basic-shape":"<inset()>|<circle()>|<ellipse()>|<polygon()>|<path()>","bg-image":"none|<image>","bg-layer":"<bg-image>||<bg-position> [/ <bg-size>]?||<repeat-style>||<attachment>||<box>||<box>","bg-position":"[[left|center|right|top|bottom|<length-percentage>]|[left|center|right|<length-percentage>] [top|center|bottom|<length-percentage>]|[center|[left|right] <length-percentage>?]&&[center|[top|bottom] <length-percentage>?]]","bg-size":"[<length-percentage>|auto]{1,2}|cover|contain","blur()":"blur( <length> )","blend-mode":"normal|multiply|screen|overlay|darken|lighten|color-dodge|color-burn|hard-light|soft-light|difference|exclusion|hue|saturation|color|luminosity",box:"border-box|padding-box|content-box","brightness()":"brightness( <number-percentage> )","calc()":"calc( <calc-sum> )","calc-sum":"<calc-product> [['+'|'-'] <calc-product>]*","calc-product":"<calc-value> ['*' <calc-value>|'/' <number>]*","calc-value":"<number>|<dimension>|<percentage>|<calc-constant>|( <calc-sum> )","calc-constant":"e|pi|infinity|-infinity|NaN","cf-final-image":"<image>|<color>","cf-mixing-image":"<percentage>?&&<image>","circle()":"circle( [<shape-radius>]? [at <position>]? )","clamp()":"clamp( <calc-sum>#{3} )","class-selector":"'.' <ident-token>","clip-source":"<url>",color:"<color-base>|currentColor|<system-color>|<device-cmyk()>|<light-dark()>|<-non-standard-color>","color-stop":"<color-stop-length>|<color-stop-angle>","color-stop-angle":"<angle-percentage>{1,2}","color-stop-length":"<length-percentage>{1,2}","color-stop-list":"[<linear-color-stop> [, <linear-color-hint>]?]# , <linear-color-stop>",combinator:"'>'|'+'|'~'|['|' '|']","common-lig-values":"[common-ligatures|no-common-ligatures]","compat-auto":"searchfield|textarea|push-button|slider-horizontal|checkbox|radio|square-button|menulist|listbox|meter|progress-bar|button","composite-style":"clear|copy|source-over|source-in|source-out|source-atop|destination-over|destination-in|destination-out|destination-atop|xor","compositing-operator":"add|subtract|intersect|exclude","compound-selector":"[<type-selector>? <subclass-selector>*]!","compound-selector-list":"<compound-selector>#","complex-selector":"<complex-selector-unit> [<combinator>? <complex-selector-unit>]*","complex-selector-list":"<complex-selector>#","conic-gradient()":"conic-gradient( [from <angle>]? [at <position>]? , <angular-color-stop-list> )","contextual-alt-values":"[contextual|no-contextual]","content-distribution":"space-between|space-around|space-evenly|stretch","content-list":"[<string>|contents|<image>|<counter>|<quote>|<target>|<leader()>|<attr()>]+","content-position":"center|start|end|flex-start|flex-end","content-replacement":"<image>","contrast()":"contrast( [<number-percentage>] )","cos()":"cos( <calc-sum> )",counter:"<counter()>|<counters()>","counter()":"counter( <counter-name> , <counter-style>? )","counter-name":"<custom-ident>","counter-style":"<counter-style-name>|symbols( )","counter-style-name":"<custom-ident>","counters()":"counters( <counter-name> , <string> , <counter-style>? )","cross-fade()":"cross-fade( <cf-mixing-image> , <cf-final-image>? )","cubic-bezier-timing-function":"ease|ease-in|ease-out|ease-in-out|cubic-bezier( <number [0,1]> , <number> , <number [0,1]> , <number> )","deprecated-system-color":"ActiveBorder|ActiveCaption|AppWorkspace|Background|ButtonFace|ButtonHighlight|ButtonShadow|ButtonText|CaptionText|GrayText|Highlight|HighlightText|InactiveBorder|InactiveCaption|InactiveCaptionText|InfoBackground|InfoText|Menu|MenuText|Scrollbar|ThreeDDarkShadow|ThreeDFace|ThreeDHighlight|ThreeDLightShadow|ThreeDShadow|Window|WindowFrame|WindowText","discretionary-lig-values":"[discretionary-ligatures|no-discretionary-ligatures]","display-box":"contents|none","display-inside":"flow|flow-root|table|flex|grid|ruby","display-internal":"table-row-group|table-header-group|table-footer-group|table-row|table-cell|table-column-group|table-column|table-caption|ruby-base|ruby-text|ruby-base-container|ruby-text-container","display-legacy":"inline-block|inline-list-item|inline-table|inline-flex|inline-grid","display-listitem":"<display-outside>?&&[flow|flow-root]?&&list-item","display-outside":"block|inline|run-in","drop-shadow()":"drop-shadow( <length>{2,3} <color>? )","east-asian-variant-values":"[jis78|jis83|jis90|jis04|simplified|traditional]","east-asian-width-values":"[full-width|proportional-width]","element()":"element( <custom-ident> , [first|start|last|first-except]? )|element( <id-selector> )","ellipse()":"ellipse( [<shape-radius>{2}]? [at <position>]? )","ending-shape":"circle|ellipse","env()":"env( <custom-ident> , <declaration-value>? )","exp()":"exp( <calc-sum> )","explicit-track-list":"[<line-names>? <track-size>]+ <line-names>?","family-name":"<string>|<custom-ident>+","feature-tag-value":"<string> [<integer>|on|off]?","feature-type":"@stylistic|@historical-forms|@styleset|@character-variant|@swash|@ornaments|@annotation","feature-value-block":"<feature-type> '{' <feature-value-declaration-list> '}'","feature-value-block-list":"<feature-value-block>+","feature-value-declaration":"<custom-ident> : <integer>+ ;","feature-value-declaration-list":"<feature-value-declaration>","feature-value-name":"<custom-ident>","fill-rule":"nonzero|evenodd","filter-function":"<blur()>|<brightness()>|<contrast()>|<drop-shadow()>|<grayscale()>|<hue-rotate()>|<invert()>|<opacity()>|<saturate()>|<sepia()>","filter-function-list":"[<filter-function>|<url>]+","final-bg-layer":"<'background-color'>||<bg-image>||<bg-position> [/ <bg-size>]?||<repeat-style>||<attachment>||<box>||<box>","fixed-breadth":"<length-percentage>","fixed-repeat":"repeat( [<integer [1,\u221E]>] , [<line-names>? <fixed-size>]+ <line-names>? )","fixed-size":"<fixed-breadth>|minmax( <fixed-breadth> , <track-breadth> )|minmax( <inflexible-breadth> , <fixed-breadth> )","font-stretch-absolute":"normal|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded|<percentage>","font-variant-css21":"[normal|small-caps]","font-weight-absolute":"normal|bold|<number [1,1000]>","frequency-percentage":"<frequency>|<percentage>","general-enclosed":"[<function-token> <any-value>? )]|[( <any-value>? )]","generic-family":"<generic-script-specific>|<generic-complete>|<generic-incomplete>|<-non-standard-generic-family>","generic-name":"serif|sans-serif|cursive|fantasy|monospace","geometry-box":"<shape-box>|fill-box|stroke-box|view-box",gradient:"<linear-gradient()>|<repeating-linear-gradient()>|<radial-gradient()>|<repeating-radial-gradient()>|<conic-gradient()>|<repeating-conic-gradient()>|<-legacy-gradient>","grayscale()":"grayscale( <number-percentage> )","grid-line":"auto|<custom-ident>|[<integer>&&<custom-ident>?]|[span&&[<integer>||<custom-ident>]]","historical-lig-values":"[historical-ligatures|no-historical-ligatures]","hsl()":"hsl( <hue> <percentage> <percentage> [/ <alpha-value>]? )|hsl( <hue> , <percentage> , <percentage> , <alpha-value>? )","hsla()":"hsla( <hue> <percentage> <percentage> [/ <alpha-value>]? )|hsla( <hue> , <percentage> , <percentage> , <alpha-value>? )",hue:"<number>|<angle>","hue-rotate()":"hue-rotate( <angle> )","hwb()":"hwb( [<hue>|none] [<percentage>|none] [<percentage>|none] [/ [<alpha-value>|none]]? )","hypot()":"hypot( <calc-sum># )",image:"<url>|<image()>|<image-set()>|<element()>|<paint()>|<cross-fade()>|<gradient>","image()":"image( <image-tags>? [<image-src>? , <color>?]! )","image-set()":"image-set( <image-set-option># )","image-set-option":"[<image>|<string>] [<resolution>||type( <string> )]","image-src":"<url>|<string>","image-tags":"ltr|rtl","inflexible-breadth":"<length-percentage>|min-content|max-content|auto","inset()":"inset( <length-percentage>{1,4} [round <'border-radius'>]? )","invert()":"invert( <number-percentage> )","keyframes-name":"<custom-ident>|<string>","keyframe-block":"<keyframe-selector># { <declaration-list> }","keyframe-block-list":"<keyframe-block>+","keyframe-selector":"from|to|<percentage>|<timeline-range-name> <percentage>","lab()":"lab( [<percentage>|<number>|none] [<percentage>|<number>|none] [<percentage>|<number>|none] [/ [<alpha-value>|none]]? )","layer()":"layer( <layer-name> )","layer-name":"<ident> ['.' <ident>]*","lch()":"lch( [<percentage>|<number>|none] [<percentage>|<number>|none] [<hue>|none] [/ [<alpha-value>|none]]? )","leader()":"leader( <leader-type> )","leader-type":"dotted|solid|space|<string>","length-percentage":"<length>|<percentage>","light-dark()":"light-dark( <color> , <color> )","line-names":"'[' <custom-ident>* ']'","line-name-list":"[<line-names>|<name-repeat>]+","line-style":"none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset","line-width":"<length>|thin|medium|thick","linear-color-hint":"<length-percentage>","linear-color-stop":"<color> <color-stop-length>?","linear-gradient()":"linear-gradient( [<angle>|to <side-or-corner>]? , <color-stop-list> )","log()":"log( <calc-sum> , <calc-sum>? )","mask-layer":"<mask-reference>||<position> [/ <bg-size>]?||<repeat-style>||<geometry-box>||[<geometry-box>|no-clip]||<compositing-operator>||<masking-mode>","mask-position":"[<length-percentage>|left|center|right] [<length-percentage>|top|center|bottom]?","mask-reference":"none|<image>|<mask-source>","mask-source":"<url>","masking-mode":"alpha|luminance|match-source","matrix()":"matrix( <number>#{6} )","matrix3d()":"matrix3d( <number>#{16} )","max()":"max( <calc-sum># )","media-and":"<media-in-parens> [and <media-in-parens>]+","media-condition":"<media-not>|<media-and>|<media-or>|<media-in-parens>","media-condition-without-or":"<media-not>|<media-and>|<media-in-parens>","media-feature":"( [<mf-plain>|<mf-boolean>|<mf-range>] )","media-in-parens":"( <media-condition> )|<media-feature>|<general-enclosed>","media-not":"not <media-in-parens>","media-or":"<media-in-parens> [or <media-in-parens>]+","media-query":"<media-condition>|[not|only]? <media-type> [and <media-condition-without-or>]?","media-query-list":"<media-query>#","media-type":"<ident>","mf-boolean":"<mf-name>","mf-name":"<ident>","mf-plain":"<mf-name> : <mf-value>","mf-range":"<mf-name> ['<'|'>']? '='? <mf-value>|<mf-value> ['<'|'>']? '='? <mf-name>|<mf-value> '<' '='? <mf-name> '<' '='? <mf-value>|<mf-value> '>' '='? <mf-name> '>' '='? <mf-value>","mf-value":"<number>|<dimension>|<ident>|<ratio>","min()":"min( <calc-sum># )","minmax()":"minmax( [<length-percentage>|min-content|max-content|auto] , [<length-percentage>|<flex>|min-content|max-content|auto] )","mod()":"mod( <calc-sum> , <calc-sum> )","name-repeat":"repeat( [<integer [1,\u221E]>|auto-fill] , <line-names>+ )","named-color":"transparent|aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen","namespace-prefix":"<ident>","ns-prefix":"[<ident-token>|'*']? '|'","number-percentage":"<number>|<percentage>","numeric-figure-values":"[lining-nums|oldstyle-nums]","numeric-fraction-values":"[diagonal-fractions|stacked-fractions]","numeric-spacing-values":"[proportional-nums|tabular-nums]",nth:"<an-plus-b>|even|odd","opacity()":"opacity( [<number-percentage>] )","overflow-position":"unsafe|safe","outline-radius":"<length>|<percentage>","page-body":"<declaration>? [; <page-body>]?|<page-margin-box> <page-body>","page-margin-box":"<page-margin-box-type> '{' <declaration-list> '}'","page-margin-box-type":"@top-left-corner|@top-left|@top-center|@top-right|@top-right-corner|@bottom-left-corner|@bottom-left|@bottom-center|@bottom-right|@bottom-right-corner|@left-top|@left-middle|@left-bottom|@right-top|@right-middle|@right-bottom","page-selector-list":"[<page-selector>#]?","page-selector":"<pseudo-page>+|<ident> <pseudo-page>*","page-size":"A5|A4|A3|B5|B4|JIS-B5|JIS-B4|letter|legal|ledger","path()":"path( [<fill-rule> ,]? <string> )","paint()":"paint( <ident> , <declaration-value>? )","perspective()":"perspective( [<length [0,\u221E]>|none] )","polygon()":"polygon( <fill-rule>? , [<length-percentage> <length-percentage>]# )",position:"[[left|center|right]||[top|center|bottom]|[left|center|right|<length-percentage>] [top|center|bottom|<length-percentage>]?|[[left|right] <length-percentage>]&&[[top|bottom] <length-percentage>]]","pow()":"pow( <calc-sum> , <calc-sum> )","pseudo-class-selector":"':' <ident-token>|':' <function-token> <any-value> ')'","pseudo-element-selector":"':' <pseudo-class-selector>|<legacy-pseudo-element-selector>","pseudo-page":": [left|right|first|blank]",quote:"open-quote|close-quote|no-open-quote|no-close-quote","radial-gradient()":"radial-gradient( [<ending-shape>||<size>]? [at <position>]? , <color-stop-list> )",ratio:"<number [0,\u221E]> [/ <number [0,\u221E]>]?","ray()":"ray( <angle>&&<ray-size>?&&contain?&&[at <position>]? )","ray-size":"closest-side|closest-corner|farthest-side|farthest-corner|sides","relative-selector":"<combinator>? <complex-selector>","relative-selector-list":"<relative-selector>#","relative-size":"larger|smaller","rem()":"rem( <calc-sum> , <calc-sum> )","repeat-style":"repeat-x|repeat-y|[repeat|space|round|no-repeat]{1,2}","repeating-conic-gradient()":"repeating-conic-gradient( [from <angle>]? [at <position>]? , <angular-color-stop-list> )","repeating-linear-gradient()":"repeating-linear-gradient( [<angle>|to <side-or-corner>]? , <color-stop-list> )","repeating-radial-gradient()":"repeating-radial-gradient( [<ending-shape>||<size>]? [at <position>]? , <color-stop-list> )","reversed-counter-name":"reversed( <counter-name> )","rgb()":"rgb( <percentage>{3} [/ <alpha-value>]? )|rgb( <number>{3} [/ <alpha-value>]? )|rgb( <percentage>#{3} , <alpha-value>? )|rgb( <number>#{3} , <alpha-value>? )","rgba()":"rgba( <percentage>{3} [/ <alpha-value>]? )|rgba( <number>{3} [/ <alpha-value>]? )|rgba( <percentage>#{3} , <alpha-value>? )|rgba( <number>#{3} , <alpha-value>? )","rotate()":"rotate( [<angle>|<zero>] )","rotate3d()":"rotate3d( <number> , <number> , <number> , [<angle>|<zero>] )","rotateX()":"rotateX( [<angle>|<zero>] )","rotateY()":"rotateY( [<angle>|<zero>] )","rotateZ()":"rotateZ( [<angle>|<zero>] )","round()":"round( <rounding-strategy>? , <calc-sum> , <calc-sum> )","rounding-strategy":"nearest|up|down|to-zero","saturate()":"saturate( <number-percentage> )","scale()":"scale( [<number>|<percentage>]#{1,2} )","scale3d()":"scale3d( [<number>|<percentage>]#{3} )","scaleX()":"scaleX( [<number>|<percentage>] )","scaleY()":"scaleY( [<number>|<percentage>] )","scaleZ()":"scaleZ( [<number>|<percentage>] )","scroll()":"scroll( [<axis>||<scroller>]? )",scroller:"root|nearest","self-position":"center|start|end|self-start|self-end|flex-start|flex-end","shape-radius":"<length-percentage>|closest-side|farthest-side","sign()":"sign( <calc-sum> )","skew()":"skew( [<angle>|<zero>] , [<angle>|<zero>]? )","skewX()":"skewX( [<angle>|<zero>] )","skewY()":"skewY( [<angle>|<zero>] )","sepia()":"sepia( <number-percentage> )",shadow:"inset?&&<length>{2,4}&&<color>?","shadow-t":"[<length>{2,3}&&<color>?]",shape:"rect( <top> , <right> , <bottom> , <left> )|rect( <top> <right> <bottom> <left> )","shape-box":"<box>|margin-box","side-or-corner":"[left|right]||[top|bottom]","sin()":"sin( <calc-sum> )","single-animation":"<'animation-duration'>||<easing-function>||<'animation-delay'>||<single-animation-iteration-count>||<single-animation-direction>||<single-animation-fill-mode>||<single-animation-play-state>||[none|<keyframes-name>]||<single-animation-timeline>","single-animation-direction":"normal|reverse|alternate|alternate-reverse","single-animation-fill-mode":"none|forwards|backwards|both","single-animation-iteration-count":"infinite|<number>","single-animation-play-state":"running|paused","single-animation-timeline":"auto|none|<dashed-ident>|<scroll()>|<view()>","single-transition":"[none|<single-transition-property>]||<time>||<easing-function>||<time>||<transition-behavior-value>","single-transition-property":"all|<custom-ident>",size:"closest-side|farthest-side|closest-corner|farthest-corner|<length>|<length-percentage>{2}","sqrt()":"sqrt( <calc-sum> )","step-position":"jump-start|jump-end|jump-none|jump-both|start|end","step-timing-function":"step-start|step-end|steps( <integer> [, <step-position>]? )","subclass-selector":"<id-selector>|<class-selector>|<attribute-selector>|<pseudo-class-selector>","supports-condition":"not <supports-in-parens>|<supports-in-parens> [and <supports-in-parens>]*|<supports-in-parens> [or <supports-in-parens>]*","supports-in-parens":"( <supports-condition> )|<supports-feature>|<general-enclosed>","supports-feature":"<supports-decl>|<supports-selector-fn>","supports-decl":"( <declaration> )","supports-selector-fn":"selector( <complex-selector> )",symbol:"<string>|<image>|<custom-ident>","tan()":"tan( <calc-sum> )",target:"<target-counter()>|<target-counters()>|<target-text()>","target-counter()":"target-counter( [<string>|<url>] , <custom-ident> , <counter-style>? )","target-counters()":"target-counters( [<string>|<url>] , <custom-ident> , <string> , <counter-style>? )","target-text()":"target-text( [<string>|<url>] , [content|before|after|first-letter]? )","time-percentage":"<time>|<percentage>","timeline-range-name":"cover|contain|entry|exit|entry-crossing|exit-crossing","easing-function":"linear|<cubic-bezier-timing-function>|<step-timing-function>","track-breadth":"<length-percentage>|<flex>|min-content|max-content|auto","track-list":"[<line-names>? [<track-size>|<track-repeat>]]+ <line-names>?","track-repeat":"repeat( [<integer [1,\u221E]>] , [<line-names>? <track-size>]+ <line-names>? )","track-size":"<track-breadth>|minmax( <inflexible-breadth> , <track-breadth> )|fit-content( <length-percentage> )","transform-function":"<matrix()>|<translate()>|<translateX()>|<translateY()>|<scale()>|<scaleX()>|<scaleY()>|<rotate()>|<skew()>|<skewX()>|<skewY()>|<matrix3d()>|<translate3d()>|<translateZ()>|<scale3d()>|<scaleZ()>|<rotate3d()>|<rotateX()>|<rotateY()>|<rotateZ()>|<perspective()>","transform-list":"<transform-function>+","transition-behavior-value":"normal|allow-discrete","translate()":"translate( <length-percentage> , <length-percentage>? )","translate3d()":"translate3d( <length-percentage> , <length-percentage> , <length> )","translateX()":"translateX( <length-percentage> )","translateY()":"translateY( <length-percentage> )","translateZ()":"translateZ( <length> )","type-or-unit":"string|color|url|integer|number|length|angle|time|frequency|cap|ch|em|ex|ic|lh|rlh|rem|vb|vi|vw|vh|vmin|vmax|mm|Q|cm|in|pt|pc|px|deg|grad|rad|turn|ms|s|Hz|kHz|%","type-selector":"<wq-name>|<ns-prefix>? '*'","var()":"var( <custom-property-name> , <declaration-value>? )","view()":"view( [<axis>||<'view-timeline-inset'>]? )","viewport-length":"auto|<length-percentage>","visual-box":"content-box|padding-box|border-box","wq-name":"<ns-prefix>? <ident-token>","-legacy-gradient":"<-webkit-gradient()>|<-legacy-linear-gradient>|<-legacy-repeating-linear-gradient>|<-legacy-radial-gradient>|<-legacy-repeating-radial-gradient>","-legacy-linear-gradient":"-moz-linear-gradient( <-legacy-linear-gradient-arguments> )|-webkit-linear-gradient( <-legacy-linear-gradient-arguments> )|-o-linear-gradient( <-legacy-linear-gradient-arguments> )","-legacy-repeating-linear-gradient":"-moz-repeating-linear-gradient( <-legacy-linear-gradient-arguments> )|-webkit-repeating-linear-gradient( <-legacy-linear-gradient-arguments> )|-o-repeating-linear-gradient( <-legacy-linear-gradient-arguments> )","-legacy-linear-gradient-arguments":"[<angle>|<side-or-corner>]? , <color-stop-list>","-legacy-radial-gradient":"-moz-radial-gradient( <-legacy-radial-gradient-arguments> )|-webkit-radial-gradient( <-legacy-radial-gradient-arguments> )|-o-radial-gradient( <-legacy-radial-gradient-arguments> )","-legacy-repeating-radial-gradient":"-moz-repeating-radial-gradient( <-legacy-radial-gradient-arguments> )|-webkit-repeating-radial-gradient( <-legacy-radial-gradient-arguments> )|-o-repeating-radial-gradient( <-legacy-radial-gradient-arguments> )","-legacy-radial-gradient-arguments":"[<position> ,]? [[[<-legacy-radial-gradient-shape>||<-legacy-radial-gradient-size>]|[<length>|<percentage>]{2}] ,]? <color-stop-list>","-legacy-radial-gradient-size":"closest-side|closest-corner|farthest-side|farthest-corner|contain|cover","-legacy-radial-gradient-shape":"circle|ellipse","-non-standard-font":"-apple-system-body|-apple-system-headline|-apple-system-subheadline|-apple-system-caption1|-apple-system-caption2|-apple-system-footnote|-apple-system-short-body|-apple-system-short-headline|-apple-system-short-subheadline|-apple-system-short-caption1|-apple-system-short-footnote|-apple-system-tall-body","-non-standard-color":"-moz-ButtonDefault|-moz-ButtonHoverFace|-moz-ButtonHoverText|-moz-CellHighlight|-moz-CellHighlightText|-moz-Combobox|-moz-ComboboxText|-moz-Dialog|-moz-DialogText|-moz-dragtargetzone|-moz-EvenTreeRow|-moz-Field|-moz-FieldText|-moz-html-CellHighlight|-moz-html-CellHighlightText|-moz-mac-accentdarkestshadow|-moz-mac-accentdarkshadow|-moz-mac-accentface|-moz-mac-accentlightesthighlight|-moz-mac-accentlightshadow|-moz-mac-accentregularhighlight|-moz-mac-accentregularshadow|-moz-mac-chrome-active|-moz-mac-chrome-inactive|-moz-mac-focusring|-moz-mac-menuselect|-moz-mac-menushadow|-moz-mac-menutextselect|-moz-MenuHover|-moz-MenuHoverText|-moz-MenuBarText|-moz-MenuBarHoverText|-moz-nativehyperlinktext|-moz-OddTreeRow|-moz-win-communicationstext|-moz-win-mediatext|-moz-activehyperlinktext|-moz-default-background-color|-moz-default-color|-moz-hyperlinktext|-moz-visitedhyperlinktext|-webkit-activelink|-webkit-focus-ring-color|-webkit-link|-webkit-text","-non-standard-image-rendering":"optimize-contrast|-moz-crisp-edges|-o-crisp-edges|-webkit-optimize-contrast","-non-standard-overflow":"overlay|-moz-scrollbars-none|-moz-scrollbars-horizontal|-moz-scrollbars-vertical|-moz-hidden-unscrollable","-non-standard-size":"intrinsic|min-intrinsic|-webkit-fill-available|-webkit-fit-content|-webkit-min-content|-webkit-max-content|-moz-available|-moz-fit-content|-moz-min-content|-moz-max-content","-webkit-gradient()":"-webkit-gradient( <-webkit-gradient-type> , <-webkit-gradient-point> [, <-webkit-gradient-point>|, <-webkit-gradient-radius> , <-webkit-gradient-point>] [, <-webkit-gradient-radius>]? [, <-webkit-gradient-color-stop>]* )","-webkit-gradient-color-stop":"from( <color> )|color-stop( [<number-zero-one>|<percentage>] , <color> )|to( <color> )","-webkit-gradient-point":"[left|center|right|<length-percentage>] [top|center|bottom|<length-percentage>]","-webkit-gradient-radius":"<length>|<percentage>","-webkit-gradient-type":"linear|radial","-webkit-mask-box-repeat":"repeat|stretch|round","-ms-filter-function-list":"<-ms-filter-function>+","-ms-filter-function":"<-ms-filter-function-progid>|<-ms-filter-function-legacy>","-ms-filter-function-progid":"'progid:' [<ident-token> '.']* [<ident-token>|<function-token> <any-value>? )]","-ms-filter-function-legacy":"<ident-token>|<function-token> <any-value>? )","absolute-color-base":"<hex-color>|<absolute-color-function>|<named-color>|transparent","absolute-color-function":"rgb( ) >|<rgba()>|<hsl()>|<hsla()>|<hwb()>|<lab()>|<lch()>|<oklab()>|<oklch()>|<color()>",age:"child|young|old","attr-name":"<wq-name>","attr-fallback":"<any-value>","bg-clip":"<box>|border|text",bottom:"<length>|auto","container-name":"<custom-ident>","container-condition":"not <query-in-parens>|<query-in-parens> [[and <query-in-parens>]*|[or <query-in-parens>]*]","coord-box":"content-box|padding-box|border-box|fill-box|stroke-box|view-box","generic-voice":"[<age>? <gender> <integer>?]",gender:"male|female|neutral","generic-script-specific":"generic( kai )|generic( fangsong )|generic( nastaliq )","generic-complete":"serif|sans-serif|system-ui|cursive|fantasy|math|monospace","generic-incomplete":"ui-serif|ui-sans-serif|ui-monospace|ui-rounded","-non-standard-generic-family":"-apple-system|BlinkMacSystemFont",left:"<length>|auto","color-base":"<hex-color>|<color-function>|<named-color>|<color-mix()>|transparent","color-function":"<rgb()>|<rgba()>|<hsl()>|<hsla()>|<hwb()>|<lab()>|<lch()>|<oklab()>|<oklch()>|<color()>","system-color":"AccentColor|AccentColorText|ActiveText|ButtonBorder|ButtonFace|ButtonText|Canvas|CanvasText|Field|FieldText|GrayText|Highlight|HighlightText|LinkText|Mark|MarkText|SelectedItem|SelectedItemText|VisitedText","device-cmyk()":"<legacy-device-cmyk-syntax>|<modern-device-cmyk-syntax>","legacy-device-cmyk-syntax":"device-cmyk( <number>#{4} )","modern-device-cmyk-syntax":"device-cmyk( <cmyk-component>{4} [/ [<alpha-value>|none]]? )","cmyk-component":"<number>|<percentage>|none","color-mix()":"color-mix( <color-interpolation-method> , [<color>&&<percentage [0,100]>?]#{2} )","color-interpolation-method":"in [<rectangular-color-space>|<polar-color-space> <hue-interpolation-method>?|<custom-color-space>]","color-space":"<rectangular-color-space>|<polar-color-space>|<custom-color-space>","rectangular-color-space":"srgb|srgb-linear|display-p3|a98-rgb|prophoto-rgb|rec2020|lab|oklab|xyz|xyz-d50|xyz-d65","polar-color-space":"hsl|hwb|lch|oklch","custom-color-space":"<dashed-ident>","hue-interpolation-method":"[shorter|longer|increasing|decreasing] hue",paint:"none|<color>|<url> [none|<color>]?|context-fill|context-stroke","palette-identifier":"<dashed-ident>",right:"<length>|auto","scope-start":"<forgiving-selector-list>","scope-end":"<forgiving-selector-list>","forgiving-selector-list":"<complex-real-selector-list>","forgiving-relative-selector-list":"<relative-real-selector-list>","selector-list":"<complex-selector-list>","complex-real-selector-list":"<complex-real-selector>#","simple-selector-list":"<simple-selector>#","relative-real-selector-list":"<relative-real-selector>#","complex-selector-unit":"[<compound-selector>? <pseudo-compound-selector>*]!","complex-real-selector":"<compound-selector> [<combinator>? <compound-selector>]*","relative-real-selector":"<combinator>? <complex-real-selector>","pseudo-compound-selector":"<pseudo-element-selector> <pseudo-class-selector>*","simple-selector":"<type-selector>|<subclass-selector>","legacy-pseudo-element-selector":"':' [before|after|first-line|first-letter]","single-animation-composition":"replace|add|accumulate","svg-length":"<percentage>|<length>|<number>","svg-writing-mode":"lr-tb|rl-tb|tb-rl|lr|rl|tb",top:"<length>|auto",x:"<number>",y:"<number>",declaration:"<ident-token> : <declaration-value>? ['!' important]?","declaration-list":"[<declaration>? ';']* <declaration>?",url:"url( <string> <url-modifier>* )|<url-token>","url-modifier":"<ident>|<function-token> <any-value> )","number-zero-one":"<number [0,1]>","number-one-or-greater":"<number [1,\u221E]>","color()":"color( <colorspace-params> [/ [<alpha-value>|none]]? )","colorspace-params":"[<predefined-rgb-params>|<xyz-params>]","predefined-rgb-params":"<predefined-rgb> [<number>|<percentage>|none]{3}","predefined-rgb":"srgb|srgb-linear|display-p3|a98-rgb|prophoto-rgb|rec2020","xyz-params":"<xyz-space> [<number>|<percentage>|none]{3}","xyz-space":"xyz|xyz-d50|xyz-d65","oklab()":"oklab( [<percentage>|<number>|none] [<percentage>|<number>|none] [<percentage>|<number>|none] [/ [<alpha-value>|none]]? )","oklch()":"oklch( [<percentage>|<number>|none] [<percentage>|<number>|none] [<hue>|none] [/ [<alpha-value>|none]]? )","offset-path":"<ray()>|<url>|<basic-shape>","query-in-parens":"( <container-condition> )|( <size-feature> )|style( <style-query> )|<general-enclosed>","size-feature":"<mf-plain>|<mf-boolean>|<mf-range>","style-feature":"<declaration>","style-query":"<style-condition>|<style-feature>","style-condition":"not <style-in-parens>|<style-in-parens> [[and <style-in-parens>]*|[or <style-in-parens>]*]","style-in-parens":"( <style-condition> )|( <style-feature> )|<general-enclosed>","-non-standard-display":"-ms-inline-flexbox|-ms-grid|-ms-inline-grid|-webkit-flex|-webkit-inline-flex|-webkit-box|-webkit-inline-box|-moz-inline-stack|-moz-box|-moz-inline-box","inset-area":"[[left|center|right|span-left|span-right|x-start|x-end|span-x-start|span-x-end|x-self-start|x-self-end|span-x-self-start|span-x-self-end|span-all]||[top|center|bottom|span-top|span-bottom|y-start|y-end|span-y-start|span-y-end|y-self-start|y-self-end|span-y-self-start|span-y-self-end|span-all]|[block-start|center|block-end|span-block-start|span-block-end|span-all]||[inline-start|center|inline-end|span-inline-start|span-inline-end|span-all]|[self-block-start|self-block-end|span-self-block-start|span-self-block-end|span-all]||[self-inline-start|self-inline-end|span-self-inline-start|span-self-inline-end|span-all]|[start|center|end|span-start|span-end|span-all]{1,2}|[self-start|center|self-end|span-self-start|span-self-end|span-all]{1,2}]","position-area":"[[left|center|right|span-left|span-right|x-start|x-end|span-x-start|span-x-end|x-self-start|x-self-end|span-x-self-start|span-x-self-end|span-all]||[top|center|bottom|span-top|span-bottom|y-start|y-end|span-y-start|span-y-end|y-self-start|y-self-end|span-y-self-start|span-y-self-end|span-all]|[block-start|center|block-end|span-block-start|span-block-end|span-all]||[inline-start|center|inline-end|span-inline-start|span-inline-end|span-all]|[self-block-start|center|self-block-end|span-self-block-start|span-self-block-end|span-all]||[self-inline-start|center|self-inline-end|span-self-inline-start|span-self-inline-end|span-all]|[start|center|end|span-start|span-end|span-all]{1,2}|[self-start|center|self-end|span-self-start|span-self-end|span-all]{1,2}]","anchor()":"anchor( <anchor-element>?&&<anchor-side> , <length-percentage>? )","anchor-side":"inside|outside|top|left|right|bottom|start|end|self-start|self-end|<percentage>|center","anchor-size()":"anchor-size( [<anchor-element>||<anchor-size>]? , <length-percentage>? )","anchor-size":"width|height|block|inline|self-block|self-inline","anchor-element":"<dashed-ident>","try-size":"most-width|most-height|most-block-size|most-inline-size","try-tactic":"flip-block||flip-inline||flip-start","font-variant-css2":"normal|small-caps","font-width-css3":"normal|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded","system-family-name":"caption|icon|menu|message-box|small-caption|status-bar"},properties:{"--*":"<declaration-value>","-ms-accelerator":"false|true","-ms-block-progression":"tb|rl|bt|lr","-ms-content-zoom-chaining":"none|chained","-ms-content-zooming":"none|zoom","-ms-content-zoom-limit":"<'-ms-content-zoom-limit-min'> <'-ms-content-zoom-limit-max'>","-ms-content-zoom-limit-max":"<percentage>","-ms-content-zoom-limit-min":"<percentage>","-ms-content-zoom-snap":"<'-ms-content-zoom-snap-type'>||<'-ms-content-zoom-snap-points'>","-ms-content-zoom-snap-points":"snapInterval( <percentage> , <percentage> )|snapList( <percentage># )","-ms-content-zoom-snap-type":"none|proximity|mandatory","-ms-filter":"<string>","-ms-flow-from":"[none|<custom-ident>]#","-ms-flow-into":"[none|<custom-ident>]#","-ms-grid-columns":"none|<track-list>|<auto-track-list>","-ms-grid-rows":"none|<track-list>|<auto-track-list>","-ms-high-contrast-adjust":"auto|none","-ms-hyphenate-limit-chars":"auto|<integer>{1,3}","-ms-hyphenate-limit-lines":"no-limit|<integer>","-ms-hyphenate-limit-zone":"<percentage>|<length>","-ms-ime-align":"auto|after","-ms-overflow-style":"auto|none|scrollbar|-ms-autohiding-scrollbar","-ms-scrollbar-3dlight-color":"<color>","-ms-scrollbar-arrow-color":"<color>","-ms-scrollbar-base-color":"<color>","-ms-scrollbar-darkshadow-color":"<color>","-ms-scrollbar-face-color":"<color>","-ms-scrollbar-highlight-color":"<color>","-ms-scrollbar-shadow-color":"<color>","-ms-scrollbar-track-color":"<color>","-ms-scroll-chaining":"chained|none","-ms-scroll-limit":"<'-ms-scroll-limit-x-min'> <'-ms-scroll-limit-y-min'> <'-ms-scroll-limit-x-max'> <'-ms-scroll-limit-y-max'>","-ms-scroll-limit-x-max":"auto|<length>","-ms-scroll-limit-x-min":"<length>","-ms-scroll-limit-y-max":"auto|<length>","-ms-scroll-limit-y-min":"<length>","-ms-scroll-rails":"none|railed","-ms-scroll-snap-points-x":"snapInterval( <length-percentage> , <length-percentage> )|snapList( <length-percentage># )","-ms-scroll-snap-points-y":"snapInterval( <length-percentage> , <length-percentage> )|snapList( <length-percentage># )","-ms-scroll-snap-type":"none|proximity|mandatory","-ms-scroll-snap-x":"<'-ms-scroll-snap-type'> <'-ms-scroll-snap-points-x'>","-ms-scroll-snap-y":"<'-ms-scroll-snap-type'> <'-ms-scroll-snap-points-y'>","-ms-scroll-translation":"none|vertical-to-horizontal","-ms-text-autospace":"none|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space","-ms-touch-select":"grippers|none","-ms-user-select":"none|element|text","-ms-wrap-flow":"auto|both|start|end|maximum|clear","-ms-wrap-margin":"<length>","-ms-wrap-through":"wrap|none","-moz-appearance":"none|button|button-arrow-down|button-arrow-next|button-arrow-previous|button-arrow-up|button-bevel|button-focus|caret|checkbox|checkbox-container|checkbox-label|checkmenuitem|dualbutton|groupbox|listbox|listitem|menuarrow|menubar|menucheckbox|menuimage|menuitem|menuitemtext|menulist|menulist-button|menulist-text|menulist-textfield|menupopup|menuradio|menuseparator|meterbar|meterchunk|progressbar|progressbar-vertical|progresschunk|progresschunk-vertical|radio|radio-container|radio-label|radiomenuitem|range|range-thumb|resizer|resizerpanel|scale-horizontal|scalethumbend|scalethumb-horizontal|scalethumbstart|scalethumbtick|scalethumb-vertical|scale-vertical|scrollbarbutton-down|scrollbarbutton-left|scrollbarbutton-right|scrollbarbutton-up|scrollbarthumb-horizontal|scrollbarthumb-vertical|scrollbartrack-horizontal|scrollbartrack-vertical|searchfield|separator|sheet|spinner|spinner-downbutton|spinner-textfield|spinner-upbutton|splitter|statusbar|statusbarpanel|tab|tabpanel|tabpanels|tab-scroll-arrow-back|tab-scroll-arrow-forward|textfield|textfield-multiline|toolbar|toolbarbutton|toolbarbutton-dropdown|toolbargripper|toolbox|tooltip|treeheader|treeheadercell|treeheadersortarrow|treeitem|treeline|treetwisty|treetwistyopen|treeview|-moz-mac-unified-toolbar|-moz-win-borderless-glass|-moz-win-browsertabbar-toolbox|-moz-win-communicationstext|-moz-win-communications-toolbox|-moz-win-exclude-glass|-moz-win-glass|-moz-win-mediatext|-moz-win-media-toolbox|-moz-window-button-box|-moz-window-button-box-maximized|-moz-window-button-close|-moz-window-button-maximize|-moz-window-button-minimize|-moz-window-button-restore|-moz-window-frame-bottom|-moz-window-frame-left|-moz-window-frame-right|-moz-window-titlebar|-moz-window-titlebar-maximized","-moz-binding":"<url>|none","-moz-border-bottom-colors":"<color>+|none","-moz-border-left-colors":"<color>+|none","-moz-border-right-colors":"<color>+|none","-moz-border-top-colors":"<color>+|none","-moz-context-properties":"none|[fill|fill-opacity|stroke|stroke-opacity]#","-moz-float-edge":"border-box|content-box|margin-box|padding-box","-moz-force-broken-image-icon":"0|1","-moz-image-region":"<shape>|auto","-moz-orient":"inline|block|horizontal|vertical","-moz-outline-radius":"<outline-radius>{1,4} [/ <outline-radius>{1,4}]?","-moz-outline-radius-bottomleft":"<outline-radius>","-moz-outline-radius-bottomright":"<outline-radius>","-moz-outline-radius-topleft":"<outline-radius>","-moz-outline-radius-topright":"<outline-radius>","-moz-stack-sizing":"ignore|stretch-to-fit","-moz-text-blink":"none|blink","-moz-user-focus":"ignore|normal|select-after|select-before|select-menu|select-same|select-all|none","-moz-user-input":"auto|none|enabled|disabled","-moz-user-modify":"read-only|read-write|write-only","-moz-window-dragging":"drag|no-drag","-moz-window-shadow":"default|menu|tooltip|sheet|none","-webkit-appearance":"none|button|button-bevel|caps-lock-indicator|caret|checkbox|default-button|inner-spin-button|listbox|listitem|media-controls-background|media-controls-fullscreen-background|media-current-time-display|media-enter-fullscreen-button|media-exit-fullscreen-button|media-fullscreen-button|media-mute-button|media-overlay-play-button|media-play-button|media-seek-back-button|media-seek-forward-button|media-slider|media-sliderthumb|media-time-remaining-display|media-toggle-closed-captions-button|media-volume-slider|media-volume-slider-container|media-volume-sliderthumb|menulist|menulist-button|menulist-text|menulist-textfield|meter|progress-bar|progress-bar-value|push-button|radio|scrollbarbutton-down|scrollbarbutton-left|scrollbarbutton-right|scrollbarbutton-up|scrollbargripper-horizontal|scrollbargripper-vertical|scrollbarthumb-horizontal|scrollbarthumb-vertical|scrollbartrack-horizontal|scrollbartrack-vertical|searchfield|searchfield-cancel-button|searchfield-decoration|searchfield-results-button|searchfield-results-decoration|slider-horizontal|slider-vertical|sliderthumb-horizontal|sliderthumb-vertical|square-button|textarea|textfield|-apple-pay-button","-webkit-border-before":"<'border-width'>||<'border-style'>||<color>","-webkit-border-before-color":"<color>","-webkit-border-before-style":"<'border-style'>","-webkit-border-before-width":"<'border-width'>","-webkit-box-reflect":"[above|below|right|left]? <length>? <image>?","-webkit-line-clamp":"none|<integer>","-webkit-mask":"[<mask-reference>||<position> [/ <bg-size>]?||<repeat-style>||[<box>|border|padding|content|text]||[<box>|border|padding|content]]#","-webkit-mask-attachment":"<attachment>#","-webkit-mask-clip":"[<box>|border|padding|content|text]#","-webkit-mask-composite":"<composite-style>#","-webkit-mask-image":"<mask-reference>#","-webkit-mask-origin":"[<box>|border|padding|content]#","-webkit-mask-position":"<position>#","-webkit-mask-position-x":"[<length-percentage>|left|center|right]#","-webkit-mask-position-y":"[<length-percentage>|top|center|bottom]#","-webkit-mask-repeat":"<repeat-style>#","-webkit-mask-repeat-x":"repeat|no-repeat|space|round","-webkit-mask-repeat-y":"repeat|no-repeat|space|round","-webkit-mask-size":"<bg-size>#","-webkit-overflow-scrolling":"auto|touch","-webkit-tap-highlight-color":"<color>","-webkit-text-fill-color":"<color>","-webkit-text-stroke":"<length>||<color>","-webkit-text-stroke-color":"<color>","-webkit-text-stroke-width":"<length>","-webkit-touch-callout":"default|none","-webkit-user-modify":"read-only|read-write|read-write-plaintext-only","accent-color":"auto|<color>","align-content":"normal|<baseline-position>|<content-distribution>|<overflow-position>? <content-position>","align-items":"normal|stretch|<baseline-position>|[<overflow-position>? <self-position>]","align-self":"auto|normal|stretch|<baseline-position>|<overflow-position>? <self-position>","align-tracks":"[normal|<baseline-position>|<content-distribution>|<overflow-position>? <content-position>]#",all:"initial|inherit|unset|revert|revert-layer","anchor-name":"none|<dashed-ident>#","anchor-scope":"none|all|<dashed-ident>#",animation:"<single-animation>#","animation-composition":"<single-animation-composition>#","animation-delay":"<time>#","animation-direction":"<single-animation-direction>#","animation-duration":"<time>#","animation-fill-mode":"<single-animation-fill-mode>#","animation-iteration-count":"<single-animation-iteration-count>#","animation-name":"[none|<keyframes-name>]#","animation-play-state":"<single-animation-play-state>#","animation-range":"[<'animation-range-start'> <'animation-range-end'>?]#","animation-range-end":"[normal|<length-percentage>|<timeline-range-name> <length-percentage>?]#","animation-range-start":"[normal|<length-percentage>|<timeline-range-name> <length-percentage>?]#","animation-timing-function":"<easing-function>#","animation-timeline":"<single-animation-timeline>#",appearance:"none|auto|textfield|menulist-button|<compat-auto>","aspect-ratio":"auto|<ratio>",azimuth:"<angle>|[[left-side|far-left|left|center-left|center|center-right|right|far-right|right-side]||behind]|leftwards|rightwards","backdrop-filter":"none|<filter-function-list>","backface-visibility":"visible|hidden",background:"[<bg-layer> ,]* <final-bg-layer>","background-attachment":"<attachment>#","background-blend-mode":"<blend-mode>#","background-clip":"<bg-clip>#","background-color":"<color>","background-image":"<bg-image>#","background-origin":"<box>#","background-position":"<bg-position>#","background-position-x":"[center|[[left|right|x-start|x-end]? <length-percentage>?]!]#","background-position-y":"[center|[[top|bottom|y-start|y-end]? <length-percentage>?]!]#","background-repeat":"<repeat-style>#","background-size":"<bg-size>#","block-size":"<'width'>",border:"<line-width>||<line-style>||<color>","border-block":"<'border-top-width'>||<'border-top-style'>||<color>","border-block-color":"<'border-top-color'>{1,2}","border-block-style":"<'border-top-style'>","border-block-width":"<'border-top-width'>","border-block-end":"<'border-top-width'>||<'border-top-style'>||<color>","border-block-end-color":"<'border-top-color'>","border-block-end-style":"<'border-top-style'>","border-block-end-width":"<'border-top-width'>","border-block-start":"<'border-top-width'>||<'border-top-style'>||<color>","border-block-start-color":"<'border-top-color'>","border-block-start-style":"<'border-top-style'>","border-block-start-width":"<'border-top-width'>","border-bottom":"<line-width>||<line-style>||<color>","border-bottom-color":"<'border-top-color'>","border-bottom-left-radius":"<length-percentage>{1,2}","border-bottom-right-radius":"<length-percentage>{1,2}","border-bottom-style":"<line-style>","border-bottom-width":"<line-width>","border-collapse":"collapse|separate","border-color":"<color>{1,4}","border-end-end-radius":"<length-percentage>{1,2}","border-end-start-radius":"<length-percentage>{1,2}","border-image":"<'border-image-source'>||<'border-image-slice'> [/ <'border-image-width'>|/ <'border-image-width'>? / <'border-image-outset'>]?||<'border-image-repeat'>","border-image-outset":"[<length>|<number>]{1,4}","border-image-repeat":"[stretch|repeat|round|space]{1,2}","border-image-slice":"<number-percentage>{1,4}&&fill?","border-image-source":"none|<image>","border-image-width":"[<length-percentage>|<number>|auto]{1,4}","border-inline":"<'border-top-width'>||<'border-top-style'>||<color>","border-inline-end":"<'border-top-width'>||<'border-top-style'>||<color>","border-inline-color":"<'border-top-color'>{1,2}","border-inline-style":"<'border-top-style'>","border-inline-width":"<'border-top-width'>","border-inline-end-color":"<'border-top-color'>","border-inline-end-style":"<'border-top-style'>","border-inline-end-width":"<'border-top-width'>","border-inline-start":"<'border-top-width'>||<'border-top-style'>||<color>","border-inline-start-color":"<'border-top-color'>","border-inline-start-style":"<'border-top-style'>","border-inline-start-width":"<'border-top-width'>","border-left":"<line-width>||<line-style>||<color>","border-left-color":"<color>","border-left-style":"<line-style>","border-left-width":"<line-width>","border-radius":"<length-percentage>{1,4} [/ <length-percentage>{1,4}]?","border-right":"<line-width>||<line-style>||<color>","border-right-color":"<color>","border-right-style":"<line-style>","border-right-width":"<line-width>","border-spacing":"<length> <length>?","border-start-end-radius":"<length-percentage>{1,2}","border-start-start-radius":"<length-percentage>{1,2}","border-style":"<line-style>{1,4}","border-top":"<line-width>||<line-style>||<color>","border-top-color":"<color>","border-top-left-radius":"<length-percentage>{1,2}","border-top-right-radius":"<length-percentage>{1,2}","border-top-style":"<line-style>","border-top-width":"<line-width>","border-width":"<line-width>{1,4}",bottom:"<length>|<percentage>|auto","box-align":"start|center|end|baseline|stretch","box-decoration-break":"slice|clone","box-direction":"normal|reverse|inherit","box-flex":"<number>","box-flex-group":"<integer>","box-lines":"single|multiple","box-ordinal-group":"<integer>","box-orient":"horizontal|vertical|inline-axis|block-axis|inherit","box-pack":"start|center|end|justify","box-shadow":"none|<shadow>#","box-sizing":"content-box|border-box","break-after":"auto|avoid|always|all|avoid-page|page|left|right|recto|verso|avoid-column|column|avoid-region|region","break-before":"auto|avoid|always|all|avoid-page|page|left|right|recto|verso|avoid-column|column|avoid-region|region","break-inside":"auto|avoid|avoid-page|avoid-column|avoid-region","caption-side":"top|bottom|block-start|block-end|inline-start|inline-end",caret:"<'caret-color'>||<'caret-shape'>","caret-color":"auto|<color>","caret-shape":"auto|bar|block|underscore",clear:"none|left|right|both|inline-start|inline-end",clip:"<shape>|auto","clip-path":"<clip-source>|[<basic-shape>||<geometry-box>]|none","clip-rule":"nonzero|evenodd",color:"<color>","color-interpolation-filters":"auto|sRGB|linearRGB","color-scheme":"normal|[light|dark|<custom-ident>]+&&only?","column-count":"<integer>|auto","column-fill":"auto|balance|balance-all","column-gap":"normal|<length-percentage>","column-rule":"<'column-rule-width'>||<'column-rule-style'>||<'column-rule-color'>","column-rule-color":"<color>","column-rule-style":"<'border-style'>","column-rule-width":"<'border-width'>","column-span":"none|all","column-width":"<length>|auto",columns:"<'column-width'>||<'column-count'>",contain:"none|strict|content|[[size||inline-size]||layout||style||paint]","contain-intrinsic-size":"[auto? [none|<length>]]{1,2}","contain-intrinsic-block-size":"auto? [none|<length>]","contain-intrinsic-height":"auto? [none|<length>]","contain-intrinsic-inline-size":"auto? [none|<length>]","contain-intrinsic-width":"auto? [none|<length>]",container:"<'container-name'> [/ <'container-type'>]?","container-name":"none|<custom-ident>+","container-type":"normal||[size|inline-size]",content:"normal|none|[<content-replacement>|<content-list>] [/ [<string>|<counter>]+]?","content-visibility":"visible|auto|hidden","counter-increment":"[<counter-name> <integer>?]+|none","counter-reset":"[<counter-name> <integer>?|<reversed-counter-name> <integer>?]+|none","counter-set":"[<counter-name> <integer>?]+|none",cursor:"[[<url> [<x> <y>]? ,]* [auto|default|none|context-menu|help|pointer|progress|wait|cell|crosshair|text|vertical-text|alias|copy|move|no-drop|not-allowed|e-resize|n-resize|ne-resize|nw-resize|s-resize|se-resize|sw-resize|w-resize|ew-resize|ns-resize|nesw-resize|nwse-resize|col-resize|row-resize|all-scroll|zoom-in|zoom-out|grab|grabbing|hand|-webkit-grab|-webkit-grabbing|-webkit-zoom-in|-webkit-zoom-out|-moz-grab|-moz-grabbing|-moz-zoom-in|-moz-zoom-out]]",d:"none|path( <string> )",cx:"<length>|<percentage>",cy:"<length>|<percentage>",direction:"ltr|rtl",display:"[<display-outside>||<display-inside>]|<display-listitem>|<display-internal>|<display-box>|<display-legacy>|<-non-standard-display>","dominant-baseline":"auto|use-script|no-change|reset-size|ideographic|alphabetic|hanging|mathematical|central|middle|text-after-edge|text-before-edge","empty-cells":"show|hide","field-sizing":"content|fixed",fill:"<paint>","fill-opacity":"<number-zero-one>","fill-rule":"nonzero|evenodd",filter:"none|<filter-function-list>|<-ms-filter-function-list>",flex:"none|[<'flex-grow'> <'flex-shrink'>?||<'flex-basis'>]","flex-basis":"content|<'width'>","flex-direction":"row|row-reverse|column|column-reverse","flex-flow":"<'flex-direction'>||<'flex-wrap'>","flex-grow":"<number>","flex-shrink":"<number>","flex-wrap":"nowrap|wrap|wrap-reverse",float:"left|right|none|inline-start|inline-end",font:"[[<'font-style'>||<font-variant-css2>||<'font-weight'>||<font-width-css3>]? <'font-size'> [/ <'line-height'>]? <'font-family'>#]|<system-family-name>|<-non-standard-font>","font-family":"[<family-name>|<generic-family>]#","font-feature-settings":"normal|<feature-tag-value>#","font-kerning":"auto|normal|none","font-language-override":"normal|<string>","font-optical-sizing":"auto|none","font-palette":"normal|light|dark|<palette-identifier>","font-variation-settings":"normal|[<string> <number>]#","font-size":"<absolute-size>|<relative-size>|<length-percentage>","font-size-adjust":"none|[ex-height|cap-height|ch-width|ic-width|ic-height]? [from-font|<number>]","font-smooth":"auto|never|always|<absolute-size>|<length>","font-stretch":"<font-stretch-absolute>","font-style":"normal|italic|oblique <angle>?","font-synthesis":"none|[weight||style||small-caps||position]","font-synthesis-position":"auto|none","font-synthesis-small-caps":"auto|none","font-synthesis-style":"auto|none","font-synthesis-weight":"auto|none","font-variant":"normal|none|[<common-lig-values>||<discretionary-lig-values>||<historical-lig-values>||<contextual-alt-values>||stylistic( <feature-value-name> )||historical-forms||styleset( <feature-value-name># )||character-variant( <feature-value-name># )||swash( <feature-value-name> )||ornaments( <feature-value-name> )||annotation( <feature-value-name> )||[small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps]||<numeric-figure-values>||<numeric-spacing-values>||<numeric-fraction-values>||ordinal||slashed-zero||<east-asian-variant-values>||<east-asian-width-values>||ruby]","font-variant-alternates":"normal|[stylistic( <feature-value-name> )||historical-forms||styleset( <feature-value-name># )||character-variant( <feature-value-name># )||swash( <feature-value-name> )||ornaments( <feature-value-name> )||annotation( <feature-value-name> )]","font-variant-caps":"normal|small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps","font-variant-east-asian":"normal|[<east-asian-variant-values>||<east-asian-width-values>||ruby]","font-variant-emoji":"normal|text|emoji|unicode","font-variant-ligatures":"normal|none|[<common-lig-values>||<discretionary-lig-values>||<historical-lig-values>||<contextual-alt-values>]","font-variant-numeric":"normal|[<numeric-figure-values>||<numeric-spacing-values>||<numeric-fraction-values>||ordinal||slashed-zero]","font-variant-position":"normal|sub|super","font-weight":"<font-weight-absolute>|bolder|lighter","forced-color-adjust":"auto|none",gap:"<'row-gap'> <'column-gap'>?",grid:"<'grid-template'>|<'grid-template-rows'> / [auto-flow&&dense?] <'grid-auto-columns'>?|[auto-flow&&dense?] <'grid-auto-rows'>? / <'grid-template-columns'>","grid-area":"<grid-line> [/ <grid-line>]{0,3}","grid-auto-columns":"<track-size>+","grid-auto-flow":"[row|column]||dense","grid-auto-rows":"<track-size>+","grid-column":"<grid-line> [/ <grid-line>]?","grid-column-end":"<grid-line>","grid-column-gap":"<length-percentage>","grid-column-start":"<grid-line>","grid-gap":"<'grid-row-gap'> <'grid-column-gap'>?","grid-row":"<grid-line> [/ <grid-line>]?","grid-row-end":"<grid-line>","grid-row-gap":"<length-percentage>","grid-row-start":"<grid-line>","grid-template":"none|[<'grid-template-rows'> / <'grid-template-columns'>]|[<line-names>? <string> <track-size>? <line-names>?]+ [/ <explicit-track-list>]?","grid-template-areas":"none|<string>+","grid-template-columns":"none|<track-list>|<auto-track-list>|subgrid <line-name-list>?","grid-template-rows":"none|<track-list>|<auto-track-list>|subgrid <line-name-list>?","hanging-punctuation":"none|[first||[force-end|allow-end]||last]",height:"auto|<length>|<percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|stretch|<-non-standard-size>","hyphenate-character":"auto|<string>","hyphenate-limit-chars":"[auto|<integer>]{1,3}",hyphens:"none|manual|auto","image-orientation":"from-image|<angle>|[<angle>? flip]","image-rendering":"auto|crisp-edges|pixelated|optimizeSpeed|optimizeQuality|<-non-standard-image-rendering>","image-resolution":"[from-image||<resolution>]&&snap?","ime-mode":"auto|normal|active|inactive|disabled","initial-letter":"normal|[<number> <integer>?]","initial-letter-align":"[auto|alphabetic|hanging|ideographic]","inline-size":"<'width'>","input-security":"auto|none",inset:"<'top'>{1,4}","inset-area":"none|<inset-area>","inset-block":"<'top'>{1,2}","inset-block-end":"<'top'>","inset-block-start":"<'top'>","inset-inline":"<'top'>{1,2}","inset-inline-end":"<'top'>","inset-inline-start":"<'top'>",isolation:"auto|isolate","justify-content":"normal|<content-distribution>|<overflow-position>? [<content-position>|left|right]","justify-items":"normal|stretch|<baseline-position>|<overflow-position>? [<self-position>|left|right]|legacy|legacy&&[left|right|center]","justify-self":"auto|normal|stretch|<baseline-position>|<overflow-position>? [<self-position>|left|right]","justify-tracks":"[normal|<content-distribution>|<overflow-position>? [<content-position>|left|right]]#",left:"<length>|<percentage>|auto","letter-spacing":"normal|<length-percentage>","line-break":"auto|loose|normal|strict|anywhere","line-clamp":"none|<integer>","line-height":"normal|<number>|<length>|<percentage>","line-height-step":"<length>","list-style":"<'list-style-type'>||<'list-style-position'>||<'list-style-image'>","list-style-image":"<image>|none","list-style-position":"inside|outside","list-style-type":"<counter-style>|<string>|none",margin:"[<length>|<percentage>|auto]{1,4}","margin-block":"<'margin-left'>{1,2}","margin-block-end":"<'margin-left'>","margin-block-start":"<'margin-left'>","margin-bottom":"<length>|<percentage>|auto","margin-inline":"<'margin-left'>{1,2}","margin-inline-end":"<'margin-left'>","margin-inline-start":"<'margin-left'>","margin-left":"<length>|<percentage>|auto","margin-right":"<length>|<percentage>|auto","margin-top":"<length>|<percentage>|auto","margin-trim":"none|in-flow|all",marker:"none|<url>","marker-end":"none|<url>","marker-mid":"none|<url>","marker-start":"none|<url>",mask:"<mask-layer>#","mask-border":"<'mask-border-source'>||<'mask-border-slice'> [/ <'mask-border-width'>? [/ <'mask-border-outset'>]?]?||<'mask-border-repeat'>||<'mask-border-mode'>","mask-border-mode":"luminance|alpha","mask-border-outset":"[<length>|<number>]{1,4}","mask-border-repeat":"[stretch|repeat|round|space]{1,2}","mask-border-slice":"<number-percentage>{1,4} fill?","mask-border-source":"none|<image>","mask-border-width":"[<length-percentage>|<number>|auto]{1,4}","mask-clip":"[<geometry-box>|no-clip]#","mask-composite":"<compositing-operator>#","mask-image":"<mask-reference>#","mask-mode":"<masking-mode>#","mask-origin":"<geometry-box>#","mask-position":"<position>#","mask-repeat":"<repeat-style>#","mask-size":"<bg-size>#","mask-type":"luminance|alpha","masonry-auto-flow":"[pack|next]||[definite-first|ordered]","math-depth":"auto-add|add( <integer> )|<integer>","math-shift":"normal|compact","math-style":"normal|compact","max-block-size":"<'max-width'>","max-height":"none|<length-percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|stretch|<-non-standard-size>","max-inline-size":"<'max-width'>","max-lines":"none|<integer>","max-width":"none|<length-percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|stretch|<-non-standard-size>","min-block-size":"<'min-width'>","min-height":"auto|<length>|<percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|stretch|<-non-standard-size>","min-inline-size":"<'min-width'>","min-width":"auto|<length>|<percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|stretch|<-non-standard-size>","mix-blend-mode":"<blend-mode>|plus-lighter","object-fit":"fill|contain|cover|none|scale-down","object-position":"<position>",offset:"[<'offset-position'>? [<'offset-path'> [<'offset-distance'>||<'offset-rotate'>]?]?]! [/ <'offset-anchor'>]?","offset-anchor":"auto|<position>","offset-distance":"<length-percentage>","offset-path":"none|<offset-path>||<coord-box>","offset-position":"normal|auto|<position>","offset-rotate":"[auto|reverse]||<angle>",opacity:"<alpha-value>",order:"<integer>",orphans:"<integer>",outline:"[<'outline-width'>||<'outline-style'>||<'outline-color'>]","outline-color":"auto|<color>","outline-offset":"<length>","outline-style":"auto|<'border-style'>","outline-width":"<line-width>",overflow:"[visible|hidden|clip|scroll|auto]{1,2}|<-non-standard-overflow>","overflow-anchor":"auto|none","overflow-block":"visible|hidden|clip|scroll|auto","overflow-clip-box":"padding-box|content-box","overflow-clip-margin":"<visual-box>||<length [0,\u221E]>","overflow-inline":"visible|hidden|clip|scroll|auto","overflow-wrap":"normal|break-word|anywhere","overflow-x":"visible|hidden|clip|scroll|auto","overflow-y":"visible|hidden|clip|scroll|auto",overlay:"none|auto","overscroll-behavior":"[contain|none|auto]{1,2}","overscroll-behavior-block":"contain|none|auto","overscroll-behavior-inline":"contain|none|auto","overscroll-behavior-x":"contain|none|auto","overscroll-behavior-y":"contain|none|auto",padding:"[<length>|<percentage>]{1,4}","padding-block":"<'padding-left'>{1,2}","padding-block-end":"<'padding-left'>","padding-block-start":"<'padding-left'>","padding-bottom":"<length>|<percentage>","padding-inline":"<'padding-left'>{1,2}","padding-inline-end":"<'padding-left'>","padding-inline-start":"<'padding-left'>","padding-left":"<length>|<percentage>","padding-right":"<length>|<percentage>","padding-top":"<length>|<percentage>",page:"auto|<custom-ident>","page-break-after":"auto|always|avoid|left|right|recto|verso","page-break-before":"auto|always|avoid|left|right|recto|verso","page-break-inside":"auto|avoid","paint-order":"normal|[fill||stroke||markers]",perspective:"none|<length>","perspective-origin":"<position>","place-content":"<'align-content'> <'justify-content'>?","place-items":"<'align-items'> <'justify-items'>?","place-self":"<'align-self'> <'justify-self'>?","pointer-events":"auto|none|visiblePainted|visibleFill|visibleStroke|visible|painted|fill|stroke|all|inherit",position:"static|relative|absolute|sticky|fixed|-webkit-sticky","position-anchor":"<anchor-element>","position-try":"<'position-try-order'>? <'position-try-fallbacks'>","position-try-fallbacks":"none|[[<dashed-ident>||<try-tactic>]|<'position-area'>]#","position-try-order":"normal|<try-size>","position-visibility":"always|[anchors-valid||anchors-visible||no-overflow]","print-color-adjust":"economy|exact",quotes:"none|auto|[<string> <string>]+",r:"<length>|<percentage>",resize:"none|both|horizontal|vertical|block|inline",right:"<length>|<percentage>|auto",rotate:"none|<angle>|[x|y|z|<number>{3}]&&<angle>","row-gap":"normal|<length-percentage>","ruby-align":"start|center|space-between|space-around","ruby-merge":"separate|collapse|auto","ruby-position":"[alternate||[over|under]]|inter-character",rx:"<length>|<percentage>",ry:"<length>|<percentage>",scale:"none|<number>{1,3}","scrollbar-color":"auto|<color>{2}","scrollbar-gutter":"auto|stable&&both-edges?","scrollbar-width":"auto|thin|none","scroll-behavior":"auto|smooth","scroll-margin":"<length>{1,4}","scroll-margin-block":"<length>{1,2}","scroll-margin-block-start":"<length>","scroll-margin-block-end":"<length>","scroll-margin-bottom":"<length>","scroll-margin-inline":"<length>{1,2}","scroll-margin-inline-start":"<length>","scroll-margin-inline-end":"<length>","scroll-margin-left":"<length>","scroll-margin-right":"<length>","scroll-margin-top":"<length>","scroll-padding":"[auto|<length-percentage>]{1,4}","scroll-padding-block":"[auto|<length-percentage>]{1,2}","scroll-padding-block-start":"auto|<length-percentage>","scroll-padding-block-end":"auto|<length-percentage>","scroll-padding-bottom":"auto|<length-percentage>","scroll-padding-inline":"[auto|<length-percentage>]{1,2}","scroll-padding-inline-start":"auto|<length-percentage>","scroll-padding-inline-end":"auto|<length-percentage>","scroll-padding-left":"auto|<length-percentage>","scroll-padding-right":"auto|<length-percentage>","scroll-padding-top":"auto|<length-percentage>","scroll-snap-align":"[none|start|end|center]{1,2}","scroll-snap-coordinate":"none|<position>#","scroll-snap-destination":"<position>","scroll-snap-points-x":"none|repeat( <length-percentage> )","scroll-snap-points-y":"none|repeat( <length-percentage> )","scroll-snap-stop":"normal|always","scroll-snap-type":"none|[x|y|block|inline|both] [mandatory|proximity]?","scroll-snap-type-x":"none|mandatory|proximity","scroll-snap-type-y":"none|mandatory|proximity","scroll-timeline":"[<'scroll-timeline-name'>||<'scroll-timeline-axis'>]#","scroll-timeline-axis":"[block|inline|x|y]#","scroll-timeline-name":"[none|<dashed-ident>]#","shape-image-threshold":"<alpha-value>","shape-margin":"<length-percentage>","shape-outside":"none|[<shape-box>||<basic-shape>]|<image>","shape-rendering":"auto|optimizeSpeed|crispEdges|geometricPrecision","tab-size":"<integer>|<length>","table-layout":"auto|fixed","text-align":"start|end|left|right|center|justify|match-parent","text-align-last":"auto|start|end|left|right|center|justify","text-anchor":"start|middle|end","text-combine-upright":"none|all|[digits <integer>?]","text-decoration":"<'text-decoration-line'>||<'text-decoration-style'>||<'text-decoration-color'>||<'text-decoration-thickness'>","text-decoration-color":"<color>","text-decoration-line":"none|[underline||overline||line-through||blink]|spelling-error|grammar-error","text-decoration-skip":"none|[objects||[spaces|[leading-spaces||trailing-spaces]]||edges||box-decoration]","text-decoration-skip-ink":"auto|all|none","text-decoration-style":"solid|double|dotted|dashed|wavy","text-decoration-thickness":"auto|from-font|<length>|<percentage>","text-emphasis":"<'text-emphasis-style'>||<'text-emphasis-color'>","text-emphasis-color":"<color>","text-emphasis-position":"[over|under]&&[right|left]","text-emphasis-style":"none|[[filled|open]||[dot|circle|double-circle|triangle|sesame]]|<string>","text-indent":"<length-percentage>&&hanging?&&each-line?","text-justify":"auto|inter-character|inter-word|none","text-orientation":"mixed|upright|sideways","text-overflow":"[clip|ellipsis|<string>]{1,2}","text-rendering":"auto|optimizeSpeed|optimizeLegibility|geometricPrecision","text-shadow":"none|<shadow-t>#","text-size-adjust":"none|auto|<percentage>","text-spacing-trim":"space-all|normal|space-first|trim-start|trim-both|trim-all|auto","text-transform":"none|capitalize|uppercase|lowercase|full-width|full-size-kana","text-underline-offset":"auto|<length>|<percentage>","text-underline-position":"auto|from-font|[under||[left|right]]","text-wrap":"wrap|nowrap|balance|stable|pretty","text-wrap-mode":"auto|wrap|nowrap","text-wrap-style":"auto|balance|stable|pretty","timeline-scope":"none|<dashed-ident>#",top:"<length>|<percentage>|auto","touch-action":"auto|none|[[pan-x|pan-left|pan-right]||[pan-y|pan-up|pan-down]||pinch-zoom]|manipulation",transform:"none|<transform-list>","transform-box":"content-box|border-box|fill-box|stroke-box|view-box","transform-origin":"[<length-percentage>|left|center|right|top|bottom]|[[<length-percentage>|left|center|right]&&[<length-percentage>|top|center|bottom]] <length>?","transform-style":"flat|preserve-3d",transition:"<single-transition>#","transition-behavior":"<transition-behavior-value>#","transition-delay":"<time>#","transition-duration":"<time>#","transition-property":"none|<single-transition-property>#","transition-timing-function":"<easing-function>#",translate:"none|<length-percentage> [<length-percentage> <length>?]?","unicode-bidi":"normal|embed|isolate|bidi-override|isolate-override|plaintext|-moz-isolate|-moz-isolate-override|-moz-plaintext|-webkit-isolate|-webkit-isolate-override|-webkit-plaintext","user-select":"auto|text|none|contain|all","vector-effect":"none|non-scaling-stroke|non-scaling-size|non-rotation|fixed-position","vertical-align":"baseline|sub|super|text-top|text-bottom|middle|top|bottom|<percentage>|<length>","view-timeline":"[<'view-timeline-name'> <'view-timeline-axis'>?]#","view-timeline-axis":"[block|inline|x|y]#","view-timeline-inset":"[[auto|<length-percentage>]{1,2}]#","view-timeline-name":"none|<dashed-ident>#","view-transition-name":"none|<custom-ident>",visibility:"visible|hidden|collapse","white-space":"normal|pre|nowrap|pre-wrap|pre-line|break-spaces|[<'white-space-collapse'>||<'text-wrap'>||<'white-space-trim'>]","white-space-collapse":"collapse|discard|preserve|preserve-breaks|preserve-spaces|break-spaces",widows:"<integer>",width:"auto|<length>|<percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|stretch|<-non-standard-size>","will-change":"auto|<animateable-feature>#","word-break":"normal|break-all|keep-all|break-word|auto-phrase","word-spacing":"normal|<length>","word-wrap":"normal|break-word","writing-mode":"horizontal-tb|vertical-rl|vertical-lr|sideways-rl|sideways-lr|<svg-writing-mode>",x:"<length>|<percentage>",y:"<length>|<percentage>","z-index":"auto|<integer>",zoom:"normal|reset|<number>|<percentage>","-moz-background-clip":"padding|border","-moz-border-radius-bottomleft":"<'border-bottom-left-radius'>","-moz-border-radius-bottomright":"<'border-bottom-right-radius'>","-moz-border-radius-topleft":"<'border-top-left-radius'>","-moz-border-radius-topright":"<'border-bottom-right-radius'>","-moz-control-character-visibility":"visible|hidden","-moz-osx-font-smoothing":"auto|grayscale","-moz-user-select":"none|text|all|-moz-none","-ms-flex-align":"start|end|center|baseline|stretch","-ms-flex-item-align":"auto|start|end|center|baseline|stretch","-ms-flex-line-pack":"start|end|center|justify|distribute|stretch","-ms-flex-negative":"<'flex-shrink'>","-ms-flex-pack":"start|end|center|justify|distribute","-ms-flex-order":"<integer>","-ms-flex-positive":"<'flex-grow'>","-ms-flex-preferred-size":"<'flex-basis'>","-ms-interpolation-mode":"nearest-neighbor|bicubic","-ms-grid-column-align":"start|end|center|stretch","-ms-grid-row-align":"start|end|center|stretch","-ms-hyphenate-limit-last":"none|always|column|page|spread","-webkit-background-clip":"[<box>|border|padding|content|text]#","-webkit-column-break-after":"always|auto|avoid","-webkit-column-break-before":"always|auto|avoid","-webkit-column-break-inside":"always|auto|avoid","-webkit-font-smoothing":"auto|none|antialiased|subpixel-antialiased","-webkit-mask-box-image":"[<url>|<gradient>|none] [<length-percentage>{4} <-webkit-mask-box-repeat>{2}]?","-webkit-print-color-adjust":"economy|exact","-webkit-text-security":"none|circle|disc|square","-webkit-user-drag":"none|element|auto","-webkit-user-select":"auto|none|text|all","alignment-baseline":"auto|baseline|before-edge|text-before-edge|middle|central|after-edge|text-after-edge|ideographic|alphabetic|hanging|mathematical","baseline-shift":"baseline|sub|super|<svg-length>",behavior:"<url>+",cue:"<'cue-before'> <'cue-after'>?","cue-after":"<url> <decibel>?|none","cue-before":"<url> <decibel>?|none","glyph-orientation-horizontal":"<angle>","glyph-orientation-vertical":"<angle>",kerning:"auto|<svg-length>",pause:"<'pause-before'> <'pause-after'>?","pause-after":"<time>|none|x-weak|weak|medium|strong|x-strong","pause-before":"<time>|none|x-weak|weak|medium|strong|x-strong",rest:"<'rest-before'> <'rest-after'>?","rest-after":"<time>|none|x-weak|weak|medium|strong|x-strong","rest-before":"<time>|none|x-weak|weak|medium|strong|x-strong",src:"[<url> [format( <string># )]?|local( <family-name> )]#",speak:"auto|never|always","speak-as":"normal|spell-out||digits||[literal-punctuation|no-punctuation]",stroke:"<paint>","stroke-dasharray":"none|[<svg-length>+]#","stroke-dashoffset":"<svg-length>","stroke-linecap":"butt|round|square","stroke-linejoin":"miter|round|bevel","stroke-miterlimit":"<number-one-or-greater>","stroke-opacity":"<number-zero-one>","stroke-width":"<svg-length>","unicode-range":"<urange>#","voice-balance":"<number>|left|center|right|leftwards|rightwards","voice-duration":"auto|<time>","voice-family":"[[<family-name>|<generic-voice>] ,]* [<family-name>|<generic-voice>]|preserve","voice-pitch":"<frequency>&&absolute|[[x-low|low|medium|high|x-high]||[<frequency>|<semitones>|<percentage>]]","voice-range":"<frequency>&&absolute|[[x-low|low|medium|high|x-high]||[<frequency>|<semitones>|<percentage>]]","voice-rate":"[normal|x-slow|slow|medium|fast|x-fast]||<percentage>","voice-stress":"normal|strong|moderate|none|reduced","voice-volume":"silent|[[x-soft|soft|medium|loud|x-loud]||<decibel>]","white-space-trim":"none|discard-before||discard-after||discard-inner","position-area":"none|<position-area>"},atrules:{charset:{prelude:"<string>",descriptors:null},"counter-style":{prelude:"<counter-style-name>",descriptors:{"additive-symbols":"[<integer>&&<symbol>]#",fallback:"<counter-style-name>",negative:"<symbol> <symbol>?",pad:"<integer>&&<symbol>",prefix:"<symbol>",range:"[[<integer>|infinite]{2}]#|auto","speak-as":"auto|bullets|numbers|words|spell-out|<counter-style-name>",suffix:"<symbol>",symbols:"<symbol>+",system:"cyclic|numeric|alphabetic|symbolic|additive|[fixed <integer>?]|[extends <counter-style-name>]"}},document:{prelude:"[<url>|url-prefix( <string> )|domain( <string> )|media-document( <string> )|regexp( <string> )]#",descriptors:null},"font-palette-values":{prelude:"<dashed-ident>",descriptors:{"base-palette":"light|dark|<integer [0,\u221E]>","font-family":"<family-name>#","override-colors":"[<integer [0,\u221E]> <absolute-color-base>]#"}},"font-face":{prelude:null,descriptors:{"ascent-override":"normal|<percentage>","descent-override":"normal|<percentage>","font-display":"[auto|block|swap|fallback|optional]","font-family":"<family-name>","font-feature-settings":"normal|<feature-tag-value>#","font-variation-settings":"normal|[<string> <number>]#","font-stretch":"<font-stretch-absolute>{1,2}","font-style":"normal|italic|oblique <angle>{0,2}","font-weight":"<font-weight-absolute>{1,2}","line-gap-override":"normal|<percentage>","size-adjust":"<percentage>",src:"[<url> [format( <string># )]?|local( <family-name> )]#","unicode-range":"<urange>#"}},"font-feature-values":{prelude:"<family-name>#",descriptors:null},import:{prelude:"[<string>|<url>] [layer|layer( <layer-name> )]? [supports( [<supports-condition>|<declaration>] )]? <media-query-list>?",descriptors:null},keyframes:{prelude:"<keyframes-name>",descriptors:null},layer:{prelude:"[<layer-name>#|<layer-name>?]",descriptors:null},media:{prelude:"<media-query-list>",descriptors:null},namespace:{prelude:"<namespace-prefix>? [<string>|<url>]",descriptors:null},page:{prelude:"<page-selector-list>",descriptors:{bleed:"auto|<length>",marks:"none|[crop||cross]","page-orientation":"upright|rotate-left|rotate-right",size:"<length>{1,2}|auto|[<page-size>||[portrait|landscape]]"}},"position-try":{prelude:"<dashed-ident>",descriptors:{top:"<'top'>",left:"<'left'>",bottom:"<'bottom'>",right:"<'right'>","inset-block-start":"<'inset-block-start'>","inset-block-end":"<'inset-block-end'>","inset-inline-start":"<'inset-inline-start'>","inset-inline-end":"<'inset-inline-end'>","inset-block":"<'inset-block'>","inset-inline":"<'inset-inline'>",inset:"<'inset'>","margin-top":"<'margin-top'>","margin-left":"<'margin-left'>","margin-bottom":"<'margin-bottom'>","margin-right":"<'margin-right'>","margin-block-start":"<'margin-block-start'>","margin-block-end":"<'margin-block-end'>","margin-inline-start":"<'margin-inline-start'>","margin-inline-end":"<'margin-inline-end'>",margin:"<'margin'>","margin-block":"<'margin-block'>","margin-inline":"<'margin-inline'>",width:"<'width'>",height:"<'height'>","min-width":"<'min-width'>","min-height":"<'min-height'>","max-width":"<'max-width'>","max-height":"<'max-height'>","block-size":"<'block-size'>","inline-size":"<'inline-size'>","min-block-size":"<'min-block-size'>","min-inline-size":"<'min-inline-size'>","max-block-size":"<'max-block-size'>","max-inline-size":"<'max-inline-size'>","align-self":"<'align-self'>|anchor-center","justify-self":"<'justify-self'>|anchor-center"}},property:{prelude:"<custom-property-name>",descriptors:{syntax:"<string>",inherits:"true|false","initial-value":"<declaration-value>?"}},scope:{prelude:"[( <scope-start> )]? [to ( <scope-end> )]?",descriptors:null},"starting-style":{prelude:null,descriptors:null},supports:{prelude:"<supports-condition>",descriptors:null},container:{prelude:"[<container-name>]? <container-condition>",descriptors:null},nest:{prelude:"<complex-selector-list>",descriptors:null}}}});var zp={};te(zp,{generate:()=>_2,name:()=>R2,parse:()=>Ip,structure:()=>j2});function Sc(t,e){let n=this.tokenStart+t,i=this.charCodeAt(n);for((i===Rr||i===Jn)&&(e&&this.error("Number sign is not allowed"),n++);n<this.tokenEnd;n++)Kt(this.charCodeAt(n))||this.error("Integer is expected",n)}function Qo(t){return Sc.call(this,0,t)}function bi(t,e){if(!this.cmpChar(this.tokenStart+t,e)){let n="";switch(e){case Cc:n="N is expected";break;case Jn:n="HyphenMinus is expected";break}this.error(n,this.tokenStart+t)}}function Pp(){let t=0,e=0,n=this.tokenType;for(;n===13||n===25;)n=this.lookupType(++t);if(n!==10)if(this.isDelim(Rr,t)||this.isDelim(Jn,t)){e=this.isDelim(Rr,t)?Rr:Jn;do n=this.lookupType(++t);while(n===13||n===25);n!==10&&(this.skip(t),Qo.call(this,$i))}else return null;return t>0&&this.skip(t),e===0&&(n=this.charCodeAt(this.tokenStart),n!==Rr&&n!==Jn&&this.error("Number sign is expected")),Qo.call(this,e!==0),e===Jn?"-"+this.consume(10):this.consume(10)}function Ip(){let t=this.tokenStart,e=null,n=null;if(this.tokenType===10)Qo.call(this,F2),n=this.consume(10);else if(this.tokenType===1&&this.cmpChar(this.tokenStart,Jn))switch(e="-1",bi.call(this,1,Cc),this.tokenEnd-this.tokenStart){case 2:this.next(),n=Pp.call(this);break;case 3:bi.call(this,2,Jn),this.next(),this.skipSC(),Qo.call(this,$i),n="-"+this.consume(10);break;default:bi.call(this,2,Jn),Sc.call(this,3,$i),this.next(),n=this.substrToCursor(t+2)}else if(this.tokenType===1||this.isDelim(Rr)&&this.lookupType(1)===1){let i=0;switch(e="1",this.isDelim(Rr)&&(i=1,this.next()),bi.call(this,0,Cc),this.tokenEnd-this.tokenStart){case 1:this.next(),n=Pp.call(this);break;case 2:bi.call(this,1,Jn),this.next(),this.skipSC(),Qo.call(this,$i),n="-"+this.consume(10);break;default:bi.call(this,1,Jn),Sc.call(this,2,$i),this.next(),n=this.substrToCursor(t+i+1)}}else if(this.tokenType===12){let i=this.charCodeAt(this.tokenStart),s=i===Rr||i===Jn,a=this.tokenStart+s;for(;a<this.tokenEnd&&Kt(this.charCodeAt(a));a++);a===this.tokenStart+s&&this.error("Integer is expected",this.tokenStart+s),bi.call(this,a-this.tokenStart,Cc),e=this.substring(t,a),a+1===this.tokenEnd?(this.next(),n=Pp.call(this)):(bi.call(this,a-this.tokenStart+1,Jn),a+2===this.tokenEnd?(this.next(),this.skipSC(),Qo.call(this,$i),n="-"+this.consume(10)):(Sc.call(this,a-this.tokenStart+2,$i),this.next(),n=this.substrToCursor(a+1)))}else this.error();return e!==null&&e.charCodeAt(0)===Rr&&(e=e.substr(1)),n!==null&&n.charCodeAt(0)===Rr&&(n=n.substr(1)),{type:"AnPlusB",loc:this.getLocation(t,this.tokenStart),a:e,b:n}}function _2(t){if(t.a){let e=t.a==="+1"&&"n"||t.a==="1"&&"n"||t.a==="-1"&&"-n"||t.a+"n";if(t.b){let n=t.b[0]==="-"||t.b[0]==="+"?t.b:"+"+t.b;this.tokenize(e+n)}else this.tokenize(e)}else this.tokenize(t.b)}var Rr,Jn,Cc,$i,F2,R2,j2,Bp=N(()=>{Ne();Rr=43,Jn=45,Cc=110,$i=!0,F2=!1;R2="AnPlusB",j2={a:[String,null],b:[String,null]}});var Rp={};te(Rp,{generate:()=>$2,name:()=>q2,parse:()=>Fp,structure:()=>U2,walkContext:()=>W2});function Rk(){return this.Raw(this.consumeUntilLeftCurlyBracketOrSemicolon,!0)}function H2(){for(let t=1,e;e=this.lookupType(t);t++){if(e===24)return!0;if(e===23||e===3)return!1}return!1}function Fp(t=!1){let e=this.tokenStart,n,i,s=null,a=null;switch(this.eat(3),n=this.substrToCursor(e+1),i=n.toLowerCase(),this.skipSC(),this.eof===!1&&this.tokenType!==23&&this.tokenType!==17&&(this.parseAtrulePrelude?s=this.parseWithFallback(this.AtrulePrelude.bind(this,n,t),Rk):s=Rk.call(this,this.tokenIndex),this.skipSC()),this.tokenType){case 17:this.next();break;case 23:this.eat(23),hasOwnProperty.call(this.atrule,i)&&typeof this.atrule[i].block=="function"?a=this.atrule[i].block.call(this,t):a=this.Block(H2.call(this)),this.eof||this.eat(24);break}return{type:"Atrule",loc:this.getLocation(e,this.tokenStart),name:n,prelude:s,block:a}}function $2(t){this.token(3,"@"+t.name),t.prelude!==null&&this.node(t.prelude),t.block?(this.token(23,"{"),this.node(t.block),this.token(24,"}")):this.token(17,";")}var q2,W2,U2,jp=N(()=>{Ne();q2="Atrule",W2="atrule",U2={name:String,prelude:["AtrulePrelude","Raw",null],block:["Block",null]}});var Hp={};te(Hp,{generate:()=>K2,name:()=>G2,parse:()=>_p,structure:()=>Y2,walkContext:()=>V2});function _p(t){let e=null;return t!==null&&(t=t.toLowerCase()),this.skipSC(),hasOwnProperty.call(this.atrule,t)&&typeof this.atrule[t].prelude=="function"?e=this.atrule[t].prelude.call(this):e=this.readSequence(this.scope.AtrulePrelude),this.skipSC(),this.eof!==!0&&this.tokenType!==23&&this.tokenType!==17&&this.error("Semicolon or block is expected"),{type:"AtrulePrelude",loc:this.getLocationFromList(e),children:e}}function K2(t){this.children(t)}var G2,V2,Y2,qp=N(()=>{Ne();G2="AtrulePrelude",V2="atrulePrelude",Y2={children:[[]]}});var $p={};te($p,{generate:()=>rz,name:()=>tz,parse:()=>Up,structure:()=>nz});function Z2(){this.eof&&this.error("Unexpected end of input");let t=this.tokenStart,e=!1;return this.isDelim(jk)?(e=!0,this.next()):this.isDelim(Wp)||this.eat(1),this.isDelim(Wp)?this.charCodeAt(this.tokenStart+1)!==Ac?(this.next(),this.eat(1)):e&&this.error("Identifier is expected",this.tokenEnd):e&&this.error("Vertical line is expected"),{type:"Identifier",loc:this.getLocation(t,this.tokenStart),name:this.substrToCursor(t)}}function ez(){let t=this.tokenStart,e=this.charCodeAt(t);return e!==Ac&&e!==J2&&e!==X2&&e!==Q2&&e!==jk&&e!==Wp&&this.error("Attribute selector (=, ~=, ^=, $=, *=, |=) is expected"),this.next(),e!==Ac&&(this.isDelim(Ac)||this.error("Equal sign is expected"),this.next()),this.substrToCursor(t)}function Up(){let t=this.tokenStart,e,n=null,i=null,s=null;return this.eat(19),this.skipSC(),e=Z2.call(this),this.skipSC(),this.tokenType!==20&&(this.tokenType!==1&&(n=ez.call(this),this.skipSC(),i=this.tokenType===5?this.String():this.Identifier(),this.skipSC()),this.tokenType===1&&(s=this.consume(1),this.skipSC())),this.eat(20),{type:"AttributeSelector",loc:this.getLocation(t,this.tokenStart),name:e,matcher:n,value:i,flags:s}}function rz(t){this.token(9,"["),this.node(t.name),t.matcher!==null&&(this.tokenize(t.matcher),this.node(t.value)),t.flags!==null&&this.token(1,t.flags),this.token(9,"]")}var Q2,jk,Ac,X2,Wp,J2,tz,nz,Gp=N(()=>{Ne();Q2=36,jk=42,Ac=61,X2=94,Wp=124,J2=126;tz="AttributeSelector",nz={name:"Identifier",matcher:[String,null],value:["String","Identifier",null],flags:[String,null]}});var Yp={};te(Yp,{generate:()=>cz,name:()=>sz,parse:()=>Vp,structure:()=>lz,walkContext:()=>az});function qk(){return this.Raw(null,!0)}function _k(){return this.parseWithFallback(this.Rule,qk)}function Hk(){return this.Raw(this.consumeUntilSemicolonIncluded,!0)}function oz(){if(this.tokenType===17)return Hk.call(this,this.tokenIndex);let t=this.parseWithFallback(this.Declaration,Hk);return this.tokenType===17&&this.next(),t}function Vp(t){let e=t?oz:_k,n=this.tokenStart,i=this.createList();e:for(;!this.eof;)switch(this.tokenType){case 24:break e;case 13:case 25:this.next();break;case 3:i.push(this.parseWithFallback(this.Atrule.bind(this,t),qk));break;default:t&&this.isDelim(iz)?i.push(_k.call(this)):i.push(e.call(this))}return{type:"Block",loc:this.getLocation(n,this.tokenStart),children:i}}function cz(t){this.children(t,e=>{e.type==="Declaration"&&this.token(17,";")})}var iz,sz,az,lz,Kp=N(()=>{Ne();iz=38;sz="Block",az="block",lz={children:[["Atrule","Rule","Declaration"]]}});var Xp={};te(Xp,{generate:()=>pz,name:()=>uz,parse:()=>Qp,structure:()=>fz});function Qp(t,e){let n=this.tokenStart,i=null;return this.eat(19),i=t.call(this,e),this.eof||this.eat(20),{type:"Brackets",loc:this.getLocation(n,this.tokenStart),children:i}}function pz(t){this.token(9,"["),this.children(t),this.token(9,"]")}var uz,fz,Jp=N(()=>{Ne();uz="Brackets",fz={children:[[]]}});var ed={};te(ed,{generate:()=>mz,name:()=>dz,parse:()=>Zp,structure:()=>hz});function Zp(){let t=this.tokenStart;return this.eat(15),{type:"CDC",loc:this.getLocation(t,this.tokenStart)}}function mz(){this.token(15,"-->")}var dz,hz,td=N(()=>{Ne();dz="CDC",hz=[]});var rd={};te(rd,{generate:()=>vz,name:()=>gz,parse:()=>nd,structure:()=>yz});function nd(){let t=this.tokenStart;return this.eat(14),{type:"CDO",loc:this.getLocation(t,this.tokenStart)}}function vz(){this.token(14,"<!--")}var gz,yz,id=N(()=>{Ne();gz="CDO",yz=[]});var sd={};te(sd,{generate:()=>kz,name:()=>wz,parse:()=>od,structure:()=>xz});function od(){return this.eatDelim(bz),{type:"ClassSelector",loc:this.getLocation(this.tokenStart-1,this.tokenEnd),name:this.consume(1)}}function kz(t){this.token(9,"."),this.token(1,t.name)}var bz,wz,xz,ad=N(()=>{Ne();bz=46,wz="ClassSelector",xz={name:String}});var cd={};te(cd,{generate:()=>Lz,name:()=>Tz,parse:()=>ld,structure:()=>Ez});function ld(){let t=this.tokenStart,e;switch(this.tokenType){case 13:e=" ";break;case 9:switch(this.charCodeAt(this.tokenStart)){case Sz:case Cz:case Az:this.next();break;case Wk:this.next(),this.eatIdent("deep"),this.eatDelim(Wk);break;default:this.error("Combinator is expected")}e=this.substrToCursor(t);break}return{type:"Combinator",loc:this.getLocation(t,this.tokenStart),name:e}}function Lz(t){this.tokenize(t.name)}var Cz,Wk,Sz,Az,Tz,Ez,ud=N(()=>{Ne();Cz=43,Wk=47,Sz=62,Az=126,Tz="Combinator",Ez={name:String}});var pd={};te(pd,{generate:()=>Pz,name:()=>Dz,parse:()=>fd,structure:()=>Oz});function fd(){let t=this.tokenStart,e=this.tokenEnd;return this.eat(25),e-t+2>=2&&this.charCodeAt(e-2)===Mz&&this.charCodeAt(e-1)===Nz&&(e-=2),{type:"Comment",loc:this.getLocation(t,this.tokenStart),value:this.substring(t+2,e)}}function Pz(t){this.token(25,"/*"+t.value+"*/")}var Mz,Nz,Dz,Oz,dd=N(()=>{Ne();Mz=42,Nz=47,Dz="Comment",Oz={value:String}});var md={};te(md,{generate:()=>Rz,name:()=>zz,parse:()=>hd,structure:()=>Bz});function Uk(t){return this.lookupTypeNonSC(1)===1&&Iz.has(this.lookupTypeNonSC(2))?this.Feature(t):this.FeatureRange(t)}function hd(t="media"){let e=this.createList();e:for(;!this.eof;)switch(this.tokenType){case 25:case 13:this.next();continue;case 1:e.push(this.Identifier());break;case 21:{let n=this.parseWithFallback(()=>Fz[t].call(this,t),()=>null);n||(n=this.parseWithFallback(()=>{this.eat(21);let i=this.Condition(t);return this.eat(22),i},()=>this.GeneralEnclosed(t))),e.push(n);break}case 2:{let n=this.parseWithFallback(()=>this.FeatureFunction(t),()=>null);n||(n=this.GeneralEnclosed(t)),e.push(n);break}default:break e}return e.isEmpty&&this.error("Condition is expected"),{type:"Condition",loc:this.getLocationFromList(e),kind:t,children:e}}function Rz(t){t.children.forEach(e=>{e.type==="Condition"?(this.token(21,"("),this.node(e),this.token(22,")")):this.node(e)})}var Iz,zz,Bz,Fz,gd=N(()=>{Ne();Iz=new Set([16,22,0]),zz="Condition",Bz={kind:String,children:[["Identifier","Feature","FeatureFunction","FeatureRange","SupportsDeclaration"]]};Fz={media:Uk,container:Uk,supports(){return this.SupportsDeclaration()}}});var vd={};te(vd,{generate:()=>Qz,name:()=>Vz,parse:()=>yd,structure:()=>Kz,walkContext:()=>Yz});function Uz(){return this.Raw(this.consumeUntilExclamationMarkOrSemicolon,!0)}function $z(){return this.Raw(this.consumeUntilExclamationMarkOrSemicolon,!1)}function Gz(){let t=this.tokenIndex,e=this.Value();return e.type!=="Raw"&&this.eof===!1&&this.tokenType!==17&&this.isDelim(Gk)===!1&&this.isBalanceEdge(t)===!1&&this.error(),e}function yd(){let t=this.tokenStart,e=this.tokenIndex,n=Xz.call(this),i=aa(n),s=i?this.parseCustomProperty:this.parseValue,a=i?$z:Uz,f=!1,p;this.skipSC(),this.eat(16);let m=this.tokenIndex;if(i||this.skipSC(),s?p=this.parseWithFallback(Gz,a):p=a.call(this,this.tokenIndex),i&&p.type==="Value"&&p.children.isEmpty){for(let h=m-this.tokenIndex;h<=0;h++)if(this.lookupType(h)===13){p.children.appendData({type:"WhiteSpace",loc:null,value:" "});break}}return this.isDelim(Gk)&&(f=Jz.call(this),this.skipSC()),this.eof===!1&&this.tokenType!==17&&this.isBalanceEdge(e)===!1&&this.error(),{type:"Declaration",loc:this.getLocation(t,this.tokenStart),important:f,property:n,value:p}}function Qz(t){this.token(1,t.property),this.token(16,":"),this.node(t.value),t.important&&(this.token(9,"!"),this.token(1,t.important===!0?"important":t.important))}function Xz(){let t=this.tokenStart;if(this.tokenType===9)switch(this.charCodeAt(this.tokenStart)){case qz:case _z:case Wz:case jz:case Hz:this.next();break;case $k:this.next(),this.isDelim($k)&&this.next();break}return this.tokenType===4?this.eat(4):this.eat(1),this.substrToCursor(t)}function Jz(){this.eat(9),this.skipSC();let t=this.consume(1);return t==="important"?!0:t}var Gk,jz,_z,Hz,qz,Wz,$k,Vz,Yz,Kz,bd=N(()=>{lc();Ne();Gk=33,jz=35,_z=36,Hz=38,qz=42,Wz=43,$k=47;Vz="Declaration",Yz="declaration",Kz={important:[Boolean,String],property:String,value:["Value","Raw"]}});var kd={};te(kd,{generate:()=>nB,name:()=>eB,parse:()=>xd,structure:()=>tB});function wd(){return this.Raw(this.consumeUntilSemicolonIncluded,!0)}function xd(){let t=this.createList();for(;!this.eof;)switch(this.tokenType){case 13:case 25:case 17:this.next();break;case 3:t.push(this.parseWithFallback(this.Atrule.bind(this,!0),wd));break;default:this.isDelim(Zz)?t.push(this.parseWithFallback(this.Rule,wd)):t.push(this.parseWithFallback(this.Declaration,wd))}return{type:"DeclarationList",loc:this.getLocationFromList(t),children:t}}function nB(t){this.children(t,e=>{e.type==="Declaration"&&this.token(17,";")})}var Zz,eB,tB,Cd=N(()=>{Ne();Zz=38;eB="DeclarationList",tB={children:[["Declaration","Atrule","Rule"]]}});var Ad={};te(Ad,{generate:()=>oB,name:()=>rB,parse:()=>Sd,structure:()=>iB});function Sd(){let t=this.tokenStart,e=this.consumeNumber(12);return{type:"Dimension",loc:this.getLocation(t,this.tokenStart),value:e,unit:this.substring(t+e.length,this.tokenStart)}}function oB(t){this.token(12,t.value+t.unit)}var rB,iB,Td=N(()=>{Ne();rB="Dimension",iB={value:String,unit:String}});var Ld={};te(Ld,{generate:()=>cB,name:()=>aB,parse:()=>Ed,structure:()=>lB});function Ed(t){let e=this.tokenStart,n,i=null;if(this.eat(21),this.skipSC(),n=this.consume(1),this.skipSC(),this.tokenType!==22){switch(this.eat(16),this.skipSC(),this.tokenType){case 10:this.lookupNonWSType(1)===9?i=this.Ratio():i=this.Number();break;case 12:i=this.Dimension();break;case 1:i=this.Identifier();break;case 2:i=this.parseWithFallback(()=>{let s=this.Function(this.readSequence,this.scope.Value);return this.skipSC(),this.isDelim(sB)&&this.error(),s},()=>this.Ratio());break;default:this.error("Number, dimension, ratio or identifier is expected")}this.skipSC()}return this.eof||this.eat(22),{type:"Feature",loc:this.getLocation(e,this.tokenStart),kind:t,name:n,value:i}}function cB(t){this.token(21,"("),this.token(1,t.name),t.value!==null&&(this.token(16,":"),this.node(t.value)),this.token(22,")")}var sB,aB,lB,Md=N(()=>{Ne();sB=47,aB="Feature",lB={kind:String,name:String,value:["Identifier","Number","Dimension","Ratio","Function",null]}});var Dd={};te(Dd,{generate:()=>dB,name:()=>uB,parse:()=>Nd,structure:()=>fB});function pB(t,e){let i=(this.features[t]||{})[e];return typeof i!="function"&&this.error(`Unknown feature ${e}()`),i}function Nd(t="unknown"){let e=this.tokenStart,n=this.consumeFunctionName(),i=pB.call(this,t,n.toLowerCase());this.skipSC();let s=this.parseWithFallback(()=>{let a=this.tokenIndex,f=i.call(this);return this.eof===!1&&this.isBalanceEdge(a)===!1&&this.error(),f},()=>this.Raw(null,!1));return this.eof||this.eat(22),{type:"FeatureFunction",loc:this.getLocation(e,this.tokenStart),kind:t,feature:n,value:s}}function dB(t){this.token(2,t.feature+"("),this.node(t.value),this.token(22,")")}var uB,fB,Od=N(()=>{Ne();uB="FeatureFunction",fB={kind:String,feature:String,value:["Declaration","Selector"]}});var zd={};te(zd,{generate:()=>vB,name:()=>gB,parse:()=>Id,structure:()=>yB});function Pd(){switch(this.skipSC(),this.tokenType){case 10:return this.isDelim(Vk,this.lookupOffsetNonSC(1))?this.Ratio():this.Number();case 12:return this.Dimension();case 1:return this.Identifier();case 2:return this.parseWithFallback(()=>{let t=this.Function(this.readSequence,this.scope.Value);return this.skipSC(),this.isDelim(Vk)&&this.error(),t},()=>this.Ratio());default:this.error("Number, dimension, ratio or identifier is expected")}}function Kk(t){if(this.skipSC(),this.isDelim(hB)||this.isDelim(mB)){let e=this.source[this.tokenStart];return this.next(),this.isDelim(Yk)?(this.next(),e+"="):e}if(this.isDelim(Yk))return"=";this.error(`Expected ${t?'":", ':""}"<", ">", "=" or ")"`)}function Id(t="unknown"){let e=this.tokenStart;this.skipSC(),this.eat(21);let n=Pd.call(this),i=Kk.call(this,n.type==="Identifier"),s=Pd.call(this),a=null,f=null;return this.lookupNonWSType(0)!==22&&(a=Kk.call(this),f=Pd.call(this)),this.skipSC(),this.eat(22),{type:"FeatureRange",loc:this.getLocation(e,this.tokenStart),kind:t,left:n,leftComparison:i,middle:s,rightComparison:a,right:f}}function vB(t){this.token(21,"("),this.node(t.left),this.tokenize(t.leftComparison),this.node(t.middle),t.right&&(this.tokenize(t.rightComparison),this.node(t.right)),this.token(22,")")}var Vk,hB,Yk,mB,gB,yB,Bd=N(()=>{Ne();Vk=47,hB=60,Yk=61,mB=62,gB="FeatureRange",yB={kind:String,left:["Identifier","Number","Dimension","Ratio","Function"],leftComparison:String,middle:["Identifier","Number","Dimension","Ratio","Function"],rightComparison:[String,null],right:["Identifier","Number","Dimension","Ratio","Function",null]}});var Rd={};te(Rd,{generate:()=>kB,name:()=>bB,parse:()=>Fd,structure:()=>xB,walkContext:()=>wB});function Fd(t,e){let n=this.tokenStart,i=this.consumeFunctionName(),s=i.toLowerCase(),a;return a=e.hasOwnProperty(s)?e[s].call(this,e):t.call(this,e),this.eof||this.eat(22),{type:"Function",loc:this.getLocation(n,this.tokenStart),name:i,children:a}}function kB(t){this.token(2,t.name+"("),this.children(t),this.token(22,")")}var bB,wB,xB,jd=N(()=>{Ne();bB="Function",wB="function",xB={name:String,children:[[]]}});var Hd={};te(Hd,{generate:()=>AB,name:()=>CB,parse:()=>_d,structure:()=>SB});function _d(t){let e=this.tokenStart,n=null;this.tokenType===2?n=this.consumeFunctionName():this.eat(21);let i=this.parseWithFallback(()=>{let s=this.tokenIndex,a=this.readSequence(this.scope.Value);return this.eof===!1&&this.isBalanceEdge(s)===!1&&this.error(),a},()=>this.createSingleNodeList(this.Raw(null,!1)));return this.eof||this.eat(22),{type:"GeneralEnclosed",loc:this.getLocation(e,this.tokenStart),kind:t,function:n,children:i}}function AB(t){t.function?this.token(2,t.function+"("):this.token(21,"("),this.children(t),this.token(22,")")}var CB,SB,qd=N(()=>{Ne();CB="GeneralEnclosed",SB={kind:String,function:[String,null],children:[[]]}});var Ud={};te(Ud,{generate:()=>MB,name:()=>EB,parse:()=>Wd,structure:()=>LB,xxx:()=>TB});function Wd(){let t=this.tokenStart;return this.eat(4),{type:"Hash",loc:this.getLocation(t,this.tokenStart),value:this.substrToCursor(t+1)}}function MB(t){this.token(4,"#"+t.value)}var TB,EB,LB,$d=N(()=>{Ne();TB="XXX",EB="Hash",LB={value:String}});var Vd={};te(Vd,{generate:()=>OB,name:()=>NB,parse:()=>Gd,structure:()=>DB});function Gd(){return{type:"Identifier",loc:this.getLocation(this.tokenStart,this.tokenEnd),name:this.consume(1)}}function OB(t){this.token(1,t.name)}var NB,DB,Yd=N(()=>{Ne();NB="Identifier",DB={name:String}});var Qd={};te(Qd,{generate:()=>zB,name:()=>PB,parse:()=>Kd,structure:()=>IB});function Kd(){let t=this.tokenStart;return this.eat(4),{type:"IdSelector",loc:this.getLocation(t,this.tokenStart),name:this.substrToCursor(t+1)}}function zB(t){this.token(9,"#"+t.name)}var PB,IB,Xd=N(()=>{Ne();PB="IdSelector",IB={name:String}});var Zd={};te(Zd,{generate:()=>jB,name:()=>FB,parse:()=>Jd,structure:()=>RB});function Jd(){let t=this.consume(1);for(;this.isDelim(BB);)this.eat(9),t+="."+this.consume(1);return{type:"Layer",loc:this.getLocation(this.tokenStart,this.tokenEnd),name:t}}function jB(t){this.tokenize(t.name)}var BB,FB,RB,eh=N(()=>{Ne();BB=46,FB="Layer",RB={name:String}});var nh={};te(nh,{generate:()=>qB,name:()=>_B,parse:()=>th,structure:()=>HB});function th(){let t=this.createList();for(this.skipSC();!this.eof&&(t.push(this.Layer()),this.lookupTypeNonSC(0)===18);)this.skipSC(),this.next(),this.skipSC();return{type:"LayerList",loc:this.getLocationFromList(t),children:t}}function qB(t){this.children(t,()=>this.token(18,","))}var _B,HB,rh=N(()=>{Ne();_B="LayerList",HB={children:[["Layer"]]}});var oh={};te(oh,{generate:()=>$B,name:()=>WB,parse:()=>ih,structure:()=>UB});function ih(){let t=this.tokenStart,e=null,n=null,i=null;if(this.skipSC(),this.tokenType===1&&this.lookupTypeNonSC(1)!==21){let s=this.consume(1),a=s.toLowerCase();switch(a==="not"||a==="only"?(this.skipSC(),e=a,n=this.consume(1)):n=s,this.lookupTypeNonSC(0)){case 1:{this.skipSC(),this.eatIdent("and"),i=this.Condition("media");break}case 23:case 17:case 18:case 0:break;default:this.error("Identifier or parenthesis is expected")}}else switch(this.tokenType){case 1:case 21:case 2:{i=this.Condition("media");break}case 23:case 17:case 0:break;default:this.error("Identifier or parenthesis is expected")}return{type:"MediaQuery",loc:this.getLocation(t,this.tokenStart),modifier:e,mediaType:n,condition:i}}function $B(t){t.mediaType?(t.modifier&&this.token(1,t.modifier),this.token(1,t.mediaType),t.condition&&(this.token(1,"and"),this.node(t.condition))):t.condition&&this.node(t.condition)}var WB,UB,sh=N(()=>{Ne();WB="MediaQuery",UB={modifier:[String,null],mediaType:[String,null],condition:["Condition",null]}});var lh={};te(lh,{generate:()=>YB,name:()=>GB,parse:()=>ah,structure:()=>VB});function ah(){let t=this.createList();for(this.skipSC();!this.eof&&(t.push(this.MediaQuery()),this.tokenType===18);)this.next();return{type:"MediaQueryList",loc:this.getLocationFromList(t),children:t}}function YB(t){this.children(t,()=>this.token(18,","))}var GB,VB,ch=N(()=>{Ne();GB="MediaQueryList",VB={children:[["MediaQuery"]]}});var fh={};te(fh,{generate:()=>JB,name:()=>QB,parse:()=>uh,structure:()=>XB});function uh(){let t=this.tokenStart;return this.eatDelim(KB),{type:"NestingSelector",loc:this.getLocation(t,this.tokenStart)}}function JB(){this.token(9,"&")}var KB,QB,XB,ph=N(()=>{Ne();KB=38,QB="NestingSelector",XB={}});var hh={};te(hh,{generate:()=>tF,name:()=>ZB,parse:()=>dh,structure:()=>eF});function dh(){this.skipSC();let t=this.tokenStart,e=t,n=null,i;return this.lookupValue(0,"odd")||this.lookupValue(0,"even")?i=this.Identifier():i=this.AnPlusB(),e=this.tokenStart,this.skipSC(),this.lookupValue(0,"of")&&(this.next(),n=this.SelectorList(),e=this.tokenStart),{type:"Nth",loc:this.getLocation(t,e),nth:i,selector:n}}function tF(t){this.node(t.nth),t.selector!==null&&(this.token(1,"of"),this.node(t.selector))}var ZB,eF,mh=N(()=>{Ne();ZB="Nth",eF={nth:["AnPlusB","Identifier"],selector:["SelectorList",null]}});var yh={};te(yh,{generate:()=>iF,name:()=>nF,parse:()=>gh,structure:()=>rF});function gh(){return{type:"Number",loc:this.getLocation(this.tokenStart,this.tokenEnd),value:this.consume(10)}}function iF(t){this.token(10,t.value)}var nF,rF,vh=N(()=>{Ne();nF="Number",rF={value:String}});var wh={};te(wh,{generate:()=>aF,name:()=>oF,parse:()=>bh,structure:()=>sF});function bh(){let t=this.tokenStart;return this.next(),{type:"Operator",loc:this.getLocation(t,this.tokenStart),value:this.substrToCursor(t)}}function aF(t){this.tokenize(t.value)}var oF,sF,xh=N(()=>{oF="Operator",sF={value:String}});var Ch={};te(Ch,{generate:()=>uF,name:()=>lF,parse:()=>kh,structure:()=>cF});function kh(t,e){let n=this.tokenStart,i=null;return this.eat(21),i=t.call(this,e),this.eof||this.eat(22),{type:"Parentheses",loc:this.getLocation(n,this.tokenStart),children:i}}function uF(t){this.token(21,"("),this.children(t),this.token(22,")")}var lF,cF,Sh=N(()=>{Ne();lF="Parentheses",cF={children:[[]]}});var Th={};te(Th,{generate:()=>dF,name:()=>fF,parse:()=>Ah,structure:()=>pF});function Ah(){return{type:"Percentage",loc:this.getLocation(this.tokenStart,this.tokenEnd),value:this.consumeNumber(11)}}function dF(t){this.token(11,t.value+"%")}var fF,pF,Eh=N(()=>{Ne();fF="Percentage",pF={value:String}});var Mh={};te(Mh,{generate:()=>yF,name:()=>hF,parse:()=>Lh,structure:()=>gF,walkContext:()=>mF});function Lh(){let t=this.tokenStart,e=null,n,i;return this.eat(16),this.tokenType===2?(n=this.consumeFunctionName(),i=n.toLowerCase(),this.lookupNonWSType(0)==22?e=this.createList():hasOwnProperty.call(this.pseudo,i)?(this.skipSC(),e=this.pseudo[i].call(this),this.skipSC()):(e=this.createList(),e.push(this.Raw(null,!1))),this.eat(22)):n=this.consume(1),{type:"PseudoClassSelector",loc:this.getLocation(t,this.tokenStart),name:n,children:e}}function yF(t){this.token(16,":"),t.children===null?this.token(1,t.name):(this.token(2,t.name+"("),this.children(t),this.token(22,")"))}var hF,mF,gF,Nh=N(()=>{Ne();hF="PseudoClassSelector",mF="function",gF={name:String,children:[["Raw"],null]}});var Oh={};te(Oh,{generate:()=>xF,name:()=>vF,parse:()=>Dh,structure:()=>wF,walkContext:()=>bF});function Dh(){let t=this.tokenStart,e=null,n,i;return this.eat(16),this.eat(16),this.tokenType===2?(n=this.consumeFunctionName(),i=n.toLowerCase(),this.lookupNonWSType(0)==22?e=this.createList():hasOwnProperty.call(this.pseudo,i)?(this.skipSC(),e=this.pseudo[i].call(this),this.skipSC()):(e=this.createList(),e.push(this.Raw(null,!1))),this.eat(22)):n=this.consume(1),{type:"PseudoElementSelector",loc:this.getLocation(t,this.tokenStart),name:n,children:e}}function xF(t){this.token(16,":"),this.token(16,":"),t.children===null?this.token(1,t.name):(this.token(2,t.name+"("),this.children(t),this.token(22,")"))}var vF,bF,wF,Ph=N(()=>{Ne();vF="PseudoElementSelector",bF="function",wF={name:String,children:[["Raw"],null]}});var zh={};te(zh,{generate:()=>SF,name:()=>kF,parse:()=>Ih,structure:()=>CF});function Xk(){switch(this.skipSC(),this.tokenType){case 10:return this.Number();case 2:return this.Function(this.readSequence,this.scope.Value);default:this.error("Number of function is expected")}}function Ih(){let t=this.tokenStart,e=Xk.call(this),n=null;return this.skipSC(),this.isDelim(Qk)&&(this.eatDelim(Qk),n=Xk.call(this)),{type:"Ratio",loc:this.getLocation(t,this.tokenStart),left:e,right:n}}function SF(t){this.node(t.left),this.token(9,"/"),t.right?this.node(t.right):this.node(10,1)}var Qk,kF,CF,Bh=N(()=>{Ne();Qk=47;kF="Ratio",CF={left:["Number","Function"],right:["Number","Function",null]}});var Rh={};te(Rh,{generate:()=>LF,name:()=>TF,parse:()=>Fh,structure:()=>EF});function AF(){return this.tokenIndex>0&&this.lookupType(-1)===13?this.tokenIndex>1?this.getTokenStart(this.tokenIndex-1):this.firstCharOffset:this.tokenStart}function Fh(t,e){let n=this.getTokenStart(this.tokenIndex),i;return this.skipUntilBalanced(this.tokenIndex,t||this.consumeUntilBalanceEnd),e&&this.tokenStart>n?i=AF.call(this):i=this.tokenStart,{type:"Raw",loc:this.getLocation(n,i),value:this.substring(n,i)}}function LF(t){this.tokenize(t.value)}var TF,EF,jh=N(()=>{Ne();TF="Raw",EF={value:String}});var Hh={};te(Hh,{generate:()=>PF,name:()=>NF,parse:()=>_h,structure:()=>OF,walkContext:()=>DF});function Jk(){return this.Raw(this.consumeUntilLeftCurlyBracket,!0)}function MF(){let t=this.SelectorList();return t.type!=="Raw"&&this.eof===!1&&this.tokenType!==23&&this.error(),t}function _h(){let t=this.tokenIndex,e=this.tokenStart,n,i;return this.parseRulePrelude?n=this.parseWithFallback(MF,Jk):n=Jk.call(this,t),this.skipSC(),this.eat(23),i=this.Block(!0),this.eof||this.eat(24),{type:"Rule",loc:this.getLocation(e,this.tokenStart),prelude:n,block:i}}function PF(t){this.node(t.prelude),this.token(23,"{"),this.node(t.block),this.token(24,"}")}var NF,DF,OF,qh=N(()=>{Ne();NF="Rule",DF="rule",OF={prelude:["SelectorList","Raw"],block:["Block"]}});var Uh={};te(Uh,{generate:()=>BF,name:()=>IF,parse:()=>Wh,structure:()=>zF});function Wh(){let t=null,e=null;this.skipSC();let n=this.tokenStart;return this.tokenType===21&&(this.next(),this.skipSC(),t=this.parseWithFallback(this.SelectorList,()=>this.Raw(!1,!0)),this.skipSC(),this.eat(22)),this.lookupNonWSType(0)===1&&(this.skipSC(),this.eatIdent("to"),this.skipSC(),this.eat(21),this.skipSC(),e=this.parseWithFallback(this.SelectorList,()=>this.Raw(!1,!0)),this.skipSC(),this.eat(22)),{type:"Scope",loc:this.getLocation(n,this.tokenStart),root:t,limit:e}}function BF(t){t.root&&(this.token(21,"("),this.node(t.root),this.token(22,")")),t.limit&&(this.token(1,"to"),this.token(21,"("),this.node(t.limit),this.token(22,")"))}var IF,zF,$h=N(()=>{Ne();IF="Scope",zF={root:["SelectorList","Raw",null],limit:["SelectorList","Raw",null]}});var Vh={};te(Vh,{generate:()=>jF,name:()=>FF,parse:()=>Gh,structure:()=>RF});function Gh(){let t=this.readSequence(this.scope.Selector);return this.getFirstListNode(t)===null&&this.error("Selector is expected"),{type:"Selector",loc:this.getLocationFromList(t),children:t}}function jF(t){this.children(t)}var FF,RF,Yh=N(()=>{FF="Selector",RF={children:[["TypeSelector","IdSelector","ClassSelector","AttributeSelector","PseudoClassSelector","PseudoElementSelector","Combinator"]]}});var Qh={};te(Qh,{generate:()=>WF,name:()=>_F,parse:()=>Kh,structure:()=>qF,walkContext:()=>HF});function Kh(){let t=this.createList();for(;!this.eof;){if(t.push(this.Selector()),this.tokenType===18){this.next();continue}break}return{type:"SelectorList",loc:this.getLocationFromList(t),children:t}}function WF(t){this.children(t,()=>this.token(18,","))}var _F,HF,qF,Xh=N(()=>{Ne();_F="SelectorList",HF="selector",qF={children:[["Selector","Raw"]]}});var Tc={};te(Tc,{decode:()=>ya,encode:()=>Zh});function ya(t){let e=t.length,n=t.charCodeAt(0),i=n===Zk||n===e0?1:0,s=i===1&&e>1&&t.charCodeAt(e-1)===n?e-2:e-1,a="";for(let f=i;f<=s;f++){let p=t.charCodeAt(f);if(p===Jh){if(f===s){f!==e-1&&(a=t.substr(f+1));break}if(p=t.charCodeAt(++f),xn(Jh,p)){let m=f-1,h=vr(t,m);f=h-1,a+=Ro(t.substring(m+1,h))}else p===13&&t.charCodeAt(f+1)===10&&f++}else a+=t[f]}return a}function Zh(t,e){let n=e?"'":'"',i=e?e0:Zk,s="",a=!1;for(let f=0;f<t.length;f++){let p=t.charCodeAt(f);if(p===0){s+="\uFFFD";continue}if(p<=31||p===127){s+="\\"+p.toString(16),a=!0;continue}p===i||p===Jh?(s+="\\"+t.charAt(f),a=!1):(a&&(Hn(p)||zr(p))&&(s+=" "),s+=t.charAt(f),a=!1)}return n+s+n}var Jh,Zk,e0,Ec=N(()=>{Ne();Jh=92,Zk=34,e0=39});var tm={};te(tm,{generate:()=>GF,name:()=>UF,parse:()=>em,structure:()=>$F});function em(){return{type:"String",loc:this.getLocation(this.tokenStart,this.tokenEnd),value:ya(this.consume(5))}}function GF(t){this.token(5,Zh(t.value))}var UF,$F,nm=N(()=>{Ne();Ec();UF="String",$F={value:String}});var im={};te(im,{generate:()=>XF,name:()=>YF,parse:()=>rm,structure:()=>QF,walkContext:()=>KF});function t0(){return this.Raw(null,!1)}function rm(){let t=this.tokenStart,e=this.createList(),n;for(;!this.eof;){switch(this.tokenType){case 13:this.next();continue;case 25:if(this.charCodeAt(this.tokenStart+2)!==VF){this.next();continue}n=this.Comment();break;case 14:n=this.CDO();break;case 15:n=this.CDC();break;case 3:n=this.parseWithFallback(this.Atrule,t0);break;default:n=this.parseWithFallback(this.Rule,t0)}e.push(n)}return{type:"StyleSheet",loc:this.getLocation(t,this.tokenStart),children:e}}function XF(t){this.children(t)}var VF,YF,KF,QF,om=N(()=>{Ne();VF=33;YF="StyleSheet",KF="stylesheet",QF={children:[["Comment","CDO","CDC","Atrule","Rule","Raw"]]}});var am={};te(am,{generate:()=>eR,name:()=>JF,parse:()=>sm,structure:()=>ZF});function sm(){let t=this.tokenStart;this.eat(21),this.skipSC();let e=this.Declaration();return this.eof||this.eat(22),{type:"SupportsDeclaration",loc:this.getLocation(t,this.tokenStart),declaration:e}}function eR(t){this.token(21,"("),this.node(t.declaration),this.token(22,")")}var JF,ZF,lm=N(()=>{Ne();JF="SupportsDeclaration",ZF={declaration:"Declaration"}});var fm={};te(fm,{generate:()=>iR,name:()=>nR,parse:()=>um,structure:()=>rR});function cm(){this.tokenType!==1&&this.isDelim(tR)===!1&&this.error("Identifier or asterisk is expected"),this.next()}function um(){let t=this.tokenStart;return this.isDelim(n0)?(this.next(),cm.call(this)):(cm.call(this),this.isDelim(n0)&&(this.next(),cm.call(this))),{type:"TypeSelector",loc:this.getLocation(t,this.tokenStart),name:this.substrToCursor(t)}}function iR(t){this.tokenize(t.name)}var tR,n0,nR,rR,pm=N(()=>{Ne();tR=42,n0=124;nR="TypeSelector",rR={name:String}});var mm={};te(mm,{generate:()=>cR,name:()=>aR,parse:()=>hm,structure:()=>lR});function va(t,e){let n=0;for(let i=this.tokenStart+t;i<this.tokenEnd;i++){let s=this.charCodeAt(i);if(s===i0&&e&&n!==0)return va.call(this,t+n+1,!1),-1;Hn(s)||this.error(e&&n!==0?"Hyphen minus"+(n<6?" or hex digit":"")+" is expected":n<6?"Hex digit is expected":"Unexpected input",i),++n>6&&this.error("Too many hex digits",i)}return this.next(),n}function Lc(t){let e=0;for(;this.isDelim(dm);)++e>t&&this.error("Too many question marks"),this.next()}function oR(t){this.charCodeAt(this.tokenStart)!==t&&this.error((t===r0?"Plus sign":"Hyphen minus")+" is expected")}function sR(){let t=0;switch(this.tokenType){case 10:if(t=va.call(this,1,!0),this.isDelim(dm)){Lc.call(this,6-t);break}if(this.tokenType===12||this.tokenType===10){oR.call(this,i0),va.call(this,1,!1);break}break;case 12:t=va.call(this,1,!0),t>0&&Lc.call(this,6-t);break;default:if(this.eatDelim(r0),this.tokenType===1){t=va.call(this,0,!0),t>0&&Lc.call(this,6-t);break}if(this.isDelim(dm)){this.next(),Lc.call(this,5);break}this.error("Hex digit or question mark is expected")}}function hm(){let t=this.tokenStart;return this.eatIdent("u"),sR.call(this),{type:"UnicodeRange",loc:this.getLocation(t,this.tokenStart),value:this.substrToCursor(t)}}function cR(t){this.tokenize(t.value)}var r0,i0,dm,aR,lR,gm=N(()=>{Ne();r0=43,i0=45,dm=63;aR="UnicodeRange",lR={value:String}});var Mc={};te(Mc,{decode:()=>vm,encode:()=>bm});function vm(t){let e=t.length,n=4,i=t.charCodeAt(e-1)===o0?e-2:e-1,s="";for(;n<i&&zr(t.charCodeAt(n));)n++;for(;n<i&&zr(t.charCodeAt(i));)i--;for(let a=n;a<=i;a++){let f=t.charCodeAt(a);if(f===ym){if(a===i){a!==e-1&&(s=t.substr(a+1));break}if(f=t.charCodeAt(++a),xn(ym,f)){let p=a-1,m=vr(t,p);a=m-1,s+=Ro(t.substring(p+1,m))}else f===13&&t.charCodeAt(a+1)===10&&a++}else s+=t[a]}return s}function bm(t){let e="",n=!1;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s===0){e+="\uFFFD";continue}if(s<=31||s===127){e+="\\"+s.toString(16),n=!0;continue}s===uR||s===ym||s===fR||s===pR||s===dR||s===o0?(e+="\\"+t.charAt(i),n=!1):(n&&Hn(s)&&(e+=" "),e+=t.charAt(i),n=!1)}return"url("+e+")"}var uR,ym,fR,pR,dR,o0,wm=N(()=>{Ne();uR=32,ym=92,fR=34,pR=39,dR=40,o0=41});var km={};te(km,{generate:()=>gR,name:()=>hR,parse:()=>xm,structure:()=>mR});function xm(){let t=this.tokenStart,e;switch(this.tokenType){case 7:e=vm(this.consume(7));break;case 2:this.cmpStr(this.tokenStart,this.tokenEnd,"url(")||this.error("Function name must be `url`"),this.eat(2),this.skipSC(),e=ya(this.consume(5)),this.skipSC(),this.eof||this.eat(22);break;default:this.error("Url or Function is expected")}return{type:"Url",loc:this.getLocation(t,this.tokenStart),value:e}}function gR(t){this.token(7,bm(t.value))}var hR,mR,Cm=N(()=>{wm();Ec();Ne();hR="Url",mR={value:String}});var Am={};te(Am,{generate:()=>bR,name:()=>yR,parse:()=>Sm,structure:()=>vR});function Sm(){let t=this.tokenStart,e=this.readSequence(this.scope.Value);return{type:"Value",loc:this.getLocation(t,this.tokenStart),children:e}}function bR(t){this.children(t)}var yR,vR,Tm=N(()=>{yR="Value",vR={children:[[]]}});var Lm={};te(Lm,{generate:()=>CR,name:()=>xR,parse:()=>Em,structure:()=>kR});function Em(){return this.eat(13),wR}function CR(t){this.token(13,t.value)}var wR,xR,kR,Mm=N(()=>{Ne();wR=Object.freeze({type:"WhiteSpace",loc:null,value:" "}),xR="WhiteSpace",kR={value:String}});var ba={};te(ba,{AnPlusB:()=>zp,Atrule:()=>Rp,AtrulePrelude:()=>Hp,AttributeSelector:()=>$p,Block:()=>Yp,Brackets:()=>Xp,CDC:()=>ed,CDO:()=>rd,ClassSelector:()=>sd,Combinator:()=>cd,Comment:()=>pd,Condition:()=>md,Declaration:()=>vd,DeclarationList:()=>kd,Dimension:()=>Ad,Feature:()=>Ld,FeatureFunction:()=>Dd,FeatureRange:()=>zd,Function:()=>Rd,GeneralEnclosed:()=>Hd,Hash:()=>Ud,IdSelector:()=>Qd,Identifier:()=>Vd,Layer:()=>Zd,LayerList:()=>nh,MediaQuery:()=>oh,MediaQueryList:()=>lh,NestingSelector:()=>fh,Nth:()=>hh,Number:()=>yh,Operator:()=>wh,Parentheses:()=>Ch,Percentage:()=>Th,PseudoClassSelector:()=>Mh,PseudoElementSelector:()=>Oh,Ratio:()=>zh,Raw:()=>Rh,Rule:()=>Hh,Scope:()=>Uh,Selector:()=>Vh,SelectorList:()=>Qh,String:()=>tm,StyleSheet:()=>im,SupportsDeclaration:()=>am,TypeSelector:()=>fm,UnicodeRange:()=>mm,Url:()=>km,Value:()=>Am,WhiteSpace:()=>Lm});var Nm=N(()=>{Bp();jp();qp();Gp();Kp();Jp();td();id();ad();ud();dd();gd();bd();Cd();Td();Md();Od();Bd();jd();qd();$d();Yd();Xd();eh();rh();sh();ch();ph();mh();vh();xh();Sh();Eh();Nh();Ph();Bh();jh();qh();$h();Yh();Xh();nm();om();lm();pm();gm();Cm();Tm();Mm()});var s0,a0=N(()=>{Fk();Nm();s0={generic:!0,...Bk,node:ba}});function wa(t){switch(this.tokenType){case 4:return this.Hash();case 18:return this.Operator();case 21:return this.Parentheses(this.readSequence,t.recognizer);case 19:return this.Brackets(this.readSequence,t.recognizer);case 5:return this.String();case 12:return this.Dimension();case 11:return this.Percentage();case 10:return this.Number();case 2:return this.cmpStr(this.tokenStart,this.tokenEnd,"url(")?this.Url():this.Function(this.readSequence,t.recognizer);case 7:return this.Url();case 1:return this.cmpChar(this.tokenStart,LR)&&this.cmpChar(this.tokenStart+1,l0)?this.UnicodeRange():this.Identifier();case 9:{let e=this.charCodeAt(this.tokenStart);if(e===ER||e===AR||e===l0||e===TR)return this.Operator();e===SR&&this.error("Hex or identifier is expected",this.tokenStart+1);break}}}var SR,AR,l0,TR,ER,LR,Dm=N(()=>{Ne();SR=35,AR=42,l0=43,TR=45,ER=47,LR=117});var c0,u0=N(()=>{Dm();c0={getNode:wa}});function FR(t,e){e.last!==null&&e.last.type!=="Combinator"&&t!==null&&t.type!=="Combinator"&&e.push({type:"Combinator",loc:null,name:" "})}function RR(){switch(this.tokenType){case 19:return this.AttributeSelector();case 4:return this.IdSelector();case 16:return this.lookupType(1)===16?this.PseudoElementSelector():this.PseudoClassSelector();case 1:return this.TypeSelector();case 10:case 11:return this.Percentage();case 12:this.charCodeAt(this.tokenStart)===f0&&this.error("Identifier is expected",this.tokenStart+1);break;case 9:{switch(this.charCodeAt(this.tokenStart)){case OR:case IR:case BR:case PR:return this.Combinator();case f0:return this.ClassSelector();case DR:case zR:return this.TypeSelector();case MR:return this.IdSelector();case NR:return this.NestingSelector()}break}}}var MR,NR,DR,OR,PR,f0,IR,zR,BR,p0,d0=N(()=>{Ne();MR=35,NR=38,DR=42,OR=43,PR=47,f0=46,IR=62,zR=124,BR=126;p0={onWhiteSpace:FR,getNode:RR}});function h0(){return this.createSingleNodeList(this.Raw(null,!1))}var m0=N(()=>{});function g0(){let t=this.createList();if(this.skipSC(),t.push(this.Identifier()),this.skipSC(),this.tokenType===18){t.push(this.Operator());let e=this.tokenIndex,n=this.parseCustomProperty?this.Value(null):this.Raw(this.consumeUntilExclamationMarkOrSemicolon,!1);if(n.type==="Value"&&n.children.isEmpty){for(let i=e-this.tokenIndex;i<=0;i++)if(this.lookupType(i)===13){n.children.appendData({type:"WhiteSpace",loc:null,value:" "});break}}t.push(n)}return t}var y0=N(()=>{Ne()});function v0(t){return t!==null&&t.type==="Operator"&&(t.value[t.value.length-1]==="-"||t.value[t.value.length-1]==="+")}var b0,w0=N(()=>{Dm();m0();y0();b0={getNode:wa,onWhiteSpace(t,e){v0(t)&&(t.value=" "+t.value),v0(e.last)&&(e.last.value+=" ")},expression:h0,var:g0}});var Om={};te(Om,{AtrulePrelude:()=>c0,Selector:()=>p0,Value:()=>b0});var x0=N(()=>{u0();d0();w0()});var jR,k0,C0=N(()=>{Ne();jR=new Set(["none","and","not","or"]),k0={parse:{prelude(){let t=this.createList();if(this.tokenType===1){let e=this.substring(this.tokenStart,this.tokenEnd);jR.has(e.toLowerCase())||t.push(this.Identifier())}return t.push(this.Condition("container")),t},block(t=!1){return this.Block(t)}}}});var S0,A0=N(()=>{S0={parse:{prelude:null,block(){return this.Block(!0)}}}});function Pm(t,e){return this.parseWithFallback(()=>{try{return t.call(this)}finally{this.skipSC(),this.lookupNonWSType(0)!==22&&this.error()}},e||(()=>this.Raw(null,!0)))}var T0,E0,L0=N(()=>{Ne();T0={layer(){this.skipSC();let t=this.createList(),e=Pm.call(this,this.Layer);return(e.type!=="Raw"||e.value!=="")&&t.push(e),t},supports(){this.skipSC();let t=this.createList(),e=Pm.call(this,this.Declaration,()=>Pm.call(this,()=>this.Condition("supports")));return(e.type!=="Raw"||e.value!=="")&&t.push(e),t}},E0={parse:{prelude(){let t=this.createList();switch(this.tokenType){case 5:t.push(this.String());break;case 7:case 2:t.push(this.Url());break;default:this.error("String or url() is expected")}return this.skipSC(),this.tokenType===1&&this.cmpStr(this.tokenStart,this.tokenEnd,"layer")?t.push(this.Identifier()):this.tokenType===2&&this.cmpStr(this.tokenStart,this.tokenEnd,"layer(")&&t.push(this.Function(null,T0)),this.skipSC(),this.tokenType===2&&this.cmpStr(this.tokenStart,this.tokenEnd,"supports(")&&t.push(this.Function(null,T0)),(this.lookupNonWSType(0)===1||this.lookupNonWSType(0)===21)&&t.push(this.MediaQueryList()),t},block:null}}});var M0,N0=N(()=>{M0={parse:{prelude(){return this.createSingleNodeList(this.LayerList())},block(){return this.Block(!1)}}}});var D0,O0=N(()=>{D0={parse:{prelude(){return this.createSingleNodeList(this.MediaQueryList())},block(t=!1){return this.Block(t)}}}});var P0,I0=N(()=>{P0={parse:{prelude(){return this.createSingleNodeList(this.SelectorList())},block(){return this.Block(!0)}}}});var z0,B0=N(()=>{z0={parse:{prelude(){return this.createSingleNodeList(this.SelectorList())},block(){return this.Block(!0)}}}});var F0,R0=N(()=>{F0={parse:{prelude(){return this.createSingleNodeList(this.Scope())},block(t=!1){return this.Block(t)}}}});var j0,_0=N(()=>{j0={parse:{prelude:null,block(t=!1){return this.Block(t)}}}});var H0,q0=N(()=>{H0={parse:{prelude(){return this.createSingleNodeList(this.Condition("supports"))},block(t=!1){return this.Block(t)}}}});var W0,U0=N(()=>{C0();A0();L0();N0();O0();I0();B0();R0();_0();q0();W0={container:k0,"font-face":S0,import:E0,layer:M0,media:D0,nest:P0,page:z0,scope:F0,"starting-style":j0,supports:H0}});function $0(){let t=this.createList();this.skipSC();e:for(;!this.eof;){switch(this.tokenType){case 1:t.push(this.Identifier());break;case 5:t.push(this.String());break;case 18:t.push(this.Operator());break;case 22:break e;default:this.error("Identifier, string or comma is expected")}this.skipSC()}return t}var G0=N(()=>{Ne()});var Gi,Im,_R,HR,Nc,V0,Y0=N(()=>{G0();Gi={parse(){return this.createSingleNodeList(this.SelectorList())}},Im={parse(){return this.createSingleNodeList(this.Selector())}},_R={parse(){return this.createSingleNodeList(this.Identifier())}},HR={parse:$0},Nc={parse(){return this.createSingleNodeList(this.Nth())}},V0={dir:_R,has:Gi,lang:HR,matches:Gi,is:Gi,"-moz-any":Gi,"-webkit-any":Gi,where:Gi,not:Gi,"nth-child":Nc,"nth-last-child":Nc,"nth-last-of-type":Nc,"nth-of-type":Nc,slotted:Im,host:Im,"host-context":Im}});var zm={};te(zm,{AnPlusB:()=>Ip,Atrule:()=>Fp,AtrulePrelude:()=>_p,AttributeSelector:()=>Up,Block:()=>Vp,Brackets:()=>Qp,CDC:()=>Zp,CDO:()=>nd,ClassSelector:()=>od,Combinator:()=>ld,Comment:()=>fd,Condition:()=>hd,Declaration:()=>yd,DeclarationList:()=>xd,Dimension:()=>Sd,Feature:()=>Ed,FeatureFunction:()=>Nd,FeatureRange:()=>Id,Function:()=>Fd,GeneralEnclosed:()=>_d,Hash:()=>Wd,IdSelector:()=>Kd,Identifier:()=>Gd,Layer:()=>Jd,LayerList:()=>th,MediaQuery:()=>ih,MediaQueryList:()=>ah,NestingSelector:()=>uh,Nth:()=>dh,Number:()=>gh,Operator:()=>bh,Parentheses:()=>kh,Percentage:()=>Ah,PseudoClassSelector:()=>Lh,PseudoElementSelector:()=>Dh,Ratio:()=>Ih,Raw:()=>Fh,Rule:()=>_h,Scope:()=>Wh,Selector:()=>Gh,SelectorList:()=>Kh,String:()=>em,StyleSheet:()=>rm,SupportsDeclaration:()=>sm,TypeSelector:()=>um,UnicodeRange:()=>hm,Url:()=>xm,Value:()=>Sm,WhiteSpace:()=>Em});var K0=N(()=>{Bp();jp();qp();Gp();Kp();Jp();td();id();ad();ud();dd();gd();bd();Cd();Td();Md();Od();Bd();jd();qd();$d();Yd();Xd();eh();rh();sh();ch();ph();mh();vh();xh();Sh();Eh();Nh();Ph();Bh();jh();qh();$h();Yh();Xh();nm();om();lm();pm();gm();Cm();Tm();Mm()});var Q0,X0=N(()=>{x0();U0();Y0();K0();Q0={parseContext:{default:"StyleSheet",stylesheet:"StyleSheet",atrule:"Atrule",atrulePrelude(t){return this.AtrulePrelude(t.atrule?String(t.atrule):null)},mediaQueryList:"MediaQueryList",mediaQuery:"MediaQuery",condition(t){return this.Condition(t.kind)},rule:"Rule",selectorList:"SelectorList",selector:"Selector",block(){return this.Block(!0)},declarationList:"DeclarationList",declaration:"Declaration",value:"Value"},features:{supports:{selector(){return this.Selector()}},container:{style(){return this.Declaration()}}},scope:Om,atrule:W0,pseudo:V0,node:zm}});var J0,Z0=N(()=>{Nm();J0={node:ba}});var eC,tC=N(()=>{Op();a0();X0();Z0();eC=kc({...s0,...Q0,...J0})});var qR,nC=N(()=>{qR="3.0.0"});function Dc(t){let e={};for(let n of Object.keys(t)){let i=t[n];i&&(Array.isArray(i)||i instanceof gn?i=i.map(Dc):i.constructor===Object&&(i=Dc(i))),e[n]=i}return e}var rC=N(()=>{ji()});var Bm={};te(Bm,{decode:()=>WR,encode:()=>UR});function WR(t){let e=t.length-1,n="";for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s===iC){if(i===e)break;if(s=t.charCodeAt(++i),xn(iC,s)){let a=i-1,f=vr(t,a);i=f-1,n+=Ro(t.substring(a+1,f))}else s===13&&t.charCodeAt(i+1)===10&&i++}else n+=t[i]}return n}function UR(t){let e="";if(t.length===1&&t.charCodeAt(0)===45)return"\\-";for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i===0){e+="\uFFFD";continue}if(i<=31||i===127||i>=48&&i<=57&&(n===0||n===1&&t.charCodeAt(0)===45)){e+="\\"+i.toString(16)+" ";continue}zo(i)?e+=t.charAt(n):e+="\\"+t.charAt(n)}return e}var iC,oC=N(()=>{Ne();iC=92});var Xo={};te(Xo,{Lexer:()=>Ui,List:()=>gn,TokenStream:()=>_o,clone:()=>Dc,createLexer:()=>YR,createSyntax:()=>kc,definitionSyntax:()=>vi,find:()=>QR,findAll:()=>JR,findLast:()=>XR,fork:()=>tj,fromPlainObject:()=>ej,generate:()=>VR,ident:()=>Bm,isCustomProperty:()=>aa,keyword:()=>Wi,lexer:()=>qn,parse:()=>GR,property:()=>ac,string:()=>Tc,toPlainObject:()=>ZR,tokenNames:()=>Ri,tokenTypes:()=>Po,tokenize:()=>$R,url:()=>Mc,vendorPrefix:()=>vI,version:()=>qR,walk:()=>KR});var $R,GR,VR,qn,YR,KR,QR,XR,JR,ZR,ej,tj,Oc=N(()=>{tC();nC();Op();ji();Np();Ne();vp();rC();lc();oC();Ec();wm();({tokenize:$R,parse:GR,generate:VR,lexer:qn,createLexer:YR,walk:KR,find:QR,findLast:XR,findAll:JR,toPlainObject:ZR,fromPlainObject:ej,fork:tj}=eC)});var uC=Nt((a$,cC)=>{Oc();var{definitionSyntax:Jo}=Xo,sC=new WeakMap;function aC(t){let{type:e,name:n,parent:i}=t||{};switch(e){case"Property":return"<'"+n+"'>";case"Type":return"<"+n+">";case"Function":return n+"()";case"Atrule":return"@"+n;case"AtrulePrelude":return"@"+n+":prelude";case"AtruleDescriptor":return"@"+i+"/"+n;default:return n}}function Fm(t,e,n){function i(h,g){return{type:"Group",terms:h,combinator:g,explicit:!1,disallowEmpty:!1}}function s(h,g){let v=g[g.length-1],w=v.terms.indexOf(h);for(var k=w;k<v.terms.length;k++)if(v.terms[k].type==="Token"&&v.terms[k].value===")"){k++;break}return i(v.terms.slice(w,k)," ")}function a(h){if(h&&h.syntax!==null){let g=[];Jo.walk(h.syntax,{enter(v){if((v.type==="Token"&&v.value==="("||v.type==="Type"&&v.name==="function-token")&&m.push(null),v.type==="Type"||v.type==="Property"||v.type==="Function"){let w=v.type+":"+v.name;if(v.type==="Function"){m.push(p),p=v;let k=n.functions[p.name];k||(k=n.createDescriptor(i([],"|"),v.type,v.name),sC.set(k,new Set),n.functions[p.name]=k);let S=sC.get(k);if(!S.has(v)){let P=s(v,g),M=Jo.generate(P);S.has(M)||k.syntax.terms.push(P),S.add(v),S.add(M)}}if(g.push(v),!(w in f))switch(f[w]=!0,v.type){case"Type":a(n.getType(v.name),!1);break;case"Property":a(n.getProperty(v.name),!1);break}}else g.push(v)},leave(v){g.pop(),v.type==="Token"&&v.value===")"&&(p=m.pop()||p)}})}}let f,p,m=[];for(let h in e){if(f=Object.create(null),f[t+":"+h]=!0,p=e[h],m.push(p),t==="Atrule"){a(p.prelude);for(let g in p.discriptors)a(p.descriptors[g])}else a(p);m.pop()}}function lC(t,e,n){let i=0,s=[];return typeof t=="string"&&(t=Jo.parse(t)),t&&Jo.walk(t,{enter:a=>{if(a.type in e){let f=e[a.type];n&&!(a.name in f)&&n.push(f[a.name]={type:a.type,name:a.name,syntax:null,match:null,refs:[]}),s.push({node:a,insideFunction:i>0,resolved:f[a.name]||null})}a.type==="Function"&&i++},leave:a=>{a.type==="Function"&&i--}}),s}cC.exports=function(t,{defineObjectMarker:e,addQueryHelpers:n,query:i}){let{properties:s,types:a,atrules:f}=qn,p=Object.create(null),m=["Atrule","AtrulePrelude","AtruleDescriptor","Property","Type","Function"],h={Atrule:f,AtrulePrelude:Object.fromEntries(Object.entries(f).map(([v,{prelude:w}])=>w&&[v,w]).filter(Boolean)),AtruleDescriptor:Object.fromEntries(Object.entries(f).reduce((v,[w,{descriptors:k}])=>k?v.concat(Object.entries(k).map(([S,P])=>[P.id=w+"/"+S,P])):v,[])),Property:s,Type:a,Function:p},g=Object.fromEntries(Object.keys(h).map(v=>[v,e(v,{refs:[w=>`${w.type}:${w.id||w.name}`],lookupRefs:[w=>`${w.type}:${w.id||w.name}`],ref:w=>w.id||w.name,title:w=>aC(w),page:v})]));qn.validate(),qn.functions=p,Fm("Atrule",f,qn),Fm("Property",s,qn),Fm("Type",a,qn),t.dict=[].concat(...Object.values(h).map(v=>Object.values(v)));for(let v of t.dict)v.refs=lC(v.syntax,h,t.dict),g[v.type](v);n({formatName:aC,typeSorting(v){let w=m.indexOf(v);return w!==-1?w:1/0},isProblem:v=>i('(no match and type != "Atrule") or refs.resolved.[no match]',v),mdn(v){if(v)switch(v.type){case"Atrule":case"AtrulePrelude":return t.mdn.atRules["@"+v.name]||null;case"AtruleDescriptor":{let w=t.mdn.atRules["@"+v.parent];return w&&w.descriptors&&w.descriptors[v.name]||null}case"Property":case"Type":return t.mdn[v.type==="Property"?"properties":"syntaxes"][v.name]||null}return null},name(v){let w=typeof v=="string"?v:v&&v.name||!1;return w?Wi(w):null},patch(v){return v&&(v.type==="Property"||v.type==="Type")&&t.patch[v.type==="Property"?"properties":"types"][v.name]||null},syntaxAst(v){let w=v?v.syntax||v:null;return typeof w=="string"?Jo.parse(w):w||null},syntax(v){return v?v.syntax?Jo.generate(v.syntax):(v.match,"(generic)"):"(unknown)"},refs(v){return v?v.refs||lC(v.syntax||v,h):[]},syntaxChildren(v){let w=[];return v&&(v.term&&w.push(v.term),v.terms&&w.push(...v.terms)),w},lexerMatch(v,w){let{type:k,name:S}=v||{},P=k==="Function"?S+"("+w+")":w,M=!/\S/.test(P),A,T=null;try{M||(A=qn.match(v,P))}catch(L){T=L.message+(L.sourceFragment?`
`+L.sourceFragment():"")}return A&&(T=A.error),{match:!T&&A&&A.matched||null,iterations:A&&A.iterations||null,error:T}}})};/^csstree.github.io$/i.test(location.host)&&(function(t,e,n,i,s,a,f){t.GoogleAnalyticsObject=s,t[s]=t[s]||function(){(t[s].q=t[s].q||[]).push(arguments)},t[s].l=1*new Date,a=e.createElement(n),f=e.getElementsByTagName(n)[0],a.async=1,a.src=i,f.parentNode.insertBefore(a,f)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-84136412-1","auto"),ga("send","pageview"));window.csstree=Xo});var hC={};te(hC,{default:()=>nj});function nj(t){t.view.define("sidebar",{view:"content-filter",content:{view:"list",data:`
            dict.[
                type not in ["AtrulePrelude", "AtruleDescriptor"]
                and (name~=#.filter or descriptors.values().name~=#.filter)
            ]
            .group(=>type)
            .(
                // prepare items
                $items: value.({
                    type,
                    name,
                    parent,
                    nested: type = "Atrule" ? descriptors.values() : null,
                    syntax,
                    missed: no match and type != 'Atrule',
                    brokenRefs: (type != "Atrule" ? $ : (descriptors.values() or []) + (prelude or []))
                        .refs.resolved.[no match]
                }).sort(=>name);

                // section info
                {
                    type: key,
                    $items,
                    badSyntaxes: $items.[missed or brokenRefs]
                }
            )
            .sort(=>type.typeSorting())
        `,emptyText:"No matches",item:{view:"toc-section",header:["text:type",'pill-badge:{ text: items.size(), href: pageLink("discovery", "dict.[type=\\"" + type + "\\"]") }',{view:"pill-badge",when:"badSyntaxes",className:"danger-badge",data:`{
                        text: badSyntaxes.size()
                    }`}],content:{view:"list",data:"items",itemConfig:{className:e=>e.missed?"missed":""},item:[{view:"auto-link",content:"text-match:{ text, match: #.filter }"},{when:'type="Function" and syntax.terms.size() > 1',view:"html",data:'"<span class=variants> \xD7 " + syntax.terms.size() + "</span>"'},{view:"badge",className:"patched-badge",when:"patch() and mdn()",data:'{ text: "patched" }'},{view:"badge",className:"patched-badge",when:'type != "Function" and no mdn() and no missed',data:'{ text: "added" }'},{view:"pill-badge",className:"danger-badge",when:"brokenRefs",data:"{ text: brokenRefs.size() }"},{view:"list",className:"nested",when:"#.filter",data:"nested.[name~=#.filter]",whenData:!0,item:'auto-link{ content: "text-match:{ text: entity.name, match: #.filter }" }'}]}}}},{tag:!1})}var mC=N(()=>{});var gC={};te(gC,{default:()=>rj});function rj(t){let e=new WeakMap;new t.view.Popup({className:"chart-tooltip",hoverTriggers:".view-bar-chart .bar",position:"pointer",render(n,i){let{data:s,context:a}=e.get(i);t.view.render(n,[{view:"block",content:"text:labelText"},{view:"block",content:"text-numeric:value = undefined ? '\u2013' : value"}],s,a)}}),t.view.define("bar-chart",(n,i,s,a)=>{function f(T,L){let O=S.appendChild(document.createElement("div")),z=P.appendChild(document.createElement("div")),B=P.children.length-1,H=h(T,B);O.className=L===void 0?"bar empty":"bar",O.style.setProperty("--size",(L||0)/w),z.className="x-label",z.textContent=H,z.style.setProperty("--num",B),e.set(O,{context:a,data:{value:L,labelNum:B,labelRaw:T,labelText:H}})}let{vertical:p}=i,{nextX:m,labelX:h}=i,g=s.slice().sort((T,L)=>T.x<L.x?-1:1),v=g.reduce((T,{y:L})=>Math.max(T,L),0),w=v,k=g.reduce((T,{y:L})=>Math.min(T,L),1/0);typeof m!="function"&&(m=(T,L)=>L),typeof h!="function"&&(h=T=>T);let S=n.appendChild(document.createElement("div")),P=n.appendChild(document.createElement("div")),M=n.appendChild(document.createElement("div"));if(S.className="canvas",P.className="x-labels",M.className="y-labels",v-k>5){let T=v-k<20?1.8:1.15,L=v-k<100?5:10;for(;;){let O=L-w%L;if((w+O)/v>T)break;w+=O,L*=10}}else w=5;for(let T=0,L=w%5?5:6,O=w/(L-1);T<L;T++){let z=M.appendChild(document.createElement("div"));z.textContent=O*T,z.className="y-label"}let A=g[0].x;for(let{x:T,y:L}of g){for(;A!==T;)A=m(A,T),A!==T&&f(A);f(T,L),A=T}n.style.setProperty("--y-label-count",M.children.length),n.style.setProperty("--x-label-count",P.children.length),n.classList.toggle("vertical",!!p),n.append(M,S,P)})}var yC=N(()=>{});var vC={};te(vC,{default:()=>ij});function ij(t){t.page.define("default",[{view:"page-header",content:["h1:#.model.name",{view:"block",className:"versions",content:['badge:{ prefix: "css-tree", text: csstree.version }','badge:{ prefix: "mdn-data", text: mdn.version }']}]},{view:"context",data:[{title:"Atrules",query:'dict.[type="Atrule"]'},{title:"Properties",query:'dict.[type="Property"]'},{title:"Types",query:'dict.[type="Type"]'},{title:"Functions",query:'dict.[type="Function"]'},{title:"Problems",query:"dict.[isProblem()]",href:"#problems"}],content:{view:"inline-list",item:"indicator",data:`.({
                label: title,
                value: query.query(#.data, #).size(),
                href: href or pageLink('discovery', { query, title })
            })`}},{view:"section",header:'text:"Reports"',content:{view:"ul",item:'link:{ text: title, href: pageLink("discovery", { ..., noedit: true }) }'},data:[{title:"Syntax stat",query:`[
    { header: 'Types', data: dict.group(=>type).({ type: key, count: value.size() }) },
    { header: 'Origin', data: dict.({ type, name, mdn: mdn().syntax, csstree: syntax(), patch: patch() })
        .[type!="Function"]
        .group(=>
            csstree="(generic)" ? "Generic" :
            no mdn ? 'Added (missed in MDN data)' :
            patch ? 'Patched MDN data'
                : 'As is from MDN data'
        )
        .({ type: key, count: value.size() })
    }
]`,view:`{
    view: 'list',
    item: [
        'h2:header',
        'bar-chart{ vertical: true, data: data.({ x: type, y: count }) }'
    ]
}`},{title:"CSSTree difference over mdn-data",query:`$csstree: dict
    .({ type, name, mdn: mdn().syntax, csstree: syntax(), patch: patch() })
    .[patch and csstree!="(generic)" and type!="Function"];
$mdnRemoved: patch
    .(
        properties.entries().({ type: 'Property', name: key, csstree: null, patch: value }).sort(name asc) + 
        syntaxes.entries().({ type: 'Type', name: key, csstree: null, patch: value }).sort(name asc)
    )
    .[no patch.syntax]
    .({ ..., mdn: mdn().syntax });
($csstree + $mdnRemoved)
.group(=>
    no csstree and no mdn ? 'Redundant remove' :
    no csstree ? 'Removed' :
    no mdn ? 'Added / mdn-data missed' :
    mdn=csstree ? 'Redundant patch' :
       'Patched'
)`,view:`{
    view: 'list',
    item: {
        view: 'expand',
        header: 'h3:key + " (" + value.size() + ")"',
        content: {
            view: 'table',
            data: 'value',
            cols: [
                {
                    header: 'Name',
                    content: {
                        view: 'nowrap',
                        content: {
                            view: 'auto-link',
                            fallback: 'text:formatName()'
                        }
                    }
                },
                {
                    header: 'Syntax',
                    content: {
                        view: 'switch',
                        content: [
                            {
                                when: 'csstree and mdn',
                                content: [
                                    'html:"<div style=color:#aaa;margin-bottom:5px>" + (patch.comment ?? "")',
                                    'diff-syntax:{ before: mdn, after: csstree }'
                                ]
                            },
                            {
                                when: 'mdn and csstree',
                                content: {
                                    view: 'diff',
                                    data: '{before:mdn, after:csstree}',
                                    type: 'char'
                                }
                            },
                            {
                                content: [
                                    'syntax:{..., syntax: csstree or mdn}',
                                    { view: 'html', when: 'patch.comment', data: '"<div style=color:#888b;margin-top:5px>Note: " + patch.comment' }
                                ]
                            }
                        ]
                    }
                }
            ]
        }
    }
}`},{title:"mdn-data syntax code style problems",query:`$shape: => .({
    type: $$,
    name: key,
    syntax: value.syntax,
    normSyntax: { syntax: value.syntaxAst() }.syntax()
});

mdn.properties.entries().$shape('Property') + mdn.syntaxes.entries().$shape('Type')
| .[syntax != normSyntax]`,view:`{
    view: 'table',
    cols: [
        {
            header: 'Name',
            content: {
                view: 'nowrap',
                content: {
                    view: 'auto-link',
                    fallback: 'text:formatName()'
                }
            }
        },
        {
            header: 'syntax',
            content: \`diff-syntax:{
                before: syntax,
                beforeName: 'Defined\xA0in\xA0mdn/data',
                after: normSyntax,
                afterName: 'Should be'
            }\`
        }
    ]
}`},{title:"Syntaxes used a string in definition",query:'dict.[syntax..(syntaxChildren()).[type="String"]]',view:`{
    view: 'table',
    cols: {
        type: false,
        name: {
            view: 'nowrap',
            content: 'auto-link'
        },
        syntax: 'syntax:{..., matchType: \\'String\\'}',
        match: false,
        refs: false
    }
}`}]}])}var bC=N(()=>{});var wC={};te(wC,{default:()=>oj});function oj(t){t.page.define("problems",[{view:"page-header",content:'h1:"Problems"'},{view:"ol",emptyText:"No problems",data:`
            dict
                .[isProblem()]
                .sort(match desc, type.typeSorting() asc, name asc)
        `,itemConfig:{className:e=>e.match?"":"missed"},item:['auto-link{ fallback: "text:formatName()" }','text:" = "',{view:"switch",content:[{when:"syntax",content:"syntax"},{content:'html:"<span class=error>syntax is missed</span>"'}]}]}])}var xC=N(()=>{});var kC={};te(kC,{default:()=>sj});function sj(t){let e={view:"context",data:"dict[=>type=#.page and (id=#.id or name=#.id)]",content:[{view:"page-header",prelude:'badge:{ text: type, color: "#ffdc7959" }',content:"h1:formatName()"},{view:"alert-danger",when:'no match and type != "Atrule"',content:'text:"Syntax definition is missed"'},"syntax-test",{view:"block",className:["view-section","syntax-section"],when:"syntax",data:`{
                ...,
                matchType: #.params.hltype,
                matchName: #.params.hlname
            }`,content:[{view:"switch",content:[{when:"patch() and mdn()",content:{view:"tabs",name:"syntaxView",beforeTabs:'header:"Formal syntax"',tabs:[{value:"csstree",content:'text:"CSSTree"'},{value:"mdn",content:'text:"MDN"'},{value:"diff"}],afterTabs:{view:"badge",when:"patch() and mdn()",data:'{ prefix: "Patched", color: "#f1eccb", darkColor: "#5c5737", text: patch().comment or "no notes" }'},content:{view:"switch",content:[{when:'#.syntaxView="csstree"',content:["syntax","syntax-tree"]},{when:'#.syntaxView="mdn"',data:"mdn()",content:["syntax","syntax-tree"]},{content:{view:"block",className:"definition-syntax-diff",content:"diff-syntax:{ before: mdn().syntax, after: syntax() }"}}]}}},{content:[{view:"header",content:['text:"Formal syntax"',{view:"badge",when:'type!="Function" and no mdn() and match',data:'{ text: "Missed in mdn-data", color: "rgba(255, 52, 1, 0.335)" }'}]},"syntax","syntax-tree"]}]}]},{view:"context",when:'type = "Atrule"',content:[{view:"block",className:["view-section","syntax-section"],data:"prelude",whenData:!0,content:['h3:"Prelude"',"syntax",'auto-link{ content: "text:`See detail and test a value`"  }']},{view:"context",when:"descriptors",content:['h3:"Descriptors"',{view:"table",className:"descriptor-table",limit:!1,data:"descriptors.values()",cols:[{header:"Name",content:['auto-link{ content: "text:entity.name" }']},{header:"Syntax",content:"syntax"}]}]}]},{view:"match-graph",when:"match",data:"match"},{view:"section",when:"not type ~= /^Atrule/",header:'text:"Used by"',content:"used-by"}]};t.page.define("Atrule",e),t.page.define("AtruleDescriptor",e),t.page.define("AtrulePrelude",e),t.page.define("Property",e),t.page.define("Type",e),t.page.define("Function",e)}var CC=N(()=>{});var SC={};te(SC,{default:()=>aj});function aj(t){t.view.define("diff-syntax",{view:"key-value",className:"syntax-diff",data:`[
        { key: beforeName or 'MDN', view: 'diff', value: before, before, after, delta: "removed" },
        { key: afterName or 'CSSTree', view: 'diff', value: after, before, after, delta: "added" }
        //{ key: 'Diff', view: 'diff', before, after }
    ]`,value:'render:view or "pre:value"'})}var AC=N(()=>{});var EC=Nt((Pc,TC)=>{(function(t,e){typeof Pc=="object"&&typeof TC<"u"?e(Pc):typeof define=="function"&&define.amd?define(["exports"],e):(t=t||self,e(t.Diff={}))})(Pc,function(t){"use strict";function e(){}e.prototype={diff:function(_,Y){var X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},le=X.callback;typeof X=="function"&&(le=X,X={}),this.options=X;var ae=this;function ge(Fe){return le?(setTimeout(function(){le(void 0,Fe)},0),!0):Fe}_=this.castInput(_),Y=this.castInput(Y),_=this.removeEmpty(this.tokenize(_)),Y=this.removeEmpty(this.tokenize(Y));var xe=Y.length,Le=_.length,Te=1,Ke=xe+Le,ce=[{newPos:-1,components:[]}],Ve=this.extractCommon(ce[0],Y,_,0);if(ce[0].newPos+1>=xe&&Ve+1>=Le)return ge([{value:this.join(Y),count:Y.length}]);function Ze(){for(var Fe=-1*Te;Fe<=Te;Fe+=2){var Qt=void 0,dt=ce[Fe-1],at=ce[Fe+1],lt=(at?at.newPos:0)-Fe;dt&&(ce[Fe-1]=void 0);var Tt=dt&&dt.newPos+1<xe,En=at&&0<=lt&&lt<Le;if(!Tt&&!En){ce[Fe]=void 0;continue}if(!Tt||En&&dt.newPos<at.newPos?(Qt=i(at),ae.pushComponent(Qt.components,void 0,!0)):(Qt=dt,Qt.newPos++,ae.pushComponent(Qt.components,!0,void 0)),lt=ae.extractCommon(Qt,Y,_,Fe),Qt.newPos+1>=xe&&lt+1>=Le)return ge(n(ae,Qt.components,Y,_,ae.useLongestToken));ce[Fe]=Qt}Te++}if(le)(function Fe(){setTimeout(function(){if(Te>Ke)return le();Ze()||Fe()},0)})();else for(;Te<=Ke;){var Ye=Ze();if(Ye)return Ye}},pushComponent:function(_,Y,X){var le=_[_.length-1];le&&le.added===Y&&le.removed===X?_[_.length-1]={count:le.count+1,added:Y,removed:X}:_.push({count:1,added:Y,removed:X})},extractCommon:function(_,Y,X,le){for(var ae=Y.length,ge=X.length,xe=_.newPos,Le=xe-le,Te=0;xe+1<ae&&Le+1<ge&&this.equals(Y[xe+1],X[Le+1]);)xe++,Le++,Te++;return Te&&_.components.push({count:Te}),_.newPos=xe,Le},equals:function(_,Y){return this.options.comparator?this.options.comparator(_,Y):_===Y||this.options.ignoreCase&&_.toLowerCase()===Y.toLowerCase()},removeEmpty:function(_){for(var Y=[],X=0;X<_.length;X++)_[X]&&Y.push(_[X]);return Y},castInput:function(_){return _},tokenize:function(_){return _.split("")},join:function(_){return _.join("")}};function n(j,_,Y,X,le){for(var ae=0,ge=_.length,xe=0,Le=0;ae<ge;ae++){var Te=_[ae];if(Te.removed){if(Te.value=j.join(X.slice(Le,Le+Te.count)),Le+=Te.count,ae&&_[ae-1].added){var ce=_[ae-1];_[ae-1]=_[ae],_[ae]=ce}}else{if(!Te.added&&le){var Ke=Y.slice(xe,xe+Te.count);Ke=Ke.map(function(Ze,Ye){var Fe=X[Le+Ye];return Fe.length>Ze.length?Fe:Ze}),Te.value=j.join(Ke)}else Te.value=j.join(Y.slice(xe,xe+Te.count));xe+=Te.count,Te.added||(Le+=Te.count)}}var Ve=_[ge-1];return ge>1&&typeof Ve.value=="string"&&(Ve.added||Ve.removed)&&j.equals("",Ve.value)&&(_[ge-2].value+=Ve.value,_.pop()),_}function i(j){return{newPos:j.newPos,components:j.components.slice(0)}}var s=new e;function a(j,_,Y){return s.diff(j,_,Y)}function f(j,_){if(typeof j=="function")_.callback=j;else if(j)for(var Y in j)j.hasOwnProperty(Y)&&(_[Y]=j[Y]);return _}var p=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,m=/\S/,h=new e;h.equals=function(j,_){return this.options.ignoreCase&&(j=j.toLowerCase(),_=_.toLowerCase()),j===_||this.options.ignoreWhitespace&&!m.test(j)&&!m.test(_)},h.tokenize=function(j){for(var _=j.split(/(\s+|[()[\]{}'"]|\b)/),Y=0;Y<_.length-1;Y++)!_[Y+1]&&_[Y+2]&&p.test(_[Y])&&p.test(_[Y+2])&&(_[Y]+=_[Y+2],_.splice(Y+1,2),Y--);return _};function g(j,_,Y){return Y=f(Y,{ignoreWhitespace:!0}),h.diff(j,_,Y)}function v(j,_,Y){return h.diff(j,_,Y)}var w=new e;w.tokenize=function(j){var _=[],Y=j.split(/(\n|\r\n)/);Y[Y.length-1]||Y.pop();for(var X=0;X<Y.length;X++){var le=Y[X];X%2&&!this.options.newlineIsToken?_[_.length-1]+=le:(this.options.ignoreWhitespace&&(le=le.trim()),_.push(le))}return _};function k(j,_,Y){return w.diff(j,_,Y)}function S(j,_,Y){var X=f(Y,{ignoreWhitespace:!0});return w.diff(j,_,X)}var P=new e;P.tokenize=function(j){return j.split(/(\S.+?[.!?])(?=\s+|$)/)};function M(j,_,Y){return P.diff(j,_,Y)}var A=new e;A.tokenize=function(j){return j.split(/([{}:;,]|\s+)/)};function T(j,_,Y){return A.diff(j,_,Y)}function L(j){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?L=function(_){return typeof _}:L=function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},L(j)}function O(j){return z(j)||B(j)||H()}function z(j){if(Array.isArray(j)){for(var _=0,Y=new Array(j.length);_<j.length;_++)Y[_]=j[_];return Y}}function B(j){if(Symbol.iterator in Object(j)||Object.prototype.toString.call(j)==="[object Arguments]")return Array.from(j)}function H(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var W=Object.prototype.toString,U=new e;U.useLongestToken=!0,U.tokenize=w.tokenize,U.castInput=function(j){var _=this.options,Y=_.undefinedReplacement,X=_.stringifyReplacer,le=X===void 0?function(ae,ge){return typeof ge>"u"?Y:ge}:X;return typeof j=="string"?j:JSON.stringify(G(j,null,null,le),le,"  ")},U.equals=function(j,_){return e.prototype.equals.call(U,j.replace(/,([\r\n])/g,"$1"),_.replace(/,([\r\n])/g,"$1"))};function fe(j,_,Y){return U.diff(j,_,Y)}function G(j,_,Y,X,le){_=_||[],Y=Y||[],X&&(j=X(le,j));var ae;for(ae=0;ae<_.length;ae+=1)if(_[ae]===j)return Y[ae];var ge;if(W.call(j)==="[object Array]"){for(_.push(j),ge=new Array(j.length),Y.push(ge),ae=0;ae<j.length;ae+=1)ge[ae]=G(j[ae],_,Y,X,le);return _.pop(),Y.pop(),ge}if(j&&j.toJSON&&(j=j.toJSON()),L(j)==="object"&&j!==null){_.push(j),ge={},Y.push(ge);var xe=[],Le;for(Le in j)j.hasOwnProperty(Le)&&xe.push(Le);for(xe.sort(),ae=0;ae<xe.length;ae+=1)Le=xe[ae],ge[Le]=G(j[Le],_,Y,X,Le);_.pop(),Y.pop()}else ge=j;return ge}var ne=new e;ne.tokenize=function(j){return j.slice()},ne.join=ne.removeEmpty=function(j){return j};function D(j,_,Y){return ne.diff(j,_,Y)}function ie(j){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y=j.split(/\r\n|[\n\v\f\r\x85]/),X=j.match(/\r\n|[\n\v\f\r\x85]/g)||[],le=[],ae=0;function ge(){var Te={};for(le.push(Te);ae<Y.length;){var Ke=Y[ae];if(/^(\-\-\-|\+\+\+|@@)\s/.test(Ke))break;var ce=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(Ke);ce&&(Te.index=ce[1]),ae++}for(xe(Te),xe(Te),Te.hunks=[];ae<Y.length;){var Ve=Y[ae];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(Ve))break;if(/^@@/.test(Ve))Te.hunks.push(Le());else{if(Ve&&_.strict)throw new Error("Unknown line "+(ae+1)+" "+JSON.stringify(Ve));ae++}}}function xe(Te){var Ke=/^(---|\+\+\+)\s+(.*)$/.exec(Y[ae]);if(Ke){var ce=Ke[1]==="---"?"old":"new",Ve=Ke[2].split("	",2),Ze=Ve[0].replace(/\\\\/g,"\\");/^".*"$/.test(Ze)&&(Ze=Ze.substr(1,Ze.length-2)),Te[ce+"FileName"]=Ze,Te[ce+"Header"]=(Ve[1]||"").trim(),ae++}}function Le(){for(var Te=ae,Ke=Y[ae++],ce=Ke.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),Ve={oldStart:+ce[1],oldLines:+ce[2]||1,newStart:+ce[3],newLines:+ce[4]||1,lines:[],linedelimiters:[]},Ze=0,Ye=0;ae<Y.length&&!(Y[ae].indexOf("--- ")===0&&ae+2<Y.length&&Y[ae+1].indexOf("+++ ")===0&&Y[ae+2].indexOf("@@")===0);ae++){var Fe=Y[ae].length==0&&ae!=Y.length-1?" ":Y[ae][0];if(Fe==="+"||Fe==="-"||Fe===" "||Fe==="\\")Ve.lines.push(Y[ae]),Ve.linedelimiters.push(X[ae]||`
`),Fe==="+"?Ze++:Fe==="-"?Ye++:Fe===" "&&(Ze++,Ye++);else break}if(!Ze&&Ve.newLines===1&&(Ve.newLines=0),!Ye&&Ve.oldLines===1&&(Ve.oldLines=0),_.strict){if(Ze!==Ve.newLines)throw new Error("Added line count did not match for hunk at line "+(Te+1));if(Ye!==Ve.oldLines)throw new Error("Removed line count did not match for hunk at line "+(Te+1))}return Ve}for(;ae<Y.length;)ge();return le}function oe(j,_,Y){var X=!0,le=!1,ae=!1,ge=1;return function xe(){if(X&&!ae){if(le?ge++:X=!1,j+ge<=Y)return ge;ae=!0}if(!le)return ae||(X=!0),_<=j-ge?-ge++:(le=!0,xe())}}function Ee(j,_){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof _=="string"&&(_=ie(_)),Array.isArray(_)){if(_.length>1)throw new Error("applyPatch only works with a single input.");_=_[0]}var X=j.split(/\r\n|[\n\v\f\r\x85]/),le=j.match(/\r\n|[\n\v\f\r\x85]/g)||[],ae=_.hunks,ge=Y.compareLine||function(rr,vn,Mn,ir){return vn===ir},xe=0,Le=Y.fuzzFactor||0,Te=0,Ke=0,ce,Ve;function Ze(rr,vn){for(var Mn=0;Mn<rr.lines.length;Mn++){var ir=rr.lines[Mn],Nn=ir.length>0?ir[0]:" ",Lr=ir.length>0?ir.substr(1):ir;if(Nn===" "||Nn==="-"){if(!ge(vn+1,X[vn],Nn,Lr)&&(xe++,xe>Le))return!1;vn++}}return!0}for(var Ye=0;Ye<ae.length;Ye++){for(var Fe=ae[Ye],Qt=X.length-Fe.oldLines,dt=0,at=Ke+Fe.oldStart-1,lt=oe(at,Te,Qt);dt!==void 0;dt=lt())if(Ze(Fe,at+dt)){Fe.offset=Ke+=dt;break}if(dt===void 0)return!1;Te=Fe.offset+Fe.oldStart+Fe.oldLines}for(var Tt=0,En=0;En<ae.length;En++){var Ht=ae[En],Ct=Ht.oldStart+Ht.offset+Tt-1;Tt+=Ht.newLines-Ht.oldLines,Ct<0&&(Ct=0);for(var Ln=0;Ln<Ht.lines.length;Ln++){var Vn=Ht.lines[Ln],$t=Vn.length>0?Vn[0]:" ",ii=Vn.length>0?Vn.substr(1):Vn,Tr=Ht.linedelimiters[Ln];if($t===" ")Ct++;else if($t==="-")X.splice(Ct,1),le.splice(Ct,1);else if($t==="+")X.splice(Ct,0,ii),le.splice(Ct,0,Tr),Ct++;else if($t==="\\"){var Er=Ht.lines[Ln-1]?Ht.lines[Ln-1][0]:null;Er==="+"?ce=!0:Er==="-"&&(Ve=!0)}}}if(ce)for(;!X[X.length-1];)X.pop(),le.pop();else Ve&&(X.push(""),le.push(`
`));for(var Yn=0;Yn<X.length-1;Yn++)X[Yn]=X[Yn]+le[Yn];return X.join("")}function et(j,_){typeof j=="string"&&(j=ie(j));var Y=0;function X(){var le=j[Y++];if(!le)return _.complete();_.loadFile(le,function(ae,ge){if(ae)return _.complete(ae);var xe=Ee(ge,le,_);_.patched(le,xe,function(Le){if(Le)return _.complete(Le);X()})})}X()}function st(j,_,Y,X,le,ae,ge){ge||(ge={}),typeof ge.context>"u"&&(ge.context=4);var xe=k(Y,X,ge);xe.push({value:"",lines:[]});function Le(dt){return dt.map(function(at){return" "+at})}for(var Te=[],Ke=0,ce=0,Ve=[],Ze=1,Ye=1,Fe=function(at){var lt=xe[at],Tt=lt.lines||lt.value.replace(/\n$/,"").split(`
`);if(lt.lines=Tt,lt.added||lt.removed){var En;if(!Ke){var Ht=xe[at-1];Ke=Ze,ce=Ye,Ht&&(Ve=ge.context>0?Le(Ht.lines.slice(-ge.context)):[],Ke-=Ve.length,ce-=Ve.length)}(En=Ve).push.apply(En,O(Tt.map(function(Yn){return(lt.added?"+":"-")+Yn}))),lt.added?Ye+=Tt.length:Ze+=Tt.length}else{if(Ke)if(Tt.length<=ge.context*2&&at<xe.length-2){var Ct;(Ct=Ve).push.apply(Ct,O(Le(Tt)))}else{var Ln,Vn=Math.min(Tt.length,ge.context);(Ln=Ve).push.apply(Ln,O(Le(Tt.slice(0,Vn))));var $t={oldStart:Ke,oldLines:Ze-Ke+Vn,newStart:ce,newLines:Ye-ce+Vn,lines:Ve};if(at>=xe.length-2&&Tt.length<=ge.context){var ii=/\n$/.test(Y),Tr=/\n$/.test(X),Er=Tt.length==0&&Ve.length>$t.oldLines;!ii&&Er&&Ve.splice($t.oldLines,0,"\\ No newline at end of file"),(!ii&&!Er||!Tr)&&Ve.push("\\ No newline at end of file")}Te.push($t),Ke=0,ce=0,Ve=[]}Ze+=Tt.length,Ye+=Tt.length}},Qt=0;Qt<xe.length;Qt++)Fe(Qt);return{oldFileName:j,newFileName:_,oldHeader:le,newHeader:ae,hunks:Te}}function Rt(j,_,Y,X,le,ae,ge){var xe=st(j,_,Y,X,le,ae,ge),Le=[];j==_&&Le.push("Index: "+j),Le.push("==================================================================="),Le.push("--- "+xe.oldFileName+(typeof xe.oldHeader>"u"?"":"	"+xe.oldHeader)),Le.push("+++ "+xe.newFileName+(typeof xe.newHeader>"u"?"":"	"+xe.newHeader));for(var Te=0;Te<xe.hunks.length;Te++){var Ke=xe.hunks[Te];Le.push("@@ -"+Ke.oldStart+","+Ke.oldLines+" +"+Ke.newStart+","+Ke.newLines+" @@"),Le.push.apply(Le,Ke.lines)}return Le.join(`
`)+`
`}function Fn(j,_,Y,X,le,ae){return Rt(j,j,_,Y,X,le,ae)}function At(j,_){return j.length!==_.length?!1:se(j,_)}function se(j,_){if(_.length>j.length)return!1;for(var Y=0;Y<_.length;Y++)if(_[Y]!==j[Y])return!1;return!0}function be(j){var _=K(j.lines),Y=_.oldLines,X=_.newLines;Y!==void 0?j.oldLines=Y:delete j.oldLines,X!==void 0?j.newLines=X:delete j.newLines}function pe(j,_,Y){j=me(j,Y),_=me(_,Y);var X={};(j.index||_.index)&&(X.index=j.index||_.index),(j.newFileName||_.newFileName)&&(Ae(j)?Ae(_)?(X.oldFileName=we(X,j.oldFileName,_.oldFileName),X.newFileName=we(X,j.newFileName,_.newFileName),X.oldHeader=we(X,j.oldHeader,_.oldHeader),X.newHeader=we(X,j.newHeader,_.newHeader)):(X.oldFileName=j.oldFileName,X.newFileName=j.newFileName,X.oldHeader=j.oldHeader,X.newHeader=j.newHeader):(X.oldFileName=_.oldFileName||j.oldFileName,X.newFileName=_.newFileName||j.newFileName,X.oldHeader=_.oldHeader||j.oldHeader,X.newHeader=_.newHeader||j.newHeader)),X.hunks=[];for(var le=0,ae=0,ge=0,xe=0;le<j.hunks.length||ae<_.hunks.length;){var Le=j.hunks[le]||{oldStart:1/0},Te=_.hunks[ae]||{oldStart:1/0};if(Ce(Le,Te))X.hunks.push(ze(Le,ge)),le++,xe+=Le.newLines-Le.oldLines;else if(Ce(Te,Le))X.hunks.push(ze(Te,xe)),ae++,ge+=Te.newLines-Te.oldLines;else{var Ke={oldStart:Math.min(Le.oldStart,Te.oldStart),oldLines:0,newStart:Math.min(Le.newStart+ge,Te.oldStart+xe),newLines:0,lines:[]};it(Ke,Le.oldStart,Le.lines,Te.oldStart,Te.lines),ae++,le++,X.hunks.push(Ke)}}return X}function me(j,_){if(typeof j=="string"){if(/^@@/m.test(j)||/^Index:/m.test(j))return ie(j)[0];if(!_)throw new Error("Must provide a base reference or pass in a patch");return st(void 0,void 0,_,j)}return j}function Ae(j){return j.newFileName&&j.newFileName!==j.oldFileName}function we(j,_,Y){return _===Y?_:(j.conflict=!0,{mine:_,theirs:Y})}function Ce(j,_){return j.oldStart<_.oldStart&&j.oldStart+j.oldLines<_.oldStart}function ze(j,_){return{oldStart:j.oldStart,oldLines:j.oldLines,newStart:j.newStart+_,newLines:j.newLines,lines:j.lines}}function it(j,_,Y,X,le){var ae={offset:_,lines:Y,index:0},ge={offset:X,lines:le,index:0};for(rt(j,ae,ge),rt(j,ge,ae);ae.index<ae.lines.length&&ge.index<ge.lines.length;){var xe=ae.lines[ae.index],Le=ge.lines[ge.index];if((xe[0]==="-"||xe[0]==="+")&&(Le[0]==="-"||Le[0]==="+"))fn(j,ae,ge);else if(xe[0]==="+"&&Le[0]===" "){var Te;(Te=j.lines).push.apply(Te,O(qe(ae)))}else if(Le[0]==="+"&&xe[0]===" "){var Ke;(Ke=j.lines).push.apply(Ke,O(qe(ge)))}else xe[0]==="-"&&Le[0]===" "?pn(j,ae,ge):Le[0]==="-"&&xe[0]===" "?pn(j,ge,ae,!0):xe===Le?(j.lines.push(xe),ae.index++,ge.index++):Pt(j,qe(ae),qe(ge))}It(j,ae),It(j,ge),be(j)}function fn(j,_,Y){var X=qe(_),le=qe(Y);if(Ar(X)&&Ar(le)){if(se(X,le)&&mt(Y,X,X.length-le.length)){var ae;(ae=j.lines).push.apply(ae,O(X));return}else if(se(le,X)&&mt(_,le,le.length-X.length)){var ge;(ge=j.lines).push.apply(ge,O(le));return}}else if(At(X,le)){var xe;(xe=j.lines).push.apply(xe,O(X));return}Pt(j,X,le)}function pn(j,_,Y,X){var le=qe(_),ae=yn(Y,le);if(ae.merged){var ge;(ge=j.lines).push.apply(ge,O(ae.merged))}else Pt(j,X?ae:le,X?le:ae)}function Pt(j,_,Y){j.conflict=!0,j.lines.push({conflict:!0,mine:_,theirs:Y})}function rt(j,_,Y){for(;_.offset<Y.offset&&_.index<_.lines.length;){var X=_.lines[_.index++];j.lines.push(X),_.offset++}}function It(j,_){for(;_.index<_.lines.length;){var Y=_.lines[_.index++];j.lines.push(Y)}}function qe(j){for(var _=[],Y=j.lines[j.index][0];j.index<j.lines.length;){var X=j.lines[j.index];if(Y==="-"&&X[0]==="+"&&(Y="+"),Y===X[0])_.push(X),j.index++;else break}return _}function yn(j,_){for(var Y=[],X=[],le=0,ae=!1,ge=!1;le<_.length&&j.index<j.lines.length;){var xe=j.lines[j.index],Le=_[le];if(Le[0]==="+")break;if(ae=ae||xe[0]!==" ",X.push(Le),le++,xe[0]==="+")for(ge=!0;xe[0]==="+";)Y.push(xe),xe=j.lines[++j.index];Le.substr(1)===xe.substr(1)?(Y.push(xe),j.index++):ge=!0}if((_[le]||"")[0]==="+"&&ae&&(ge=!0),ge)return Y;for(;le<_.length;)X.push(_[le++]);return{merged:X,changes:Y}}function Ar(j){return j.reduce(function(_,Y){return _&&Y[0]==="-"},!0)}function mt(j,_,Y){for(var X=0;X<Y;X++){var le=_[_.length-Y+X].substr(1);if(j.lines[j.index+X]!==" "+le)return!1}return j.index+=Y,!0}function K(j){var _=0,Y=0;return j.forEach(function(X){if(typeof X!="string"){var le=K(X.mine),ae=K(X.theirs);_!==void 0&&(le.oldLines===ae.oldLines?_+=le.oldLines:_=void 0),Y!==void 0&&(le.newLines===ae.newLines?Y+=le.newLines:Y=void 0)}else Y!==void 0&&(X[0]==="+"||X[0]===" ")&&Y++,_!==void 0&&(X[0]==="-"||X[0]===" ")&&_++}),{oldLines:_,newLines:Y}}function de(j){for(var _=[],Y,X,le=0;le<j.length;le++)Y=j[le],Y.added?X=1:Y.removed?X=-1:X=0,_.push([X,Y.value]);return _}function ee(j){for(var _=[],Y=0;Y<j.length;Y++){var X=j[Y];X.added?_.push("<ins>"):X.removed&&_.push("<del>"),_.push(Je(X.value)),X.added?_.push("</ins>"):X.removed&&_.push("</del>")}return _.join("")}function Je(j){var _=j;return _=_.replace(/&/g,"&amp;"),_=_.replace(/</g,"&lt;"),_=_.replace(/>/g,"&gt;"),_=_.replace(/"/g,"&quot;"),_}t.Diff=e,t.diffChars=a,t.diffWords=g,t.diffWordsWithSpace=v,t.diffLines=k,t.diffTrimmedLines=S,t.diffSentences=M,t.diffCss=T,t.diffJson=fe,t.diffArrays=D,t.structuredPatch=st,t.createTwoFilesPatch=Rt,t.createPatch=Fn,t.applyPatch=Ee,t.applyPatches=et,t.parsePatch=ie,t.merge=pe,t.convertChangesToDMP=de,t.convertChangesToXML=ee,t.canonicalize=G,Object.defineProperty(t,"__esModule",{value:!0})})});var LC={};te(LC,{default:()=>lj});function lj(t){let e=EC(),n={char:e.diffChars,word:e.diffWords,wordws:e.diffWordsWithSpace,sentence:e.diffSentences,line:e.diffLines};t.view.define("diff",function(i,s,a){let{type:f="wordws"}=s,{before:p="",after:m="",delta:h="both"}=a,g=(f in n?n[f]:n.wordws)(p,m),v=h==="both"||h==="added",w=h==="both"||h==="removed";g.forEach(k=>{let S=i;if(k.added||k.removed){if(k.added?!v:!w)return;S=i.appendChild(document.createElement("span")),S.className=k.added?"added":"removed"}S.appendChild(document.createTextNode(k.value))})})}var MC=N(()=>{});var NC={};te(NC,{default:()=>cj});function cj(t){t.view.define("key-value-item",function(e,n,i,s){let{key:a="text:key",value:f="struct:value"}=n,p=e.appendChild(document.createElement("span")),m=e.appendChild(document.createElement("span"));p.className="view-key-value-item-key",this.render(p,a,i,s),m.className="view-key-value-item-value",this.render(m,f,i,s)}),t.view.define("key-value",function(e,n,i,s){let{itemConfig:a,key:f,value:p}=n,m=null;if(Array.isArray(i))m=i;else{m=[];for(let h in i)hasOwnProperty.call(i,h)&&m.push({key:h,value:i[h]})}this.renderList(e,this.composeConfig({view:"key-value-item",key:f,value:p},a),m,s)})}var DC=N(()=>{});var OC={};te(OC,{default:()=>uj});function uj(t){t.view.define("pre",function(e,n,i,s){let{content:a}=n;a?this.render(e,a,i,s):e.textContent=i},{tag:"span"}),t.view.define("nowrap",function(e,n,i,s){let{content:a}=n;a?this.render(e,a,i,s):e.textContent=i},{tag:"span"})}var PC=N(()=>{});var jm,_m=N(()=>{jm="1.0.0-beta.84"});var IC,zC=N(()=>{IC="1.0.0-beta.12"});function Zo(t,e){return e!==void 0&&(wt(e)?e.forEach(n=>t.add(n)):t.add(e)),t}function Ic(t,e,n){t.has(e)?t.get(e).add(n):t.set(e,new Set([n]))}function BC(t,e){return t&&Cn(t,e)?t[e]:void 0}function xr(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function wi(t){return fj.call(t)==="[object RegExp]"}function ei(t){return t&&Cn(t,"length")&&isFinite(t.length)}function wt(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function Vi(t,e=0){let n=parseInt(t,10);return isNaN(n)?e:n}function Zn(t){if(wt(t))return t.length>0;if(xr(t)){for(let e in t)if(Cn(t,e))return!0;return!1}return!!t}var Cn,fj,ti=N(()=>{Cn=Object.hasOwn||((t,e)=>Object.hasOwnProperty.call(t,e)),fj=Object.prototype.toString});function Hm(){this.yy={}}var pj,dj,zc,FC=N(()=>{pj=function(){return{yy:{},options:{ranges:!0},rules:[/^(?:\/\/.*?(?:\n|\r\n?|\u2028|\u2029|$)|\/\*(?:.|\s)*?(?:\*\/|$))/,/^\s+/,/^\//,/^<(?!=)/,/^/,/^(?:(?:[a-zA-Z_]|\\u[0-9a-fA-F]{4})(?:[a-zA-Z_$0-9]|\\u[0-9a-fA-F]{4})*\(?)/,/^/,(e,n)=>{if(e[0]!==(n==="template"?"}":"`"))return null;for(let i=1;i<e.length;i++){if(e[i]==="`")return i+1;if(e[i]==="$"&&e[i+1]==="{")return i+2;e[i]==="\\"&&i++}return null},(e,n)=>{if(e[0]!==(n==="template"?"}":"`"))return null;for(let i=1;i<e.length;i++){if(e[i]==="`")return i+1;if(e[i]==="$"&&e[i+1]==="{")return i+2;e[i]==="\\"&&i++}return null},/^/,/^\(/,/^\)/,/^\[/,/^\]/,/^\{/,/^\}/,/^(?:(true|false|null|undefined|Infinity|NaN)\b)/,/^and\b/,/^or\b/,/^is\b/,/^has\s+no\b/,/^has\b/,/^in\b/,/^not\s+in\b/,/^not\b/,/^no\b/,/^(?:(asc|desc)(NA?|AN?)?\b)/,/^(?:(?:[a-zA-Z_]|\\u[0-9a-fA-F]{4})(?:[a-zA-Z_$0-9]|\\u[0-9a-fA-F]{4})*\()/,/^(?:\$(?:[a-zA-Z_]|\\u[0-9a-fA-F]{4})(?:[a-zA-Z_$0-9]|\\u[0-9a-fA-F]{4})*\()/,/^(?:(?:[a-zA-Z_]|\\u[0-9a-fA-F]{4})(?:[a-zA-Z_$0-9]|\\u[0-9a-fA-F]{4})*)/,/^(?:\$(?:[a-zA-Z_]|\\u[0-9a-fA-F]{4})(?:[a-zA-Z_$0-9]|\\u[0-9a-fA-F]{4})*)/,/^(?:[_\d]*\.)?[_\d]+(?:[eE][-+]?[_\d]+)?\b/,/^(?:\d*\.)?\d+(?:[eE][-+]?\d+)?\b/,/^0[xX][_0-9a-fA-F]+/,/^0[xX][0-9a-fA-F]+/,/^(?:"(?:\\[\\"]|[^"])*")/,/^(?:'(?:\\[\\']|[^'])*')/,/^(?:\/(?:\\.|[^/])+\/[gimsu]*)/,/^@/,/^#/,/^\$\$/,/^\$/,/^=>/,/^=/,/^!=/,/^~=/,/^>=/,/^<=/,/^</,/^>/,/^\.\.\(/,/^\.\(/,/^\.\[/,/^\.\.\./,/^\.\./,/^\./,/^\?\?/,/^\?/,/^,/,/^:/,/^;/,/^\-/,/^\+/,/^\*/,/^\//,/^\%/,/^(?:\|)/,/^./,/^$/],conditions:{preventPrimitive:{rules:[0,1,2,3,4,7,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68],inclusive:!0},preventKeyword:{rules:[5,6],inclusive:!1},template:{rules:[8,9],inclusive:!1},INITIAL:{rules:[0,1,7,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68],inclusive:!0}},performAction(e,n,i,s){let a=s;switch(i){case 0:{e.commentRanges.push(n.yylloc.range);break}case 1:break;case 2:{return this.popState(),40;break}case 3:{return this.popState(),44;break}case 4:{this.done=!1,this.popState();break}case 5:{if(this.popState(),n.yytext.endsWith("(")){this.unput(n.yytext);return}return e.pps(),n.yytext=this.ident(n.yytext),14;break}case 6:{this.done=!1,this.popState();break}case 7:{let f=n.yytext.endsWith("`")?"TEMPLATE":"TPL_START";return n.yytext=this.toStringLiteral(n.yytext,!0,1+ +(f!=="TEMPLATE")),f==="TEMPLATE"&&e.pps(),f;break}case 8:{let f=n.yytext.endsWith("`")?"TPL_END":"TPL_CONTINUE";return n.yytext=this.toStringLiteral(n.yytext,!0,1+ +(f!=="TPL_END")),this.popState(),f==="TPL_END"&&e.pps(),f;break}case 9:{this.parseError("Unexpected end of input");break}case 10:return 21;case 11:{return e.pps(),22;break}case 12:return 61;case 13:{return e.pps(),63;break}case 14:return 84;case 15:{if(this.bracketStack[this.bracketStack.length-1]!=="TPL_END")return e.pps(),85;this.unput("}"),this.begin("template");break}case 16:{return n.yytext=this.toLiteral(n.yytext),57;break}case 17:return 36;case 18:return 37;case 19:return 30;case 20:return 35;case 21:return 33;case 22:return 32;case 23:return 34;case 24:return 25;case 25:return 26;case 26:return 95;case 27:{return n.yytext=this.ident(n.yytext.slice(0,-1)),70;break}case 28:{return n.yytext=this.ident(n.yytext.slice(1,-1)),72;break}case 29:{return e.pps(),n.yytext=this.ident(n.yytext),14;break}case 30:{return e.pps(),n.yytext=this.ident(n.yytext.slice(1)),15;break}case 31:{return e.pps(),n.yytext=this.toNumberLiteral(n.yytext,!0),55;break}case 32:{return e.pps(),n.yytext=this.toNumberLiteral(n.yytext),55;break}case 33:{return e.pps(),n.yytext=this.toNumberLiteral(n.yytext,!0,!0),55;break}case 34:{return e.pps(),n.yytext=this.toNumberLiteral(n.yytext,!1,!0),55;break}case 35:{return e.pps(),n.yytext=this.toStringLiteral(n.yytext),54;break}case 36:{return e.pps(),n.yytext=this.toStringLiteral(n.yytext),54;break}case 37:{return e.pps(),n.yytext=this.toRegExp(n.yytext),56;break}case 38:{return e.pps(),51;break}case 39:{return e.pps(),52;break}case 40:{return e.pps(),53;break}case 41:{return e.pps(),9;break}case 42:return 20;case 43:return 42;case 44:return 43;case 45:return 48;case 46:return 47;case 47:return 45;case 48:return 44;case 49:return 46;case 50:return 69;case 51:return 66;case 52:return 67;case 53:return 89;case 54:{return e.pps(),e.pks(),68;break}case 55:{return e.pps(),e.pks(),65;break}case 56:return 38;case 57:return 17;case 58:return 73;case 59:return 11;case 60:return 10;case 61:return 27;case 62:return 28;case 63:return 39;case 64:return 40;case 65:return 41;case 66:return 29;case 67:{this.parseError(`Bad input on line ${n.yylloc.first_line} column ${n.yylloc.first_column}
`+this.showPosition(),{text:n.yytext,token:"BAD_TOKEN"});break}case 68:return 5}},setInput(e,n){return this.yy=n||this.yy||{},this._input=e,this._more=!1,this._backtrack=!1,this.done=!1,this.currentCondition="INITIAL",this.conditionStack=["INITIAL"],this.offset=0,this.yytext=this.match="",this.yyleng=0,this.yylineno=0,this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.yylloc.range=[0,0],this},parseError(e,n){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,n)},input(){let e=this._input[this.offset],n=/\n|\r\n?|\u2028|\u2029/g.test(e);return this.offset++,this.yyleng++,this.yytext=this.match=this.yytext+e,n?(this.yylineno++,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++,this.yylloc.range[1]++,e},lineColumnForOffset(e=this.offset,n=this._input,i=1,s=0){let a=/\n|\r\n?|\u2028|\u2029/g,f=i,p=s,m=0,h;for(;(h=a.exec(n))!==null;)if(h.index<e)f++,p=0,m=h.index+h[0].length;else{p+=e-m,m=-1;break}return m!==-1&&(p+=e-m),{line:f,column:p}},setMatch(e,n){let i=this._input.slice(e,n),s=e!==this.offset?this.lineColumnForOffset(e):{line:this.yylloc.last_line,column:this.yylloc.last_column},a=e!==n?this.lineColumnForOffset(n-e,i,s.line,s.column):s;this.yytext=this.match=i,this.yyleng=n-e,this.offset=n,this.yylineno=a.line-1,this.yylloc={first_line:s.line,first_column:s.column,last_line:a.line,last_column:a.column},this.yylloc.range=[e,n]},less(e){let n=this.offset-this.match.length;this.setMatch(n,n+e)},unput(e){let n=this.match.length-e.length;if(!this.match.startsWith(e,n))throw new Error("Lexer#unput() should receive a part of matched text only");this.less(n)},more(){this._more=!0},reject(){throw new Error("reject() is allowed only when options.backtrack_lexer = true")},showPosition(e=this.offset-this.match.length){let n=this._input,i=Math.max(e-20,0),s=Math.min(e+20,n.length),a=(i===0?"":"...")+n.slice(i,e).replace(/\n|\r\n?|\u2028|\u2029/g,"\\n"),f=n.slice(e,s).replace(/\n|\r\n?|\u2028|\u2029/g,"\\n")+(s===n.length?"":"...");return a+f+`
${"-".repeat(a.length)}^`},test_match(e,n){let i;this._more=!1,this._backtrack=!1,this.setMatch(this.offset,this.offset+e[0].length),this.matches=e;let s=this.performAction.call(this,this.yy,this,n,this.conditionStack[this.conditionStack.length-1]);return!s&&this._backtrack?(Object.assign(this,i),!1):(this.eof()||(this.done=!1),typeof s=="number"&&this.yy.parser?this.yy.parser.terminals_[s]:s||!1)},eof(){return this.offset===this._input.length},next(){if(this.done)return 1;this.eof()&&(this.done=!0),this._more||(this.yytext="",this.match="");let e,n;for(let i of this.conditions[this.currentCondition].rules){let s=this.rules[i],a=this._input.slice(this.offset),f;if(typeof s=="function"){let p=s(a,this.currentCondition);switch(typeof p){case"string":f=[p];break;case"number":f=[a.slice(0,p)];break;default:f=p}}else f=a.match(s);if(f&&(!e||f[0].length>e[0].length)){e=f,n=i;break}}if(e)return this.test_match(e,n);if(this.eof())return 1;this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex(){let e;for(;!e;)e=this.next();return e},begin(e){this.currentCondition=e,this.conditionStack.push(e)},pushState(e){this.begin(e)},popState(){return this.conditionStack.pop(),this.currentCondition=this.conditionStack.length?this.conditionStack[this.conditionStack.length-1]:"INITIAL"},topState(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},stateStackSize(){return this.conditionStack.length}}}();Hm.prototype={Parser:Hm,lexer:pj,symbols_:{error:2,root:3,block:4,EOF:5,definitions:6,e:7,def:8,$:9,";":10,":":11,$ident:12,ident:13,IDENT:14,$IDENT:15,condConsequent:16,"?":17,condAlternate:18,query:19,"=>":20,"(":21,")":22,functionArgs:23,compareFunction:24,NOT:25,NO:26,"-":27,"+":28,"|":29,IS:30,assertion:31,IN:32,HAS:33,NOTIN:34,HASNO:35,AND:36,OR:37,"??":38,"*":39,"/":40,"%":41,"=":42,"!=":43,"<":44,"<=":45,">":46,">=":47,"~=":48,queryRoot:49,relativePath:50,"@":51,"#":52,$$:53,STRING:54,NUMBER:55,REGEXP:56,LITERAL:57,template:58,object:59,array:60,"[":61,sliceNotation:62,"]":63,"method()":64,".":65,".(":66,".[":67,"..":68,"..(":69,"METHOD(":70,arguments:71,"$METHOD(":72,",":73,functionArg:74,templateString:75,templateStart:76,templateTail:77,templateEnd:78,templateContinue:79,TEMPLATE:80,TPL_START:81,TPL_CONTINUE:82,TPL_END:83,"{":84,"}":85,objectEntries:86,objectEntry:87,objectEntryKeyLiteral:88,"...":89,arrayElements:90,arrayElement:91,assertionTerm:92,assertionList:93,compareExpr:94,ORDER:95,sliceNotationComponent:96,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",9:"$",10:";",11:":",14:"IDENT",15:"$IDENT",17:"?",20:"=>",21:"(",22:")",25:"NOT",26:"NO",27:"-",28:"+",29:"|",30:"IS",32:"IN",33:"HAS",34:"NOTIN",35:"HASNO",36:"AND",37:"OR",38:"??",39:"*",40:"/",41:"%",42:"=",43:"!=",44:"<",45:"<=",46:">",47:">=",48:"~=",51:"@",52:"#",53:"$$",54:"STRING",55:"NUMBER",56:"REGEXP",57:"LITERAL",61:"[",63:"]",65:".",66:".(",67:".[",68:"..",69:"..(",70:"METHOD(",72:"$METHOD(",73:",",80:"TEMPLATE",81:"TPL_START",82:"TPL_CONTINUE",83:"TPL_END",84:"{",85:"}",89:"...",95:"ORDER"},productions_:[0,[3,2],[4,2],[4,1],[4,1],[4,0],[6,1],[6,2],[8,2],[8,4],[8,2],[8,4],[13,1],[12,1],[16,2],[16,1],[18,2],[18,1],[18,0],[7,1],[7,2],[7,3],[7,4],[7,5],[7,1],[7,2],[7,2],[7,2],[7,2],[7,3],[7,4],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[19,1],[19,1],[49,1],[49,1],[49,1],[49,1],[49,1],[49,1],[49,1],[49,1],[49,1],[49,1],[49,1],[49,1],[49,3],[49,2],[49,2],[49,1],[49,1],[49,3],[49,4],[49,2],[49,2],[49,3],[49,3],[49,2],[49,2],[49,3],[49,2],[49,3],[50,3],[50,4],[50,4],[50,3],[50,3],[50,4],[50,4],[50,3],[50,3],[50,4],[64,2],[64,3],[64,2],[64,3],[71,1],[71,3],[74,1],[23,1],[23,3],[58,1],[58,2],[77,1],[77,2],[77,2],[77,3],[75,1],[76,1],[79,1],[78,1],[59,2],[59,3],[59,4],[59,3],[59,4],[59,5],[86,1],[86,3],[88,1],[88,1],[88,1],[87,1],[87,1],[87,1],[87,1],[87,1],[87,3],[87,3],[87,3],[87,2],[87,2],[87,2],[87,5],[87,1],[87,2],[90,1],[90,3],[91,1],[91,1],[91,2],[60,2],[60,3],[60,4],[31,1],[31,2],[31,3],[31,4],[92,1],[92,1],[92,1],[92,1],[93,1],[93,3],[93,3],[24,1],[24,3],[94,2],[62,1],[62,2],[62,2],[62,3],[96,1],[96,2]],table:function(e){function n(w){let k=w.match(/[\x20-\x2f]/g),S=k?Math.max(...k.map(P=>P.charCodeAt()-32)):-1;for(let P=S;P>=0;P--){let M=(32+P).toString(16),A;w=w.replace(new RegExp("\\[\\x"+M+"(.+?)\\]"),(T,L)=>A=L).replace(new RegExp("\\x"+M,"g"),A)}return w=w.replace(/<([^>]+?)>/g,(P,M)=>{let A=a[M[0]],T=1;return A>>5===1&&(A=A&31|a[M[1]]<<5,T=2),M.slice(T).repeat(A)}),w}function i(w){let k=[];for(let S=0;S<w.length;S++){let P=a[w[S]];if(P&32){let M=a[w[++S]];k.push(P&31|M<<5)}else k.push(P)}return k}let a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789~|=".split("").reduce((w,k,S)=>(w[k]=S,w),Object.create(null)),[f,p,...m]=e.split("=").map(n),h=p.split(";").map(w=>{let k=[];for(let S=0;S<w.length;S++)for(let P=0,M=a[w[S]];P<3;P++)k.push(M>>P*2&3);return k}),g=m.map(i),v=i(f).map(w=>{let k=h[w],S=Object.create(null);for(let P=0;P<k.length;P++){let M=k[P];if(M!==0){let A=g[M-1].shift();S[P]=M===1?A:[M-1,A]}}return S});for(let w=0;w<g[3].length;w+=2)v[g[3][w]][g[3][w+1]]=[3];return v}(`ABCDEFGHIJKHHHHLL<NM>NOPMMQRSQRTMUVWXYYMZaEFTO<TH>PMbQRSQRcMMHdefgBhBiBHj[ BjBkBk]BFHFHlBMmBnBoBpBqBrBMMsBtBMMMMXMWMMuB[!lBMMuB]vBgBMMwBUMZMxByBzB0B1B2B3B4BH5<DB6>BvBXe7BXevBgBM<E8B>9B~ <DB|>BgCgC<EhC>gCMMiC<C!>cHdjCMfMkClClCMMmCnCnBoCpCMtBqCrCvBMMMvBMUMMsCMxBHtCHtCtCHuCvCTXHXvB<FM>cHhBhBMFFMpBpCnCqCMOOMMzBzB2BMsCwCtCtCxC7BcMrCrCHMHtCtC=A1[ V[!C["lmkCpqC]]]<FA>[#[$[%[&['UqqWJkq]K]C][([)FgCCAAE];]]A];Ag;AwU[*ClmkOpqC]<FA>[+[,U[-qqWJnqK]]C(A]wAA[.A[/kAMAqi]]<Fq>CAAAAD<JA>g;AwADwzwP8|D<GA>||DMz|PDAwDPw;AwA8AwAMA|z<F|>DAAAIjqCMAA8MAAw;AAE!<FA>#wA8AwgMA|z<F|>DAAAMz|DMAA8MAAw;AAVClmkapqC<FA>&S(AwA8AwAMA|z<F|>DAAAMz|DIAA8MAAw;AwAoAwAMA|z<F|>DAAAMz|DMAA8MAAw;AwA8AwAMA|z<F|>DAAAMz|DMAA8MAAw;AAEi"<FA>UqqWZmqKCFgCCgFEB;AAAChCACIAE<IA>C<KA>Q;AwAsAwBMA|z<F|>DAAAMz|DMAA8MAAw;AAAAk<QA>EAIC;AEV*<FA>#E <FA>+A <FA>#AE!<FA>%VlqCAAE;AARClC<MA>KCIEAICAAAYl;AwE~lmkOp6y<F|>X-OFg~OAA0;AwA|wzwP8|z<F|>D||DMz|PPAw|PAAw;AAEClmkKpqC<FA>'aC(AAADwzwD8|D<GA>||DMw|PDAw|D;M;AAEi"<FA>UqqWZmqKC)B;AwA8.<Fq>CAAAMz|DMAA8MAA<Cg;AAAAAA>AI<QA>I;<FA>kAIAqi<Fq>C<OA>g;AAU!<FA>$<HA>M<QA>M;AAA8AwgMA|z<F|>DAAAMw|DM<GA>w;AwA8A0AMA6jq|qqqCAAAMz|DMAA8MAAw;AwA8A0AMA|z||q||DAAAMz|DMAA8MAAw<C;AAAAAAAAAAAAAAAAAAAAAC>AAI;AAAg<RA>D<KA>B;AAAgAkAAAqi<Fq>CAAAADAAM<GA>gB;<VA>DAAM;AAEy"<FA>+AE!<FA>,O(AAAChCACA<KA>C<KA>Q;AAAChCACIAE<IA>C<KA>QB;<HA>I;AwA8AkAMA6i<Fq>CAAAMz|DMAA8MAAw;<FA>kAAAqi<Fq>C<JA>FoAAAg;<YA>IAAAI;AAQClC<MA>KCIEAICAAAYl;<YA>MAAAM;AAAo<UA>MAAAM;AAEq"<FA>&OFgCOAAE;AAEi"<FA>&OFgCOAAE;AAE!<FA>&OFgCOAAE;AAAg<UA>MAAAM;AAAClmECAgC<FA>&OFgCO;AAAw<UA>MAAAM;<FA>/<Fq>C<HA>M<GA>g;AwA8A0AMA6z||qqqCAAAMz|DMAA8MAAw;AwA8A0AMA6jqvqqqCAAAMz|DMAA8MAAw;AwA8A0AMA6jquqqqCAAAMz|DMAA8MAAw;AwA8A0AMA|z<F|>DAAAMz|DMAA8MAAw;AwA8A0AMA6z||qvqDAAAMz|DMAA8MAAw;AwA8A0AMA6z||q||DAAAMz|DMAA8MAAw;AAAgAkAAAqi<Fq><CCAAAA><FA>gB;<FA>C<SA>Q;<FA>kAAAqi<Fq>C<OA>g;AAAIAkAAAqi<Fq>C<OA>g;AAE!<FA>UqqWJmqKCFgCCgEE;<VA>D;AAAwAkAAAqi<Fq>CAAAAD<JA>g;<FA>kAAAqi<Fq>CAAAADAAM<GA>g;<HA>IAAAAK;<HA>MAAAAP;AAAClC<MA>KCIEAICAAAIl;<FA>kAAAqi<Fq>C<HA>MAAAMAAg;<FA>kAAAqi<Fq><CCAAAA><FA>g;<UA>IgqCMAAAM;AAAIAkAAAqi<Fq>C<HA>MAAAMAAg;AAAg=BC[ D[!E["[#F[$QhBgBG]][%[&['[(KRSbcd]iB]pBqB]T]]]]zB[)0B$%qC]y[*C[[,+[-0ChBgB]]G%]]5C4C#3C'6CpBqBT9*~*|*gD+pD-G(lD[.iBpBqB]nDqDToDzDtDuD2D4D5D6D 7D 8D9D~D gE|D"jE-G&hEiEkETpEF[/sEtEuE]oEqEvE1E+4E-G'3EpBqBT4E-G'6EpBqBTqC8E7!zD9EuD~E+|E+gF+hF+iF+jF+kF+lF+mF+nF+oF+pF+qF+rF+sF+tF+uF+vF+wF+xFzF-G(0F.ToD1F2F3F 4F 5F6F7F qC8F+qChG0B$%jG-G&iG<EqC>kG+lG+pGqCqGrG+sG+zDtGzDwGuDvGxG+qC1G)2G3GjE-G&4GiEkET0B/8GqEvE~G+gH+hH+jH,kHRSbcd.qCqCqCpH0B$%<UqC>qGqCvH+xH<EqC>4H-G&3HT5HqCqCzDwGuD6HqCqCjE-G&~HiEkETiItEuEgIvElI+qCmI+qCqCnI+qC5C4C"pI+qCqCqI+qCzDsIuDzDtIuD~G+iItEuEgIvE<FqC>xI+yI+qCqC=[ [!["P[#[$[%[&['tBIsBHJ]LMNO][(oB[)fUVWXYZae]]][*jBkBlBmBnBuBvBwBxB]]r]]B]y][+B[,![-[.sB|B~B][/1B2B3B4B5B6B7B8B9BgChCiCjCkClCmCnCoCpC]]]rC]sCtCuCvCwCxCzC#B1CPtB7CsBHJ2CLMNO(*rB8C<EzC#B>hDiDjDkDzCrD%mD*rBsDyDxD1DwDvD0D3D<CtBuBvB!!>zC$mElErBrEtB1DyEzE0EwEuBvBnExEzC&)*rBzC'2ELMNO(*rBzC'5ELMNO(*rB-rC DxD1DwDvD0D<TzC#B>3DzCrD%yF*rBtBuBv<CB">BtBuBv+zC#B9F~F|FsBgG|B~B/rC!1CzC#B<C|B~B3B4B5B6BgChCiCjCkClCmCnCoCpC><CgChCiC><CzC#B>mGnGoGrDrD-rC<CzC#B>yDxD1DuG0DyDxD1DwDvD0DzC&)*rByGzG0G.2B3B4B5B6B7B8B9BgChCiCjCkClCmCnCoCpC,mElErCzC$mElErB6G5GrEtB1DyEzE0EwEuBvB7GxEhDiDzCjD9G#BzC|G#BzC#BiHzC#BzCtB1DsBlH(*rB.2B3B4B5B6B7B8B9BgChCiCjCkClCmCnCoCpCmHnH-rCoHnH.2B3B4B5B6B7B8B9BgChCiCjCkClCmCnCoCpC!<E|B~BgChCiCjCkClCmCnCoCpC>|B~B3B4B5B6B9BgChCiCjCkClCmCnCoCpC|B~B3B4B5B6B7B9BgChCiCjCkClCmCnCoCpC|B~B3B4B5B6BgChCiCjCkClCmCnCoCp<CCgChCi><CC|B~BgChCiClCmCnCo><FC|B~BgChCi>ClCmCnCoCrD-qHrCrHsHtHuH-rCzC#BwHyHsBzH|B~B/rC-rC0H-rC1H-rCzC%2H*rBsDrD<C-rC>yDxD1DwDvD0D7H8H9H<C.2B3B4B5B6B7B8B9BgChCiCjCkClCmCnCoCpC>zC$mElErBhItB1DyEzE0EwEuBvB|HxEkIjI<CzC#B-rC>-rCzC#B-oIrCsCtCuCvCwCxC!zC#B.2B3B4B5B6B7B8B9BgChCiCjCkClCmCnCoCpC-rCzC#B-rCrI8H9H<CyDxD1DwDvD0D>zCuI#BhItB1DyEzE0EwEuBvBvIxE1H<D-rC>wI<C-rC><CzC#B><C-rC>=FDDDEEE<jBG><gBT><mBN><lBY><kB4B><kB6B><mB0B><mB1B><mB7E><mB2B><mB3B><mB5B><mB7B><mB8B><mB9B><mB~B><mB|B><mBgC><mBhC><lBS><mBlC><mBmC>FFF<mBlD><cP><5BM><mBrD><gBsD>BCCC<jBH><lBS><mB9E>FFF<PU><mB4B><mB6B>jDjDNNNiD<bN>iDN<WZ><Wa><jBb><jBc><jBI><jBK><mBtE>~EqEqEoEoEiFiFrErE<mBjC><mBwE><mB0E><mB1E><mB2E><mB3E><5BN><mBkC><cR><mBpC><mBqC><mBtC><mBuC><RwC><mBmD><mBnD><mBuD><gBtD><mBvD>1D1[ D6D6D7D7D]8D8D9D9D~D~DmEmE<D3D><D4D><D5D><RO><5B8C>gDgD<5B~C><Rd><mBf><agB><ahB><aiB><ajB><VkB><UlB><WmB><jBnB><jBoB><mBpB><mBqB><mBrB><dsB><dtB><hBuB><hBvB><hBwB><hBxB><dyB><mBzB><mByC><mB1C><mB2C><mB5C><mB6C><PV><mBnC><mB8E><mBiC><mBuE>|EgFjFjFsEsE<mBxE><D4E><RQ><mBrC><mBsC><mBvC><RxC><mBoD><mBpD><mBwD><mByD>iEiEjEjEkEkEnEnE<5B9C><5B|C><Re><mBzC><mB0C><mB3C><mB4C><mB7C><PW>kDkDiDiD<mBoC><jBJ><jBL><mBvE>pEpEqEqEhF<mByE><mBqD><mBxD>2D2 <mBzD>hEhE|D|DgEgEhDhD<PX><mBzE><D5E><D6E><mB0D>hEhElElE=BB`),defaultActions:{50:[2,1],201:[2,159],249:[2,161]},performAction(t,e,n,i,s,a,f){let p=a.length-1;switch(s){case 1:return i.buildResult(a[p-1]);case 2:this.$={type:"Block",definitions:a[p-1],body:a[p],range:this._$.range};break;case 3:this.$={type:"Block",definitions:a[p],body:{type:"Placeholder",range:[f[p].range[1],f[p].range[1]]},range:this._$.range};break;case 4:this.$={type:"Block",definitions:[],body:a[p],range:this._$.range};break;case 5:this.$={type:"Block",definitions:[],body:{type:"Placeholder",range:[f[p].range[1],f[p].range[1]]},range:this._$.range};break;case 6:case 96:case 99:case 101:case 117:case 136:case 152:case 155:this.$=[a[p]];break;case 7:a[p-1].push(a[p]);break;case 8:this.$={type:"Definition",declarator:{type:"Declarator",name:null,range:f[p-1].range},value:null,range:this._$.range};break;case 9:this.$={type:"Definition",declarator:{type:"Declarator",name:null,range:f[p-3].range},value:a[p-1],range:this._$.range};break;case 10:this.$={type:"Definition",declarator:{type:"Declarator",name:a[p-1].name,range:f[p-1].range},value:null,range:this._$.range};break;case 11:this.$={type:"Definition",declarator:{type:"Declarator",name:a[p-3].name,range:f[p-3].range},value:a[p-1],range:this._$.range};break;case 12:case 13:case 98:case 148:case 149:this.$={type:"Identifier",name:a[p],range:this._$.range};break;case 14:case 16:case 163:this.$=a[p];break;case 15:case 17:case 18:case 162:this.$=null;break;case 19:case 52:case 53:case 64:case 65:case 138:break;case 20:case 22:this.$={type:"Function",arguments:[],body:a[p],range:this._$.range};break;case 21:this.$={type:"Function",arguments:[{type:"Identifier",name:a[p-2]}],body:a[p],range:this._$.range};break;case 23:this.$={type:"Function",arguments:a[p-3],body:a[p],range:this._$.range};break;case 24:this.$={type:"CompareFunction",compares:a[p],range:this._$.range};break;case 25:case 26:case 27:case 28:case 67:this.$={type:"Prefix",operator:a[p-1],argument:a[p],range:this._$.range};break;case 29:this.$={type:"Pipeline",left:a[p-2],right:a[p],range:this._$.range};break;case 30:this.$={type:"Pipeline",left:a[p-3],right:{type:"Block",definitions:a[p-1],body:a[p]},range:this._$.range};break;case 31:this.$={type:"Postfix",operator:a[p],argument:a[p-2],range:this._$.range};break;case 32:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 48:case 49:case 50:this.$={type:"Binary",operator:a[p-1],left:a[p-2],right:a[p],range:this._$.range};break;case 51:this.$={type:"Conditional",test:a[p-2],consequent:a[p-1],alternate:a[p],range:this._$.range};break;case 54:this.$={type:"Data",range:this._$.range};break;case 55:this.$={type:"Context",range:this._$.range};break;case 56:this.$={type:"Current",range:this._$.range};break;case 57:this.$={type:"Arg1",range:this._$.range};break;case 58:this.$={type:"Reference",name:a[p],range:this._$.range};break;case 59:case 60:case 61:case 62:case 107:case 108:case 109:case 110:case 119:case 120:case 121:this.$={type:"Literal",value:a[p],range:this._$.range};break;case 63:this.$={type:"Template",values:a[p],range:this._$.range};break;case 66:this.$={type:"SliceNotation",value:null,arguments:a[p-1],range:this._$.range};break;case 68:this.$={type:"Conditional",test:null,consequent:a[p-1],alternate:a[p],range:this._$.range};break;case 69:case 73:this.$={type:"GetProperty",value:null,property:a[p],range:this._$.range};break;case 70:case 74:this.$={type:"MethodCall",value:null,method:a[p],range:this._$.range};break;case 71:this.$={type:"Parentheses",body:a[p-1],range:this._$.range};break;case 72:this.$={type:"Parentheses",body:{type:"Block",definitions:a[p-2],body:a[p-1]},range:this._$.range};break;case 75:this.$={type:"Map",value:null,query:a[p-1],range:this._$.range};break;case 76:this.$={type:"Filter",value:null,query:a[p-1],range:this._$.range};break;case 77:this.$={type:"MapRecursive",value:null,query:{type:"GetProperty",value:null,property:a[p]},range:this._$.range};break;case 78:this.$={type:"MapRecursive",value:null,query:{type:"MethodCall",value:null,method:a[p]},range:this._$.range};break;case 79:this.$={type:"MapRecursive",value:null,query:a[p-1],range:this._$.range};break;case 80:this.$={type:"Pipeline",left:null,right:a[p],range:this._$.range};break;case 81:this.$={type:"Pipeline",left:null,right:{type:"Block",definitions:a[p-1],body:a[p]},range:this._$.range};break;case 82:this.$={type:"Pick",value:a[p-2],getter:null,range:this._$.range};break;case 83:this.$={type:"Pick",value:a[p-3],getter:a[p-1],range:this._$.range};break;case 84:this.$={type:"SliceNotation",value:a[p-3],arguments:a[p-1],range:this._$.range};break;case 85:this.$={type:"GetProperty",value:a[p-2],property:a[p],range:this._$.range};break;case 86:this.$={type:"MethodCall",value:a[p-2],method:a[p],range:this._$.range};break;case 87:this.$={type:"Map",value:a[p-3],query:a[p-1],range:this._$.range};break;case 88:this.$={type:"Filter",value:a[p-3],query:a[p-1],range:this._$.range};break;case 89:this.$={type:"MapRecursive",value:a[p-2],query:{type:"GetProperty",value:null,property:a[p]},range:this._$.range};break;case 90:this.$={type:"MapRecursive",value:a[p-2],query:{type:"MethodCall",value:null,method:a[p]},range:this._$.range};break;case 91:this.$={type:"MapRecursive",value:a[p-3],query:a[p-1],range:this._$.range};break;case 92:this.$={type:"Method",reference:{type:"Identifier",name:a[p-1],range:[f[p-1].range[0],f[p-1].range[1]-1]},arguments:[],range:this._$.range},this._mn=a[p-1];break;case 93:this.$={type:"Method",reference:{type:"Identifier",name:a[p-2],range:[f[p-2].range[0],f[p-2].range[1]-1]},arguments:a[p-1],range:this._$.range},this._mn=a[p-2];break;case 94:this.$={type:"Method",reference:{type:"Reference",name:{type:"Identifier",name:a[p-1],range:[f[p-1].range[0],f[p-1].range[1]-1]},range:[f[p-1].range[0],f[p-1].range[1]-1]},arguments:[],range:this._$.range},this._mn=a[p-1];break;case 95:this.$={type:"Method",reference:{type:"Reference",name:{type:"Identifier",name:a[p-2],range:[f[p-2].range[0],f[p-2].range[1]-1]},range:[f[p-2].range[0],f[p-2].range[1]-1]},arguments:a[p-1],range:this._$.range},this._mn=a[p-2];break;case 97:case 100:case 118:case 137:case 156:a[p-2].push(a[p]);break;case 102:this.$=[a[p-1],...a[p]];break;case 103:case 158:this.$=[null,a[p]];break;case 104:case 160:this.$=[a[p-1],a[p]];break;case 105:this.$=[null,a[p-1],...a[p]];break;case 106:this.$=[a[p-2],a[p-1],...a[p]];break;case 111:case 114:this.$={type:"Object",properties:[],range:this._$.range};break;case 112:this.$={type:"Object",properties:a[p-1],range:this._$.range};break;case 113:this.$={type:"Object",properties:a[p-2],range:this._$.range};break;case 115:this.$={type:"Block",definitions:a[p-2],body:{type:"Object",properties:a[p-1]},range:this._$.range};break;case 116:this.$={type:"Block",definitions:a[p-3],body:{type:"Object",properties:a[p-2]},range:this._$.range};break;case 122:this.$={type:"ObjectEntry",key:{type:"Current"},value:null,range:this._$.range};break;case 123:this.$={type:"ObjectEntry",key:{type:"Reference",name:a[p]},value:null,range:this._$.range};break;case 124:case 126:this.$={type:"ObjectEntry",key:a[p],value:null,range:this._$.range};break;case 125:this.$={type:"ObjectEntry",key:{type:"Literal",value:this._mn},value:a[p],range:this._$.range};break;case 127:case 128:this.$={type:"ObjectEntry",key:a[p-2],value:a[p],range:this._$.range};break;case 129:this.$={type:"ObjectEntry",key:{type:"Identifier",name:"$"+a[p-2].name},value:a[p],range:this._$.range};break;case 130:this.$={type:"ObjectEntry",key:a[p-1],value:{type:"Pipeline",left:{type:"Reference",name:a[p-1]},right:a[p]},range:this._$.range};break;case 131:this.$={type:"ObjectEntry",key:a[p-1],value:{type:"Pipeline",left:{type:"GetProperty",value:null,property:a[p-1]},right:a[p]},range:this._$.range};break;case 132:this.$={type:"ObjectEntry",key:{type:"Literal",value:this._mn},value:{type:"Pipeline",left:a[p-1],right:a[p]},range:this._$.range};break;case 133:this.$={type:"ObjectEntry",key:a[p-3],value:a[p],range:this._$.range};break;case 134:this.$={type:"Spread",query:null,array:!1,range:this._$.range};break;case 135:this.$={type:"Spread",query:a[p],array:!1,range:this._$.range};break;case 139:this.$={type:"Spread",query:null,array:!0,range:this._$.range};break;case 140:this.$={type:"Spread",query:a[p],array:!0,range:this._$.range};break;case 141:this.$={type:"Array",elements:[],range:this._$.range};break;case 142:this.$={type:"Array",elements:a[p-1],range:this._$.range};break;case 143:this.$={type:"Array",elements:a[p-2],range:this._$.range};break;case 144:this.$={type:"Assertion",negation:!1,assertion:a[p],range:this._$.range};break;case 145:this.$={type:"Assertion",negation:!0,assertion:a[p],range:this._$.range};break;case 146:this.$={type:"Assertion",negation:!1,assertion:a[p-1],range:this._$.range};break;case 147:this.$={type:"Assertion",negation:!0,assertion:a[p-1],range:this._$.range};break;case 150:this.$={type:"Method",reference:{type:"Reference",name:a[p]},arguments:[],range:this._$.range};break;case 151:this.$={type:"Identifier",name:String(a[p]),range:this._$.range};break;case 153:case 154:a[p-2].push(a[p-1],a[p]);break;case 157:this.$={type:"Compare",query:a[p-1],order:a[p],range:this._$.range};break;case 159:this.$=[null,a[p-1],a[p]];break;case 161:this.$=[a[p-2],a[p-1],a[p]];break}},trace(...t){this.DEBUG&&Jison.print(...t)},parseError(t,e){if(e.recoverable)this.trace(t);else{let n=new Error(t);throw n.hash=e,n}},parse(t,...e){let p=U=>{P.length-=2*U,M.length-=U,A.length-=U},m=()=>{let U=h.lex()||1;return typeof U!="number"&&(U=this.symbols_[U]||U),U},h=Object.create(this.lexer),g=h.options&&h.options.ranges,v={...this.yy,parser:this,lexer:h};h.setInput(t,v),typeof v.parseError=="function"&&(this.parseError=v.parseError),typeof h.yylloc>"u"&&(h.yylloc={});let w=this.table,k={},S=h.yylloc,P=[0],M=[null],A=[S],T=[],L="",O=0,z=0,B=0,H,W;for(;;){let U=P[P.length-1],fe;if(this.defaultActions[U]?fe=this.defaultActions[U]:((H===null||typeof H>"u")&&(H=m()),fe=w[U]&&w[U][H]),!fe||!fe[0]){let D=function(ie){let oe=P.length-1,Ee=0;for(;;){if("2"in w[ie])return Ee;if(ie===0||oe<2)return!1;oe-=2,ie=P[oe],++Ee}},G,ne="";if(!B){let ie=[];for(let oe in w[U])oe in this.terminals_&&oe>2&&ie.push("'"+this.terminals_[oe]+"'");ne=h.showPosition?"Parse error on line "+(O+1)+`:
`+h.showPosition()+`
Expecting `+ie.join(", ")+", got '"+(this.terminals_[H]||H)+"'":"Parse error on line "+(O+1)+": Unexpected "+(H===1?"end of input":"'"+(this.terminals_[H]||H)+"'"),this.parseError(ne,{text:h.match,token:this.terminals_[H]||H,line:h.yylineno,loc:S,expected:ie})}if(B===3){if(H===1||W===1)throw new Error(ne||"Parsing halted while starting to recover from another error.");z=h.yyleng,L=h.yytext,O=h.yylineno,S=h.yylloc,H=m()}if(G===!1)throw new Error(ne||"Parsing halted. No suitable error recovery rule available.");p(G),W=H==2?null:H,H=2,U=P[P.length-1],fe=w[U]&&w[U][2],B=3}if(Array.isArray(fe[0])&&fe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+U+", token: "+H);switch(fe[0]){case 1:P.push(H),M.push(h.yytext),A.push(h.yylloc),P.push(fe[1]),H=null,W?(H=W,W=null):(z=h.yyleng,L=h.yytext,O=h.yylineno,S=h.yylloc,B>0&&B--);break;case 2:{let G=this.productions_[fe[1]][1],ne=A[A.length-(G||1)],D=A[A.length-1];k.$=M[M.length-G],k._$={first_line:ne.first_line,last_line:D.last_line,first_column:ne.first_column,last_column:D.last_column},g&&(k._$.range=[ne.range[0],D.range[1]]);let ie=this.performAction.call(k,L,z,O,v,fe[1],M,A,...e);if(typeof ie<"u")return ie;G&&p(G),P.push(this.productions_[fe[1]][0]),M.push(k.$),A.push(k._$),P.push(w[P[P.length-2]][P[P.length-1]]);break}case 3:return!0}}}};dj=function(e){function n(T,L){Object.entries(L).forEach(([O,z])=>T[O]=z(T[O]))}let i=new Map([["EOF",["<end of input>"]],["IDENT",["ident"]],["$IDENT",["$ident"]],["NOT",["'not'"]],["NO",["'no'"]],["IS",["'is'"]],["IN",["'in'"]],["HAS",["'has'"]],["NOTIN",["'not in'"]],["HASNO",["'has no'"]],["AND",["'and'"]],["OR",["'or'"]],["STRING",["string"]],["TPL_START",["template"]],["TEMPLATE",["template"]],["NUMBER",["number"]],["REGEXP",["regexp"]],["LITERAL",["'true'","'false'","'null'","'undefined'","'NaN'","'Infinity'"]],["ORDER",["'asc'","'desc'","'ascN'","'descN'"]],["METHOD(",["'method('"]],["$METHOD(",["'$method('"]]]),s=T=>i.get(T)||`'${T}'`,a=function(T,L={},O){if(L.recoverable)this.trace(T);else{if(Array.isArray(L.inside)){let U=O.lexer.offset-O.lexer.match.length;O.lexer.setMatch(U+L.inside[0],U+L.inside[1])}let z=O.lexer.yylloc,B=[T.split(/\n/)[0],"",O.lexer.showPosition()],H=Array.isArray(L.expected)?[...new Set([].concat(...L.expected.map(U=>s(U.slice(1,-1)))))]:null;H&&B.push("","Expecting "+H.join(", ")+" got "+s(L.token));let W=new SyntaxError(B.join(`
`));throw W.details={rawMessage:T,text:L.text,token:L.token,expected:H,loc:{range:z.range,start:{line:z.first_line,column:z.first_column,offset:z.range[0]},end:{line:z.last_line,column:z.last_column,offset:z.range[1]}}},W}},f=new Set([`
`,"\r","\u2028","\u2029"]),p=new Map([["undefined",void 0],["null",null],["false",!1],["true",!0],["Infinity",1/0],["NaN",NaN]]);Object.assign(e.lexer,{ident:T=>T.replace(/\\u[0-9a-fA-F]{4}/g,L=>String.fromCharCode(parseInt(L.slice(2),16))),toLiteral:T=>p.get(T),toNumberLiteral(T,L,O=!1){if(L){let z=T.match(O?/(?:^|[^0-9a-fA-F])_|_(?:[^0-9a-fA-F]|$)/:/(?:^|\D)_|_(?:\D|$)/);if(z){let B=z[0],H=z.index+ +(B[1]==="_"),W=B==="__"?"Only one underscore is allowed":"Wrong underscore";this.parseError(W+" as numeric separator",{inside:[H,H+1]})}T=T.replace(/_/g,"")}return O?parseInt(T,16):parseFloat(T)},toStringLiteral(T,L=!1,O=1){let z=T.length-O,B="";for(let H=1;H<z;H++){if(!L&&f.has(T[H])&&this.parseError("Invalid line terminator",{inside:[H,H+1]}),T[H]!=="\\"){B+=T[H];continue}H===z-1&&this.parseError("Invalid backslash",{inside:[H,H+1]});let W=T[++H];switch(W){case"\r":H+=T[H+1]===`
`;break;case`
`:case"\u2028":case"\u2029":break;case"0":B+="\0";break;case"b":B+="\b";break;case"n":B+=`
`;break;case"r":B+="\r";break;case"f":B+="\f";break;case"t":B+="	";break;case"v":B+="\v";break;case"u":{let[U=""]=T.slice(H+1,H+5).match(/^[0-9a-f]*/i)||[];if(U.length===4){B+=String.fromCharCode(parseInt(U,16)),H+=4;break}this.parseError("Invalid Unicode escape sequence",{inside:[H-1,Math.min(H+1+U.length,z)]});break}case"x":{let[U=""]=T.slice(H+1,H+3).match(/^[0-9a-f]*/i)||[];if(U.length===2){B+=String.fromCharCode(parseInt(U,16)),H+=2;break}this.parseError("Invalid hexadecimal escape sequence",{inside:[H-1,Math.min(H+1+U.length,z)]});break}default:B+=W}}return B},toRegExp(T){let L=T.lastIndexOf("/")+1,O=T.substr(L);return O.split("").forEach((z,B,H)=>{let W=H.indexOf(z,B+1);W!==-1&&this.parseError("Duplicate flag in regexp",{inside:[L+W,L+W+1]})}),new RegExp(T.substr(1,T.lastIndexOf("/")-1),O)}}),n(e.lexer,{setInput:T=>function(L,O){let z=[];return O.commentRanges=z,O.buildResult=B=>({ast:B,commentRanges:z}),O.parseError=function(...B){return a.call(this,...B,O)},O.pks=()=>{this.eof()||this.begin("preventKeyword")},O.pps=()=>{this.eof()||this.begin("preventPrimitive")},this.bracketStack=[],this.prevToken=null,this.prevYylloc={first_line:1,last_line:1,first_column:0,last_column:0,range:[0,0]},T.call(this,L,O)}});let m=new e.Parser;m.lexer={...e.lexer},m.yy={...e.yy};let h=["AND","OR","IN","NOTIN","HAS","HASNO","IS"],g=[...h,"NOT","NO","ORDER"],v=["+","-","*","/","%","|","=","!=","~=",">=","<=","<",">"],w=[null,"?",":",";",",",".","..","(",".(","..(","METHOD(","$METHOD(","[",".[","=>",...v,...h,"NOT","NO"],k=[",","?",":",";","EOF","]",")","}","TPL_CONTINUE","TPL_END",...v,...h,"ORDER"],S=new Map(w.map(T=>[T,new Set(k)]));for(let T of[".(","..(","METHOD(","$METHOD("])S.get(T).delete(")");for(let T of["[",".["])S.get(T).delete("]");n(m.lexer,{lex:T=>function(){let O=this.offset,z=T.call(this);if(S.has(this.prevToken)&&S.get(this.prevToken).has(z)){let B={first_line:this.prevYylloc.last_line,last_line:this.yylloc.first_line,first_column:this.prevYylloc.last_column,last_column:this.yylloc.first_column,range:[this.prevYylloc.range[1],this.yylloc.range[0]]};if(this.unput(this.match),this.pushState("preventPrimitive"),this.done=!1,this.yytext="",this.yylloc=this.prevYylloc=B,O!==this.offset&&g.includes(z))switch(this._input[O]){case" ":case"	":B.last_column--,B.range[1]--;break;case`
`:{let H=this._input.lastIndexOf(`
`,O-1);B.last_line--,B.last_column=H===-1?B.last_column-1:O-H,B.range[1]--;break}}return this.prevToken="IDENT"}if(this.prevYylloc=this.yylloc,g.includes(z))switch(this._input[this.offset]){case" ":case"	":this.prevYylloc={...this.prevYylloc,last_column:this.prevYylloc.last_column+1,range:[this.prevYylloc.range[0],this.prevYylloc.range[1]+1]};break;case`
`:this.prevYylloc={...this.prevYylloc,last_line:this.prevYylloc.last_line+1,last_column:0,range:[this.prevYylloc.range[0],this.prevYylloc.range[1]+1]};break}return this.prevToken=z}});let P=new Map([["(",")"],[".(",")"],["..(",")"],["METHOD(",")"],["$METHOD(",")"],["[","]"],[".[","]"],["{","}"],["TPL_START","TPL_END"]]),M=new Set([")","]","}","TPL_END"]),A=T=>function(){let O=T.call(this);if(M.has(O)){let z=this.bracketStack.pop();z!==O&&this.parseError(`Expected "${z}" got "${O}"`)}return P.has(O)&&this.bracketStack.push(P.get(O)),O};return n(e.lexer,{lex:A}),n(m.lexer,{lex:A}),{parse(T,L){return L?m.parse(T):e.parse(T)},*tokenize(T,L,O){let z=L?m:e,B=Object.create(z.lexer);for(B.setInput(T,{parser:z});!B.done;){let H={type:B.lex(),value:B.match,offset:B.yylloc.range[0]};O&&(H.loc={range:B.yylloc.range,start:{line:B.yylloc.first_line,column:B.yylloc.first_column},end:{line:B.yylloc.last_line,column:B.yylloc.last_column}}),yield H}}}}(new Hm),zc=dj});var qm={};te(qm,{compile:()=>hj,stringify:()=>gj,walk:()=>mj});function hj(t,e){e.put(e.scope.arg1?"arguments[1]":"undefined")}function mj(){}function gj(t,e){e.put("$$")}var RC=N(()=>{});var Wm={};te(Wm,{compile:()=>vj,stringify:()=>wj,suggest:()=>yj,walk:()=>bj});function yj(t,e){t.elements.length===0&&e.queryRoot(t.range[0]+1,t.range[1]-1)}function vj(t,e){e.put("["),e.list(t.elements,","),e.put("]")}function bj(t,e){e.list(t.elements)}function wj(t,e){e.put("["),e.list(t.elements,","),e.put("]")}var jC=N(()=>{});var Um={};te(Um,{compile:()=>kj,stringify:()=>Sj,suggest:()=>xj,walk:()=>Cj});function xj(t,e){Array.isArray(t.assertion)||(e.range(t.assertion.range,"var"),e.range(t.assertion.range,"assertion"))}function kj(t,e){if(Array.isArray(t.assertion)){e.put(t.negation?"!(":"(");for(let n=0;n<t.assertion.length;n++)if(n%2===0)e.node(t.assertion[n]);else switch(t.assertion[n]){case"and":e.put("&&");break;case"or":e.put("||");break;default:e.error("Bad conjuction operator in assertion",t)}e.put(")")}else switch(t.negation&&e.put("!"),t.assertion.type){case"Identifier":t.assertion.name?(e.put("!!"),e.tolerant&&e.put("(typeof "),e.put("a."),e.put(t.assertion.name),e.tolerant&&(e.put('==="function"?a.'),e.put(t.assertion.name)),e.put(".call(mctx,"),e.nodeOrCurrent(),e.put(")"),e.tolerant&&e.put(":false)"),e.usedAssertions.has(t.assertion.name)?e.usedAssertions.get(t.assertion.name).push(t.assertion.range):e.usedAssertions.set(t.assertion.name,t.assertion.range)):e.put("false");break;case"Method":e.put("!!"),e.node(t.assertion);break;default:e.error('Unknown assertion node type "'+t.assertion.type+'"',t.assertion)}}function Cj(t,e){if(Array.isArray(t.assertion))for(let n=0;n<t.assertion.length;n++)n%2===0&&e.node(t.assertion[n]);else e.node(t.assertion)}function Sj(t,e){if(t.negation&&e.put("not "),Array.isArray(t.assertion)){e.put("(");for(let n=0;n<t.assertion.length;n++)n%2===0?e.node(t.assertion[n]):(e.put(" "),e.put(t.assertion[n]),e.put(" "));e.put(")")}else e.node(t.assertion)}var _C=N(()=>{});var $m={};te($m,{compile:()=>Tj,stringify:()=>Lj,suggest:()=>Aj,walk:()=>Ej});function Bc(t,e,n){if(n.type==="Array"){if(n.elements.length===0){t.range([n.range[0]+1,n.range[1]-1],"value-subset",e,!1);return}let i=[];for(let{type:a,range:f,value:p}of n.elements)f&&(a==="Literal"||a==="Identifier")&&i.push(p);let s=i.length?t.literalList(i):!1;for(let{type:a,range:f,value:p}of n.elements)f&&(a==="Literal"||a==="Identifier"||a==="GetProperty"&&p===null)&&t.range(f,"value-subset",e,s)}}function Aj(t,e){switch(t.operator){case"in":e.range(t.left.range,"in-value",t.right,null),Bc(e,t.left,t.right);break;case"not in":Bc(e,t.left,t.right);break;case"has":e.range(t.right.range,"in-value",t.left,null),Bc(e,t.right,t.left);break;case"has no":Bc(e,t.right,t.left);break;case"=":case"!=":e.range(t.right.range,"value",t.left,null);break}}function Tj(t,e){if(!(t.operator in HC)){e.error('Unknown operator "'+t.operator+'"',t);return}switch(t.operator){case"and":e.put("!");case"or":{let n=e.allocateVar();e.put(`${e.buildinFn("bool")}(${n}=`),e.node(t.left),e.put(`)?${n}:`),e.scope.captureCurrent.disabled=!0,e.node(t.right),e.scope.captureCurrent.disabled=!1;break}case"??":{let n=e.allocateVar();e.put(`(${n}=`),e.node(t.left),e.put(`,${n}!==null&&${n}!==undefined)?${n}:`),e.scope.captureCurrent.disabled=!0,e.node(t.right),e.scope.captureCurrent.disabled=!1;break}case"has no":e.put("!");case"has":e.put(e.buildinFn("in")),e.put("("),e.node(t.right),e.put(","),e.node(t.left),e.put(")");break;default:e.put(e.buildinFn(HC[t.operator])),e.put("("),e.node(t.left),e.put(","),e.node(t.right),e.put(")")}}function Ej(t,e){e.node(t.left),e.node(t.right)}function Lj(t,e){e.node(t.left),/^[a-z]/i.test(t.operator)?(e.put(" "),e.put(t.operator),e.put(" ")):e.put(t.operator),e.node(t.right)}var HC,qC=N(()=>{HC={in:"in","not in":"notIn",has:"has","has no":"hasNo",and:"and",or:"or","??":"nullish","+":"add","-":"sub","*":"mul","/":"div","%":"mod","=":"eq","!=":"ne","<":"lt","<=":"lte",">":"gt",">=":"gte","~=":"match"}});var Gm={};te(Gm,{compile:()=>Nj,stringify:()=>Oj,suggest:()=>Mj,walk:()=>Dj});function Mj(t,e){t.body===null&&e.queryRoot(t.range[1])}function Nj(t,e){t.definitions.length?e.createScope(()=>{for(let n of t.definitions)e.scope.awaitInit.add(n.declarator.name);e.put("(()=>{"),e.list(t.definitions),e.put("return "),e.nodeOrCurrent(t.body),e.put("})()")},(n,i)=>n+i+";",e.scope.$ref):t.body&&t.body.type==="Object"?(e.put("("),e.nodeOrCurrent(t.body),e.put(")")):e.nodeOrCurrent(t.body)}function Dj(t,e){e.list(t.definitions),e.nodeOrNothing(t.body)}function Oj(t,e){e.list(t.definitions),e.nodeOrNothing(t.body)}var WC=N(()=>{});var Vm={};te(Vm,{compile:()=>Pj,stringify:()=>zj,walk:()=>Ij});function Pj(t,e){t.order.startsWith("desc")&&e.put("-"),e.createScope(()=>{let n=UC[t.order.slice(3+t.order.startsWith("desc"))]||UC[""];e.put(e.buildinFn(n)),e.put("((_q=$=>("),e.node(t.query),e.put("))(a),_q(b))")},(n,i)=>n+i+",")}function Ij(t,e){e.node(t.query)}function zj(t,e){e.node(t.query),e.put(" "),e.put(t.order)}var UC,$C=N(()=>{UC={"":"cmp",N:"cmpNatural",A:"cmpAnalytical",NA:"cmpNaturalAnalytical",AN:"cmpNaturalAnalytical"}});var Ym={};te(Ym,{compile:()=>Bj,stringify:()=>Rj,walk:()=>Fj});function Bj(t,e){e.put("(a, b)=>{let _q;return "),e.list(t.compares,"||"),e.put("||0}")}function Fj(t,e){e.list(t.compares)}function Rj(t,e){e.list(t.compares,",")}var GC=N(()=>{});var Km={};te(Km,{compile:()=>jj,stringify:()=>Hj,walk:()=>_j});function jj(t,e){e.put(e.buildinFn("bool")),e.put("("),e.scope.captureCurrent.disabled=!0,e.nodeOrCurrent(t.test),e.put(")?"),e.nodeOrCurrent(t.consequent),e.put(":"),t.alternate?e.node(t.alternate):e.put("undefined"),e.scope.captureCurrent.disabled=!1}function _j(t,e){e.nodeOrNothing(t.test),e.nodeOrNothing(t.consequent),e.nodeOrNothing(t.alternate)}function Hj(t,e){e.nodeOrNothing(t.test),e.put("?"),e.nodeOrNothing(t.consequent),t.alternate&&(e.put(":"),e.node(t.alternate))}var VC=N(()=>{});var Qm={};te(Qm,{compile:()=>qj,stringify:()=>Uj,walk:()=>Wj});function qj(t,e){e.put("context")}function Wj(){}function Uj(t,e){e.put("#")}var YC=N(()=>{});var Xm={};te(Xm,{compile:()=>Gj,stringify:()=>Yj,suggest:()=>$j,walk:()=>Vj});function $j(t,e){t.range&&e.range(t.range,"var")}function Gj(t,e){e.put(e.scope.$ref)}function Vj(){}function Yj(t,e){e.put("$")}var KC=N(()=>{});var Jm={};te(Jm,{compile:()=>Kj,stringify:()=>Xj,walk:()=>Qj});function Kj(t,e){e.put("data")}function Qj(){}function Xj(t,e){e.put("@")}var QC=N(()=>{});var Zm={};te(Zm,{compile:()=>Jj,stringify:()=>e_,walk:()=>Zj});function Jj(t,e){t.name&&e.put("$"+t.name)}function Zj(){}function e_(t,e){e.put(t.name?"$"+t.name:"$")}var XC=N(()=>{});function xa(t,e){return{type:"GetProperty",value:t,property:e}}function ka(t){return{type:"Identifier",name:t}}var eg=N(()=>{});var tg={};te(tg,{compile:()=>r_,stringify:()=>o_,suggest:()=>n_,walk:()=>i_});function n_(t,e){t.value===null&&e.range(t.declarator.range,"path")}function r_(t,e){if(t.declarator.name===null){e.node(t.declarator),e.nodeOrCurrent(t.value),e.put(";");return}if(e.scope.own.has(t.declarator.name)){e.error(`Identifier "$${t.declarator.name}" has already been declared`,t.declarator);return}if(t_.includes(t.declarator.name)){e.error(`Identifier "$${t.declarator.name}" is reserved for future use`,t.declarator);return}e.put("const "),e.node(t.declarator),e.put("="),e.node(t.value||xa(null,ka(t.declarator.name))),e.put(";"),e.scope.add(t.declarator.name),e.scope.own.add(t.declarator.name),e.scope.awaitInit.delete(t.declarator.name)}function i_(t,e){e.node(t.declarator),e.nodeOrNothing(t.value)}function o_(t,e){e.node(t.declarator),t.value!==null&&(e.put(":"),e.node(t.value)),e.put(";")}var t_,JC=N(()=>{eg();t_=["data","context","ctx","array","idx","index"]});var ng={};te(ng,{compile:()=>s_,stringify:()=>l_,walk:()=>a_});function s_(t,e){e.put(e.buildinFn("filter")),e.put("("),e.nodeOrCurrent(t.value),e.createScope(()=>{e.put(",$=>"),e.node(t.query)},(n,i)=>(e.put(")"),n+"("+i+",")),e.put(")")}function a_(t,e){e.nodeOrNothing(t.value),e.node(t.query)}function l_(t,e){e.nodeOrNothing(t.value),e.put(".["),e.node(t.query),e.put("]")}var ZC=N(()=>{});var rg={};te(rg,{compile:()=>c_,stringify:()=>f_,walk:()=>u_});function c_(t,e){e.createScope(()=>{let n=t.arguments.map(i=>"$"+i.name);e.scope.arg1=!0,e.scope.$ref=n[0]||"$";for(let i of t.arguments)e.scope.add(i.name);e.put("function("),e.put(String(n)||"$"),e.put("){return "),e.node(t.body),e.put("}")},(n,i)=>n+i+",")}function u_(t,e){e.node(t.body)}function f_(t,e){e.put("=>"),e.node(t.body)}var eS=N(()=>{});var ig={};te(ig,{compile:()=>d_,stringify:()=>m_,suggest:()=>p_,walk:()=>h_});function p_(t,e){e.range(t.property.range,"path",t.value||void 0,!t.value),t.value===null&&e.range(t.property.range,"var"),t.range&&t.value===null&&t.property.range[0]!==t.range[0]&&e.queryRoot(t.range[0])}function d_(t,e){e.put(e.buildinFn("map")),e.put("("),e.nodeOrCurrent(t.value),e.put(","),t.property.type==="Identifier"?e.put(JSON.stringify(t.property.name)):e.node(t.property),e.put(")")}function h_(t,e){e.nodeOrNothing(t.value),e.node(t.property)}function m_(t,e){e.nodeOrNothing(t.value)&&e.put("."),e.node(t.property)}var tS=N(()=>{});var og={};te(og,{compile:()=>g_,stringify:()=>v_,walk:()=>y_});function g_(t,e){e.put(t.name)}function y_(){}function v_(t,e){e.put(t.name)}var nS=N(()=>{});var sg={};te(sg,{compile:()=>b_,stringify:()=>x_,walk:()=>w_});function b_(t,e){e.put(typeof t.value=="string"?JSON.stringify(t.value):String(t.value))}function w_(){}function x_(t,e){e.put(typeof t.value=="string"?JSON.stringify(t.value):String(t.value))}var rS=N(()=>{});var ag={};te(ag,{compile:()=>k_,stringify:()=>S_,walk:()=>C_});function k_(t,e){e.put(e.buildinFn("map")),e.put("("),e.nodeOrCurrent(t.value),e.createScope(()=>{e.put(",$=>"),e.node(t.query)},(n,i)=>(e.put(")"),n+"("+i+",")),e.put(")")}function C_(t,e){e.nodeOrNothing(t.value),e.node(t.query)}function S_(t,e){e.nodeOrNothing(t.value),e.put(".("),e.node(t.query),e.put(")")}var iS=N(()=>{});var lg={};te(lg,{compile:()=>A_,stringify:()=>E_,walk:()=>T_});function A_(t,e){e.put(e.buildinFn("mapRecursive")),e.put("("),e.nodeOrCurrent(t.value),e.createScope(()=>{e.put(",$=>"),e.node(t.query)},(n,i)=>(e.put(")"),n+"("+i+",")),e.put(")")}function T_(t,e){e.nodeOrNothing(t.value),e.node(t.query)}function E_(t,e){e.nodeOrNothing(t.value),e.put(".."),e.isSimpleGetPropertyQuery(t.query)||e.isSimpleMethodCallQuery(t.query)?e.node(t.query):(e.put("("),e.node(t.query),e.put(")"))}var oS=N(()=>{});var cg={};te(cg,{compile:()=>M_,stringify:()=>D_,suggest:()=>L_,walk:()=>N_});function L_(t,e){t.arguments.length===0&&e.queryRoot(t.range[1]-1)}function M_(t,e,n){let i=t.reference.type==="Identifier";e.tolerant&&e.put("(typeof "),i&&(e.usedMethods.has(t.reference.name)?e.usedMethods.get(t.reference.name).push(t.reference.range):e.usedMethods.set(t.reference.name,[t.reference.range]),e.put("m.")),e.node(t.reference),e.tolerant&&(e.put('==="function"?'),i&&e.put("m."),e.node(t.reference)),e.put(i?".call(mctx,":"("),e.nodeOrCurrent(n),t.arguments.length&&(e.put(","),e.list(t.arguments,",")),e.put(")"),e.tolerant&&e.put(":undefined)")}function N_(t,e){e.node(t.reference),e.list(t.arguments)}function D_(t,e){e.node(t.reference),e.put("("),e.list(t.arguments,","),e.put(")")}var sS=N(()=>{});var ug={};te(ug,{compile:()=>O_,stringify:()=>I_,walk:()=>P_});function O_(t,e){e.node(t.method,t.value)}function P_(t,e){e.nodeOrNothing(t.value),e.node(t.method)}function I_(t,e){e.nodeOrNothing(t.value)&&e.put("."),e.node(t.method)}var aS=N(()=>{});var fg={};te(fg,{compile:()=>B_,stringify:()=>R_,suggest:()=>z_,walk:()=>F_});function z_(t,e){t.properties.length===0&&e.queryRoot(t.range[0]+1,t.range[1]-1)}function B_(t,e){e.put("{"),e.list(t.properties,","),e.put("}")}function F_(t,e){e.list(t.properties)}function R_(t,e){e.put("{"),e.list(t.properties,","),e.put("}")}var lS=N(()=>{});var pg={};te(pg,{compile:()=>H_,stringify:()=>W_,suggest:()=>__,walk:()=>q_});function __(t,e){if(t.value===null)switch(t.key.type){case"Literal":case"Identifier":e.range(t.range,"path"),e.range(t.range,"var");break;case"Current":case"Reference":e.range(t.range,"var");break}}function H_(t,e){let n=t.value;switch(t.key.type){case"Current":e.put("...null");return;case"Literal":e.node(t.key),n=n||xa(null,ka(String(t.key.value)));break;case"Identifier":e.node(t.key),n=n||xa(null,ka(t.key.name));break;case"Reference":e.node(t.key.name),n=n||t.key;break;default:e.put("["),e.node(t.key),e.put("]")}e.put(":"),e.node(n)}function q_(t,e){e.node(t.key),e.nodeOrNothing(t.value)}function W_(t,e){if(j_.has(t.key.type)){if(e.node(t.key),t.value===null)return}else e.put("["),e.node(t.key),e.put("]");e.put(":"),e.node(t.value)}var j_,cS=N(()=>{eg();j_=new Set(["Literal","Identifier","Reference","Current"])});var dg={};te(dg,{compile:()=>U_,stringify:()=>G_,walk:()=>$_});function U_(t,e){e.put("("),e.node(t.body),e.put(")")}function $_(t,e){e.node(t.body)}function G_(t,e){e.put("("),e.node(t.body),e.put(")")}var uS=N(()=>{});var hg={};te(hg,{compile:()=>Y_,stringify:()=>Q_,suggest:()=>V_,walk:()=>K_});function V_(t,e){if(t.getter===null){let n=t.range[1]-1;e.range([n,n],"key",t.value,!1),e.queryRoot(n)}else(t.getter.type==="GetProperty"||t.getter.type==="Reference"||t.getter.type==="Literal"&&typeof t.getter.value=="string")&&e.range(t.getter.range,"key",t.value,!1)}function Y_(t,e){e.put(e.buildinFn("pick")),e.put("("),e.node(t.value),t.getter&&(e.put(","),e.node(t.getter)),e.put(")")}function K_(t,e){e.node(t.value),t.getter!==null&&e.node(t.getter)}function Q_(t,e){e.node(t.value),e.put("["),t.getter!==null&&e.node(t.getter),e.put("]")}var fS=N(()=>{});var mg={};te(mg,{compile:()=>X_,stringify:()=>Z_,walk:()=>J_});function X_(t,e){e.createScope(()=>{e.put("($=>("),e.node(t.right),e.put("))")},(n,i)=>n+i+","),e.put("("),e.nodeOrCurrent(t.left),e.put(")")}function J_(t,e){e.node(t.left),e.node(t.right)}function Z_(t,e){e.node(t.left),e.put("|"),e.node(t.right)}var pS=N(()=>{});var gg={};te(gg,{compile:()=>tH,stringify:()=>rH,suggest:()=>eH,walk:()=>nH});function eH(t,e){e.queryRoot(t.range[1])}function tH(t,e){e.put(e.scope.$ref)}function nH(){}function rH(){}var dS=N(()=>{});var yg={};te(yg,{compile:()=>iH,stringify:()=>sH,walk:()=>oH});function iH(t,e){if(t.operator&&t.operator.type){e.createScope(()=>{e.put("($=>("),e.node(t.operator),e.put("))")},(n,i)=>n+i+","),e.put("("),e.node(t.argument),e.put(")");return}switch(t.operator){default:e.error('Unknown operator "'+t.operator+'"',t)}}function oH(t,e){e.node(t.argument),t.operator&&t.operator.type&&e.node(t.operator)}function sH(t,e){e.node(t.argument),e.put(" "),e.node(t.operator)}var hS=N(()=>{});var vg={};te(vg,{compile:()=>aH,stringify:()=>cH,walk:()=>lH});function aH(t,e){switch(t.operator){case"no":case"not":e.put("!"),e.put(e.buildinFn("bool")),e.put("("),e.node(t.argument),e.put(")");break;case"+":case"-":e.put(t.operator),e.node(t.argument);break;case"is":e.put("!!("),e.node(t.argument),e.put(")");break;default:e.error('Unknown operator "'+t.operator+'"',t)}}function lH(t,e){e.node(t.argument),t.operator&&t.operator.type&&e.node(t.operator)}function cH(t,e){e.put(t.operator),t.operator!=="-"&&t.operator!=="+"&&e.put(" "),e.node(t.argument)}var mS=N(()=>{});var bg={};te(bg,{compile:()=>fH,stringify:()=>dH,suggest:()=>uH,walk:()=>pH});function uH(t,e){t.range&&e.range(t.range,"var")}function fH(t,e){let n=t.name,i=e.scope.has(n.name),s=e.scope.awaitInit.has(n.name);if(!i||s){s?(e.put("f.unsafeRef(()=>$"),e.node(n),e.tolerant||(e.put(","),e.put(JSON.stringify(n.name)),e.put(","),e.put(JSON.stringify(n.range))),e.put(")")):e.tolerant?e.put("undefined"):e.error(`$${n.name} is not defined`,n);return}e.put("$"),e.node(n)}function pH(t,e){e.node(t.name)}function dH(t,e){e.put("$"),e.node(t.name)}var gS=N(()=>{});var wg={};te(wg,{compile:()=>hH,stringify:()=>gH,walk:()=>mH});function hH(t,e){e.put(e.buildinFn("slice")),e.put("("),e.nodeOrCurrent(t.value),t.arguments.slice(0,3).forEach(n=>{e.put(","),n?e.node(n):e.put("undefined")}),e.put(")")}function mH(t,e){e.nodeOrNothing(t.value);for(let n of t.arguments.slice(0,3))n&&e.node(n)}function gH(t,e){let[n,i,s]=t.arguments;e.nodeOrNothing(t.value),e.put("["),n&&e.node(n),e.put(":"),i&&e.node(i),s&&(e.put(":"),e.node(s)),e.put("]")}var yS=N(()=>{});var xg={};te(xg,{compile:()=>vH,stringify:()=>wH,suggest:()=>yH,walk:()=>bH});function yH(t,e){t.query===null&&e.queryRoot(t.range[1])}function vH(t,e){if(t.array){e.put("..."),e.put(e.buildinFn("ensureArray")),e.put("("),e.nodeOrCurrent(t.query),e.put(")");return}e.put("..."),e.nodeOrCurrent(t.query)}function bH(t,e){e.nodeOrNothing(t.query)}function wH(t,e){e.put("..."),e.nodeOrNothing(t.query)}var vS=N(()=>{});var kg={};te(kg,{compile:()=>kH,stringify:()=>SH,suggest:()=>xH,walk:()=>CH});function xH(t,e){for(let[n,i]of Object.entries(t.values))i===null&&e.queryRoot(t.values[Number(n)-1].range[1])}function kH(t,e){for(let[n,i]of Object.entries(t.values)){let s=Number(n);i!==null&&(s!==0&&e.put("+"),s%2===0?e.put('"'+bS(i.value,AH)+'"'):(e.put("("),e.node(i),e.put(")")))}}function CH(t,e){for(let n of t.values)n!==null&&e.node(n)}function SH(t,e){let n=t.values.length-1;for(let[i,s]of Object.entries(t.values)){let a=Number(i);a%2===0?(e.put(a===0?"`":"}"),e.put(bS(s.value,TH)),e.put(a===n?"`":"${")):s!==null&&e.node(s)}}function bS(t,e){let n="";for(let i=0;i<t.length;i++)n+=e.get(t[i])||t[i];return n}var AH,TH,wS=N(()=>{AH=new Map([["\b","\\b"],[`
`,"\\n"],["\r","\\r"],["\f","\\f"],["	","\\t"],["\v","\\v"],["\u2028","\\u2028"],["\u2029","\\u2029"],["\\","\\\\"],['"','\\"']]),TH=new Map([["\b","\\b"],["\f","\\f"],["	","\\t"],["\v","\\v"],["\\","\\\\"],["$","\\$"]])});var EH,Ca,LH,Cg,Sg,Ag,Tg,Sa=N(()=>{RC();jC();_C();qC();WC();$C();GC();VC();YC();KC();QC();XC();JC();ZC();eS();tS();nS();rS();iS();oS();sS();aS();lS();cS();uS();fS();pS();dS();hS();mS();gS();yS();vS();wS();EH={Arg1:qm,Array:Wm,Assertion:Um,Binary:$m,Block:Gm,Compare:Vm,Conditional:Km,Context:Qm,Current:Xm,Data:Jm,Declarator:Zm,Definition:tg,Filter:ng,Function:rg,GetProperty:ig,Identifier:og,Literal:sg,Map:ag,MapRecursive:lg,Method:cg,MethodCall:ug,Object:fg,ObjectEntry:pg,Parentheses:dg,Pick:hg,Pipeline:mg,Placeholder:gg,Postfix:yg,Prefix:vg,Reference:bg,SliceNotation:wg,CompareFunction:Ym,Spread:xg,Template:kg},Ca=t=>new Map(Object.entries(EH).map(([e,n])=>[e,n[t]]).filter(([,e])=>typeof e=="function")),LH={};Ca("build").forEach((t,e)=>LH[e]=t);Cg=Ca("compile"),Sg=Ca("walk"),Ag=Ca("stringify"),Tg=Ca("suggest")});function Aa(t,e){function n(f){if(Sg.has(f.type))s(f),Sg.get(f.type)(f,i),a(f);else throw new Error('Unknown node type "'+f.type+'"')}let i={node:n,nodeOrNothing(f){f!==null&&n(f)},list(f){f.forEach(n)}},s=()=>{},a=()=>{};typeof e=="function"&&(e={enter:e}),e&&(typeof e.enter=="function"&&(s=e.enter),typeof e.leave=="function"&&(a=e.leave)),n(t)}var Eg=N(()=>{Sa()});function xS(t,e){return e>=0&&e<t.length&&/[a-zA-Z_$0-9]/.test(t[e])}function Lg(t,e){let n=t.charCodeAt(e);return n===9||n===10||n===13||n===32}function MH(t,e,n){for(;e<n;e++)if(!Lg(t,e))return!1;return!0}function NH(t,e,n,i,s){let a=[];for(let f=0;f<i.length;f++){let[p,m]=i[f];if(p>=e)break;p<t||(a.push(t,p),t=m)}return(t!==n.length||!s)&&a.push(t,e),a}function DH(t,e,n,i){let s=[];for(let a=0;a<t.length;a++){let[f,p,m,h]=t[a];if(MH(e,f,p)){for(;f>=0&&Lg(e,f-1);)f--;for(;p<e.length&&Lg(e,p);)p++;if(xS(e,f-1)){if(f===p)continue;f++}if(xS(e,p)){if(f===p)continue;p--}}let g=NH(f,p,e,n,i);for(let v=0;v<g.length;v+=2)s.push([g[v],g[v+1],m,h])}return s}function OH(t){let e=null,n=[],i=Object.assign(new Map,{literalList:n}),s=(f,p)=>{i.has(f)?i.get(f).push(p):i.set(f,[p])},a={range(f,p,m=e,h=!0){s(m,[...f,p,h])},literalList(f){let p="l"+n.length;return n.push([p,f]),p},queryRoot(f,p=f){s(e,[f,p,"var",!0]),s(e,[f,p,"path",!0])}};return Aa(t,f=>{if(Tg.has(f.type)){let p=e;e=f,Tg.get(f.type)(f,a),e=p}}),i}function Fc(t,{ast:e,commentRanges:n}){let i=OH(e),s=n.length&&n[n.length-1][1]===t.length&&!/[\r\n]$/.test(t);for(let[a,f]of i)i.set(a,DH(f,t,n,s));return i}var kS=N(()=>{Sa();Eg()});function PH(t){return t.type==="GetProperty"}function IH(t){return t.type==="MethodCall"}function Rc(t){function e(s){if(Ag.has(s.type))Ag.get(s.type)(s,i);else throw new Error('Unknown node type "'+s.type+'"')}let n=[],i={isSimpleGetPropertyQuery:PH,isSimpleMethodCallQuery:IH,put(s){n.push(s)},node:e,nodeOrNothing(s){if(s!==null)return e(s),!0},list(s,a){if(!a){s.forEach(e);return}s.forEach((f,p)=>{p>0&&i.put(a),e(f)})}};return e(t),n.join("")}var CS=N(()=>{Sa()});function Mg(t,e,n){let i=Object.assign(Object.create(SyntaxError.prototype),n),s=new Error;return i.name=t,i.message=e,Object.defineProperty(i,"stack",{get:function(){return(s.stack||"").replace(/^(.+\n){1,3}/,t+": "+e+`
`)}}),i}var SS=N(()=>{});function Dg(t,e,n){return AS(t,"query",e,n)}function Og(t,e,n){return AS(t,"method",e,n)}function AS(t,e,n=!1,i=null){function s(A){let T="s"+h.length;return h.push(A?[T,A]:[T]),T}function a(A){let T=g.get(A);return T||g.set(A,T=s()),T}function f(A,T,L,O,z){let B=[A,T,JSON.stringify(L)];if(L==="var"){if(!M.scope.size)return;B.push(JSON.stringify([...M.scope]))}else O||(O=s()),B.push(O),z&&B.push(typeof z=="string"?z:a(z));return w.push(B),O}function p(A,T,L="$"){let O=M.scope,z=k.length;if(M.scope=O.spawn(O.arg1||e==="method",L),A(),M.scope.captureCurrent.length){let H="stat("+M.scope.captureCurrent.reduce((W,U)=>f(...U,W),void 0)+","+M.scope.$ref+")";M.scope.firstCurrent?k[M.scope.firstCurrent]=H:k[z]=T(k[z],H)}M.scope=O}function m(A,T){let L=!1;if(i!==null){if(i.has(A))for(let[O,z,B,H]of i.get(A))B==="var"?f(O,z,B):H===!0?M.scope.captureCurrent.push([O,z,B]):(L||(L=a(A),k.push("stat("+L+",")),B&&f(O,z,B,L,H));A.type==="Current"&&M.scope.firstCurrent===null&&M.scope.captureCurrent.disabled!==!0&&(M.scope.firstCurrent=k.length)}if(Cg.has(A.type))Cg.get(A.type)(A,M,T);else throw new Error('Unknown node type "'+A.type+'"');L&&k.push(")")}let h=[],g=new WeakMap,v=[],w=[],k=[{toString(){if(e==="query")return["((data,context)=>{",...M.usedMethods.size||M.usedAssertions.size?["const method = (name,...args)=>m[name].apply(mctx,args);","const assertion = (name,...args)=>a[name].apply(mctx,args);","const mctx = Object.freeze({context,method,assertion});"]:[]].join(`
`)+`
`;if(e==="method")return["(function(data){","const mctx = this;","const context = mctx.context;"].join(`
`)+`
`;throw new Error("Unknown kind: "+e)}},{toString(){return v.length>0?"let "+v+`;
`:""}},{toString(){return h.length>0?[`const stat=(s,v)=>(s.add(v),v);
`,"const "+h.map(([A,T])=>A+"=new Set("+(T?JSON.stringify(T):"")+")")+`;
`].join(""):""}},{toString(){let A=i&&Array.isArray(i.literalList)&&i.literalList.map(([T,L])=>T+"="+JSON.stringify(L));return A&&A.length?"const "+A+`;
`:""}},i===null?"return ":`return{
value: `],S={},P=new Set,M={tolerant:n,usedAssertions:new Map,usedMethods:new Map,suggestions:i!==null,buildinFn(A){return P.add(A),"f."+A},scope:new Ng,createScope:p,error:(A,T)=>{let L=new SyntaxError(A);if(T&&T.range&&(L.details={loc:{range:T.range}}),!n)throw L},allocateVar(){let A="tmp"+v.length;return v.push(A),A},put:A=>k.push(A),node:m,nodeOrCurrent(A,T){m(A||{type:"Current"},T)},list(A,T,L){A.forEach((O,z)=>{z>0&&k.push(T),m(O,L)})}};if(p(()=>m(t),(A,T)=>(k.push(")"),"("+T+","+A),"data"),!n){let{usedMethods:A,usedAssertions:T}=M;T.size&&(k.unshift(" this.assertAssertions(a)||"),S.assertAssertions=function(L){for(let[O,z]of T.entries())if(!Cn(L,O))return()=>{throw Object.assign(new Error(`Assertion "${O}" is not defined`),{details:{loc:{range:z}}})}}),A.size&&(k.unshift(" this.assertMethods(m)||"),S.assertMethods=function(L){for(let[O,z]of A.entries())if(!Cn(L,O))return()=>{throw Object.assign(new Error(`Method "${O}" is not defined. If that's a custom method make sure you added it with "methods" section in options`),{details:{loc:{range:z[0]}}})}})}i!==null&&k.push(`,
stats: [`+w.map(A=>"["+A+"]")+`],
methods: m,
assertions: a
}`);try{let A=new Function("f,m,a","return"+k.join("")+"})");return Object.assign(A.bind(S),{toString(){return A.toString().replace(/^(\S+\s+)anonymous([^)\s]+)\s*\)/,"$1query$2)")}})}catch(A){throw Mg("SyntaxError","Jora query compilation error",{compiledSource:k.join(""),details:A})}}var Ng,TS=N(()=>{ti();SS();Sa();Ng=class t extends Set{constructor(e,n=[],i=!1,s="$"){super(e),this.own=new Set,this.awaitInit=new Set(n),this.firstCurrent=null,this.captureCurrent=[],this.arg1=i,this.$ref=s}spawn(e,n){return new t(this,this.awaitInit,e,n)}}});var ES,er,Ta,kr,Pg,Ig,zH,BH,es,FH,LS,RH,MS,NS,DS,OS=N(()=>{ES=t=>typeof t=="number"||typeof t=="string",er=(t,e)=>e<t.length?t.charCodeAt(e):0,Ta=t=>t===43||t===45,kr=t=>t>=48&&t<=57,Pg=t=>t===9||t===10||t===12||t===13||t===32,Ig=t=>t>32&&t<256&&(t<65||t>90)&&(t<97||t>122)&&!kr(t)&&!Ta(t)||t===8470,zH=t=>t&&!Pg(t)&&!Ig(t)&&!kr(t),BH=(t,e,n)=>Ta(t)?kr(e)?2:e===46&&kr(n)?3:0:kr(t)?1:0,es=(t,e,n)=>{for(;n(er(t,++e)););return e},FH=(t,e,n)=>{let i=er(t,e);if(Ta(i)&&(i=er(t,e+=1)),kr(i)&&(e=es(t,e,kr),i=er(t,e)),i===46&&kr(er(t,e+1))){if(n)return e;let s=es(t,e+1,kr);if(i=er(t,s),i===46)return e;e=s}if(i===69||i===101){let s=1;i=er(t,e+1),Ta(i)&&(s=2,i=er(t,e+2)),kr(i)&&(e=es(t,e+s,kr))}return e},LS=(t,e,n,i)=>{if(e>=t.length)return 0;let s=er(t,e);return Pg(s)?1|es(t,e,Pg)-e<<4:Ig(s)||i&&Ta(s)?2|es(t,e,Ig)-e<<4:BH(s,er(t,e+1),er(t,e+2))?4|FH(t,e,n)-e<<4:8|es(t,e,zH)-e<<4},RH=(t,e,n)=>{let i=0,s=0,a=!1,f=!1,p=0,m=0,h=!0;for(;;){let g=LS(t,i,a,f),v=LS(e,s,a,f),w=g&15,k=g>>4,S=v&15,P=v>>4;if(w!==S){if(h&&w&3&&S&12){p=1,m=w,i+=k;continue}if(h&&S&3&&w&12){p=-1,m=S,s+=P;continue}return w-S}if(w===0)return p;h=!1,a=!1,f=!1;let M=k<P?k:P,A=k-P,T="",L="";for(let O=0;O<M;O++)if(T=t[i+O],L=e[s+O],T!==L){A=T<L?-1:1;break}if(w&3)a=t[i+k-1]===".",A!==0&&w>m&&(m=w,p=A);else if(w&4){if(f=!0,A!==0){let O=t.substr(i,k)-e.substr(s,P);if(O!==0)return n?-O:O;if(w>m){let z=er(t,i),B=er(e,s),H=z===45?-1:1;m=w,p=z!==B&&(z===45||B===43)?-1:z!==B&&(z===43||B===45)?1:(k-P||A)<0?-H:H,n&&(p=-p)}}}else if(A!==0){if(T!==L){let O=t.substr(i,k),z=e.substr(s,P),B=O.toLowerCase(),H=z.toLowerCase();return B!==H?B<H?-1:1:O<z?-1:1}return A}i+=k,s+=P}},MS=t=>(e,n)=>ES(e)&&ES(n)?Math.sign(RH(String(e),String(n),t)):0,NS=MS(!1),DS=MS(!0)});function xi(t){switch(typeof t){case"boolean":return jH;case"number":return t!==t?_H:ts;case"string":return Ea;case"object":return t===null?HH:qH;case"undefined":return UH;default:return WH}}function ns(t,e){let n=xi(t),i=xi(e);return n!==i?n<i?-1:1:t<e?-1:t>e?1:0}function PS(t,e){let n=xi(t),i=xi(e);return n!==i?n<i?-1:1:n===ts?e-t:t<e?-1:t>e?1:0}function Yi(t,e){let n=xi(t),i=xi(e);return(n===ts||n===Ea)&&(i===ts||i===Ea)?NS(t,e):n!==i?n<i?-1:1:t<e?-1:t>e?1:0}function IS(t,e){let n=xi(t),i=xi(e);return(n===ts||n===Ea)&&(i===ts||i===Ea)?DS(t,e,!0):n!==i?n<i?-1:1:t<e?-1:t>e?1:0}function zg(t,e){return t.length===1?(n,i)=>e(t(n),t(i)):t}var jH,_H,ts,Ea,HH,qH,WH,UH,jc=N(()=>{OS();jH=1,_H=2,ts=3,Ea=4,HH=5,qH=6,WH=7,UH=8});function $H(t,e,n){try{return t()}catch{if(e)throw Object.assign(new ReferenceError(`Cannot access $${e} before initialization`),{details:{name:e,loc:{range:n}}})}}function GH(t){return wt(t)?t:[t]}function VH(t,e){return wt(t)||wt(e)?[...new Set([...wt(t)?t:[t],...wt(e)?e:[e]])]:t+e}function YH(t,e){if(wt(t)){let n=new Set(t);return wt(e)?e.forEach(i=>n.delete(i)):n.delete(e),[...n]}return t-e}function KH(t,e){return t*e}function QH(t,e){return t/e}function XH(t,e){return t%e}function JH(t,e){return Object.is(t,e)}function ZH(t,e){return!Object.is(t,e)}function e3(t,e){return t<e}function t3(t,e){return t<=e}function n3(t,e){return t>e}function r3(t,e){return t>=e}function _c(t,e){return xr(e)?Cn(e,t):e?zS(e,t)!==-1:!1}function i3(t,e){return typeof e=="function"?Fg(t,e):wi(e)?Fg(t,e.test.bind(e)):e==null}function o3(t,e=()=>!0){if(t){if(typeof e=="function"){if(wt(t)||typeof t=="string"){for(let n=0;n<t.length;n++)if(Zn(e(t[n],n)))return t[n]}for(let n in t)if(Cn(t,n)&&Zn(e(t[n],n)))return t[n];return}return wt(t)||typeof t=="string"?isFinite(e)?t[e<0?t.length+Number(e):Number(e)||0]:void 0:Cn(t,e)?t[e]:void 0}}function s3(t,e,n){return t?zS(t,e,n):-1}function zS(t,e,n=0){if(Number.isNaN(e)&&ei(t)){for(let i=Vi(n,0);i<t.length;i++)if(Number.isNaN(t[i]))return i}return typeof t.indexOf=="function"?t.indexOf(e,n):-1}function a3(t,e,n){return t?l3(t,e,n):-1}function l3(t,e,n){if(Number.isNaN(e)&&ei(t)){for(let i=Vi(n,t.length-1);i>=0;i--)if(Number.isNaN(t[i]))return i}return typeof t.lastIndexOf=="function"?t.lastIndexOf(e,Vi(n,t.length-1)):-1}function Bg(t,e){let n=typeof e=="function"?e:i=>BC(i,e);return wt(t)?[...t.reduce((i,s)=>Zo(i,n(s)),new Set)]:t!==void 0?n(t):t}function c3(t,e){let n=new Set;return Zo(n,Bg(t,e)),n.forEach(i=>Zo(n,Bg(i,e))),[...n]}function Fg(t,e){return wt(t)?t.some(n=>Zn(e(n))):Zn(e(t))}function u3(t,e){return wt(t)?t.filter(n=>Zn(e(n))):Zn(e(t))?t:void 0}function f3(t,e,n,i=1){if(!ei(t))return[];if(e=Vi(e,0),n=Vi(n,t.length),i=Vi(i,1)||1,e=e<0?Math.max(0,t.length+e):Math.min(t.length,e),n=n<0?Math.max(0,t.length+n):Math.min(t.length,n),e>=0&&n>=0&&e<=n&&i===1)return typeof t=="string"?t.slice(e,n):Array.prototype.slice.call(t,e,n);e>n&&([e,n]=[n,e],i=-i);let s=[];if(i>0)for(let a=e;a<n;a+=i)s.push(t[a]);else for(let a=n-1;a>=e;a+=i)s.push(t[a]);return typeof t=="string"?s.join(""):s}var Wn,Hc=N(()=>{jc();ti();Wn=Object.freeze({unsafeRef:$H,ensureArray:GH,bool:Zn,and:(t,e)=>Zn(t)?e:t,or:(t,e)=>Zn(t)?t:e,add:VH,sub:YH,mul:KH,div:QH,mod:XH,eq:JH,ne:ZH,lt:e3,lte:t3,gt:n3,gte:r3,in:_c,notIn:(t,e)=>!_c(t,e),has:(t,e)=>_c(e,t),hasNo:(t,e)=>!_c(e,t),cmp:ns,cmpAnalytical:PS,cmpNatural:Yi,cmpNaturalAnalytical:IS,match:i3,pick:o3,indexOf:s3,lastIndexOf:a3,map:Bg,mapRecursive:c3,some:Fg,filter:u3,slice:f3})});function BS(t){return Array.from({length:t},(e,n)=>({idx:n})).sort((e,n)=>e.idx%2-n.idx%2).every((e,n)=>n<t/2?e.idx>>1===n:Math.ceil(t/2)+(e.idx>>1)===n)}function FS(t,e){return t.length<=p3?t.slice().sort(e):t.map((n,i)=>({value:n,idx:i})).sort((n,i)=>(n.value===void 0?i.value!==void 0:i.value===void 0?-1:e(n.value,i.value))||n.idx-i.idx).map(n=>n.value)}var p3,RS=N(()=>{p3=BS(20)?1/0:BS(10)?10:0});var d3,h3,qc,ki,Wc,Rg=N(()=>{d3=(t,e)=>t-e,h3=(t,e)=>e-t,qc=class{constructor(e,n,i,s=!1){this.maxSize=e||1/0,this.compare=n||h3,this.accept=i||null,this.values=[],this.valuesSet=s?new Set:null}add(e){this.accept!==null&&!this.accept(e)||this.valuesSet!==null&&this.valuesSet.has(e)||(this.values.length<this.maxSize?(this.valuesSet!==null&&this.valuesSet.add(e),this.values.push(e),this.heapifyUp(this.values.length-1)):this.compare(this.values[0],e)>0&&(this.valuesSet!==null&&(this.valuesSet.delete(this.values[0]),this.valuesSet.add(e)),this.values[0]=e,this.heapifyDown()))}addArray(e){for(let n=0;n<e.length;n++)this.add(e[n])}extract(){let e=this.values[0],n=this.values.pop();return this.values.length>0&&(this.values[0]=n,this.heapifyDown()),this.valuesSet!==null&&this.valuesSet.delete(e),e}heapifyUp(e){let n=this.values,i=n[e];for(;e>0;){let s=e-1>>1,a=n[s];if(this.compare(a,i)>0)break;n[s]=i,n[e]=a,e=s}}heapifyDown(){let e=this.values,n=e.length,i=n>>1,s=0,a=e[s],f=s,p=a;for(;s<i;){let m=2*s+1,h=e[m],g=m+1;if(this.compare(h,a)>0&&(f=m,p=h),g<n){let v=e[g];this.compare(v,p)>0&&(f=g,p=v)}if(f===s)break;e[s]=p,e[f]=a,s=f,p=a}}[Symbol.iterator](){return this.values.slice().sort(this.compare)[Symbol.iterator]()}},ki=class extends qc{},Wc=class extends qc{constructor(e,n,i,s){super(e,n?(a,f)=>-n(a,f):d3,i,s)}}});function g3(t){return t!==null&&typeof t=="object"?NaN:Number(t)}function rs(t,e,n){if(ei(t)){typeof e!="function"&&(e=m3);for(let i of t){let s=e(i);s!==void 0&&n(g3(s))}}}var m3,jg=N(()=>{ti();m3=t=>t});function jS(t,e,n,i,s){if(t.length===0||!isFinite(e)||e<0||e>100)return;let a=0,f=e*(t.length-1)/100,p=Math.floor(f),m=Math.ceil(f),h=!1,g=e<50?new Wc(m+1,s):new ki(t.length-p,s);if(rs(t,n,v=>{Number.isNaN(v)&&(h=!0),g.add(v),a++}),h)return NaN;if(t.length!==a){if(a===0)return;f=e*(a-1)/100,p=Math.floor(f),m=Math.ceil(f);let v=e<50?m+1:a-p;for(let w=g.values.length;w>v;w--)g.extract()}if(p!==m){let v=g.extract(),w=g.values[0];return v<=w?v+(w-v)*(f-p):w+(v-w)*(f-p)}return g.values[0]}var _S=N(()=>{Rg();jg()});function HS(t,e){let n,i=0,s=0;return rs(t,e,a=>{if(s++,n===void 0)n=a;else{let f=n,p=Math.abs(f),m=Math.abs(a);n+=a,p!==1/0&&m!==1/0&&(p>=m?i+=f-n+a:i+=a-n+f)}}),n!==void 0&&(n+=i),{sum:n,count:s}}function qS(t,e){let n=[];return rs(t,e,n.push.bind(n)),n}function WS(t,e){let n=0;if(ei(t)){typeof e!="function"&&(e=y3);for(let i of t)e(i)!==void 0&&n++}return n}function US(t,e){return HS(t,e).sum}function $S(t,e){let{sum:n,count:i}=HS(t,e);if(i>0)return n/i}function _g(t,e){let n=0,i=0,s=0;if(rs(t,e,a=>{n+=1;let f=a-i;i+=f/n,s+=f*(a-i)}),n>0)return s/n}function GS(t,e){let n=_g(t,e);if(n!==void 0)return Math.sqrt(n)}function VS(t,e=Yi){let n;if(t&&isFinite(t.length)&&typeof e=="function"){e=zg(e,Yi);for(let i=0;i<t.length;i++){let s=t[i];(n===void 0||e(s,n)<0)&&e(s,void 0)!==0&&(n=s)}}return n}function YS(t,e=Yi){let n;if(t&&isFinite(t.length)&&typeof e=="function"){e=zg(e,Yi);for(let i=0;i<t.length;i++){let s=t[i];(n===void 0||e(s,n)>=0)&&e(s,void 0)!==0&&(n=s)}}return n}function Uc(t,e,n){if(ei(t))return jS(t,e,n)}function KS(t,e){return Uc(t,50,e)}var y3,QS=N(()=>{jc();_S();jg();ti();y3=t=>t});function v3(){}function b3(t){return t}function XS(t){return t===null?null:{matched:t.slice(),start:t.index,end:t.index+t[0].length,input:t.input,groups:t.groups||null}}function w3(t){let e=t.pop(),n=typeof e=="string"?null:e,i=n===null?e:t.pop(),s=t.pop();return{matched:t,start:s,end:s+t[0].length,input:i,groups:n}}var x3,La,JS=N(()=>{Hc();jc();RS();QS();ti();x3=String.prototype.replaceAll||function(t,e){return wi(t)?this.replace(t,e):this.split(t).join(String(e))},La=Object.freeze({bool:Wn.bool,filter:Wn.filter,map:Wn.map,pick:Wn.pick,indexOf:Wn.indexOf,lastIndexOf:Wn.lastIndexOf,keys(t){return Object.keys(t||{})},values(t){let e=new Set;for(let n in t)Cn(t,n)&&Zo(e,t[n]);return[...e]},entries(t){let e=[];for(let n in t)Cn(t,n)&&e.push({key:n,value:t[n]});return e},fromEntries(t){let e=Object.create(null);if(Array.isArray(t))for(let n of t)n&&(e[n.key]=n.value);return e},size(t){return xr(t)?Object.keys(t).length:t&&t.length||0},sort(t,e=ns){if(!wt(t))return t;if(typeof e=="function"&&e.length!==2){let n=e;e=(i,s)=>{if(i=n(i),s=n(s),Array.isArray(i)&&Array.isArray(s)){if(i.length!==s.length)return i.length<s.length?-1:1;for(let a=0;a<i.length;a++){let f=ns(i[a],s[a]);if(f!==0)return f}return 0}return ns(i,s)}}return FS(t,e)},reverse(t){return wt(t)?t.slice().reverse():t},slice(t,e,n){return typeof t=="string"||wt(t)?t.slice(e,n):Array.prototype.slice.call(t,e,n)},group(t,e,n){let i=new Map,s=[];typeof e!="function"&&(e=v3),typeof n!="function"&&(n=b3),wt(t)||(t=[t]);for(let a of t){let f=e(a);if(wt(f))if(f.length>0){let p=n(a);for(let m of f)Ic(i,m,p)}else Ic(i,void 0,n(a));else Ic(i,f,n(a))}for(let[a,f]of i)s.push({key:a,value:[...f]});return s},join(t,e){return wt(t)?t.join(e):String(t)},match(t,e,n){let i=String(t),s=wi(e)?e.flags:"";if(n||s.includes("g")){let a=[],f=new RegExp(e,(s||"").replace(/g|$/,"g")),p;for(;p=f.exec(i);)a.push(XS(p));return a}return XS(i.match(e))},reduce(t,e,n=void 0){return wt(t)?n!==void 0?t.reduce((i,s)=>e(s,i),n):t.reduce((i,s)=>e(s,i)):e(t,n)},split(t,e){if(wt(t)){let n=typeof e=="function"?e:Object.is.bind(null,e),i=[],s=0,a=0;for(;a<t.length;a++)n(t[a])&&(i.push(t.slice(s,a)),s=a+1);return i.push(t.slice(s,a)),i}return String(t).split(e)},replace(t,e,n){if(wt(t)){let i=typeof e=="function"?e:Object.is.bind(null,e),s=[...t];for(let a=0;a<s.length;a++){let f=s[a];i(f)&&(s[a]=typeof n=="function"?n(f):n)}return s}return wi(e)&&!e.flags.includes("g")&&(e=new RegExp(e,e.flags+"g")),x3.call(String(t),e,typeof n=="function"?(...i)=>n(w3(i)):n)},toLowerCase(t,e){return String(t).toLocaleLowerCase(e)},toUpperCase(t,e){return String(t).toLocaleUpperCase(e)},trim(t){return String(t).trim()},...["abs","acos","acosh","asin","asinh","atan","atan2","atanh","cbrt","ceil","clz32","cos","cosh","exp","expm1","floor","fround","hypot","imul","log10","log2","pow","round","sign","sin","sinh","sqrt","tan","tanh","trunc"].reduce((t,e)=>(t[e]=Math[e],t),{}),ln:Math.log,ln1p:Math.log1p,numbers:qS,count:WS,sum:US,avg:$S,variance:_g,stdev:GS,min:VS,max:YS,percentile:Uc,p:Uc,median:KS})});var Ma,ZS=N(()=>{ti();Ma=Object.freeze({function:t=>typeof t=="function",symbol:t=>typeof t=="symbol",primitive:t=>t===null||typeof t!="object"&&typeof t!="function",string:t=>typeof t=="string",number:t=>typeof t=="number",int:Number.isInteger,finite:t=>Number.isFinite(t),nan:t=>Number.isNaN(t),infinity:t=>t===1/0||t===-1/0,boolean:t=>t===!0||t===!1,null:t=>t===null,undefined:t=>t===void 0,nullish:t=>t==null,object:xr,array:wt,regexp:wi,truthy:Zn,falsy:t=>!Zn(t)})});function $c(t,e){Object.keys(t).forEach(e.add,e)}function C3(t,e,n,i=new Set){let s=a=>{switch(typeof a){case"string":case"number":i.add(a);break}};switch(t){case"path":{let a=new Set;for(let f of e)if(Array.isArray(f))for(let p of f)xr(p)&&$c(p,a);else xr(f)&&$c(f,a);a.forEach(i.add,i);break}case"key":{let a=new Set;for(let f of e)f!==null&&typeof f=="object"&&!Array.isArray(f)&&$c(f,a);a.forEach(i.add,i);break}case"value":for(let a of e)s(a);break;case"in-value":{let a=new Set;for(let f of e)wt(f)?f.forEach(s):xr(f)&&$c(f,a);a.forEach(i.add,i);break}case"var":for(let a of e)i.add("$"+a);break;case"value-subset":{let a=new Set(n);for(let f of e)a.has(f)||s(f);break}}return i}function e1(t,e,n,i=!1){let s=[];for(let[a,f,p,m,h=null]of n)if(e>=a&&e<=f&&(i||m.size||m.length)){let g=t.substring(a,f);/\S/.test(g)||(a=f=e,g=""),s.push({context:p,from:a,to:f,text:g,values:m,related:h})}return s}function t1(t,e){return typeof t=="function"?t:t===!0?e:!1}function n1(t){if(/^(["']).*\1$/.test(t))try{return t[0]==="'"&&(t=`"${t.slice(1,-1).replace(/\\.|"/g,e=>e==="\\'"?"'":e==='"'?'\\"':e)}"`),JSON.parse(t)}catch{}return t}function S3(t){return e=>(typeof e=="string"?e:String(e)).toLowerCase().indexOf(t)!==-1}var k3,Hg,r1=N(()=>{Hc();Rg();ti();k3={path:"property",key:"value",value:"value","in-value":"value","value-subset":"value",var:"variable",assertion:"assertion"};Hg=(t,{value:e,stats:n,assertions:i})=>({get value(){return e},stat(s,a){return e1(t,s,n,a)},suggestion(s,a){let{limit:f=1/0,sort:p,filter:m}=a||{};p=t1(p,Wn.cmp),m=t1(m,S3);let h=p&&isFinite(f)?ki:Set,g=e1(t,s,n,!0),v=new Map,w=[];for(let k of g){let{context:S,text:P,from:M,to:A,values:T,related:L}=k,O=k3[S];if(!v.has(O)){let B;switch(h){case ki:B=new ki(f,p,m&&m(n1(P)),!0);break;case Set:B=new Set;break}v.set(O,{type:O,from:M,to:A,text:P,suggestions:B})}let{suggestions:z}=v.get(O);switch(S){case"assertion":if(z.size===0||z.values&&z.values.length===0)for(let B of Object.keys(i))z.add(B);break;default:C3(S,T,L,z)}}if(h===Set)for(let k of v.values()){let{suggestions:S}=k;if(p&&(S=[...S].sort(p)),m||isFinite(f)){let P=[],M=m?m(n1(k.text)):()=>!0;for(let A of S)if(M(A)&&P.push(A)>=f)break;S=P}k.suggestions=S}for(let k of v.values())k.suggestions=Array.isArray(k.suggestions)?k.suggestions:[...k.suggestions],k.suggestions.length&&w.push(k);return w.length?w:null}})});function i1(t,e,n,i,s){typeof n=="string"?Object.defineProperty(t,e,{configurable:!0,get(){let f=qg(n,"method")(Wn,i,s);return Object.defineProperty(t,e,{enumerable:!0,value:f}),f}}):typeof n=="function"&&Object.defineProperty(t,e,{enumerable:!0,value:n})}function o1(t,e){if(!t&&!e)return{queryMethods:La,queryAssertions:Ma};let n={...La},i={...Ma};for(let[s,a]of Object.entries(t||{})){if(Cn(La,s))throw new Error(`Builtin method "${s}" can't be overridden`);i1(n,s,a,n,i)}for(let[s,a]of Object.entries(e||{})){if(Cn(Ma,s))throw new Error(`Builtin assertion "${s}" can't be overridden`);i1(i,s,a,n,i)}return{queryMethods:n,queryAssertions:i}}function M3(t,e){console.log(`[${t}]`),typeof e=="string"?console.log(e):e!==void 0&&console.dir(e,{depth:null}),console.log()}function qg(t,e,n,i,s){s=typeof s=="function"?s:s?M3:!1,s&&(s("========================="),s("Compile query from source",t));let a=zc.parse(t,i);s&&(s("AST",a.ast),s("Restored source",Rc(a.ast)));let f=n?Fc(t,a):null;if(s&&f){let m=w=>JSON.stringify(w).slice(1,-1),h=[].concat(...[...f.entries()].map(([w,k])=>k.map(S=>[w,...S]))),g=[],v=null;s("Stat/suggestion ranges",h.sort((w,k)=>w[1]-k[1]).map(([w,...k])=>{let[S,P,M,A]=k,T;if(S===g[0]&&P===g[1])T=" ".repeat(v.length);else{let L=m(t.slice(0,S)).length,O=m(t.substring(S,P)).length;g=k,v=" ".repeat(L)+(O?"~".repeat(O):"\\")+" "+S+":"+P,T=m(t)+`
`+v}return T+" ["+M+"] on "+w.type+(A===!0?" (current)":A&&A.type?" & "+A.type:"")}).join(`
`))}let p=e==="method"?Og(a.ast,i,f):Dg(a.ast,i,f);return s&&s("Compiled code",p.toString()),p}function N3(t,e){e=e||{};let n=!!e.stat,i=!!e.tolerant,s=n?i?L3:T3:i?E3:A3,{methods:a,assertions:f}=e||{},{queryMethods:p,queryAssertions:m}=o1(a,f),h;return t=String(t),s.has(t)&&!e.debug?h=s.get(t):(h=qg(t,"query",n,i,e.debug),s.set(t,h)),h=h(Wn,p,m),n?Object.assign((g,v)=>Hg(t,h(g,v)),{query:h}):h}function D3(t){let e=new Map,n=new Map,i=new Map,s=new Map,{methods:a,assertions:f}=t||{},{queryMethods:p,queryAssertions:m}=o1(a,f);return function(g,v){v=v||{};let w=!!v.stat,k=!!v.tolerant,S=w?k?s:n:k?i:e,P;if(g=String(g),S.has(g)&&!v.debug)P=S.get(g);else{let M=qg(g,"query",w,k,v.debug)(Wn,p,m);P=w?Object.assign((A,T)=>Hg(g,M(A,T)),{query:M}):M,S.set(g,P)}return P}}var A3,T3,E3,L3,ur,Na=N(()=>{zC();ti();FC();kS();Eg();CS();TS();Hc();JS();ZS();r1();A3=new Map,T3=new Map,E3=new Map,L3=new Map;ur=Object.assign(N3,{version:IC,buildin:Wn,methods:La,assertions:Ma,setup:D3,syntax:{tokenize:zc.tokenize,parse:zc.parse,suggest:Fc,walk:Aa,stringify:Rc,compile:Dg,compileMethod:Og}})});var Cr,Da=N(()=>{Cr=class{listeners;constructor(){this.listeners=Object.create(null)}on(e,n){return this.listeners[e]={callback:n,next:this.listeners[e]||null},this}once(e,n){return this.on(e,function i(...s){n.apply(this,s),this.off(e,i)})}off(e,n){let i=this.listeners[e]||null,s=null;for(;i!==null;){if(i.callback===n){i.callback=null,s?s.next=i.next:this.listeners[e]=i.next;break}s=i,i=i.next}return this}emit(e,...n){let i=this.listeners[e]||null,s=!1;for(;i!==null;)typeof i.callback=="function"&&i.callback.apply(this,n),s=!0,i=i.next;return s}}});var tr,is=N(()=>{Da();tr=class extends Cr{#e;#t;static define(e,n,i){return e.#e.set(n,i),e.emit("define",n,i),i}constructor(e){super(),this.#e=new Map,this.#t=!!e}revoke(e){if(!this.#t)throw new Error("Entry revoking is not allowed");this.#e.delete(e),this.emit("revoke",e)}isDefined(e){return this.#e.has(e)}has(e){return this.#e.has(e)}get(e){return this.#e.get(e)}get names(){return[...this.#e.keys()]}get keys(){return this.#e.keys()}get values(){return this.#e.values()}get entries(){return this.#e.entries()}}});var Oa,s1=N(()=>{is();Oa=class t extends tr{#e;constructor(){super(!0),this.#e=Object.create(null)}define(e,n){if(typeof n!="function")throw new Error("callback is not a function");return this.#e=Object.freeze({...this.#e,[e]:n}),t.define(this,e,Object.freeze({name:e,callback:n}))}revoke(e){if(this.has(e)){let n={...this.#e};delete n[e],this.#e=Object.freeze(n)}super.revoke(e)}get actionMap(){return this.#e}call(e,...n){let i=this.get(e);if(i===void 0)throw new Error(`action "${e}" doesn't exist`);let{callback:s}=i;return s(...n)}}});function O3(t){if(!t||typeof t!="object")return"value is not an object";let{name:e,test:n,decode:i}=t;return typeof e!="string"?"missed name":typeof n!="function"?"missed test function":typeof i!="function"?"missed decode function":!1}function P3(t){let e=O3(t);if(e)throw new Error(`Bad encoding config${t?.name?` "${t.name}"`:""}: ${e}`);let{name:n,test:i,streaming:s,decode:a}=t;return Object.freeze(s?{name:n||"unknown",test:i,streaming:!0,decode:a}:{name:n||"unknown",test:i,streaming:!1,decode:a})}function Gc(t){if(!t)return[];if(!Array.isArray(t))throw new Error("Encodings must be an array");return t.map(P3)}var Wg=N(()=>{});function I3(t){Ug=null;for(let[e,n]of Pa.entries())t({level:"warn",message:`${e} (${n.length})`,collapsed:n});Pa.clear()}function z3(t,e,...n){Ug===null&&Pa.size===0&&(Ug=setTimeout(()=>I3(t),1));let i=Pa.get(e);i!==void 0?i.push(n):Pa.set(e,[n])}function u1(t,e,n){switch(typeof e){case"function":return e;case"string":return Object.assign(i=>i&&Object.hasOwn(i,e)?i[e]:void 0,{getterFromString:`object[${JSON.stringify(e)}]`});default:throw new Error(`[Discovery] Bad type "${typeof e}" for ${n} in object marker "${t}" config (must be a string or a function)`)}}function a1(t,e,n,i){let s=e&&Object.hasOwn(e,n)?e[n]:void 0;return s!==void 0?u1(t,s,`"${n}" option`):i}function l1(t,e,n){return(Array.isArray(e[n])?e[n]||[]:[]).map(s=>u1(t,s,`"${n}" option`))}function c1(t){let e=t===null?"null":typeof t;return e==="object"||e==="number"||e==="string"}function B3(t,e){let{name:n,indexRefs:i,lookupRefs:s,page:a,getRef:f,getTitle:p}=e;f!==null&&i.unshift(f),a&&f===null&&t("warn",`Option "ref" for "${n}" marker must be specified when "page" options is defined ("page" option ignored)`),i.length>0&&s.unshift(P=>P);let m=new Set,h=new Map,g=new Map,v=new WeakMap;return{name:n,page:f!==null?a:null,mark:P=>{if(P===null||typeof P!="object"){t("warn",`Invalid value used for "${n}" marker (should be an object)`);return}m.add(P);for(let M of i){let A=M(P);if(c1(A)){if(!h.has(A)){h.set(A,P);continue}h.get(A)!==P&&z3(t,`The same reference value used for different objects for "${n}" marker`,`Reference value "${A}"`,{refGetter:M.getterFromString||M,ref:A,currentObject:h.get(A),newObject:P})}}},lookup:P=>{if(!c1(P))return null;let M=typeof P=="object",A=M?v.get(P):g.get(P);if(A!==void 0)return A;let T=null;if(M&&m.has(P))T=P;else for(let B of s){let H=B(P),W=h.get(H);if(W!==void 0){T=W;break}}if(T===null)return null;let L=g.get(T);if(L!==void 0)return L;let O=f!==null?f(T):null,z=Object.freeze({type:n,object:T,ref:O,title:p(T),href:a!==null&&O!==null?`#${encodeURIComponent(a)}:${encodeURIComponent(O)}`:null});return g.set(T,z),P!==T&&(M?v.set(P,z):g.set(P,z)),z},reset:()=>{m.clear(),h.clear(),g.clear(),v=new WeakMap}}}var Pa,Ug,Ki,$g=N(()=>{is();Pa=new Map,Ug=null;Ki=class t extends tr{constructor(e=()=>{}){super(),this.logger=e}#e=!1;lock(){this.#e=!0}define(e,n){if(this.#e)throw new Error("Object marker definition is not allowed after setup");if(this.isDefined(e))throw new Error(`Object marker "${e}" is already defined, new definition ignored`);n=n||{};let i=l1(e,n,"refs"),s=l1(e,n,"lookupRefs"),a=n.page,f=typeof a=="string"?a:null,p=a1(e,n,"ref",null),m=a1(e,n,"title",p||(()=>null));return t.define(this,e,Object.freeze(B3(this.logger,{name:e,indexRefs:i,lookupRefs:s,page:f,getRef:p,getTitle:m})))}reset(){for(let{reset:e}of this.values)e()}markerMap(){return Object.fromEntries([...this.entries].map(([e,n])=>[e,n.mark]))}lookup(e,n){if(typeof n=="string")return this.get(n)?.lookup(e)||null;for(let{lookup:i}of this.values){let s=i(e);if(s!==null)return s}return null}lookupAll(e){let n=[];for(let{lookup:i}of this.values){let s=i(e);s!==null&&n.push(s)}return n}}});var Un,Qi=N(()=>{Un=class{subscriber;value;constructor(e,n){this.subscriber=null,this.value=e,this.shouldUpdate=typeof n=="function"?n:this.shouldUpdate}get readonly(){let e=this;return{subscribe:this.subscribe.bind(this),subscribeSync:this.subscribeSync.bind(this),unsubscribe:this.unsubscribe.bind(this),get value(){return e.value}}}subscribe(e,n){return this.subscriber={callback:e,thisArg:n,subscriber:this.subscriber},()=>this.unsubscribe(e,n)}subscribeSync(e,n){let i=this.subscribe(e,n);return e.call(n,this.value,i),i}unsubscribe(e,n){let i=this,s=this.subscriber;for(;s!==null;){if(s.callback===e&&s.thisArg===n){s.callback=null,s.thisArg=null,i.subscriber=s.subscriber;break}i=s,s=s.subscriber}}shouldUpdate(e,n){return e!==n}set(e){return this.#e(e)!==!1}asyncSet(e){let n=this.#e(e);return n===!1?Promise.resolve(!1):Promise.all(n).then(()=>!0)}#e(e){if(!this.shouldUpdate(e,this.value))return!1;let n=[],i=this.subscriber;for(this.value=e;i!==null;){let{callback:s,thisArg:a}=i;s!==null&&n.push(s.call(a,e,()=>this.unsubscribe(s,a))),i=i.subscriber}return n}}});function Gg(t){return typeof t=="object"&&t!==null&&(typeof t[Symbol.iterator]=="function"||typeof t[Symbol.asyncIterator]=="function")}function Vg(t,e,n,i){switch(n&&typeof n.toJSON=="function"&&(n=n.toJSON()),i!==null&&(n=i.call(t,String(e),n)),typeof n){case"function":case"symbol":n=void 0;break;case"object":if(n!==null){let s=n.constructor;(s===String||s===Number||s===Boolean)&&(n=n.valueOf())}break}return n}function Yg(t){return typeof t=="function"?t:Array.isArray(t)?[...new Set(t.map(n=>{let i=n&&n.constructor;return i===String||i===Number?String(n):null}).filter(n=>typeof n=="string"))]:null}function Kg(t){return typeof t=="number"?!Number.isFinite(t)||t<1?!1:" ".repeat(Math.min(t,10)):typeof t=="string"&&t.slice(0,10)||!1}var Ia=N(()=>{});function j3(t,e){return t.name==="SyntaxError"&&e.jsonParseOffset&&(t.message=t.message.replace(/at position (\d+)/,(n,i)=>"at position "+(Number(i)+e.jsonParseOffset))),t}function _3(t,e){let n=t.length;t.length+=e.length;for(let i=0;i<e.length;i++)t[n+i]=e[i]}async function Vc(t){let e=typeof t=="function"?t():t;if(Gg(e)){let n=new Qg;try{for await(let i of e){if(typeof i!="string"&&!ArrayBuffer.isView(i))throw new TypeError("Invalid chunk: Expected string, TypedArray or Buffer");n.push(i)}return n.finish()}catch(i){throw j3(i,n)}}throw new TypeError("Invalid chunk emitter: Expected an Iterable, AsyncIterable, generator, async generator, or a function returning an Iterable or AsyncIterable")}var za,F3,R3,Qg,Xg=N(()=>{Ia();za=1,F3=2,R3=new TextDecoder;Qg=class{constructor(){this.value=void 0,this.valueStack=null,this.stack=new Array(100),this.lastFlushDepth=0,this.flushDepth=0,this.stateString=!1,this.stateStringEscape=!1,this.pendingByteSeq=null,this.pendingChunk=null,this.chunkOffset=0,this.jsonParseOffset=0}parseAndAppend(e,n){this.stack[this.lastFlushDepth-1]===za?(n&&(this.jsonParseOffset--,e="{"+e+"}"),Object.assign(this.valueStack.value,JSON.parse(e))):(n&&(this.jsonParseOffset--,e="["+e+"]"),_3(this.valueStack.value,JSON.parse(e)))}prepareAddition(e){let{value:n}=this.valueStack;if(Array.isArray(n)?n.length!==0:Object.keys(n).length!==0){if(e[0]===",")return this.jsonParseOffset++,e.slice(1);if(e[0]!=="}"&&e[0]!=="]")return this.jsonParseOffset-=3,"[[]"+e}return e}flush(e,n,i){let s=e.slice(n,i);if(this.jsonParseOffset=this.chunkOffset+n,this.pendingChunk!==null&&(s=this.pendingChunk+s,this.jsonParseOffset-=this.pendingChunk.length,this.pendingChunk=null),this.flushDepth===this.lastFlushDepth)this.flushDepth>0?this.parseAndAppend(this.prepareAddition(s),!0):(this.value=JSON.parse(s),this.valueStack={value:this.value,prev:null});else if(this.flushDepth>this.lastFlushDepth){for(let a=this.flushDepth-1;a>=this.lastFlushDepth;a--)s+=this.stack[a]===za?"}":"]";this.lastFlushDepth===0?(this.value=JSON.parse(s),this.valueStack={value:this.value,prev:null}):this.parseAndAppend(this.prepareAddition(s),!0);for(let a=this.lastFlushDepth||1;a<this.flushDepth;a++){let f=this.valueStack.value;if(this.stack[a-1]===za){let p;for(p in f);f=f[p]}else f=f[f.length-1];this.valueStack={value:f,prev:this.valueStack}}}else{s=this.prepareAddition(s);for(let a=this.lastFlushDepth-1;a>=this.flushDepth;a--)this.jsonParseOffset--,s=(this.stack[a]===za?"{":"[")+s;this.parseAndAppend(s,!1);for(let a=this.lastFlushDepth-1;a>=this.flushDepth;a--)this.valueStack=this.valueStack.prev}this.lastFlushDepth=this.flushDepth}push(e){if(typeof e!="string"){if(this.pendingByteSeq!==null){let a=e;e=new Uint8Array(this.pendingByteSeq.length+a.length),e.set(this.pendingByteSeq),e.set(a,this.pendingByteSeq.length),this.pendingByteSeq=null}if(e[e.length-1]>127)for(let a=0;a<e.length;a++){let f=e[e.length-1-a];if(f>>6===3){a++,(a!==4&&f>>3===30||a!==3&&f>>4===14||a!==2&&f>>5===6)&&(this.pendingByteSeq=e.slice(e.length-a),e=e.slice(0,-a));break}}e=R3.decode(e)}let n=e.length,i=0,s=0;e:for(let a=0;a<n;a++){if(this.stateString){for(;a<n;a++)if(this.stateStringEscape)this.stateStringEscape=!1;else switch(e.charCodeAt(a)){case 34:this.stateString=!1;continue e;case 92:this.stateStringEscape=!0}break}switch(e.charCodeAt(a)){case 34:this.stateString=!0,this.stateStringEscape=!1;break;case 44:s=a;break;case 123:s=a+1,this.stack[this.flushDepth++]=za;break;case 91:s=a+1,this.stack[this.flushDepth++]=F3;break;case 93:case 125:s=a+1,this.flushDepth--,this.flushDepth<this.lastFlushDepth&&(this.flush(e,i,s),i=s);break;case 9:case 10:case 13:case 32:i===a&&i++,s===a&&s++;break}}s>i&&this.flush(e,i,s),s<n&&(this.pendingChunk!==null?this.pendingChunk+=e:this.pendingChunk=e.slice(s,n)),this.chunkOffset+=n}finish(){return this.pendingChunk!==null&&(this.flush("",0,0),this.pendingChunk=null),this.value}}});var Jg=N(()=>{Ia()});function U3(t){return t>=55296&&t<=56319}function $3(t){return t>=56320&&t<=57343}function f1(t){if(!/[^\x20\x21\x23-\x5B\x5D-\x7F]/.test(t))return t.length+2;let e=0,n=!1;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s<2048)e+=W3[s];else if(U3(s)){e+=6,n=!0;continue}else $3(s)?e=n?e-2:e+6:e+=3;n=!1}return e+2}function G3(t){let e=0;return t<0&&(e=1,t=-t),t>=1e9&&(e+=9,t=(t-t%1e9)/1e9),t>=1e4?t>=1e6?e+(t>=1e8?9:t>=1e7?8:7):e+(t>=1e5?6:5):e+(t>=100?t>=1e3?4:3:t>=10?2:1)}function V3(t){switch(typeof t){case"string":return f1(t);case"number":return Number.isFinite(t)?Number.isInteger(t)?G3(t):String(t).length:4;case"boolean":return t?4:5;case"undefined":case"object":return 4;default:return 0}}function Y3(t){return t=Kg(t),typeof t=="string"?t.length:0}function os(t,e,n){(e===null||Array.isArray(e)||typeof e!="object")&&(e={replacer:e,space:n});let i=!!e.continueOnCircular,s=Yg(e.replacer),a=Object.keys;if(Array.isArray(s)){let P=s;a=()=>P,s=null}n=Y3(n);let f=new Map,p=new Map,m=[],h=new Set,g={"":t},v=!1,w=0,k=0;return S(g,"",t),w===0&&(w+=9),{bytes:isNaN(w)?1/0:w,circular:[...h]};function S(P,M,A){if(!v)if(A=Vg(P,M,A,s),A===null||typeof A!="object")(A!==void 0||Array.isArray(P))&&(w+=V3(A));else{if(m.includes(A)){h.add(A),w+=4,i||(v=!0);return}if(p.has(A)){w+=p.get(A);return}k++;let T=k,L=w,O=0;if(m.push(A),Array.isArray(A)){O=A.length;for(let z=0;z<O;z++)S(A,z,A[z])}else{let z=w;for(let B of a(A))if(S(A,B,A[B]),z!==w){let H=f.get(B);H===void 0&&f.set(B,H=f1(B)+(n>0?2:1)),w+=H,O++,z=w}}w+=O===0?2:1+O,n>0&&O>0&&(w+=(1+m.length*n)*O+1+(m.length-1)*n),m.pop(),T!==k&&p.set(A,w-L)}}}var H3,q3,W3,p1=N(()=>{Ia();H3=typeof Object.hasOwn=="function"?Object.hasOwn:(t,e)=>Object.hasOwnProperty.call(t,e),q3={8:"\\b",9:"\\t",10:"\\n",12:"\\f",13:"\\r",34:'\\"',92:"\\\\"},W3=Uint8Array.from({length:2048},(t,e)=>H3(q3,e)?2:e<32?6:e<128?1:2)});var d1=N(()=>{Xg();Jg();Ia()});var Zg=N(()=>{Xg();Jg();p1();d1()});var ey,h1=N(()=>{Zg();ey=Object.freeze({name:"json",test:()=>!0,streaming:!0,decode:Vc})});function bq(t,e,n,i=new Array(n)){let s=e&15,a=e&48,f=n,p=0,m=0;switch(a){case m1:{p=i[0]=t.readIntVar(),f--,m=1;break}case g1:{p=t.readIntVar();break}}switch(s){case dq:{for(let h=0;h<f;h++)i[m+h]=t.readVlq();break}case hq:{for(let h=0;h<f;h++)i[m+h]=t.readIntVar();break}case mq:{let h=t.readBytes(Math.ceil(f/2));for(let g=0,v=0;g<f;g++)v=g&1?v>>4:h[g>>1],i[m+g]=v&8?t.readVlq()*8+(v&7):v&7;break}case gq:{let h=t.readBytes(Math.ceil(f/2));for(let g=0,v=0;g<f;g++){v=g&1?v>>4:h[g>>1];let w=v&4?-1:1;i[m+g]=v&8?w*(t.readVlq()*4+(v&3)):w*(v&3)}break}case w1:{let h=e>>8,g=(1<<h)-1,v=t.readBytes(Math.ceil(f*h/8)),w=0,k=0,S=0;for(let P=0;P<f;P++){for(;k<h;)S|=v[w++]<<k,k+=8;i[m+P]=S&g,S>>=h,k-=h}break}case x1:{let h=e>>8,g=(1<<h)-1,v=t.readBytes(Math.ceil(f*h/8)),w=0,k=0,S=0;for(let P=0;P<f;P++){for(;k<h;)S|=v[w++]<<k,k+=8;i[m+P]=S&1?-((S&g)>>1):(S&g)>>1,S>>=h,k-=h}break}case yq:{let h=i[0]=t.readIntVar(),g=t.readIntVar();for(let v=1;v<n;v++)i[v]=h+=g;break}case b1:case ny:{let h=s===ny,g=e>>8,v=h?e&pq|g&fq:g;if(k1[g]>1){let w=t.readTypeIndex(f,v);for(let k=0;k<f;k++)i[m+k]=t.readNumber(w[k])}else{let w=31-Math.clz32(v);for(let k=0;k<f;k++)i[m+k]=t.readNumber(w)}break}default:throw new Error(`Unknown numeric array encoding method: ${s}`)}switch(a){case m1:{i[0]=p;for(let h=1;h<n;h++)i[h]+=i[h-1];break}case g1:{for(let h=0;h<n;h++)i[h]+=p;break}}return i}function wq(t){return t===v1||t===9}function C1(t){try{let{version:e}=S1(t);if(wq(e))return!0;throw new Error(`Unsupported jsonxl version "${e}", expected "${v1}"`)}catch{return!1}}function S1(t){if(t.byteLength<Fa)throw new Error(`Header length must be at least ${Fa} bytes`);let e=new Uint8Array(t.buffer,t.byteOffset,Fa);if(e.subarray(0,8).some((a,f)=>a!==Q3[f]))throw new Error("Bad magic number");let n=new DataView(e.buffer,e.byteOffset,Fa),i=n.getUint16(8,!0),s=n.getUint16(10,!0);return{version:i,flags:s,headerSize:Fa}}function kq(t){let e=xq.decode(t.readBytes(t.readVlq())),n=t.readNumericArray(),i=t.readNumericArray(),s=t.readNumericArray(),a=new Array(n);for(let f=0,p=0,m=0,h=0,g="";f<n.length;f++){let v=n[f],w=e.slice(p,p+=v>>2);v&2&&(w=g.slice(0,i[m++])+w),v&1&&(w=w+g.slice(-s[h++])),a[f]=w,g=w}return a}function y1(t,e){let n=0;for(let i=0;i<t.length;i++)t[i]===e&&n++;return n}function A1(t,e){function n(p={}){let m=0,h;for(;h=a.readObjectEntry(m++);)p[h.key]=s(h.type);return p}function i(p=a.readArrayLength()){if(p===0)return[];let m=a.readArrayHeader(),h=m>>16,g=m&65535,v=h&1,w=h>>5&1,k=h>>9&1,S=h>>1&255|(h&1)<<4,P=new Array(p),M=k1[S]>1?a.readTypeIndex(p,S,!0):null;if(S&vq)if(M===null)switch(S){case Yc:P.fill(null);break;case Kc:P.fill(!0);break;case Qc:P.fill(!1);break}else for(let A=0;A<p;A++)switch(M[A]){case Yc:P[A]=null;break;case Kc:P[A]=!0;break;case Qc:P[A]=!1;break}if(S&ty)for(let A=0;A<p;A++)(M===null||M[A]===ty)&&(P[A]=a.readString());if(S&Ba)if(S===Ba)a.readNumbers(g,p,P);else{let A=y1(M,Ba),T=a.readNumbers(g,A);for(let L=0,O=0;L<p;L++)M[L]===Ba&&(P[L]=T[O++])}if(S&ss)if(k){let A=S===ss?p:y1(M,ss),T=a.readNumericArray(A),L=i();for(let O=0,z=0,B=0;O<p;O++)(M===null||M[O]===ss)&&(P[O]=L.slice(B,B+=T[z++]))}else for(let A=0;A<p;A++)(M===null||M[A]===ss)&&(P[A]=i());if(S&Ra){let A=S===Ra?P:[];for(let T=0,L=0;T<p;T++)(M===null||M[T]===Ra)&&(P[T]=A[L++]={});if(w){let T=a.readVlq(),L=new Array(T);for(let O=0;O<T;O++)L[O]=a.readString();for(let O=0;O<T;O++){let z=L[O],B=i(A.length);for(let H=0;H<A.length;H++)B[H]!==void 0&&(A[H][z]=B[H])}}if(v)for(let T=0;T<A.length;T++)n(A[T])}return P}function s(p){switch(1<<(p&7)){case Yc:return null;case ty:return a.readString();case Ba:return a.readNumber(p>>3);case Ra:return n();case Kc:return!0;case Qc:return!1;case ss:return i()}}let a=new Cq(t,e),f=s(a.readUint8());if(a.pos!==t.byteLength)throw new Error("End of input is not reached");return f}var Q3,v1,X3,J3,Yc,Ba,ty,Ra,Kc,Qc,ss,Z3,eq,tq,nq,rq,iq,oq,sq,aq,lq,cq,uq,fq,pq,b1,ny,dq,hq,mq,gq,w1,x1,yq,m1,g1,Y7,vq,k1,Fa,xq,Cq,T1=N(()=>{Q3=new Uint8Array([0,0,74,83,79,78,88,76]),v1=9,X3=268435455,J3=4294967295,Yc=2,Ba=4,ty=8,Ra=16,Kc=32,Qc=64,ss=128,Z3=0,eq=1,tq=2,nq=3,rq=4,iq=5,oq=6,sq=8,aq=9,lq=10,cq=11,uq=12,fq=224,pq=7936,b1=0,ny=1,dq=2,hq=3,mq=4,gq=5,w1=6,x1=7,yq=8,m1=16,g1=32,Y7=~Ra,vq=Yc|Kc|Qc,k1=new Uint8Array(256).map((t,e)=>{for(let n=0;n<8;n++)t+=e>>n&1;return t});Fa=12;xq=new TextDecoder("utf8",{ignoreBOM:!0});Cq=class{constructor(t,e){this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.bytes=t,this.pos=0,typeof e=="function"&&e(this),this.consumeHeader(),this.loadStrings(),this.loadArrayLengths(),this.loadArrayHeaders(),this.loadObjectEntries()}consumeHeader(){let{version:t,flags:e,headerSize:n}=S1(this.view);return this.pos+=n,{version:t,flags:e}}loadStrings(){this.strings=kq(this),this.stringRefs=this.readNumericArray(),this.stringRefsCursor=0}loadArrayHeaders(){this.arrayHeaders=this.readNumericArray(),this.arrayHeaderRefs=this.readNumericArray(),this.arrayHeaderRefsCursor=0}loadArrayLengths(){this.arrayLengths=this.readNumericArray(),this.arrayLengthsCursor=0}loadObjectEntries(){let t=this.readVlq(),e=this.readVlq();this.objectEntries=new Array(t),this.objectKeys=e?this.stringRefs.slice(-e).map(n=>this.strings[n]):[];for(let n=0;n<t;n++)this.objectEntries[n]={dict:this.readNumericArray(),refs:this.readNumericArray(),cursor:0}}readString(){return this.strings[this.stringRefs[this.stringRefsCursor++]]}readArrayHeader(){return this.arrayHeaders[this.arrayHeaderRefs[this.arrayHeaderRefsCursor++]]}readArrayLength(){return this.arrayLengths[this.arrayLengthsCursor++]}readObjectEntry(t){let e=this.objectEntries[t],n=e.refs[e.cursor++],i=e.dict[n];return i===0?null:{key:this.objectKeys[i>>8],type:i&255}}readBytes(t){return this.bytes.subarray(this.pos,this.pos+=t)}readTypeIndex(t,e,n){let i=0,s=0,a=0;for(;e>0;)e&1&&(i|=a<<(s++<<2)),a++,e>>=1;let f=new Uint8Array(t),p=32-Math.clz32(s-1),m=(1<<p)-1,h=this.readBytes(Math.ceil(p*t/8)),g=0,v=0,w=0;for(let k=0;k<t;k++){w<p&&(v|=h[g++]<<w,w+=8);let S=i>>((v&m)<<2)&15;f[k]=n?1<<S:S,v>>=p,w-=p}return f}readVlq(){let t=this.view.getUint8(this.pos);if(!(t&1))t=t>>1,this.pos+=1;else if(!(t&2))t=this.view.getUint8(this.pos+1)<<6|t>>2,this.pos+=2;else if(!(t&4))t=this.view.getUint16(this.pos+1,!0)<<5|t>>3,this.pos+=3;else{let e=this.view.getUint32(this.pos,!0);t=e>>>3&X3,this.pos+=4,e>>>31&&(t+=this.readUintVar()*(1<<28))}return t}readUintVar(){let t=this.view.getUint8(this.pos++),e=t&127,n=128;for(;t&128;)t=this.view.getUint8(this.pos++),e+=(t&127)*n,n*=128;return e}readIntVar(){let t=this.readUintVar();return t&1?-(t-1)/2:t<=J3?t>>>1:t/2}readUint8(){let t=this.view.getUint8(this.pos);return this.pos++,t}readInt8(){let t=this.view.getInt8(this.pos);return this.pos++,t}readUint16(){let t=this.view.getUint16(this.pos,!0);return this.pos+=2,t}readInt16(){let t=this.view.getInt16(this.pos,!0);return this.pos+=2,t}readUint24(){let t=this.view.getUint16(this.pos,!0)|this.view.getUint8(this.pos+2)<<16;return this.pos+=3,t}readInt24(){let t=this.view.getUint16(this.pos,!0),e=this.view.getUint8(this.pos+2),n=e&128?(e<<16|t)-16777216:e<<16|t;return this.pos+=3,n}readUint32(){let t=this.view.getUint32(this.pos,!0);return this.pos+=4,t}readInt32(){let t=this.view.getInt32(this.pos,!0);return this.pos+=4,t}readFloat32(){let t=this.view.getFloat32(this.pos,!0);return this.pos+=4,t}readFloat64(){let t=this.view.getFloat64(this.pos,!0);return this.pos+=8,t}readNumber(t){switch(t){case Z3:return this.readUint8();case eq:return this.readUint16();case tq:return this.readUint24();case nq:return this.readUint32();case rq:return this.readUintVar();case sq:return this.readInt8();case aq:return this.readInt16();case lq:return this.readInt24();case cq:return this.readInt32();case uq:return this.readIntVar();case iq:return this.readFloat32();case oq:return this.readFloat64()}}readNumericArrayEncoding(){let t=this.readUint8();switch(t&15){case b1:case ny:case w1:case x1:t|=this.readUint8()<<8;break}return t}readNumericArray(t=this.readVlq()){if(t===0)return[];let e=this.readNumericArrayEncoding();return this.readNumbers(e,t)}readNumbers(t,e,n){return bq(this,t,e,n)}}});var Xc,ry=N(()=>{T1();Xc=Object.freeze({name:"jsonxl/snapshot9",test:C1,streaming:!1,decode:A1})});var E1=N(()=>{h1();ry()});var sy={};te(sy,{convertToBlobIfPossible:()=>M1,createLoadDataState:()=>ja,dataFromStream:()=>L1,dataSource:()=>Aq,extractResourceMetadata:()=>oy,getReadableStreamFromSource:()=>zq,loadDataFromEvent:()=>Jc,loadDataFromFile:()=>_a,loadDataFromPush:()=>eu,loadDataFromStream:()=>as,loadDataFromUrl:()=>Zc,syncLoaderWithProgressbar:()=>iy});function Tq(t){try{return new URL(t,location.origin).origin===location.origin}catch{return!1}}function Eq(t){return t.ok}function Lq(t){return t.headers.get("x-file-encoded-size")||t.headers.get("content-length")}function Mq(t){return t.headers.get("x-file-size")||(Tq(t.url)&&!t.headers.get("content-encoding")?t.headers.get("content-length"):void 0)}function Nq(t){return t.headers.get("x-file-created-at")||t.headers.get("last-modified")||void 0}function Dq(t){let e=t?Object.keys(t):[],n=["name","createdAt","elapsedTime","data"];return!(e.length!==4||e.some(i=>!n.includes(i)))}function Oq(t,e,{size:n,encoding:i}){let s=null;if(Dq(t)){let{data:P,...M}=t;t=P,e={...e,createdAt:P.createdAt},s=M}let a=t,f=s||{},{type:p,name:m,encoding:h,size:g,encodedSize:v,createdAt:w,...k}=e||{};return{resource:{type:p||"unknown",name:m||"unknown",encoding:i,...Number.isFinite(n)?{size:n}:null,...Number.isFinite(v)?{encodedSize:v}:null,createdAt:new Date((typeof w=="string"?Date.parse(w):w)||Date.now()),...k},meta:f,data:a}}async function Pq(t){let e=[],n=0;for await(let a of t)e.push(a),n+=a.byteLength;let i=new Uint8Array(n),s=0;for(let a of e)i.set(a,s),s+=a.length;return i}async function L1(t,e,n,i){let a=t.getReader(),f=Date.now(),p=[...Gc(e),Xc,ey],m="unknown",h=0,g=async function*(v){for(;;){let{value:w,done:k}=v||await a.read();if(v=void 0,k){await i({done:!0,elapsed:Date.now()-f,units:"bytes",completed:h,total:n});break}for(let S=0;S<w.length;S+=1048576){let P=S===0&&w.length-S<1048576?w:w.slice(S,S+1048576);h+=P.length,yield P,await i({done:!1,elapsed:Date.now()-f,units:"bytes",completed:h,total:n})}}};try{let v=await a.read(),{value:w,done:k}=v;if(k)throw new Error("Empty payload");for(let{name:S,test:P,streaming:M,decode:A}of p)if(P(w))return m=S,{data:await(M?A(g(v)):Pq(g(v)).then(A)),encoding:m,size:h};throw new Error("No matched encoding found for the payload")}finally{a.releaseLock()}}async function Iq(t,e){let n=async(i,s)=>(await e.asyncSet({stage:i}),await s());try{let i=new Date,{method:s,stream:a,resource:f,options:p,data:m}=await n("request",t),h=new Date,g=f?.size,{encodings:v}=p||{},{data:w,encoding:k="unknown",size:S=void 0}=m?{data:m}:await n("receive",()=>L1(a,v,Number(g)||0,L=>e.asyncSet({stage:"receive",progress:L})));await e.asyncSet({stage:"received"});let{data:P,resource:M,meta:A}=Oq(w,f,{size:S,encoding:k}),T=new Date;return{loadMethod:s,resource:M,meta:A,data:P,timings:{time:Number(T)-Number(i),start:i,end:T,requestTime:Number(h)-Number(i),requestStart:i,requestEnd:h,responseTime:Number(T)-Number(h),responseStart:h,responseEnd:T}}}catch(i){throw console.error("[Discovery] Error loading data:",i),await e.asyncSet({stage:"error",error:i}),i}}function ja(t,e){let n=new Un({stage:"inited"});return{state:n,dataset:Iq(t,n),...e}}function as(t,e){return ja(()=>({method:"stream",stream:t,resource:e?.resource,options:e}))}function _a(t,e){let n=oy(t);return ja(()=>({method:"file",stream:t.stream(),resource:e?.resource||n,options:e}),{title:"Load data from file: "+(n?.name||"unknown")})}function Jc(t,e){let i=(t.dataTransfer||t.target)?.files?.[0];if(t.stopPropagation(),t.preventDefault(),!i)throw new Error("Can't extract a file from an event object");return _a(i,e)}function Zc(t,e){return e=e||{},ja(async()=>{let n=await fetch(t,e.fetch),i=oy(n,e);if(i&&n.body)return{method:"fetch",stream:n.body,resource:e.resource||i,options:e};let s=n.headers.get("content-type")||"",a=await n.text();if(s.toLowerCase().startsWith("application/json"))try{let f=JSON.parse(a);a=f.error||f}catch{}throw a=new Error(a),a.stack=null,a},{title:`Load data from url: ${t}`})}function eu(t){let e,n=new ReadableStream({start(f){e=f},cancel(){e=null}}),i,s=null,a=new Promise(f=>{i=p=>f({method:"push",stream:n,resource:p?s=p:t?.resource,options:t})});return t=t||{},ja(()=>a,{start(f){i(f)},push(f){i(),e?.enqueue(f)},finish(f){e?.close(),e=null,f!==void 0&&isFinite(f)&&s!==null&&(s.encodedSize=Number(f)),s=null}})}function iy({dataset:t,state:e},n){return new Promise((i,s)=>e.subscribeSync((a,f)=>{let{stage:p}=a;if(p==="error"){f(),s(a.error);return}return p==="received"&&(f(),i(t)),n.setState({stage:p,progress:a.progress})}))}function oy(t,e){if(t instanceof Response){let n=e?.isResponseOk||Eq,i=e?.getContentSize||Mq,s=e?.getContentEncodedSize||Lq,a=e?.getContentCreatedAt||Nq;if(n(t))return{type:"url",name:t.url,size:Number(i(t))||null,encodedSize:Number(s(t)),createdAt:a(t)}}if(t instanceof File)return{type:"file",name:t.name,size:t.size,createdAt:t.lastModified};if(t instanceof Blob)return{size:t.size};if(ArrayBuffer.isView(t))return{size:t.byteLength};if(typeof t=="string")return{size:t.length}}function M1(t){let e=t;return(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e&&!(Symbol.iterator in e)&&!(Symbol.asyncIterator in e))&&(e=[e]),e&&Symbol.iterator in e?new Blob(e):t}function zq(t){if(t instanceof ReadableStream)return t;if(t instanceof Response){if(t.body===null)throw new Error("Response has no body");return t.body}return t=M1(t),t instanceof Blob?t.stream():new ReadableStream({start(){let e=t?t[Symbol.asyncIterator]:void 0;if(!e)throw new Error("Bad value type (can't convert to a stream)");this.iterator=e()},async pull(e){let{value:n,done:i}=await this.iterator.next();i?(this.iterator=null,e.close()):e.enqueue(n)},cancel(){this.iterator=null}})}var Aq,Ha=N(()=>{Qi();Wg();E1();Aq={stream:as,event:Jc,file:_a,url:Zc,push:eu}});function N1(t){return{before(){t.objectMarkers.reset()},contextApi:{markers:t.objectMarkers.markerMap(),rejectData(e,n){throw Object.assign(new Error(e),{renderContent:n})}}}}function ay(t,e){let n=t.objectMarkers,i={setPrepare:t.setPrepare.bind(t),defineObjectMarker:a,addQueryHelpers(m){s={...s,...m}}},s={query:t.query.bind(t),overrideProps:f,pageLink:(m,h,g)=>t.encodePageHash(h,m,g),marker:n.lookup.bind(n),markerAll:n.lookupAll.bind(n),callAction:p,actionHandler:(m,...h)=>t.action.has(m)?()=>p(m,...h):void 0};typeof e=="function"&&e(i),n.lock(),t.queryFnFromString=ur.setup({methods:s});function a(m,h){let{mark:g,lookup:v}=n.define(m,h);return v?g:()=>{}}function f(m,h=this.context.props){if(!h)return m;let g={...m};for(let v of Object.keys(g))Object.hasOwn(h,v)&&(g[v]=h[v]);return g}function p(m,...h){let g=h[h.length-1],v=null;typeof g=="function"&&(v=g,h.pop());let w=t.action.call(m,...h);return w&&v&&typeof w.then=="function"?w.then(v):v?v(w):w}}var D1=N(()=>{Na()});function O1(t){let e=new Ki,n=[],i=[],s={rejectData(k,S){throw Object.assign(new Error(k),{renderContent:S})},defineObjectMarker:p,lookupObjectMarker:m,lookupObjectMarkerAll:h,addValueAnnotation:v,addQueryHelpers(k){f=ur.setup({methods:a={...a,...k}})},query(k,...S){return t.queryFn.call({queryFnFromString:f},k)(...S)}},a={query:t.query.bind(t),overrideProps:g,pageLink:(k,S,P)=>t.encodePageHash(S,k,P),marker:m,markerAll:h,callAction:w,actionHandler:(k,...S)=>t.action.has(k)?()=>w(k,...S):void 0},f=ur.setup({methods:a});return{contextApi:s,after(k){Object.assign(k,{objectMarkers:e,linkResolvers:n,annotations:i,queryFnFromString:f})}};function p(k,S){let P=!!S?.annotateScalars,{page:M,mark:A,lookup:T}=e.define(k,S)||{};if(!T)return()=>{};if(M!==null){if(!t.page?.isDefined(M))return t.log("error",`Page reference "${M}" doesn't exist`),()=>{};n.push(L=>{let O=T(L);return O&&{type:M,text:O.title,href:O.href,entity:O.object}})}return v((L,O)=>{let z=P||typeof L=="object"&&L!==null?T(L):null;if(z!==null&&z.object!==O.host)return{place:"before",style:"badge",text:k,href:z.href}}),A}function m(k,S){return e.lookup(k,S)}function h(k){return e.lookupAll(k)}function g(k,S=this.context.props){if(!S)return k;let P={...k};for(let M of Object.keys(P))Object.hasOwn(S,M)&&(P[M]=S[M]);return P}function v(k,S=!1){typeof S=="boolean"&&(S={debug:S}),i.push({query:k,...S})}function w(k,...S){let P=S[S.length-1],M=null;typeof P=="function"&&(M=P,S.pop());let A=t.action.call(k,...S);return A&&M&&typeof A.then=="function"?A.then(M):M?M(A):A}}var P1=N(()=>{Na();$g()});function Rq(t,e){return typeof t!="string"?String(t):(t=JSON.stringify(t),e[0]!=="'"?t:`'${t.slice(1,-1).replace(/\\.|'/g,n=>n==='\\"'?'"':n==="'"?"\\'":n)}'`)}function jq(t,e,n){if(e===n)return!0;let i=t.stat(e)||[],s=t.stat(n)||[];if(i.length!==s.length)return!1;for(let a=0;a<i.length;a++){let f=i[a],p=s[a];for(let m of Object.keys(f))if(f[m]!==p[m])return!1}return!0}function B1(t,e,n,i,s){try{let a=I1.get(t);if(!a||a.query!==e||a.data!==i||a.context!==s){let p={tolerant:!0,stat:!0};I1.set(t,a={query:e,data:i,context:s,offset:-1,suggestions:null,api:null}),a.api=t.queryFnFromString(e,p)(i,s)}if(a.api===null)return null;if(a.offset!==-1&&jq(a.api,a.offset,n))return a.suggestions;let f=a.api.suggestion(a.offset=n,{sort:!0,filter:Fq,limit:50});if(f){a.suggestions=[];for(let p of f.sort(Bq))a.suggestions.push(...p.suggestions.map(m=>({type:p.type,from:p.from,to:p.to,text:p.text,value:p.type==="value"?Rq(m,p.text):m})))}else a.suggestions=null;return a.suggestions}catch(a){t.log({level:"error",message:"Error while attempting to retrieve suggestions for the query",collapsed:a});return}}var I1,z1,Bq,Fq,F1=N(()=>{I1=new WeakMap,z1=["variable","property","value","method"],Bq=(t,e)=>z1.indexOf(t.type)-z1.indexOf(e.type),Fq=t=>{let e=t.toLowerCase();return n=>n!==t&&(typeof n=="string"?n:String(n)).toLowerCase().indexOf(e)!==-1}});var _q,Hq,tu,ly,nu,qa,cy=N(()=>{Na();Da();s1();Wg();$g();Ha();D1();P1();F1();_q=()=>{},Hq=new Proxy({},{get:()=>()=>{}}),tu=["silent","error","warn","info","perf","debug"],ly="[Discovery]",nu=(t,e)=>({...e,encodings:Array.isArray(e?.encodings)?[...e.encodings,...t.encodings]:t.encodings}),qa=class extends Cr{options;logger;logLevel;action;objectMarkers;linkResolvers;encodings;datasets;data;context;prepare;#e;#t;constructor(e){super(),this.options=e||{};let{logLevel:n="warn",logger:i=console,extensions:s,setup:a}=this.options;this.logger=i||Hq,this.logLevel=tu.includes(n)?n:"warn",this.action=new Oa,this.objectMarkers=new Ki(this.log.bind(this)),this.linkResolvers=[],this.datasets=[],this.encodings=Gc(this.options.encodings),this.data=void 0,this.context=void 0,this.prepare=f=>f,this.#e=!0,this.apply(s),typeof a=="function"?(this.#e=!1,ay(this,a)):ay(this,()=>{});for(let{page:f,lookup:p}of this.objectMarkers.values)f&&this.linkResolvers.push(m=>{let h=p(m);return h&&{type:f,text:h.title,href:h.href,entity:h.object}})}apply(e){Array.isArray(e)?e.forEach(n=>this.apply(n)):typeof e=="function"?e.call(null,this):e&&this.apply(Object.values(e))}log(e,...n){let{level:i,lazy:s=null,message:a=null,collapsed:f=null}=typeof e=="object"&&e!==null?e:{level:e},p=tu.indexOf(i);if(p>0&&i!=="silent"&&p<=tu.indexOf(this.logLevel)){let m=i==="perf"?"log":i;if(f){this.logger.groupCollapsed(`${ly} ${a??n[0]}`);let h=typeof f=="function"?f():f;for(let g of Array.isArray(h)?h:[h])this.logger[m](...Array.isArray(g)?g:[g]);this.logger.groupEnd()}else this.logger[m](ly,...typeof s=="function"?s():n)}else p===-1&&this.logger.error(`${ly} Bad log level "${i}", supported: ${tu.slice(1).join(", ")}`)}setPrepare(e){if(typeof e!="function")throw new Error("An argument should be a function");this.prepare=e}setData(e,n){n=n||{};let i=Symbol();this.#t=i;let s=Date.now(),a=()=>{if(this.#t!==i)throw new Error("Prevented by another setData()")},f=this.#e?O1(this):N1(this);return Promise.resolve().then(()=>(a(),f.before?.(this),this.prepare.call(null,e,f.contextApi)||e)).then(m=>{a(),this.datasets=[{...n.dataset,data:m}],this.data=m,f.after?.(this),this.emit("data"),this.log("perf",`Data prepared in ${Date.now()-s}ms`)})}async trackLoadDataProgress(e){let n=Date.now(),i=await e.dataset;return this.log("perf",`Data loaded in ${Date.now()-n}ms`),this.setData(i.data,{dataset:i})}loadDataFromStream(e,n){return this.trackLoadDataProgress(as(e,nu(this,n)))}loadDataFromEvent(e,n){return this.trackLoadDataProgress(Jc(e,nu(this,n)))}loadDataFromFile(e,n){return this.trackLoadDataProgress(_a(e,nu(this,n)))}loadDataFromUrl(e,n){return this.trackLoadDataProgress(Zc(e,nu(this,n)))}unloadData(){this.hasDatasets()&&(this.datasets=[],this.data=void 0,this.context=void 0,this.emit("unloadData"))}hasDatasets(){return this.datasets.length!==0}getQueryEngineInfo(){return{name:"jora",version:ur.version,link:"https://discoveryjs.github.io/jora/#article:jora-syntax"}}queryFnFromString(){return _q}queryFn(e){switch(typeof e){case"function":return e;case"string":return this.queryFnFromString(e)}}query(e,n,i){switch(typeof e){case"function":return e(n,i);case"string":return this.queryFn(e)(n,i);default:return e}}queryBool(e,n,i){return ur.buildin.bool(this.query(e,n,i))}querySuggestions(e,n,i,s){return B1(this,e,n,i,s)}pathToQuery(e){return e.map((n,i)=>n==="*"?i===0?"values()":".values()":typeof n=="number"||!/^[a-zA-Z_][a-zA-Z_$0-9]*$/.test(n)?i===0?`$[${JSON.stringify(n)}]`:`[${JSON.stringify(n)}]`:i===0?n:"."+n).join("")}encodePageHash(e,n=null,i){let s=i;return s&&typeof s!="string"&&(Array.isArray(s)||(s=Object.entries(s)),s=s.map(a=>a.map(encodeURIComponent).join("=")).join("&")),`#${e?encodeURIComponent(e):""}${typeof n=="string"&&n||typeof n=="number"?":"+encodeURIComponent(n):""}${s?"&"+s:""}`}decodePageHash(e,n=()=>Object.fromEntries){let i=(e.indexOf("&")+1||e.length+1)-1,[s,a]=e.substring(e[0]==="#"?1:0,i).split(":").map(decodeURIComponent),f=e.slice(i+1).split("&").filter(Boolean).map(p=>{let m=p.indexOf("=");return m!==-1?[decodeURIComponent(p.slice(0,m)),decodeURIComponent(p.slice(m+1))]:[decodeURIComponent(p),!0]});return{pageId:s,pageRef:a,pageParams:n(s)(f)}}resolveValueLinks(e){let n=[],i=typeof e;if(e&&(i==="object"||i==="string"))for(let s of this.linkResolvers){let a=s(e);a&&n.push(a)}return n.length?n:null}}});var uy={};te(uy,{createElement:()=>Q,createFragment:()=>Xi,createText:()=>Sn,passiveCaptureOptions:()=>fr,passiveSupported:()=>R1});function Q(t,e,n){let i=document.createElement(t);typeof e=="string"&&(e={class:e});for(let s in e)if(Object.hasOwn(e,s)){let a=e[s];if(typeof a>"u")continue;typeof a=="function"?i.addEventListener(s.slice(2),a):i.setAttribute(s,a)}return Array.isArray(n)?i.append(...n):typeof n=="string"&&(i.innerHTML=n),i}function Sn(t){return document.createTextNode(String(t))}function Xi(...t){let e=document.createDocumentFragment();return t.forEach(n=>e.appendChild(n instanceof Node?n:Sn(n))),e}var R1,fr,pt=N(()=>{R1=(()=>{let t=!1;try{let e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test-passive",n,e),window.removeEventListener("test-passive",n)}catch{}return t})(),fr=R1?Object.freeze({passive:!0,capture:!0}):!0});async function Wa(t,e){let n=Q("style",null,":host{display:none}"),i=new Set;Array.isArray(e)&&(t.append(...e.map(s=>{switch(typeof s=="string"&&(s={type:"style",content:s}),s.type){case"style":case"inline":return Q("style",{media:s.media},s.content);case"link":case"external":{let a,f,p=new Promise((h,g)=>{a=h,f=g});return i.add(p),Q("link",{rel:"stylesheet",href:s.href,media:s.media,onerror(h){i.delete(p),f(h)},onload(){i.delete(p),a()}})}default:throw new Error(`Unknown type "${s.type}" for a style descriptor`)}})),i.size&&(t.append(n),await Promise.all(i),n.remove()))}var fy=N(()=>{pt()});var py={};te(py,{deepEqual:()=>iu,equal:()=>ou});function ou(t,e,n=Object.is){if(Object.is(t,e))return!0;if(!t||typeof t!="object"||!e||typeof e!="object")return!1;for(let i in t)if(ru(t,i)&&(!ru(e,i)||!n(t[i],e[i])))return!1;for(let i in e)if(ru(e,i)&&!ru(t,i))return!1;return!0}var ru,iu,su=N(()=>{ru=Object.hasOwn||((t,e)=>Object.prototype.hasOwnProperty.call(t,e)),iu=(t,e)=>ou(t,e,iu)});var hy={};te(hy,{localStorageEntry:()=>dy,sessionStorageEntry:()=>Uq});function qq(t){let e="__storage_test__"+Math.random(),n;try{n=window[t]}catch{return null}try{n.setItem(e,e),n.removeItem(e)}catch(i){if(!(i instanceof DOMException&&(i.code===22||i.code===1014||i.name==="QuotaExceededError"||i.name==="NS_ERROR_DOM_QUOTA_REACHED")&&n.length!==0))return null}return n}function j1(t){let e=qq(t),n=Object.assign(new Map,{storage:e,getOrCreate:Object.assign(i=>n.get(i)||$q(i,n),{available:e!==null})});return n}function $q(t,e){let n=null,i=new Cr,s=(f=e.storage?.getItem(t)??null)=>{n!==f&&i.emit("change",n=f)},a={get value(){return this.get()},get(){return n},set(f){e.storage&&(e.storage.setItem(t,f),s())},delete(){e.storage&&(e.storage.removeItem(t),s())},forceSync(){return e.storage&&s(),this.get()},on(f,p){return i.on("change",f),p&&f(n),()=>i.off("change",f)},off(f){i.off("change",f)}};return e.set(t,a),a.forceSync(),a}var _1,H1,Wq,Uq,dy,my=N(()=>{Da();_1=j1("sessionStorage"),H1=j1("localStorage"),Wq=new Map([["session",_1],["local",H1]]),Uq=_1.getOrCreate,dy=H1.getOrCreate;addEventListener("storage",t=>{for(let[,e]of Wq)if(e.storage===t.storageArea){let n=e.get(t.key);n&&n.forceSync()}})});function Vq(){for(let t of au)t.mode==="auto"&&t.set("auto")}function q1(t){let e=Gq.get(t)??null;if(cu!==e){cu=e;for(let n of au)n.persistent&&n.mode!=="disabled"&&n.mode!=="only"&&n.set(e!==null?e:"auto")}}function W1(t,e){return(t==="off"||t==="disable"||!gy.has(t))&&(t="disabled"),t!=="disabled"&&t!=="only"&&e&&cu!==null&&(t=cu),t}function U1(t){switch(gy.has(t)||(t="disabled"),t){case"only":return!0;case"auto":return lu.matches;default:return t===!0}}function $1(t="disabled",e=!1){return U1(W1(t,e))}var gy,au,lu,yy,Gq,cu,uu,vy=N(()=>{my();gy=new Set([!0,!1,"auto","disabled","only"]),au=new Set,lu=matchMedia("(prefers-color-scheme:dark)"),yy=dy("discoveryjs:darkmode"),Gq=new Map([["true",!0],["false",!1],["auto","auto"]]),cu=null;q1(yy.value);yy.on(q1);lu.addListener(Vq);uu=class{persistent;handlers;value;mode;constructor(e,n=!1){this.persistent=n?yy:null,this.handlers=[],this.set(W1(e,n),!0),au.add(this)}subscribe(e,n=!1){let i={fn:e};return this.handlers.push(i),n&&i.fn(this.value,this.mode),()=>{let s=i!==null?this.handlers.indexOf(i):-1;i=null,s!==-1&&this.handlers.splice(s,1)}}destroy(){au.delete(this)}set(e,n=!1){let i=this.value,s=this.mode;gy.has(e)||(console.warn(`Bad value "${e}" for darkmode, ${n?'fallback to "disabled"':"ignored"}`),e="disabled"),!(!n&&(s==="disabled"||e==="disabled"||s==="only"||e==="only"))&&(this.mode=typeof e=="boolean"?"manual":e,this.value=U1(e),this.mode!=="disabled"&&(this.persistent&&!n&&this.persistent.set(this.mode==="auto"?"auto":this.value),(this.value!==i||this.mode!==s)&&this.handlers.forEach(({fn:a})=>a(this.value,this.mode))))}toggle(e=!1){switch(this.mode){case"auto":this.set(!lu.matches);break;case"manual":this.set(e&&this.value!==lu.matches?"auto":!this.value);break}}}});var G1,Yq,Ua,V1=N(()=>{is();Qi();pt();G1=Symbol("config"),Yq={name:"not-found",render:(t,{name:e})=>{t.style.cssText="color:#a00",t.innerText=`Page \`${e}\` not found`}},Ua=class t extends tr{#e;#t;lastPage;lastPageRef;pageOverscrolled;setPageOverscroll;constructor(e,n){if(super(),this.#e=e,this.#t=n,this.lastPage=null,this.lastPageRef=null,this.pageOverscrolled=new Un(!1),this.setPageOverscroll=()=>{},typeof IntersectionObserver=="function"){let i=Q("div",{style:"position:absolute"}),s=e.dom?.content||null,a=()=>{};if(s!==null){let f=new IntersectionObserver(p=>this.pageOverscrolled.set(!p[p.length-1].isIntersecting),{root:s});this.setPageOverscroll=p=>{f.unobserve(i),a(),p&&(p.prepend(i),f.observe(i),a=this.pageOverscrolled.subscribeSync(m=>{p.classList.toggle("page_overscrolled",m)}))}}}}define(e,n,i){return t.define(this,e,Object.freeze({name:e,render:typeof n=="function"?n.bind(this.#t):(s,a,f)=>this.#t.render(s,n,a,f),options:Object.freeze({...i}),[G1]:n}))}render(e,n,i,s){let a=Date.now(),f=this.get(n),p;f||(f=this.get("not-found")||Yq,i={name:n});let{reuseEl:m,init:h,keepScrollOffset:g=!0}=f.options||{},v=this.lastPage!==n,w=s&&s.id,k=this.lastPageRef!==w,S=m&&!v?e:document.createElement("article"),P=e.parentNode;this.lastPage=n,this.lastPageRef=w,S.id=e.id,S.classList.add("page","page-"+n),v&&typeof h=="function"&&h(S);try{p=f.render(S,i,s)}catch(M){p=this.#t.render(S,"alert-danger",String(M)+" (see details in console)"),this.#e.log("error","Page render error:",M)}return P!==null&&(v||k||!g)&&(P.scrollTop=0),S!==e&&(e.replaceWith(S),this.setPageOverscroll(S)),{pageEl:S,config:f[G1],renderState:Promise.resolve(p).finally(()=>this.#e.log("perf",`Page "${f.name}" rendered in ${Date.now()-a}ms`))}}}});function Qq(t){return t.nodeType===Node.DOCUMENT_FRAGMENT_NODE}function Ji(t,e){return nA.set(t,e),t}function rA(t,e,n,i){if(e===null||i.has(e))return;let s=t.fragmentEls.get(e);if(s!==void 0)for(let f of s){let p=n.children.find(m=>m.view===f);p?n=p:n.children.push(n={node:null,parent:n,view:f,children:[]})}let a=tA.get(e);if(a!==void 0)n.children.push(n={node:e,parent:n,viewRoot:a,children:[]});else{let f=t.viewEls.get(e);f!==void 0&&n.children.push(n={node:e,parent:n,view:f,children:[]})}if(e.nodeType===1)for(let f=e.firstChild;f;f=f.nextSibling)rA(t,f,n,i)}function Xq(t){return{name:"config-error",options:Z1,render(e,n){if(e.className="discovery-buildin-view-render-error",e.dataset.type=n.type,e.textContent=n.reason,"config"in n){let i=e.appendChild(document.createElement("span"));i.className="toggle-config",i.textContent="show config...",i.addEventListener("click",()=>{e.classList.toggle("expanded")?(i.textContent="hide config...",t.render(e,{view:"struct",expanded:1},n.config)):(i.textContent="show config...",e.lastChild?.remove())})}}}}function K1(t,e,n,i,s,a,f,p){return!Object.hasOwn(n,t)||n[t]===void 0||e.host.queryBool(n[t]===!0?"":n[t],i,s)?!0:(e.viewEls.set(p,{skipped:t,config:n,inputData:a,inputDataIndex:f,data:i,context:s}),!1)}function iA(t,e,n,i){let s=e;return typeof s=="string"&&s.startsWith("=")&&(s=t.queryFn(s.slice(1))),typeof s=="function"&&(s=s(n,i)),typeof s=="string"&&(s=s.trim().split(/\s+/)),Array.isArray(s)&&(s=s.map(a=>typeof a=="function"?a(n,i):a).filter(Boolean),s.length)?s:null}async function oA(t,e,n,i,s,a,f,p,m){let{tag:h}=e.options,g=h===null?document.createDocumentFragment():document.createElement(h||"div");await e.render(g,s,a,f),typeof i.postRender=="function"&&await i.postRender(g,i,a,f);let v={config:i,props:s,inputData:p,inputDataIndex:m,data:a,context:f};if(Qq(g))for(let w of g.childNodes){let k=t.fragmentEls.get(w);k!==void 0?k.unshift(v):t.fragmentEls.set(w,[v])}else{if(t.viewEls.set(g,v),e.name&&g.classList.add(`view-${e.name}`),i.className){let w=iA(t.host,i.className,a,f);w!==null&&g.classList.add(...w)}i.tooltip&&xy(t.host,g,i.tooltip,a,f)}n.replaceWith(g)}function Q1(t,e,n,i){return oA(t,t.defaultRenderErrorRenderer,n,eA,{type:"render",reason:e,config:i})}function Jq(t,e){return{name:e,normalizeConfig:t.normalizeConfig.bind(t),ensureValidConfig:t.ensureValidConfig.bind(t),composeConfig:t.composeConfig.bind(t),propsFromConfig:t.propsFromConfig.bind(t),render:t.render.bind(t),listLimit:t.listLimit.bind(t),renderList:t.renderList.bind(t),maybeMoreButtons:t.maybeMoreButtons.bind(t),renderMoreButton:t.renderMoreButton.bind(t),tooltip(n,i,s,a){n&&n.nodeType===1?xy(t.host,n,i,s,a):t.host.log("warn","A tooltip can be attached to a HTML element only")}}}function xy(t,e,n,i,s){e.classList.add("discovery-view-has-tooltip"),by.set(e,{config:n,data:i,context:s}),t.view.tooltip===null&&(t.view.tooltip=Zq(t))}function X1(t){return!!t&&!Array.isArray(t)&&typeof t!="string"&&typeof t!="function"&&!t.view}function J1(t,e){return Number.isFinite(t)?Number(t):e}function Zq(t){let e=null,n=new t.view.Popup({className:"discovery-buildin-view-tooltip",hoverTriggers:".discovery-view-has-tooltip",position:"pointer",showDelay(i){let{config:s}=by.get(i)||{};if(X1(s))return s.showDelay},render(i,s){let{config:a,data:f,context:p}=by.get(s)||{},m="pointer",h="natural",g=3,v=3,w=a;return e!==null&&(i.classList.remove(...e),e=null),X1(a)&&(e=iA(t,a.className,f,p),e!==null&&i.classList.add(...e),m=a.position||m,h=a.positionMode||h,g=J1(a.pointerOffsetX,g),v=J1(a.pointerOffsetY,v),w=a.content),n.position=m,n.positionMode=h,n.pointerOffsetX=g,n.pointerOffsetY=v,w?t.view.render(i,w,f,p):t.view.render(i,{view:t.view.defaultRenderErrorRenderer.render,reason:"Element marked as having a tooltip but related data is not found"})}});return n}async function sA(t,e,n,i,s,a){if(Array.isArray(n)){await Promise.all(n.map(h=>sA(t,e,h,i,s,a)));return}let f=i&&typeof s=="number"?i[s]:i,p=null;switch(typeof n.view){case"function":p={name:!1,options:Z1,render:n.view};break;case"string":if(n.view==="render"){let{config:h="",context:g=""}=n;p={name:!1,options:{tag:null},render(v,w,k){let S=h!==""?t.host.query(h,f,a):k,P=t.host.query(g,a,f);return t.render(v,S,k!==S?k:f,P)}}}else if(n.view.startsWith("preset/")){let h=n.view.substr(7);p={name:!1,options:{tag:null},render:t.host.preset.isDefined(h)?t.host.preset.get(h).render:()=>{}}}else p=t.get(n.view)||null;break}e||(e=document.createDocumentFragment());let m=e.appendChild(document.createComment(""));if(!p){let h=typeof n.view=="string"?"View `"+n.view+"` is not found":"Render is not a function";return t.host.log("error",h,n),Q1(t,h,m,n)}try{if(K1("when",t,n,f,a,i,s,m)){let h="data"in n?await t.host.query(n.data,f,a):f;if(K1("whenData",t,n,h,a,i,s,m))return oA(t,p,m,n,t.propsFromConfig(n,h,a),h,a,i,s)}}catch(h){return t.host.log("error","View render error:",h),Q1(t,String(h),m,eA)}}var Z1,eA,by,tA,nA,Y1,Kq,wy,$a,aA=N(()=>{is();Z1=Object.freeze({}),eA=Object.freeze({view:""}),by=new WeakMap,tA=new WeakMap,nA=new WeakMap,Y1=new WeakMap,Kq=new Set(["view","when","data","whenData","postRender","className","tooltip"]);wy=class{el;position;positionMode;pointerOffsetX;pointerOffsetY;constructor(){}async toggle(){}async show(){}hide(){}},$a=class t extends tr{host;defaultRenderErrorRenderer;viewEls;fragmentEls;tooltip;Popup=wy;constructor(e){super(),this.host=e,this.defaultRenderErrorRenderer=Xq(this),this.viewEls=new WeakMap,this.fragmentEls=new WeakMap,this.tooltip=null}define(e,n,i){let{tag:s,props:a}=i||{};return t.define(this,e,Object.freeze({name:e,options:Object.freeze({...i,tag:typeof s=="string"||s===void 0?s:null,props:typeof a=="string"?this.host.queryFn(a):a}),render:typeof n=="function"?n.bind(Jq(this,e)):(f,p,m,h)=>this.render(f,n,m,h)}))}normalizeConfig(e){if(!e)return null;if(Array.isArray(e))return e.reduce((n,i)=>n.concat(this.normalizeConfig(i)||[]),[]);if(typeof e=="string"){let[,n,i,s]=e.match(/^(\S+?)([:{])((?:.|\s)+)$/)||[];if(n){if(i==="{")try{return Ji(this.host.queryToConfig(n,i+s),e)}catch(a){return Ji(this.badConfig(e,a),e)}return Ji({view:n,data:s},e)}return Ji({view:e},e)}else if(typeof e=="function")return Ji({view:e},e);return e}badConfig(e,n){let i=n?.message||"Unknown error";return this.host.log("error",i,{config:e,error:n}),{view:this.defaultRenderErrorRenderer.render,type:"config",reason:i,config:e}}ensureValidConfig(e){return Array.isArray(e)?e.map(n=>this.ensureValidConfig(n)).flat():!e||!e.view?this.badConfig(e,new Error(e?"Option `view` is missed":"Config is not a valid value")):e}composeConfig(e,n){return e=this.normalizeConfig(e),n=this.normalizeConfig(n),e&&n?Array.isArray(e)?e.map(i=>Ji({...i,...n},[i,n])):Ji({...e,...n},[e,n]):e||n}propsFromConfig(e,n,i,s=this.get(e?.view)?.options.props){let a={};for(let[f,p]of Object.entries(e))Kq.has(f)||(a[f]=typeof p=="string"&&p.startsWith("=")?this.host.query(p.slice(1),n,i):p);if(typeof s=="function"){let f=s(n,{props:a,context:i});f!==null&&typeof f=="object"&&f!==a&&(Y1.set(f,{props:a,fn:s}),a=f)}return a}render(e,n,i,s,a){return sA(this,e,this.ensureValidConfig(this.normalizeConfig(n)),i,a,s)}listLimit(e,n){return e===!1?!1:!e||isNaN(e)?n:Math.max(parseInt(e,10),0)||n}renderList(e,n,i,s,a=0,f=!1,p){f===!1&&(f=i.length);let m=Promise.all(i.slice(a,a+f).map((h,g,v)=>this.render(e,n,i,{...s,index:a+g,array:i,sliceIndex:g,slice:v},a+g)));return this.maybeMoreButtons(p||e,null,i.length,a+f,f,(h,g)=>this.renderList(e,n,i,s,h,g,p)),m}maybeMoreButtons(e,n,i,s,a,f){if(i<=s)return null;let p=i-s,m=document.createElement("span");return p>a&&this.renderMoreButton(m,"Show "+a+" more...",()=>f(s,a)),p>0&&this.renderMoreButton(m,"Show all the rest "+p+" items...",()=>f(s,1/0)),m!==null&&(m.className="more-buttons",e.insertBefore(m,n)),m}renderMoreButton(e,n,i){let s=document.createElement("button");s.className="more-button",s.innerHTML=n,s.addEventListener("click",()=>{e.remove(),i()}),e.appendChild(s)}attachTooltip(e,n,i,s){xy(this.host,e,n,i,s)}adoptFragment(e,n){let i=this.fragmentEls.get(n);if(i)for(let s of e.childNodes)this.fragmentEls.set(s,i)}setViewRoot(e,n,i){tA.set(e,{name:n,...i})}getViewTree(e){let n=new Set(e||[]),i=[];return rA(this,this.host.dom?.container||null,{parent:null,children:i},n),i}getViewStackTrace(e){let{container:n}=this.host.dom;if(!n||!(e instanceof Node)||!n.contains(e))return null;let i=[],s=e;for(;s!==null&&s!==n;){let a=this.viewEls.get(s);a!==void 0&&i.push(a),s=s.parentNode}return i.length===0?null:i.reverse()}getViewConfigTransitionTree(e){let n=nA.get(e)||[];return Array.isArray(n)||(n=[n]),{value:e,deps:n.map(this.getViewConfigTransitionTree,this)}}getViewPropsTransition(e){let n=Y1.get(e)||null;return n&&{props:n.props,fn:n.fn,query:n.fn.query||null}}}});var Ga,lA=N(()=>{is();Ga=class t extends tr{#e;constructor(e){super(),this.#e=e}define(e,n){return n=JSON.parse(JSON.stringify(n)),t.define(this,e,Object.freeze({name:e,render:(i,s,a,f)=>this.#e.render(i,n,a,f),config:n}))}render(e,n,i,s){let a=this.get(n);if(!a){let f="Preset `"+n+"` is not found";console.error(f,n);let p=e.appendChild(document.createElement("div"));return p.className="discovery-buildin-view-config-error",p.textContent=f,Promise.resolve()}return a.render(e,null,i,s)}}});var Sy={};te(Sy,{getBoundingRect:()=>$n,getOffsetParent:()=>Va,getOverflowParent:()=>Ya,getPageOffset:()=>ky,getViewportRect:()=>Cy});function Va(t){let e=t.offsetParent;for(;e!==null&&e!==ls&&getComputedStyle(e).position==="static";)e=e.offsetParent;return e||ls}function Ya(t){let e=t.parentNode;for(;e!==null&&e!==ls&&getComputedStyle(e).overflow==="visible";)e=e.parentNode;return e||ls}function ky(t=null){let e=0,n=0;if(typeof t?.getBoundingClientRect=="function"){let i=t.getBoundingClientRect();e=-i.top,n=-i.left}else if(cA)e=window.pageYOffset||ls.scrollTop,n=window.pageXOffset||ls.scrollLeft;else{let{body:i}=document;t!==i&&(e=i.scrollTop-i.clientTop,n=i.scrollLeft-i.clientLeft)}return{left:n,top:e}}function $n(t,e){let n=ky(e),i=0,s=0,a=0,f=0;return t instanceof HTMLElement&&typeof t?.getBoundingClientRect=="function"&&({top:i,left:s,right:a,bottom:f}=t.getBoundingClientRect()),{top:i+n.top,left:s+n.left,right:a+n.left,bottom:f+n.top,width:a-s,height:f-i}}function Cy(t,e=null){let n=cA?document.documentElement:document.body,{top:i,left:s}=t===n&&!e?ky():$n(t,e),a,f;return!t||t instanceof Window?(a=window.innerWidth||0,f=window.innerHeight||0):(i+=t.clientTop,s+=t.clientLeft,a=t.clientWidth,f=t.clientHeight),{top:i,left:s,right:s+a,bottom:i+f,width:a,height:f}}var ls,cA,Zi=N(()=>{({documentElement:ls}=document),cA=document.compatMode==="CSS1Compat"});var Ay={};te(Ay,{pointerXY:()=>Ci});var uA,Ci,fu=N(()=>{pt();Qi();uA=new Un({x:0,y:0},(t,e)=>t.x!==e.x||t.y!==e.y);document.addEventListener("pointermove",({x:t,y:e})=>uA.set({x:t,y:e}),fr);Ci=uA.readonly});function e4(t){return t!==null&&(typeof t=="object"||typeof t=="function")}function ni(t,e){if(typeof t!="function")throw new TypeError("Expected a function");if(typeof e=="number"&&(e={wait:e}),!e4(e)){let W;return Object.assign(function(...U){return W=t.apply(this,U)},{cancel(){},flush(){return W},pending(){return!1}})}let n=Math.max(0,Number(e.wait)||0),i=!!e.leading,s="maxWait"in e,a=s?Math.max(Number(e.maxWait)||0,n):1/0,f="trailing"in e?!!e.trailing:!0,p,m,h,g,v,w=0;function k(W){let U=p,fe=m;return p=m=void 0,w=W,h=t.apply(fe,U),h}function S(W,U){return setTimeout(W,U)}function P(W){clearTimeout(W)}function M(W){return w=W,g=S(L,n),i?k(W):h}function A(W,U){let fe=W-U,G=W-w,ne=n-fe;return Math.min(ne,a-G)}function T(W,U){let fe=W-U,G=W-w;return fe>=n||fe<0||G>=a}function L(){let W=Date.now();if(v===void 0||T(W,v))return O(W);g=S(L,A(W,v))}function O(W){return g=void 0,f&&p?k(W):(p=m=void 0,h)}function z(){g!==void 0&&P(g),w=0,p=v=m=g=void 0}function B(){return g===void 0?h:O(Date.now())}function H(){return g!==void 0}return Object.assign(function(...W){let U=Date.now(),fe=v===void 0||T(U,v);if(p=W,m=this,v=U,fe){if(g===void 0)return M(v);if(s)return g=S(L,n),k(v)}return g===void 0&&(g=S(L,n)),h},{cancel:z,flush:B,pending:H})}var Ka=N(()=>{});function t4(t){let e=Ya(t),n=$n(t,e),i=0,s=0,{scrollTop:a,scrollLeft:f,clientWidth:p,clientHeight:m}=e,h=a+i,g=f+s,v=f+p,w=a+m,k=a+n.top,S=f+n.left,P=S+n.width,M=a,A=f;(k<h||k>w)&&(M=k-i),S<g?A=S-s:P>v&&(A=Math.max(S,f-(P-v))-s),e?.scrollTo(A,M)}function pA(){Ty=0}function dA(t,{selectTreeViewLeaf:e,detailsSidebarLeafExpanded:n}){return{view:"tree",when:"#.selectedView",data:"$[0]",className:"sidebar",limitLines:!1,itemConfig:{collapsible:"=not viewRoot",expanded:i=>i.viewRoot||n.has(i),onToggle:(i,s,a)=>i?n.add(a):n.delete(a)},item:{view:"switch",content:[{when:"viewRoot",content:{view:"block",className:"view-root",content:"text:viewRoot.name"}},{when:"$ = #.selectedView",content:[{view:"block",className:[i=>i.view?.skipped?"skipped":!1,"selected"],content:'text:view.config.view or "#root" | is string ?: "\u0192n"',postRender(i){requestAnimationFrame(()=>{t.querySelector(".sidebar").scrollTop=Ty,t4(i)})}},...fA]},{content:[{view:"link",className:i=>i.view?.skipped?"skipped":!1,data:'{ text: view.config.view or "#root" | is string ?: "\u0192n", href: false, view, self: $ }',onClick(i,s){Ty=t.querySelector(".sidebar")?.scrollTop||0,e(s.self)}},...fA]}]}}}var Ty,fA,hA=N(()=>{Zi();Ty=0,fA=[{view:"badge",when:'view.data != parent.(view or viewRoot).data or "data" in view.config',data:{text:"D"},tooltip:'text:"Data value was changed"'},{view:"badge",when:"view.context != parent.(view or viewRoot).context",data:{text:"C"},tooltip:'text:"Context value was changed"'}]});function pu(t){t=t.replace(/^(?:\s*[\n]+)+?([ \t]*)/,"$1").trimRight(),t=t.replace(/\n[ \t]+(?=\n)/g,`
`);let e=t.split(/\n+/),n=+(t.match(/^\s/)===null),i=1e3;for(var s=n;s<e.length;s++){let a=e[s].match(/^\s*/);if(a[0].length<i&&(i=a[0].length),i==0)break}return i>0&&(t=t.replace(new RegExp("^ {"+i+"}","gm"),"")),t}var Ey=N(()=>{});var mA,gA=N(()=>{Ey();mA={view:"block",className:["content","props-config"],data:"#.view | view or viewRoot",content:[{view:"block",className:"content-section skip",when:"skipped",content:'block{ content: "badge:{ text: skipped }" }'},{view:"block",className:"content-section render",when:"config.view is not string",content:'source:{ content: config.view + "", syntax: "js" }'},{view:"block",when:"props != undefined",className:"content-section props",content:[{view:"struct",expanded:2,data:"props"},{view:"context",data:(t,e)=>e.host.view.getViewPropsTransition(t.props),whenData:!0,content:[{view:"block",className:"transition-fn",data:t=>({...t,query:typeof t.query=="string"?pu(t.query):void 0}),content:{view:"switch",content:[{when:"query is string",content:{view:"source",data:'{ content: query, syntax: "jora", lineNum: false }'}},{content:"struct:fn"}]}},{view:"struct",expanded:2,data:"props"}]}]},{view:"block",className:"content-section config",content:[{view:"struct",expanded:1,data:"config"},{view:"tree",data:(t,e)=>e.host.view.getViewConfigTransitionTree(t.config).deps,whenData:!0,expanded:3,children:"deps",item:{view:"struct",expanded:1,data:"value"}}]}]}});var yA,vA,bA=N(()=>{Ey();yA={view:"list",className:"data-flow-transitions",limit:1,when:".[view]",data:`
        [null]    // to show empty list on first render
        + .[view] // filter viewRoot
        .(
            $parent;
            $parentName: parent.view.config.view;
            $queryData: view | inputDataIndex != undefined ? inputData[inputDataIndex] : inputData;

            view | [
                ...'data' in config ? { inputData: $queryData, transition: config.data, name: config.view, view: $, $parent } : [],
                ...inputDataIndex != undefined ? { inputData, transition: \`$[\${inputDataIndex}]\`, name: \`\${$parentName} \u2192 \${config.view}\`, view: $, $parent } : []
            ]
        )
    `,whenData:"size() > 1",itemConfig:{when:!0},item:[{view:"block",className:"root-data",when:"inputData = ..parent.viewRoot[].data",content:'badge:"Root data"'},{view:"struct",data:"inputData"},{view:"block",className:"data-flow-transition",content:[{view:"switch",content:[{when:"transition is (string or undefined)",content:{view:"context",data(t){return{content:pu(t.transition),refs:[]}},content:{view:"source",data:`{
                                    ...,
                                    syntax: "jora",
                                    lineNum: false
                                }`}}},{content:{view:"struct",data:"transition"}}]},{view:"block",className:"view-name",content:"text:name"}]}]},vA={view:"block",className:"content-section data",data:"#.view",content:[{view:"context",data:"..parent",content:yA},{view:"context",content:{...yA,limit:!1}},{view:"block",className:"root-data",when:"view or viewRoot | data = ([@] + @..parent).viewRoot[].data",content:'badge:"Root data"'},{view:"struct",expanded:1,data:"view or viewRoot | data"}]}});function n4(t,e){if(t===null)return!0;for(let n of["top","left","width","height"])if(t[n]!==e[n])return!0;return!1}var Ly,My=N(()=>{pt();Zi();fu();Ka();hA();gA();bA();Ly=t=>{let e=!1,n=null,i=null,s=null,a=null,f,p=new Set,m=new Map,h=new Map,g=Q("div","cancel-hint view-alert view-alert-warning"),v=Q("div",{class:"discovery-view-inspector-overlay",onclick:()=>A(i&&!s?i:null)},[g]),w=ni(()=>{if(!e||s!==null)return;let B=t.view.getViewTree([O.el]),H=new Set([...h.keys()]);(function U(fe,G){for(let ne of fe){if(!ne.node||!ne.view&&!ne.viewRoot){ne.children.length&&U(ne.children,G);continue}let D=$n(ne.node,G),ie=h.get(ne.node)||null;ie===null?(ie={el:G.appendChild(Q("div",ne.viewRoot?"overlay view-root":"overlay")),box:null},ne.node.nodeType===1&&(ie.el.style.zIndex=getComputedStyle(ne.node).zIndex),ne.viewRoot&&ne.viewRoot.inspectable!==!1&&(ie.el.dataset.inspectable=!0),h.set(ne.node,ie),m.set(ie.el,ne)):H.delete(ne.node),n4(ie.box,D)&&(ie.el.style.top=`${D.top}px`,ie.el.style.left=`${D.left}px`,ie.el.style.width=`${D.width}px`,ie.el.style.height=`${D.height}px`,ie.box=D),ne.children.length&&(ne.node.nodeType===1&&(ie.el.style.overflow=getComputedStyle(ne.node).overflow!=="visible"?"hidden":"visible"),U(ne.children,ie.el))}})(B,v);for(let U of H)h.get(U).el.remove(),h.delete(U);k()},{maxWait:0,wait:50}),k=()=>{let{x:B,y:H}=Ci.value;L([...t.dom.container.parentNode.elementsFromPoint(B|0,H|0)||[]].find(W=>m.has(W))||null)},S=B=>{(B.key==="Escape"||B.keyCode===27||B.which===27)&&t.inspectMode.set(!1)},P=()=>{e||(e=!0,document.addEventListener("scroll",w,fr),document.addEventListener("keydown",S,!0),Ci.subscribe(w),f=setInterval(w,500),t.dom.container.append(v),w())},M=()=>{e&&(e=!1,clearInterval(f),document.removeEventListener("scroll",w,fr),document.removeEventListener("keydown",S,!0),Ci.unsubscribe(w),z=!1,delete g.dataset.alt,v.remove(),T())},A=B=>{if(s=B||null,B){let{innerWidth:H,innerHeight:W}=window,{left:U,top:fe,width:G,height:ne}=O.el.getBoundingClientRect();O.el.style.top=`${fe}px`,O.el.style.left=`${U}px`,O.el.style.right=`${H-(U+G)}px`,O.el.style.bottom=`${W-(fe+ne)}px`,O.frozen=!0,requestAnimationFrame(()=>{O.show(),O.freeze()}),delete g.dataset.alt}else z?t.inspectMode.set(!1):(p.clear(),pA(),T(),w())},T=()=>{n&&n.classList.remove("hovered"),n=null,i=null,s=null,O.hide()},L=B=>{if(B===n)return;if(n!==null&&n.classList.remove("hovered"),n=B,B===null){a=setTimeout(T,100);return}B.classList.add("hovered");let H=m.get(B)||null;if(H===null){i=null;return}i!==null&&H.view===i.view||(i=H,clearTimeout(a),O.show())},O=new t.view.Popup({className:"discovery-inspect-details-popup",position:"pointer",hideIfEventOutside:!1,hideOnResize:!1,render(B){let H=s||i,W=[],U=H;for(;U!==null&&(U.view||U.viewRoot);)U!==H&&s!==null&&p.add(U),W.unshift(U),U=U.parent;return t.view.render(B,{view:"context",modifiers:[dA(B,{selectTreeViewLeaf:A,detailsSidebarLeafExpanded:p})],content:{view:"context",modifiers:{view:"block",className:"toolbar",content:[{view:"toggle-group",className:"stack-view-chain",name:"view",data:".({ value: $ })",value:"=$[-1].value",toggleConfig:{className:[fe=>fe.value.viewRoot?"view-root":!1,fe=>fe.value.view&&fe.value.view.skipped?"skipped":!1],content:['text:value | viewRoot.name or view.config.view | is string ?: "\u0192n"']}},{view:"button",when:s!==null,content:'text:"Close inspector"',onClick(){t.inspectMode.set(!1)}}]},content:[mA,{view:"block",className:["content","data-context"],content:[vA,{view:"block",className:"content-section context",data:"$[-1] | view or viewRoot",content:{view:"struct",expanded:1,data:"context"}}]}]}},W,{selectedView:s,host:t})}});t.action.define("startInspect",P),t.action.define("stopInspect",M),t.inspectMode.subscribeSync(B=>B?P():M());let z=!1}});var Qa,wA=N(()=>{Qa=(t,e)=>({demo:{view:t,onClick:Function('return () => alert("Hello world!")')(),data:{text:"Button"}},examples:[{title:"Variations",demo:e.map(n=>`${n}:{ text: "${n}" }`)},{title:"Disabled state",demo:e.map(n=>({view:n,disabled:!0,data:{text:n}}))},{title:"Button as a link",demo:{view:"button",data:{text:"Click me",href:"#url",external:!0}}}]})});function xA(t){function e(n,i,s,a){let{content:f,disabled:p=!1,onClick:m}=i,{text:h="",href:g,external:v}=s||{};if(n.classList.add("view-button"),t.query(p,s,a)?n.disabled=!0:typeof m=="function"?(n.addEventListener("click",()=>m(n,s,a)),n.classList.add("onclick")):g&&n.addEventListener("click",()=>Q("a",{href:g,target:v?"_blank":""}).click()),f)return t.view.render(n,f,s,a);n.textContent=h}t.view.define("button",e,{tag:"button",usage:Qa}),t.view.define("button-primary",e,{tag:"button",usage:Qa}),t.view.define("button-danger",e,{tag:"button",usage:Qa}),t.view.define("button-warning",e,{tag:"button",usage:Qa})}var kA=N(()=>{wA();pt()});var CA,SA=N(()=>{CA={demo:{view:"checkbox-list",checkbox:{content:"text"},data:["one","two","three"]}}});function AA(t){t.view.define("checkbox-list",function(e,n,i,s){let{name:a="filter",checkbox:f,checkboxValue:p="$",emptyText:m,limit:h,onChange:g,onInit:v}=n,w=new Set;if(m!==!1&&m!==""&&e.setAttribute("emptyText",m||"Empty list"),!Array.isArray(i)&&i&&(i=[i]),Array.isArray(i))return t.view.renderList(e,this.composeConfig({view:"checkbox",...f,onInit:(k,S,P,M)=>{k&&w.add(t.query(p,P,M))},onChange:(k,S,P,M)=>{let A=w.size,T=t.query(p,P,M);k?w.add(T):w.delete(T),A!==w.size&&typeof g=="function"&&g([...w],a)}}),i,s,0,t.view.listLimit(h,25)).then(()=>{typeof v=="function"&&v([...w],a)})},{usage:CA})}var TA=N(()=>{SA()});var EA,LA=N(()=>{EA={demo:{view:"checkbox",content:'text:"checkbox caption"'},examples:[{title:"Checked state",beforeDemo:"Checked state is set up with `checked` property. Its value can be a query",demo:[{view:"checkbox",checked:!0,content:'text:"should be checked"'},{view:"checkbox",checked:"1 > 5",content:`text:"shouldn't be checked"`},{view:"checkbox",checked:"1 < 5",content:'text:"should be checked"'}]},{title:"Readonly checkbox",demo:{view:"checkbox",readonly:!0,content:'text:"checkbox caption"'}},{title:"On change",demo:{view:"checkbox",onChange:new Function("return (value, name, data, context) => alert(`Changed to ${value}!`)")(),content:'text:"click me!"'}}]}});function MA(t){function e(n,i,s,a,f,p){if(n===null)return;let m=f?{...a,[f]:p.checked}:a;return n.innerHTML="",t.view.render(n,i,s,m)}t.view.define("checkbox",function(n,i,s,a){let{name:f,checked:p,readonly:m,content:h,onInit:g,onChange:v}=i,w=n.appendChild(Q("input")),k=h?n.appendChild(Q("span","view-checkbox__label")):null;return w.type="checkbox",w.checked=p!==void 0?t.queryBool(p,s,a):!!a[f],w.readOnly=m,w.addEventListener("click",S=>{m&&S.preventDefault()}),w.addEventListener("change",()=>{typeof v=="function"&&(v(w.checked,f,s,a),e(k,h,s,a,f,w))}),typeof g=="function"&&g(w.checked,f,s,a),e(k,h,s,a,f,w)},{tag:"label",usage:EA})}var NA=N(()=>{pt();LA()});var DA,OA=N(()=>{DA={demo:{view:"content-filter",data:["foo","bar","baz"],content:{view:"list",data:".[$ ~= #.filter]"}},examples:[{title:"Using with text-match",demo:{view:"content-filter",data:[{name:"foo"},{name:"bar"},{name:"baz"}],name:"customName",content:{view:"list",data:".[name ~= #.customName]",item:"text-match:{ text: name, match: #.customName }"}}}]}});function PA(t){t.view.define("content-filter",function(e,n,i,s){let{name:a="filter",type:f="regexp",placeholder:p,content:m,onInit:h,onChange:g}=n;return t.view.render(e,{view:"context",modifiers:{view:"input",name:a,type:f,placeholder:p||"Filter"},content:{view:"block",className:"content",content:m,onInit:h,onChange:g}},i,s)},{usage:DA})}var IA=N(()=>{OA()});var zA,BA=N(()=>{zA={demo:{view:"context",modifiers:{view:"dropdown",name:"demo",value:{foo:"two",bar:"hello"},resetValue:{foo:"one",bar:""},caption:"text:`${#.demo.foo} / ${#.demo.bar}`",content:[{view:"select",name:"foo",data:["one","two","three","four"]},{view:"input",name:"bar"}]},content:[{view:"block",content:'text:"Modified context (see values in \\"demo\\" section):"'},{view:"struct",expanded:1,data:"#"}]}}});function r4(t,e){if(!t||!e||typeof t!="object"||typeof e!="object")return t===e;for(let n in t)if(FA.call(t,n)&&t[n]!==e[n])return!1;for(let n in e)if(FA.call(e,n)&&t[n]!==e[n])return!1;return!0}function RA(t){t.view.define("dropdown",function(e,n,i,s){function a(B,H){return typeof P=="function"?P(B,H):r4(B,H)}function f(){return O.innerHTML="",t.view.render(O,k||"text",i,{...s,[h||"__self"]:T})}function p(B){T=B,typeof A=="function"&&A(T,h,i,s),L.hide(),f()}function m(B,H){if(z){let W={changed:!a(B,H)};z.innerHTML="",t.view.render(z,[{view:"button-primary",disabled:"=not changed",content:'text:"Apply"',onClick(U,fe,G){p(G)}},{view:"button",when:()=>g&&!a(g,T),content:'text:"Reset"',onClick(){p(g)}},{view:"button",disabled:"=not changed",content:'text:"Cancel"',onClick(){L.hide()}}],W,H)}}let{name:h,resetValue:g,value:v,placeholder:w,caption:k,content:S,compare:P,onInit:M,onChange:A}=n,T="value"in n?v:s[h],L=null,O=e.appendChild(document.createElement("div")),z;return w&&(e.dataset.placeholder=w),e.tabIndex=0,e.addEventListener("click",()=>{L===null&&(L=new t.view.Popup({className:"view-dropdown-popup"}));let B={...T},H;L.toggle(e,W=>t.view.render(W,[{view:"block",className:"content",content:t.view.composeConfig(S,{onInit(U,fe){B[fe]=U},onChange(U,fe){B[fe]=U,m(H,B)}})},{view:"block",className:"confirm",postRender(U){z=U}}],i,{...s,...T}).then(()=>{H={...B},m(H,B)}))}),O.className="view-dropdown__caption",typeof M=="function"&&M(T,h,i,s),f()},{usage:zA})}var FA,jA=N(()=>{BA();({hasOwnProperty:FA}=Object.prototype)});function i4(t,e){try{return new RegExp("((?:"+t+")+)",e)}catch{}return new RegExp("((?:"+t.replace(/[\[\]\(\)\?\+\*\{\}\\]/g,"\\$&")+")+)",e)}function Xa(t,e="i"){return Object.assign(i4(t,e),{rawSource:t})}var Ny=N(()=>{});var _A,HA,qA=N(()=>{_A=new Function("return (value) => alert(`Changed to ${value}!`)")(),HA={examples:[{title:"Input with value",demo:{view:"input",value:'"value"'}},{title:"Input with placeholder",demo:{view:"input",placeholder:"placeholder"}},{title:"Input type number with min and max",demo:{view:"input",htmlType:"number",htmlMin:10,htmlMax:20}},{title:"Input with onChange",demo:{view:"input",onChange:_A}},{title:"Input with onChange debounced",demo:{view:"input",onChange:_A,debounce:300}}]}});function WA(t){let e={regexp:n=>n?Xa(n):null,text:n=>n};t.view.define("input",function(n,i,s,a){let{name:f,value:p,type:m="text",placeholder:h,onInit:g,onChange:v,htmlType:w="text",htmlMin:k,htmlMax:S,debounce:P}=i,M=e[m]||e.text,A=n.appendChild(document.createElement("input")),T=p?t.query(p,s,a):a[f];typeof T!="string"&&(T=""),A.type=w,A.value=T,A.placeholder=[h||"",M!==e.text?"("+m+")":""].filter(Boolean).join(" "),typeof k<"u"&&(A.min=k),S&&(A.max=S),A.addEventListener("input",ni(()=>{let L=A.value.trim();T!==L&&(T=L,typeof v=="function"&&v(M(L),f,s,a))},P)),typeof g=="function"&&g(M(A.value.trim()),f,s,a)},{usage:HA})}var UA=N(()=>{Ny();Ka();qA()});var o4,$A,GA=N(()=>{o4=new Function("return (value) => alert(`Changed to ${value.text}!`)")(),$A={demo:{view:"menu",data:[{text:"one",href:"#"},{text:"two",href:"#"},{text:"three",href:"#"}]},examples:[{title:"With limit",demo:{view:"menu",data:[{text:"one",href:"#"},{text:"two",href:"#"},{text:"three",href:"#"}],limit:2}},{title:"With custom item",demo:{view:"menu",data:[{text:"one",href:"#"},{text:"two",href:"#"},{text:"three",href:"#"}],item:"h1:text"}},{title:"On chage handler",demo:{view:"menu",onChange:o4,data:[{text:"one",href:"#"},{text:"two",href:"#"},{text:"three",href:"#"}]}}]}});function VA(t){t.view.define("menu",function(e,n,i,s){let{name:a="filter",item:f,itemConfig:p,limit:m,emptyText:h,onClick:g,onInit:v,onChange:w}=n;if(h!==!1&&h!==""&&e.setAttribute("emptyText",h||"No items"),Array.isArray(i)){let k=this.composeConfig({view:"menu-item",content:f,onClick:typeof g=="function"?g:typeof w=="function"?S=>w(S,a):void 0},p);return t.view.renderList(e,k,i,s,0,t.view.listLimit(m,25)).then(()=>{typeof v=="function"&&v(t.query(".[selected].pick()",i,s),a)})}},{usage:$A})}var YA=N(()=>{GA()});var KA,QA=N(()=>{KA={demo:{view:"menu",data:[{text:"one",href:"#"},{text:"two",href:"#"},{text:"three",href:"#"}]},examples:[{title:"Preselected item",demo:{view:"menu",data:[{text:"one",href:"#"},{text:"two",href:"#",selected:!0},{text:"three",href:"#"}]}},{title:"Disabled item",demo:{view:"menu",data:[{text:"one",href:"#"},{text:"two",href:"#",disabled:!0},{text:"three",href:"#"}]}},{title:"External links",demo:{view:"menu",data:[{text:"one",external:!0,href:"https://github.com/discoveryjs/discovery"},{text:"two",external:!0,href:"https://github.com/discoveryjs/discovery"},{text:"three",external:!0,href:"https://github.com/discoveryjs/discovery"}]}}]}});function XA(t){t.view.define("menu-item",function(e,n,i,s){let{content:a,onClick:f}=n,{text:p,selected:m=!1,disabled:h=!1,href:g,external:v}=i||{};if(h?e.classList.add("disabled"):typeof f=="function"?(e.addEventListener("click",()=>f(i,s)),e.classList.add("onclick")):g&&(e.href=g,e.target=v?"_blank":""),m&&e.classList.add("selected"),a)return t.view.render(e,a,i,s);e.textContent=typeof i=="string"?i:p||"Untitled item"},{tag:"a",usage:KA})}var JA=N(()=>{QA()});var s4,ZA,eT=N(()=>{s4=()=>alert("changed!"),ZA={demo:{view:"nav-button",data:{text:"I am nav button"}},examples:[{title:"With href",demo:{view:"nav-button",data:{text:"I am nav button",href:"#"}}},{title:"External link",demo:{view:"nav-button",data:{text:"I am nav button",external:!0,href:"https://github.com/discoveryjs/discovery"}}},{title:"On click handler",demo:{view:"nav-button",data:{text:"I am nav button"},onClick:s4}}]}});function tT(t){t.view.define("nav-button",function(e,n,i,s){let{name:a,content:f,disabled:p=!1,onClick:m}=n,{text:h="",href:g,external:v}=i||{};if(a&&(e.dataset.name=a),t.query(p,i,s)?e.classList.add("disabled"):typeof m=="function"?(e.addEventListener("click",w=>m(e,i,s,w)),e.classList.add("onclick")):g&&(e.href=g,e.target=v?"_blank":""),f)return t.view.render(e,f,i,s);e.textContent=h},{tag:"a",usage:ZA})}var nT=N(()=>{eT()});var rT,iT=N(()=>{rT={demo:{view:"progress",progress:.5,content:'text:"Loading..."'},examples:[{title:"With no label (content)",demo:{view:"progress",progress:.25}},{title:"Custom color",demo:{view:"progress",progress:.85,color:"#bdab77",content:'text:"Yellow progress"'}}]}});function oT(t){t.view.define("progress",function(e,n,i,s){let{content:a,progress:f,color:p}=n,m=e.appendChild(Q("div",{class:"progress",style:`--progress: ${Math.max(0,Math.min(1,Number(f)))};--color: ${p||"unset"};`}));if(a){let h=e.insertBefore(Q("div",{class:"content"}),m);return t.view.render(h,a,i,s)}},{usage:rT})}var sT=N(()=>{pt();iT()});var a4,aT,lT=N(()=>{a4=new Function("return (value) => alert(`Changed to ${value}!`)")(),aT={demo:{view:"select",data:["one","two","three","four"]},examples:[{title:"Select with value",demo:{view:"select",value:'"three"',data:["one","two","three","four"]}},{title:"Select with reset option",demo:{view:"select",resetItem:!0,value:'"three"',data:["one","two","three","four"]}},{title:"Select with placeholder",demo:{view:"select",placeholder:"placeholder",data:["one","two","three","four"]}},{title:"Select with onChange",demo:{view:"select",onChange:a4,data:["one","two","three","four"]}},{title:"Select with custom options",demo:{view:"select",item:"h1:text",data:["one","two","three","four"]}}]}});function cT(t){let e="text-match:{ text, match: #.filter }",n="{ value: $, text: #.selectVariantTextQuery.query($, #) }",i=new t.view.Popup({className:"view-select-popup"});t.view.define("select",function(s,a,f,p){function m(){if(s.innerHTML="",B!==void 0)return t.view.render(s,t.view.composeConfig({view:"menu-item",data:n,content:M},A),B,H)}let{name:h,value:g,text:v="$",placeholder:w,limit:k,minItemsFilter:S=10,resetItem:P=!1,item:M=e,itemConfig:A,beforeItems:T,afterItems:L,onInit:O,onChange:z}=a,B=g?t.query(g,f,p):p[h],H={...p,selectMinItemsFilter:S,selectCurrentValue:B,selectVariantTextQuery:v,selectResetItem:P?[{value:void 0,text:"",...P,resetItem:!0}]:[]},W=[];return T&&W.push(t.view.composeConfig(T,{onInit:O,onChange:z})),W.push({view:"context",data:`.(${n})`,modifiers:{view:"input",when:"size() >= #.selectMinItemsFilter",type:"regexp",name:"filter",className:"view-select__filter",placeholder:"Filter"},content:{view:"menu",className:"view-select__variants",data:"#.selectResetItem + .[no #.filter or text~=#.filter]",limit:k,itemConfig:t.view.composeConfig({className:[U=>U.resetItem?"reset-item":"",U=>U.value===B?"selected":""]},A),item:M,onClick(U){i.hide(),B!==U.value&&(B=U.value,H={...H,selectCurrentValue:B},m(),typeof z=="function"&&z(U.value,h,U,p))}}}),L&&W.push(t.view.composeConfig(L,{onInit:O,onChange:z})),w&&(s.dataset.placeholder=w),s.tabIndex=0,s.addEventListener("click",()=>{i.toggle(s,U=>t.view.render(U,W,f,H).then(()=>(U.querySelector(".view-select__filter input")||{focus(){}}).focus()))}),typeof O=="function"&&O(B,h,f,p),m()},{usage:aT})}var uT=N(()=>{lT()});var fT,pT=N(()=>{fT={demo:{view:"tabs",name:"tabs",tabs:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}],content:{view:"switch",content:[{when:'#.tabs="one"',content:'text:"One"'},{when:'#.tabs="two"',content:'text:"Two"'},{when:'#.tabs="three"',content:'text:"Three"'}]}},examples:[{title:"With before and after content",demo:{view:"tabs",name:"example",tabs:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}],beforeTabs:'text:"<Content before tabs>"',afterTabs:'text:"<Content after tabs>"',content:'text:"Selected: " + #.example'}},{title:"On change handler",demo:{view:"tabs",name:"example",tabs:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}],onChange:new Function('return (value) => alert("changed to " + value)')(),content:'text:"Selected: " + #.example'}}]}});function dT(t){t.view.define("tabs",function(e,n,i,s){async function a(z){let B=T?g:h;if(L===z)return;let H=p||m||f?{...s,[v]:z}:null;L=z,T=!0,Array.isArray(w)&&(S.innerHTML="",p&&(M.innerHTML="",await t.view.render(M,p,i,H),S.appendChild(M)),await Promise.all(w.map(W=>t.view.render(S,t.view.composeConfig(W,{active:W.value===L}),i,s))),m&&(A.innerHTML="",await t.view.render(A,m,i,H),S.appendChild(A))),f&&(P.innerHTML="",await t.view.render(P,f,i,H)),typeof B=="function"&&B(L,v,i,s)}let{content:f,beforeTabs:p,afterTabs:m,onInit:h,onChange:g}=n,{name:v,tabs:w,tabConfig:k}=n,S=e.appendChild(document.createElement("div")),P=null,M=null,A=null,T=!1,L=NaN,O="value"in n?n.value:v in s?s[v]:void 0;return w=t.query(w,i,s),k=t.view.composeConfig({view:"tab",onClick:a},k),S.className="view-tabs-buttons",p&&(M=document.createElement("div"),M.className="view-tabs-buttons-before"),m&&(A=document.createElement("div"),A.className="view-tabs-buttons-after"),f&&(P=e.appendChild(document.createElement("div")),P.className="view-tabs-content"),typeof v!="string"&&(v="filter"),Array.isArray(w)?w=w.map(z=>{let B=typeof z;return(B==="string"||B==="number"||B==="boolean")&&(z={value:z}),(O===void 0||z.active)&&(O=z.value),t.view.composeConfig(k,z)}):w=[],a(O)},{usage:fT})}var hT=N(()=>{pT()});var Dy,mT,gT=N(()=>{Dy=()=>alert("clicked!"),mT={demo:{view:"tabs",name:"tabs",tabs:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}],content:{view:"switch",content:[{when:'#.tabs="one"',content:'text:"One"'},{when:'#.tabs="two"',content:'text:"Two"'},{when:'#.tabs="three"',content:'text:"Three"'}]}},examples:[{title:"Active & disabled tab",demo:{view:"tabs",name:"tabs",tabs:[{value:"one",text:"One"},{value:"two",text:"Two",active:!0},{value:"three",text:"Three",disabled:!0}],content:{view:"switch",content:[{when:'#.tabs="one"',content:'text:"One"'},{when:'#.tabs="two"',content:'text:"Two"'},{when:'#.tabs="three"',content:'text:"Three"'}]}}},{title:"On click handler",demo:{view:"tabs",name:"tabs",tabs:[{value:"one",text:"One",onClick:Dy},{value:"two",text:"Two",onClick:Dy},{value:"three",text:"Three",onClick:Dy}],content:{view:"switch",content:[{when:'#.tabs="one"',content:'text:"One"'},{when:'#.tabs="two"',content:'text:"Two"'},{when:'#.tabs="three"',content:'text:"Three"'}]}}}]}});function yT(t){t.view.define("tab",function(e,n,i,s){let{content:a,active:f=!1,disabled:p=!1,onClick:m,value:h,text:g=String(h).replace(/^./,v=>v.toUpperCase())}=n;if(t.query(p,i,s)?e.classList.add("disabled"):typeof m=="function"&&(e.addEventListener("click",()=>m(h)),e.classList.add("onclick")),f&&e.classList.add("active"),a)return t.view.render(e,a,i,s);e.textContent=g},{usage:mT})}var vT=N(()=>{gT()});var du,Oy=N(()=>{du={demo:{view:"context",modifiers:{view:"toggle-group",name:"toggleValue",data:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}]},content:{view:"switch",content:[{when:'#.toggleValue="one"',content:'text:"One"'},{when:'#.toggleValue="two"',content:'text:"Two"'},{when:'#.toggleValue="three"',content:'text:"Three"'}]}},examples:[{title:"With before and after content",demo:{view:"toggle-group",data:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}],beforeToggles:'text:"<Content before toggles>"',afterToggles:'text:"<Content after toggles>"'}},{title:"On change handler",demo:{view:"toggle-group",name:"example",onChange:new Function('return (value) => alert("changed to " + value)')(),data:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}]}}]}});function bT(t){t.view.define("toggle",function(e,n,i,s){let{content:a,disabled:f=!1,onToggle:p,value:m,text:h=String(m).replace(/^./,v=>v.toUpperCase())}=n,{checked:g=!1}=n;if(f?e.classList.add("disabled"):typeof p=="function"&&(e.addEventListener("click",()=>{g=!g,p(g,m)}),e.classList.add("onclick")),g&&e.classList.add("checked"),a)return t.view.render(e,a,i,s);e.textContent=h},{usage:du})}var wT=N(()=>{Oy()});function xT(t){t.view.define("toggle-group",function(e,n,i,s){async function a(T,L){let O=P?h:m;M!==L&&(M=L,P=!0,Array.isArray(w)&&(e.innerHTML="",f&&(k.innerHTML="",await t.view.render(k,f,i,{...s,[g]:L}),e.appendChild(k)),p&&(S.innerHTML="",await t.view.render(S,p,i,{...s,[g]:L}),e.appendChild(S)),await Promise.all(w.map((z,B)=>t.view.render(e,t.view.composeConfig(z,{checked:z.value===M}),i[B],s)))),typeof O=="function"&&O(M,g,i,s))}let{beforeToggles:f,afterToggles:p,onInit:m,onChange:h}=n,{name:g,toggleConfig:v}=n,w=[],k=null,S=null,P=!1,M=NaN,A="value"in n?n.value:g in s?s[g]:void 0;return v=t.view.composeConfig({view:"toggle",onToggle:a},v),f&&(k=document.createElement("div"),k.className="view-toggle-group-before"),p&&(S=document.createElement("div"),S.className="view-toggle-group-after"),typeof g!="string"&&(g="filter"),Array.isArray(i)&&(w=i.map(T=>{let L=typeof T;return(L==="string"||L==="number"||L==="boolean")&&(T={value:T}),(A===void 0||T.active)&&(A=T.value),t.view.composeConfig(v,T)})),a(!0,A)},{usage:du})}var kT=N(()=>{Oy()});var Py={};te(Py,{escapeHtml:()=>Ft,numDelim:()=>Bn});function Ft(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Bn(t,e=!0){let n=e&&typeof t!="number"?Ft(String(t)):String(t);return n.length>3?n.replace(/\.\d+(eE[-+]?\d+)?|\B(?=(\d{3})+(\D|$))/g,i=>i||'<span class="num-delim"></span>'):n}var nr=N(()=>{});var Iy={};te(Iy,{ContentRect:()=>eo});var l4,eo,hu=N(()=>{Qi();l4=typeof ResizeObserver=="function",eo=class extends Un{el;observer;constructor(){super(null),this.el=null,this.observer=l4?new ResizeObserver(e=>{for(let n of e)this.set(n.contentRect)}):null}observe(e){if(this.observer===null){this.el=null;return}e=e||null,this.el!==e&&(this.el!==null&&this.observer.unobserve(this.el),e!==null&&this.observer.observe(e),this.el=e)}dispose(){this.el=null,this.observer=null}}});var jr=Nt((zy,By)=>{(function(t,e){typeof zy=="object"&&typeof By<"u"?By.exports=e():typeof define=="function"&&define.amd?define(e):(t=t||self,t.CodeMirror=e())})(zy,function(){"use strict";var t=navigator.userAgent,e=navigator.platform,n=/gecko\/\d/i.test(t),i=/MSIE \d/.test(t),s=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),a=/Edge\/(\d+)/.exec(t),f=i||s||a,p=f&&(i?document.documentMode||6:+(a||s)[1]),m=!a&&/WebKit\//.test(t),h=m&&/Qt\/\d+\.\d+/.test(t),g=!a&&/Chrome\/(\d+)/.exec(t),v=g&&+g[1],w=/Opera\//.test(t),k=/Apple Computer/.test(navigator.vendor),S=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),P=/PhantomJS/.test(t),M=k&&(/Mobile\/\w+/.test(t)||navigator.maxTouchPoints>2),A=/Android/.test(t),T=M||A||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),L=M||/Mac/.test(e),O=/\bCrOS\b/.test(t),z=/win/i.test(e),B=w&&t.match(/Version\/(\d*\.\d*)/);B&&(B=Number(B[1])),B&&B>=15&&(w=!1,m=!0);var H=L&&(h||w&&(B==null||B<12.11)),W=n||f&&p>=9;function U(r){return new RegExp("(^|\\s)"+r+"(?:$|\\s)\\s*")}var fe=function(r,o){var c=r.className,l=U(o).exec(c);if(l){var u=c.slice(l.index+l[0].length);r.className=c.slice(0,l.index)+(u?l[1]+u:"")}};function G(r){for(var o=r.childNodes.length;o>0;--o)r.removeChild(r.firstChild);return r}function ne(r,o){return G(r).appendChild(o)}function D(r,o,c,l){var u=document.createElement(r);if(c&&(u.className=c),l&&(u.style.cssText=l),typeof o=="string")u.appendChild(document.createTextNode(o));else if(o)for(var d=0;d<o.length;++d)u.appendChild(o[d]);return u}function ie(r,o,c,l){var u=D(r,o,c,l);return u.setAttribute("role","presentation"),u}var oe;document.createRange?oe=function(r,o,c,l){var u=document.createRange();return u.setEnd(l||r,c),u.setStart(r,o),u}:oe=function(r,o,c){var l=document.body.createTextRange();try{l.moveToElementText(r.parentNode)}catch{return l}return l.collapse(!0),l.moveEnd("character",c),l.moveStart("character",o),l};function Ee(r,o){if(o.nodeType==3&&(o=o.parentNode),r.contains)return r.contains(o);do if(o.nodeType==11&&(o=o.host),o==r)return!0;while(o=o.parentNode)}function et(r){var o;try{o=r.activeElement}catch{o=r.body||null}for(;o&&o.shadowRoot&&o.shadowRoot.activeElement;)o=o.shadowRoot.activeElement;return o}function st(r,o){var c=r.className;U(o).test(c)||(r.className+=(c?" ":"")+o)}function Rt(r,o){for(var c=r.split(" "),l=0;l<c.length;l++)c[l]&&!U(c[l]).test(o)&&(o+=" "+c[l]);return o}var Fn=function(r){r.select()};M?Fn=function(r){r.selectionStart=0,r.selectionEnd=r.value.length}:f&&(Fn=function(r){try{r.select()}catch{}});function At(r){return r.display.wrapper.ownerDocument}function se(r){return At(r).defaultView}function be(r){var o=Array.prototype.slice.call(arguments,1);return function(){return r.apply(null,o)}}function pe(r,o,c){o||(o={});for(var l in r)r.hasOwnProperty(l)&&(c!==!1||!o.hasOwnProperty(l))&&(o[l]=r[l]);return o}function me(r,o,c,l,u){o==null&&(o=r.search(/[^\s\u00a0]/),o==-1&&(o=r.length));for(var d=l||0,y=u||0;;){var b=r.indexOf("	",d);if(b<0||b>=o)return y+(o-d);y+=b-d,y+=c-y%c,d=b+1}}var Ae=function(){this.id=null,this.f=null,this.time=0,this.handler=be(this.onTimeout,this)};Ae.prototype.onTimeout=function(r){r.id=0,r.time<=+new Date?r.f():setTimeout(r.handler,r.time-+new Date)},Ae.prototype.set=function(r,o){this.f=o;var c=+new Date+r;(!this.id||c<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,r),this.time=c)};function we(r,o){for(var c=0;c<r.length;++c)if(r[c]==o)return c;return-1}var Ce=50,ze={toString:function(){return"CodeMirror.Pass"}},it={scroll:!1},fn={origin:"*mouse"},pn={origin:"+move"};function Pt(r,o,c){for(var l=0,u=0;;){var d=r.indexOf("	",l);d==-1&&(d=r.length);var y=d-l;if(d==r.length||u+y>=o)return l+Math.min(y,o-u);if(u+=d-l,u+=c-u%c,l=d+1,u>=o)return l}}var rt=[""];function It(r){for(;rt.length<=r;)rt.push(qe(rt)+" ");return rt[r]}function qe(r){return r[r.length-1]}function yn(r,o){for(var c=[],l=0;l<r.length;l++)c[l]=o(r[l],l);return c}function Ar(r,o,c){for(var l=0,u=c(o);l<r.length&&c(r[l])<=u;)l++;r.splice(l,0,o)}function mt(){}function K(r,o){var c;return Object.create?c=Object.create(r):(mt.prototype=r,c=new mt),o&&pe(o,c),c}var de=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ee(r){return/\w/.test(r)||r>"\x80"&&(r.toUpperCase()!=r.toLowerCase()||de.test(r))}function Je(r,o){return o?o.source.indexOf("\\w")>-1&&ee(r)?!0:o.test(r):ee(r)}function j(r){for(var o in r)if(r.hasOwnProperty(o)&&r[o])return!1;return!0}var _=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Y(r){return r.charCodeAt(0)>=768&&_.test(r)}function X(r,o,c){for(;(c<0?o>0:o<r.length)&&Y(r.charAt(o));)o+=c;return o}function le(r,o,c){for(var l=o>c?-1:1;;){if(o==c)return o;var u=(o+c)/2,d=l<0?Math.ceil(u):Math.floor(u);if(d==o)return r(d)?o:c;r(d)?c=d:o=d+l}}function ae(r,o,c,l){if(!r)return l(o,c,"ltr",0);for(var u=!1,d=0;d<r.length;++d){var y=r[d];(y.from<c&&y.to>o||o==c&&y.to==o)&&(l(Math.max(y.from,o),Math.min(y.to,c),y.level==1?"rtl":"ltr",d),u=!0)}u||l(o,c,"ltr")}var ge=null;function xe(r,o,c){var l;ge=null;for(var u=0;u<r.length;++u){var d=r[u];if(d.from<o&&d.to>o)return u;d.to==o&&(d.from!=d.to&&c=="before"?l=u:ge=u),d.from==o&&(d.from!=d.to&&c!="before"?l=u:ge=u)}return l??ge}var Le=function(){var r="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",o="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function c(C){return C<=247?r.charAt(C):1424<=C&&C<=1524?"R":1536<=C&&C<=1785?o.charAt(C-1536):1774<=C&&C<=2220?"r":8192<=C&&C<=8203?"w":C==8204?"b":"L"}var l=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,u=/[stwN]/,d=/[LRr]/,y=/[Lb1n]/,b=/[1n]/;function x(C,I,F){this.level=C,this.from=I,this.to=F}return function(C,I){var F=I=="ltr"?"L":"R";if(C.length==0||I=="ltr"&&!l.test(C))return!1;for(var V=C.length,$=[],Z=0;Z<V;++Z)$.push(c(C.charCodeAt(Z)));for(var re=0,he=F;re<V;++re){var ye=$[re];ye=="m"?$[re]=he:he=ye}for(var ke=0,ve=F;ke<V;++ke){var Se=$[ke];Se=="1"&&ve=="r"?$[ke]="n":d.test(Se)&&(ve=Se,Se=="r"&&($[ke]="R"))}for(var Re=1,Be=$[0];Re<V-1;++Re){var Xe=$[Re];Xe=="+"&&Be=="1"&&$[Re+1]=="1"?$[Re]="1":Xe==","&&Be==$[Re+1]&&(Be=="1"||Be=="n")&&($[Re]=Be),Be=Xe}for(var xt=0;xt<V;++xt){var on=$[xt];if(on==",")$[xt]="N";else if(on=="%"){var zt=void 0;for(zt=xt+1;zt<V&&$[zt]=="%";++zt);for(var _n=xt&&$[xt-1]=="!"||zt<V&&$[zt]=="1"?"1":"N",Pn=xt;Pn<zt;++Pn)$[Pn]=_n;xt=zt-1}}for(var Gt=0,In=F;Gt<V;++Gt){var an=$[Gt];In=="L"&&an=="1"?$[Gt]="L":d.test(an)&&(In=an)}for(var Jt=0;Jt<V;++Jt)if(u.test($[Jt])){var Vt=void 0;for(Vt=Jt+1;Vt<V&&u.test($[Vt]);++Vt);for(var _t=(Jt?$[Jt-1]:F)=="L",zn=(Vt<V?$[Vt]:F)=="L",Do=_t==zn?_t?"L":"R":F,mi=Jt;mi<Vt;++mi)$[mi]=Do;Jt=Vt-1}for(var hn=[],Pr,sn=0;sn<V;)if(y.test($[sn])){var Df=sn;for(++sn;sn<V&&y.test($[sn]);++sn);hn.push(new x(0,Df,sn))}else{var Yr=sn,Ii=hn.length,zi=I=="rtl"?1:0;for(++sn;sn<V&&$[sn]!="L";++sn);for(var wn=Yr;wn<sn;)if(b.test($[wn])){Yr<wn&&(hn.splice(Ii,0,new x(1,Yr,wn)),Ii+=zi);var Oo=wn;for(++wn;wn<sn&&b.test($[wn]);++wn);hn.splice(Ii,0,new x(2,Oo,wn)),Ii+=zi,Yr=wn}else++wn;Yr<sn&&hn.splice(Ii,0,new x(1,Yr,sn))}return I=="ltr"&&(hn[0].level==1&&(Pr=C.match(/^\s+/))&&(hn[0].from=Pr[0].length,hn.unshift(new x(0,0,Pr[0].length))),qe(hn).level==1&&(Pr=C.match(/\s+$/))&&(qe(hn).to-=Pr[0].length,hn.push(new x(0,V-Pr[0].length,V)))),I=="rtl"?hn.reverse():hn}}();function Te(r,o){var c=r.order;return c==null&&(c=r.order=Le(r.text,o)),c}var Ke=[],ce=function(r,o,c){if(r.addEventListener)r.addEventListener(o,c,!1);else if(r.attachEvent)r.attachEvent("on"+o,c);else{var l=r._handlers||(r._handlers={});l[o]=(l[o]||Ke).concat(c)}};function Ve(r,o){return r._handlers&&r._handlers[o]||Ke}function Ze(r,o,c){if(r.removeEventListener)r.removeEventListener(o,c,!1);else if(r.detachEvent)r.detachEvent("on"+o,c);else{var l=r._handlers,u=l&&l[o];if(u){var d=we(u,c);d>-1&&(l[o]=u.slice(0,d).concat(u.slice(d+1)))}}}function Ye(r,o){var c=Ve(r,o);if(c.length)for(var l=Array.prototype.slice.call(arguments,2),u=0;u<c.length;++u)c[u].apply(null,l)}function Fe(r,o,c){return typeof o=="string"&&(o={type:o,preventDefault:function(){this.defaultPrevented=!0}}),Ye(r,c||o.type,r,o),En(o)||o.codemirrorIgnore}function Qt(r){var o=r._handlers&&r._handlers.cursorActivity;if(o)for(var c=r.curOp.cursorActivityHandlers||(r.curOp.cursorActivityHandlers=[]),l=0;l<o.length;++l)we(c,o[l])==-1&&c.push(o[l])}function dt(r,o){return Ve(r,o).length>0}function at(r){r.prototype.on=function(o,c){ce(this,o,c)},r.prototype.off=function(o,c){Ze(this,o,c)}}function lt(r){r.preventDefault?r.preventDefault():r.returnValue=!1}function Tt(r){r.stopPropagation?r.stopPropagation():r.cancelBubble=!0}function En(r){return r.defaultPrevented!=null?r.defaultPrevented:r.returnValue==!1}function Ht(r){lt(r),Tt(r)}function Ct(r){return r.target||r.srcElement}function Ln(r){var o=r.which;return o==null&&(r.button&1?o=1:r.button&2?o=3:r.button&4&&(o=2)),L&&r.ctrlKey&&o==1&&(o=3),o}var Vn=function(){if(f&&p<9)return!1;var r=D("div");return"draggable"in r||"dragDrop"in r}(),$t;function ii(r){if($t==null){var o=D("span","\u200B");ne(r,D("span",[o,document.createTextNode("x")])),r.firstChild.offsetHeight!=0&&($t=o.offsetWidth<=1&&o.offsetHeight>2&&!(f&&p<8))}var c=$t?D("span","\u200B"):D("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return c.setAttribute("cm-text",""),c}var Tr;function Er(r){if(Tr!=null)return Tr;var o=ne(r,document.createTextNode("A\u062EA")),c=oe(o,0,1).getBoundingClientRect(),l=oe(o,1,2).getBoundingClientRect();return G(r),!c||c.left==c.right?!1:Tr=l.right-c.right<3}var Yn=`

b`.split(/\n/).length!=3?function(r){for(var o=0,c=[],l=r.length;o<=l;){var u=r.indexOf(`
`,o);u==-1&&(u=r.length);var d=r.slice(o,r.charAt(u-1)=="\r"?u-1:u),y=d.indexOf("\r");y!=-1?(c.push(d.slice(0,y)),o+=y+1):(c.push(d),o=u+1)}return c}:function(r){return r.split(/\r\n?|\n/)},rr=window.getSelection?function(r){try{return r.selectionStart!=r.selectionEnd}catch{return!1}}:function(r){var o;try{o=r.ownerDocument.selection.createRange()}catch{}return!o||o.parentElement()!=r?!1:o.compareEndPoints("StartToEnd",o)!=0},vn=function(){var r=D("div");return"oncopy"in r?!0:(r.setAttribute("oncopy","return;"),typeof r.oncopy=="function")}(),Mn=null;function ir(r){if(Mn!=null)return Mn;var o=ne(r,D("span","x")),c=o.getBoundingClientRect(),l=oe(o,0,1).getBoundingClientRect();return Mn=Math.abs(c.left-l.left)>1}var Nn={},Lr={};function ul(r,o){arguments.length>2&&(o.dependencies=Array.prototype.slice.call(arguments,2)),Nn[r]=o}function fo(r,o){Lr[r]=o}function Rn(r){if(typeof r=="string"&&Lr.hasOwnProperty(r))r=Lr[r];else if(r&&typeof r.name=="string"&&Lr.hasOwnProperty(r.name)){var o=Lr[r.name];typeof o=="string"&&(o={name:o}),r=K(o,r),r.name=o.name}else{if(typeof r=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(r))return Rn("application/xml");if(typeof r=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(r))return Rn("application/json")}return typeof r=="string"?{name:r}:r||{name:"null"}}function _r(r,o){o=Rn(o);var c=Nn[o.name];if(!c)return _r(r,"text/plain");var l=c(r,o);if(oi.hasOwnProperty(o.name)){var u=oi[o.name];for(var d in u)u.hasOwnProperty(d)&&(l.hasOwnProperty(d)&&(l["_"+d]=l[d]),l[d]=u[d])}if(l.name=o.name,o.helperType&&(l.helperType=o.helperType),o.modeProps)for(var y in o.modeProps)l[y]=o.modeProps[y];return l}var oi={};function fl(r,o){var c=oi.hasOwnProperty(r)?oi[r]:oi[r]={};pe(o,c)}function Hr(r,o){if(o===!0)return o;if(r.copyState)return r.copyState(o);var c={};for(var l in o){var u=o[l];u instanceof Array&&(u=u.concat([])),c[l]=u}return c}function si(r,o){for(var c;r.innerMode&&(c=r.innerMode(o),!(!c||c.mode==r));)o=c.state,r=c.mode;return c||{mode:r,state:o}}function Ss(r,o,c){return r.startState?r.startState(o,c):!0}var jt=function(r,o,c){this.pos=this.start=0,this.string=r,this.tabSize=o||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=c};jt.prototype.eol=function(){return this.pos>=this.string.length},jt.prototype.sol=function(){return this.pos==this.lineStart},jt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},jt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},jt.prototype.eat=function(r){var o=this.string.charAt(this.pos),c;if(typeof r=="string"?c=o==r:c=o&&(r.test?r.test(o):r(o)),c)return++this.pos,o},jt.prototype.eatWhile=function(r){for(var o=this.pos;this.eat(r););return this.pos>o},jt.prototype.eatSpace=function(){for(var r=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>r},jt.prototype.skipToEnd=function(){this.pos=this.string.length},jt.prototype.skipTo=function(r){var o=this.string.indexOf(r,this.pos);if(o>-1)return this.pos=o,!0},jt.prototype.backUp=function(r){this.pos-=r},jt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=me(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?me(this.string,this.lineStart,this.tabSize):0)},jt.prototype.indentation=function(){return me(this.string,null,this.tabSize)-(this.lineStart?me(this.string,this.lineStart,this.tabSize):0)},jt.prototype.match=function(r,o,c){if(typeof r=="string"){var l=function(y){return c?y.toLowerCase():y},u=this.string.substr(this.pos,r.length);if(l(u)==l(r))return o!==!1&&(this.pos+=r.length),!0}else{var d=this.string.slice(this.pos).match(r);return d&&d.index>0?null:(d&&o!==!1&&(this.pos+=d[0].length),d)}},jt.prototype.current=function(){return this.string.slice(this.start,this.pos)},jt.prototype.hideFirstChars=function(r,o){this.lineStart+=r;try{return o()}finally{this.lineStart-=r}},jt.prototype.lookAhead=function(r){var o=this.lineOracle;return o&&o.lookAhead(r)},jt.prototype.baseToken=function(){var r=this.lineOracle;return r&&r.baseToken(this.pos)};function Oe(r,o){if(o-=r.first,o<0||o>=r.size)throw new Error("There is no line "+(o+r.first)+" in the document.");for(var c=r;!c.lines;)for(var l=0;;++l){var u=c.children[l],d=u.chunkSize();if(o<d){c=u;break}o-=d}return c.lines[o]}function qr(r,o,c){var l=[],u=o.line;return r.iter(o.line,c.line+1,function(d){var y=d.text;u==c.line&&(y=y.slice(0,c.ch)),u==o.line&&(y=y.slice(o.ch)),l.push(y),++u}),l}function po(r,o,c){var l=[];return r.iter(o,c,function(u){l.push(u.text)}),l}function or(r,o){var c=o-r.height;if(c)for(var l=r;l;l=l.parent)l.height+=c}function ct(r){if(r.parent==null)return null;for(var o=r.parent,c=we(o.lines,r),l=o.parent;l;o=l,l=l.parent)for(var u=0;l.children[u]!=o;++u)c+=l.children[u].chunkSize();return c+o.first}function Mr(r,o){var c=r.first;e:do{for(var l=0;l<r.children.length;++l){var u=r.children[l],d=u.height;if(o<d){r=u;continue e}o-=d,c+=u.chunkSize()}return c}while(!r.lines);for(var y=0;y<r.lines.length;++y){var b=r.lines[y],x=b.height;if(o<x)break;o-=x}return c+y}function E(r,o){return o>=r.first&&o<r.first+r.size}function R(r,o){return String(r.lineNumberFormatter(o+r.firstLineNumber))}function q(r,o,c){if(c===void 0&&(c=null),!(this instanceof q))return new q(r,o,c);this.line=r,this.ch=o,this.sticky=c}function J(r,o){return r.line-o.line||r.ch-o.ch}function We(r,o){return r.sticky==o.sticky&&J(r,o)==0}function tt(r){return q(r.line,r.ch)}function ot(r,o){return J(r,o)<0?o:r}function Xt(r,o){return J(r,o)<0?r:o}function Kn(r,o){return Math.max(r.first,Math.min(o,r.first+r.size-1))}function Ue(r,o){if(o.line<r.first)return q(r.first,0);var c=r.first+r.size-1;return o.line>c?q(c,Oe(r,c).text.length):AD(o,Oe(r,o.line).text.length)}function AD(r,o){var c=r.ch;return c==null||c>o?q(r.line,o):c<0?q(r.line,0):r}function jv(r,o){for(var c=[],l=0;l<o.length;l++)c[l]=Ue(r,o[l]);return c}var pl=function(r,o){this.state=r,this.lookAhead=o},Nr=function(r,o,c,l){this.state=o,this.doc=r,this.line=c,this.maxLookAhead=l||0,this.baseTokens=null,this.baseTokenPos=1};Nr.prototype.lookAhead=function(r){var o=this.doc.getLine(this.line+r);return o!=null&&r>this.maxLookAhead&&(this.maxLookAhead=r),o},Nr.prototype.baseToken=function(r){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=r;)this.baseTokenPos+=2;var o=this.baseTokens[this.baseTokenPos+1];return{type:o&&o.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-r}},Nr.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Nr.fromSaved=function(r,o,c){return o instanceof pl?new Nr(r,Hr(r.mode,o.state),c,o.lookAhead):new Nr(r,Hr(r.mode,o),c)},Nr.prototype.save=function(r){var o=r!==!1?Hr(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new pl(o,this.maxLookAhead):o};function _v(r,o,c,l){var u=[r.state.modeGen],d={};Gv(r,o.text,r.doc.mode,c,function(C,I){return u.push(C,I)},d,l);for(var y=c.state,b=function(C){c.baseTokens=u;var I=r.state.overlays[C],F=1,V=0;c.state=!0,Gv(r,o.text,I.mode,c,function($,Z){for(var re=F;V<$;){var he=u[F];he>$&&u.splice(F,1,$,u[F+1],he),F+=2,V=Math.min($,he)}if(Z)if(I.opaque)u.splice(re,F-re,$,"overlay "+Z),F=re+2;else for(;re<F;re+=2){var ye=u[re+1];u[re+1]=(ye?ye+" ":"")+"overlay "+Z}},d),c.state=y,c.baseTokens=null,c.baseTokenPos=1},x=0;x<r.state.overlays.length;++x)b(x);return{styles:u,classes:d.bgClass||d.textClass?d:null}}function Hv(r,o,c){if(!o.styles||o.styles[0]!=r.state.modeGen){var l=As(r,ct(o)),u=o.text.length>r.options.maxHighlightLength&&Hr(r.doc.mode,l.state),d=_v(r,o,l);u&&(l.state=u),o.stateAfter=l.save(!u),o.styles=d.styles,d.classes?o.styleClasses=d.classes:o.styleClasses&&(o.styleClasses=null),c===r.doc.highlightFrontier&&(r.doc.modeFrontier=Math.max(r.doc.modeFrontier,++r.doc.highlightFrontier))}return o.styles}function As(r,o,c){var l=r.doc,u=r.display;if(!l.mode.startState)return new Nr(l,!0,o);var d=TD(r,o,c),y=d>l.first&&Oe(l,d-1).stateAfter,b=y?Nr.fromSaved(l,y,d):new Nr(l,Ss(l.mode),d);return l.iter(d,o,function(x){ju(r,x.text,b);var C=b.line;x.stateAfter=C==o-1||C%5==0||C>=u.viewFrom&&C<u.viewTo?b.save():null,b.nextLine()}),c&&(l.modeFrontier=b.line),b}function ju(r,o,c,l){var u=r.doc.mode,d=new jt(o,r.options.tabSize,c);for(d.start=d.pos=l||0,o==""&&qv(u,c.state);!d.eol();)_u(u,d,c.state),d.start=d.pos}function qv(r,o){if(r.blankLine)return r.blankLine(o);if(r.innerMode){var c=si(r,o);if(c.mode.blankLine)return c.mode.blankLine(c.state)}}function _u(r,o,c,l){for(var u=0;u<10;u++){l&&(l[0]=si(r,c).mode);var d=r.token(o,c);if(o.pos>o.start)return d}throw new Error("Mode "+r.name+" failed to advance stream.")}var Wv=function(r,o,c){this.start=r.start,this.end=r.pos,this.string=r.current(),this.type=o||null,this.state=c};function Uv(r,o,c,l){var u=r.doc,d=u.mode,y;o=Ue(u,o);var b=Oe(u,o.line),x=As(r,o.line,c),C=new jt(b.text,r.options.tabSize,x),I;for(l&&(I=[]);(l||C.pos<o.ch)&&!C.eol();)C.start=C.pos,y=_u(d,C,x.state),l&&I.push(new Wv(C,y,Hr(u.mode,x.state)));return l?I:new Wv(C,y,x.state)}function $v(r,o){if(r)for(;;){var c=r.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!c)break;r=r.slice(0,c.index)+r.slice(c.index+c[0].length);var l=c[1]?"bgClass":"textClass";o[l]==null?o[l]=c[2]:new RegExp("(?:^|\\s)"+c[2]+"(?:$|\\s)").test(o[l])||(o[l]+=" "+c[2])}return r}function Gv(r,o,c,l,u,d,y){var b=c.flattenSpans;b==null&&(b=r.options.flattenSpans);var x=0,C=null,I=new jt(o,r.options.tabSize,l),F,V=r.options.addModeClass&&[null];for(o==""&&$v(qv(c,l.state),d);!I.eol();){if(I.pos>r.options.maxHighlightLength?(b=!1,y&&ju(r,o,l,I.pos),I.pos=o.length,F=null):F=$v(_u(c,I,l.state,V),d),V){var $=V[0].name;$&&(F="m-"+(F?$+" "+F:$))}if(!b||C!=F){for(;x<I.start;)x=Math.min(I.start,x+5e3),u(x,C);C=F}I.start=I.pos}for(;x<I.pos;){var Z=Math.min(I.pos,x+5e3);u(Z,C),x=Z}}function TD(r,o,c){for(var l,u,d=r.doc,y=c?-1:o-(r.doc.mode.innerMode?1e3:100),b=o;b>y;--b){if(b<=d.first)return d.first;var x=Oe(d,b-1),C=x.stateAfter;if(C&&(!c||b+(C instanceof pl?C.lookAhead:0)<=d.modeFrontier))return b;var I=me(x.text,null,r.options.tabSize);(u==null||l>I)&&(u=b-1,l=I)}return u}function ED(r,o){if(r.modeFrontier=Math.min(r.modeFrontier,o),!(r.highlightFrontier<o-10)){for(var c=r.first,l=o-1;l>c;l--){var u=Oe(r,l).stateAfter;if(u&&(!(u instanceof pl)||l+u.lookAhead<o)){c=l+1;break}}r.highlightFrontier=Math.min(r.highlightFrontier,c)}}var Vv=!1,Wr=!1;function LD(){Vv=!0}function MD(){Wr=!0}function dl(r,o,c){this.marker=r,this.from=o,this.to=c}function Ts(r,o){if(r)for(var c=0;c<r.length;++c){var l=r[c];if(l.marker==o)return l}}function ND(r,o){for(var c,l=0;l<r.length;++l)r[l]!=o&&(c||(c=[])).push(r[l]);return c}function DD(r,o,c){var l=c&&window.WeakSet&&(c.markedSpans||(c.markedSpans=new WeakSet));l&&r.markedSpans&&l.has(r.markedSpans)?r.markedSpans.push(o):(r.markedSpans=r.markedSpans?r.markedSpans.concat([o]):[o],l&&l.add(r.markedSpans)),o.marker.attachLine(r)}function OD(r,o,c){var l;if(r)for(var u=0;u<r.length;++u){var d=r[u],y=d.marker,b=d.from==null||(y.inclusiveLeft?d.from<=o:d.from<o);if(b||d.from==o&&y.type=="bookmark"&&(!c||!d.marker.insertLeft)){var x=d.to==null||(y.inclusiveRight?d.to>=o:d.to>o);(l||(l=[])).push(new dl(y,d.from,x?null:d.to))}}return l}function PD(r,o,c){var l;if(r)for(var u=0;u<r.length;++u){var d=r[u],y=d.marker,b=d.to==null||(y.inclusiveRight?d.to>=o:d.to>o);if(b||d.from==o&&y.type=="bookmark"&&(!c||d.marker.insertLeft)){var x=d.from==null||(y.inclusiveLeft?d.from<=o:d.from<o);(l||(l=[])).push(new dl(y,x?null:d.from-o,d.to==null?null:d.to-o))}}return l}function Hu(r,o){if(o.full)return null;var c=E(r,o.from.line)&&Oe(r,o.from.line).markedSpans,l=E(r,o.to.line)&&Oe(r,o.to.line).markedSpans;if(!c&&!l)return null;var u=o.from.ch,d=o.to.ch,y=J(o.from,o.to)==0,b=OD(c,u,y),x=PD(l,d,y),C=o.text.length==1,I=qe(o.text).length+(C?u:0);if(b)for(var F=0;F<b.length;++F){var V=b[F];if(V.to==null){var $=Ts(x,V.marker);$?C&&(V.to=$.to==null?null:$.to+I):V.to=u}}if(x)for(var Z=0;Z<x.length;++Z){var re=x[Z];if(re.to!=null&&(re.to+=I),re.from==null){var he=Ts(b,re.marker);he||(re.from=I,C&&(b||(b=[])).push(re))}else re.from+=I,C&&(b||(b=[])).push(re)}b&&(b=Yv(b)),x&&x!=b&&(x=Yv(x));var ye=[b];if(!C){var ke=o.text.length-2,ve;if(ke>0&&b)for(var Se=0;Se<b.length;++Se)b[Se].to==null&&(ve||(ve=[])).push(new dl(b[Se].marker,null,null));for(var Re=0;Re<ke;++Re)ye.push(ve);ye.push(x)}return ye}function Yv(r){for(var o=0;o<r.length;++o){var c=r[o];c.from!=null&&c.from==c.to&&c.marker.clearWhenEmpty!==!1&&r.splice(o--,1)}return r.length?r:null}function ID(r,o,c){var l=null;if(r.iter(o.line,c.line+1,function($){if($.markedSpans)for(var Z=0;Z<$.markedSpans.length;++Z){var re=$.markedSpans[Z].marker;re.readOnly&&(!l||we(l,re)==-1)&&(l||(l=[])).push(re)}}),!l)return null;for(var u=[{from:o,to:c}],d=0;d<l.length;++d)for(var y=l[d],b=y.find(0),x=0;x<u.length;++x){var C=u[x];if(!(J(C.to,b.from)<0||J(C.from,b.to)>0)){var I=[x,1],F=J(C.from,b.from),V=J(C.to,b.to);(F<0||!y.inclusiveLeft&&!F)&&I.push({from:C.from,to:b.from}),(V>0||!y.inclusiveRight&&!V)&&I.push({from:b.to,to:C.to}),u.splice.apply(u,I),x+=I.length-3}}return u}function Kv(r){var o=r.markedSpans;if(o){for(var c=0;c<o.length;++c)o[c].marker.detachLine(r);r.markedSpans=null}}function Qv(r,o){if(o){for(var c=0;c<o.length;++c)o[c].marker.attachLine(r);r.markedSpans=o}}function hl(r){return r.inclusiveLeft?-1:0}function ml(r){return r.inclusiveRight?1:0}function qu(r,o){var c=r.lines.length-o.lines.length;if(c!=0)return c;var l=r.find(),u=o.find(),d=J(l.from,u.from)||hl(r)-hl(o);if(d)return-d;var y=J(l.to,u.to)||ml(r)-ml(o);return y||o.id-r.id}function Xv(r,o){var c=Wr&&r.markedSpans,l;if(c)for(var u=void 0,d=0;d<c.length;++d)u=c[d],u.marker.collapsed&&(o?u.from:u.to)==null&&(!l||qu(l,u.marker)<0)&&(l=u.marker);return l}function Jv(r){return Xv(r,!0)}function gl(r){return Xv(r,!1)}function zD(r,o){var c=Wr&&r.markedSpans,l;if(c)for(var u=0;u<c.length;++u){var d=c[u];d.marker.collapsed&&(d.from==null||d.from<o)&&(d.to==null||d.to>o)&&(!l||qu(l,d.marker)<0)&&(l=d.marker)}return l}function Zv(r,o,c,l,u){var d=Oe(r,o),y=Wr&&d.markedSpans;if(y)for(var b=0;b<y.length;++b){var x=y[b];if(x.marker.collapsed){var C=x.marker.find(0),I=J(C.from,c)||hl(x.marker)-hl(u),F=J(C.to,l)||ml(x.marker)-ml(u);if(!(I>=0&&F<=0||I<=0&&F>=0)&&(I<=0&&(x.marker.inclusiveRight&&u.inclusiveLeft?J(C.to,c)>=0:J(C.to,c)>0)||I>=0&&(x.marker.inclusiveRight&&u.inclusiveLeft?J(C.from,l)<=0:J(C.from,l)<0)))return!0}}}function hr(r){for(var o;o=Jv(r);)r=o.find(-1,!0).line;return r}function BD(r){for(var o;o=gl(r);)r=o.find(1,!0).line;return r}function FD(r){for(var o,c;o=gl(r);)r=o.find(1,!0).line,(c||(c=[])).push(r);return c}function Wu(r,o){var c=Oe(r,o),l=hr(c);return c==l?o:ct(l)}function eb(r,o){if(o>r.lastLine())return o;var c=Oe(r,o),l;if(!ai(r,c))return o;for(;l=gl(c);)c=l.find(1,!0).line;return ct(c)+1}function ai(r,o){var c=Wr&&o.markedSpans;if(c){for(var l=void 0,u=0;u<c.length;++u)if(l=c[u],!!l.marker.collapsed){if(l.from==null)return!0;if(!l.marker.widgetNode&&l.from==0&&l.marker.inclusiveLeft&&Uu(r,o,l))return!0}}}function Uu(r,o,c){if(c.to==null){var l=c.marker.find(1,!0);return Uu(r,l.line,Ts(l.line.markedSpans,c.marker))}if(c.marker.inclusiveRight&&c.to==o.text.length)return!0;for(var u=void 0,d=0;d<o.markedSpans.length;++d)if(u=o.markedSpans[d],u.marker.collapsed&&!u.marker.widgetNode&&u.from==c.to&&(u.to==null||u.to!=c.from)&&(u.marker.inclusiveLeft||c.marker.inclusiveRight)&&Uu(r,o,u))return!0}function Ur(r){r=hr(r);for(var o=0,c=r.parent,l=0;l<c.lines.length;++l){var u=c.lines[l];if(u==r)break;o+=u.height}for(var d=c.parent;d;c=d,d=c.parent)for(var y=0;y<d.children.length;++y){var b=d.children[y];if(b==c)break;o+=b.height}return o}function yl(r){if(r.height==0)return 0;for(var o=r.text.length,c,l=r;c=Jv(l);){var u=c.find(0,!0);l=u.from.line,o+=u.from.ch-u.to.ch}for(l=r;c=gl(l);){var d=c.find(0,!0);o-=l.text.length-d.from.ch,l=d.to.line,o+=l.text.length-d.to.ch}return o}function $u(r){var o=r.display,c=r.doc;o.maxLine=Oe(c,c.first),o.maxLineLength=yl(o.maxLine),o.maxLineChanged=!0,c.iter(function(l){var u=yl(l);u>o.maxLineLength&&(o.maxLineLength=u,o.maxLine=l)})}var ho=function(r,o,c){this.text=r,Qv(this,o),this.height=c?c(this):1};ho.prototype.lineNo=function(){return ct(this)},at(ho);function RD(r,o,c,l){r.text=o,r.stateAfter&&(r.stateAfter=null),r.styles&&(r.styles=null),r.order!=null&&(r.order=null),Kv(r),Qv(r,c);var u=l?l(r):1;u!=r.height&&or(r,u)}function jD(r){r.parent=null,Kv(r)}var _D={},HD={};function tb(r,o){if(!r||/^\s*$/.test(r))return null;var c=o.addModeClass?HD:_D;return c[r]||(c[r]=r.replace(/\S+/g,"cm-$&"))}function nb(r,o){var c=ie("span",null,null,m?"padding-right: .1px":null),l={pre:ie("pre",[c],"CodeMirror-line"),content:c,col:0,pos:0,cm:r,trailingSpace:!1,splitSpaces:r.getOption("lineWrapping")};o.measure={};for(var u=0;u<=(o.rest?o.rest.length:0);u++){var d=u?o.rest[u-1]:o.line,y=void 0;l.pos=0,l.addToken=WD,Er(r.display.measure)&&(y=Te(d,r.doc.direction))&&(l.addToken=$D(l.addToken,y)),l.map=[];var b=o!=r.display.externalMeasured&&ct(d);GD(d,l,Hv(r,d,b)),d.styleClasses&&(d.styleClasses.bgClass&&(l.bgClass=Rt(d.styleClasses.bgClass,l.bgClass||"")),d.styleClasses.textClass&&(l.textClass=Rt(d.styleClasses.textClass,l.textClass||""))),l.map.length==0&&l.map.push(0,0,l.content.appendChild(ii(r.display.measure))),u==0?(o.measure.map=l.map,o.measure.cache={}):((o.measure.maps||(o.measure.maps=[])).push(l.map),(o.measure.caches||(o.measure.caches=[])).push({}))}if(m){var x=l.content.lastChild;(/\bcm-tab\b/.test(x.className)||x.querySelector&&x.querySelector(".cm-tab"))&&(l.content.className="cm-tab-wrap-hack")}return Ye(r,"renderLine",r,o.line,l.pre),l.pre.className&&(l.textClass=Rt(l.pre.className,l.textClass||"")),l}function qD(r){var o=D("span","\u2022","cm-invalidchar");return o.title="\\u"+r.charCodeAt(0).toString(16),o.setAttribute("aria-label",o.title),o}function WD(r,o,c,l,u,d,y){if(o){var b=r.splitSpaces?UD(o,r.trailingSpace):o,x=r.cm.state.specialChars,C=!1,I;if(!x.test(o))r.col+=o.length,I=document.createTextNode(b),r.map.push(r.pos,r.pos+o.length,I),f&&p<9&&(C=!0),r.pos+=o.length;else{I=document.createDocumentFragment();for(var F=0;;){x.lastIndex=F;var V=x.exec(o),$=V?V.index-F:o.length-F;if($){var Z=document.createTextNode(b.slice(F,F+$));f&&p<9?I.appendChild(D("span",[Z])):I.appendChild(Z),r.map.push(r.pos,r.pos+$,Z),r.col+=$,r.pos+=$}if(!V)break;F+=$+1;var re=void 0;if(V[0]=="	"){var he=r.cm.options.tabSize,ye=he-r.col%he;re=I.appendChild(D("span",It(ye),"cm-tab")),re.setAttribute("role","presentation"),re.setAttribute("cm-text","	"),r.col+=ye}else V[0]=="\r"||V[0]==`
`?(re=I.appendChild(D("span",V[0]=="\r"?"\u240D":"\u2424","cm-invalidchar")),re.setAttribute("cm-text",V[0]),r.col+=1):(re=r.cm.options.specialCharPlaceholder(V[0]),re.setAttribute("cm-text",V[0]),f&&p<9?I.appendChild(D("span",[re])):I.appendChild(re),r.col+=1);r.map.push(r.pos,r.pos+1,re),r.pos++}}if(r.trailingSpace=b.charCodeAt(o.length-1)==32,c||l||u||C||d||y){var ke=c||"";l&&(ke+=l),u&&(ke+=u);var ve=D("span",[I],ke,d);if(y)for(var Se in y)y.hasOwnProperty(Se)&&Se!="style"&&Se!="class"&&ve.setAttribute(Se,y[Se]);return r.content.appendChild(ve)}r.content.appendChild(I)}}function UD(r,o){if(r.length>1&&!/  /.test(r))return r;for(var c=o,l="",u=0;u<r.length;u++){var d=r.charAt(u);d==" "&&c&&(u==r.length-1||r.charCodeAt(u+1)==32)&&(d="\xA0"),l+=d,c=d==" "}return l}function $D(r,o){return function(c,l,u,d,y,b,x){u=u?u+" cm-force-border":"cm-force-border";for(var C=c.pos,I=C+l.length;;){for(var F=void 0,V=0;V<o.length&&(F=o[V],!(F.to>C&&F.from<=C));V++);if(F.to>=I)return r(c,l,u,d,y,b,x);r(c,l.slice(0,F.to-C),u,d,null,b,x),d=null,l=l.slice(F.to-C),C=F.to}}}function rb(r,o,c,l){var u=!l&&c.widgetNode;u&&r.map.push(r.pos,r.pos+o,u),!l&&r.cm.display.input.needsContentAttribute&&(u||(u=r.content.appendChild(document.createElement("span"))),u.setAttribute("cm-marker",c.id)),u&&(r.cm.display.input.setUneditable(u),r.content.appendChild(u)),r.pos+=o,r.trailingSpace=!1}function GD(r,o,c){var l=r.markedSpans,u=r.text,d=0;if(!l){for(var y=1;y<c.length;y+=2)o.addToken(o,u.slice(d,d=c[y]),tb(c[y+1],o.cm.options));return}for(var b=u.length,x=0,C=1,I="",F,V,$=0,Z,re,he,ye,ke;;){if($==x){Z=re=he=V="",ke=null,ye=null,$=1/0;for(var ve=[],Se=void 0,Re=0;Re<l.length;++Re){var Be=l[Re],Xe=Be.marker;if(Xe.type=="bookmark"&&Be.from==x&&Xe.widgetNode)ve.push(Xe);else if(Be.from<=x&&(Be.to==null||Be.to>x||Xe.collapsed&&Be.to==x&&Be.from==x)){if(Be.to!=null&&Be.to!=x&&$>Be.to&&($=Be.to,re=""),Xe.className&&(Z+=" "+Xe.className),Xe.css&&(V=(V?V+";":"")+Xe.css),Xe.startStyle&&Be.from==x&&(he+=" "+Xe.startStyle),Xe.endStyle&&Be.to==$&&(Se||(Se=[])).push(Xe.endStyle,Be.to),Xe.title&&((ke||(ke={})).title=Xe.title),Xe.attributes)for(var xt in Xe.attributes)(ke||(ke={}))[xt]=Xe.attributes[xt];Xe.collapsed&&(!ye||qu(ye.marker,Xe)<0)&&(ye=Be)}else Be.from>x&&$>Be.from&&($=Be.from)}if(Se)for(var on=0;on<Se.length;on+=2)Se[on+1]==$&&(re+=" "+Se[on]);if(!ye||ye.from==x)for(var zt=0;zt<ve.length;++zt)rb(o,0,ve[zt]);if(ye&&(ye.from||0)==x){if(rb(o,(ye.to==null?b+1:ye.to)-x,ye.marker,ye.from==null),ye.to==null)return;ye.to==x&&(ye=!1)}}if(x>=b)break;for(var _n=Math.min(b,$);;){if(I){var Pn=x+I.length;if(!ye){var Gt=Pn>_n?I.slice(0,_n-x):I;o.addToken(o,Gt,F?F+Z:Z,he,x+Gt.length==$?re:"",V,ke)}if(Pn>=_n){I=I.slice(_n-x),x=_n;break}x=Pn,he=""}I=u.slice(d,d=c[C++]),F=tb(c[C++],o.cm.options)}}}function ib(r,o,c){this.line=o,this.rest=FD(o),this.size=this.rest?ct(qe(this.rest))-c+1:1,this.node=this.text=null,this.hidden=ai(r,o)}function vl(r,o,c){for(var l=[],u,d=o;d<c;d=u){var y=new ib(r.doc,Oe(r.doc,d),d);u=d+y.size,l.push(y)}return l}var mo=null;function VD(r){mo?mo.ops.push(r):r.ownsGroup=mo={ops:[r],delayedCallbacks:[]}}function YD(r){var o=r.delayedCallbacks,c=0;do{for(;c<o.length;c++)o[c].call(null);for(var l=0;l<r.ops.length;l++){var u=r.ops[l];if(u.cursorActivityHandlers)for(;u.cursorActivityCalled<u.cursorActivityHandlers.length;)u.cursorActivityHandlers[u.cursorActivityCalled++].call(null,u.cm)}}while(c<o.length)}function KD(r,o){var c=r.ownsGroup;if(c)try{YD(c)}finally{mo=null,o(c)}}var Es=null;function tn(r,o){var c=Ve(r,o);if(c.length){var l=Array.prototype.slice.call(arguments,2),u;mo?u=mo.delayedCallbacks:Es?u=Es:(u=Es=[],setTimeout(QD,0));for(var d=function(b){u.push(function(){return c[b].apply(null,l)})},y=0;y<c.length;++y)d(y)}}function QD(){var r=Es;Es=null;for(var o=0;o<r.length;++o)r[o]()}function ob(r,o,c,l){for(var u=0;u<o.changes.length;u++){var d=o.changes[u];d=="text"?JD(r,o):d=="gutter"?ab(r,o,c,l):d=="class"?Gu(r,o):d=="widget"&&ZD(r,o,l)}o.changes=null}function Ls(r){return r.node==r.text&&(r.node=D("div",null,null,"position: relative"),r.text.parentNode&&r.text.parentNode.replaceChild(r.node,r.text),r.node.appendChild(r.text),f&&p<8&&(r.node.style.zIndex=2)),r.node}function XD(r,o){var c=o.bgClass?o.bgClass+" "+(o.line.bgClass||""):o.line.bgClass;if(c&&(c+=" CodeMirror-linebackground"),o.background)c?o.background.className=c:(o.background.parentNode.removeChild(o.background),o.background=null);else if(c){var l=Ls(o);o.background=l.insertBefore(D("div",null,c),l.firstChild),r.display.input.setUneditable(o.background)}}function sb(r,o){var c=r.display.externalMeasured;return c&&c.line==o.line?(r.display.externalMeasured=null,o.measure=c.measure,c.built):nb(r,o)}function JD(r,o){var c=o.text.className,l=sb(r,o);o.text==o.node&&(o.node=l.pre),o.text.parentNode.replaceChild(l.pre,o.text),o.text=l.pre,l.bgClass!=o.bgClass||l.textClass!=o.textClass?(o.bgClass=l.bgClass,o.textClass=l.textClass,Gu(r,o)):c&&(o.text.className=c)}function Gu(r,o){XD(r,o),o.line.wrapClass?Ls(o).className=o.line.wrapClass:o.node!=o.text&&(o.node.className="");var c=o.textClass?o.textClass+" "+(o.line.textClass||""):o.line.textClass;o.text.className=c||""}function ab(r,o,c,l){if(o.gutter&&(o.node.removeChild(o.gutter),o.gutter=null),o.gutterBackground&&(o.node.removeChild(o.gutterBackground),o.gutterBackground=null),o.line.gutterClass){var u=Ls(o);o.gutterBackground=D("div",null,"CodeMirror-gutter-background "+o.line.gutterClass,"left: "+(r.options.fixedGutter?l.fixedPos:-l.gutterTotalWidth)+"px; width: "+l.gutterTotalWidth+"px"),r.display.input.setUneditable(o.gutterBackground),u.insertBefore(o.gutterBackground,o.text)}var d=o.line.gutterMarkers;if(r.options.lineNumbers||d){var y=Ls(o),b=o.gutter=D("div",null,"CodeMirror-gutter-wrapper","left: "+(r.options.fixedGutter?l.fixedPos:-l.gutterTotalWidth)+"px");if(b.setAttribute("aria-hidden","true"),r.display.input.setUneditable(b),y.insertBefore(b,o.text),o.line.gutterClass&&(b.className+=" "+o.line.gutterClass),r.options.lineNumbers&&(!d||!d["CodeMirror-linenumbers"])&&(o.lineNumber=b.appendChild(D("div",R(r.options,c),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+l.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+r.display.lineNumInnerWidth+"px"))),d)for(var x=0;x<r.display.gutterSpecs.length;++x){var C=r.display.gutterSpecs[x].className,I=d.hasOwnProperty(C)&&d[C];I&&b.appendChild(D("div",[I],"CodeMirror-gutter-elt","left: "+l.gutterLeft[C]+"px; width: "+l.gutterWidth[C]+"px"))}}}function ZD(r,o,c){o.alignable&&(o.alignable=null);for(var l=U("CodeMirror-linewidget"),u=o.node.firstChild,d=void 0;u;u=d)d=u.nextSibling,l.test(u.className)&&o.node.removeChild(u);lb(r,o,c)}function eO(r,o,c,l){var u=sb(r,o);return o.text=o.node=u.pre,u.bgClass&&(o.bgClass=u.bgClass),u.textClass&&(o.textClass=u.textClass),Gu(r,o),ab(r,o,c,l),lb(r,o,l),o.node}function lb(r,o,c){if(cb(r,o.line,o,c,!0),o.rest)for(var l=0;l<o.rest.length;l++)cb(r,o.rest[l],o,c,!1)}function cb(r,o,c,l,u){if(o.widgets)for(var d=Ls(c),y=0,b=o.widgets;y<b.length;++y){var x=b[y],C=D("div",[x.node],"CodeMirror-linewidget"+(x.className?" "+x.className:""));x.handleMouseEvents||C.setAttribute("cm-ignore-events","true"),tO(x,C,c,l),r.display.input.setUneditable(C),u&&x.above?d.insertBefore(C,c.gutter||c.text):d.appendChild(C),tn(x,"redraw")}}function tO(r,o,c,l){if(r.noHScroll){(c.alignable||(c.alignable=[])).push(o);var u=l.wrapperWidth;o.style.left=l.fixedPos+"px",r.coverGutter||(u-=l.gutterTotalWidth,o.style.paddingLeft=l.gutterTotalWidth+"px"),o.style.width=u+"px"}r.coverGutter&&(o.style.zIndex=5,o.style.position="relative",r.noHScroll||(o.style.marginLeft=-l.gutterTotalWidth+"px"))}function Ms(r){if(r.height!=null)return r.height;var o=r.doc.cm;if(!o)return 0;if(!Ee(document.body,r.node)){var c="position: relative;";r.coverGutter&&(c+="margin-left: -"+o.display.gutters.offsetWidth+"px;"),r.noHScroll&&(c+="width: "+o.display.wrapper.clientWidth+"px;"),ne(o.display.measure,D("div",[r.node],null,c))}return r.height=r.node.parentNode.offsetHeight}function $r(r,o){for(var c=Ct(o);c!=r.wrapper;c=c.parentNode)if(!c||c.nodeType==1&&c.getAttribute("cm-ignore-events")=="true"||c.parentNode==r.sizer&&c!=r.mover)return!0}function bl(r){return r.lineSpace.offsetTop}function Vu(r){return r.mover.offsetHeight-r.lineSpace.offsetHeight}function ub(r){if(r.cachedPaddingH)return r.cachedPaddingH;var o=ne(r.measure,D("pre","x","CodeMirror-line-like")),c=window.getComputedStyle?window.getComputedStyle(o):o.currentStyle,l={left:parseInt(c.paddingLeft),right:parseInt(c.paddingRight)};return!isNaN(l.left)&&!isNaN(l.right)&&(r.cachedPaddingH=l),l}function Dr(r){return Ce-r.display.nativeBarWidth}function Ti(r){return r.display.scroller.clientWidth-Dr(r)-r.display.barWidth}function Yu(r){return r.display.scroller.clientHeight-Dr(r)-r.display.barHeight}function nO(r,o,c){var l=r.options.lineWrapping,u=l&&Ti(r);if(!o.measure.heights||l&&o.measure.width!=u){var d=o.measure.heights=[];if(l){o.measure.width=u;for(var y=o.text.firstChild.getClientRects(),b=0;b<y.length-1;b++){var x=y[b],C=y[b+1];Math.abs(x.bottom-C.bottom)>2&&d.push((x.bottom+C.top)/2-c.top)}}d.push(c.bottom-c.top)}}function fb(r,o,c){if(r.line==o)return{map:r.measure.map,cache:r.measure.cache};if(r.rest){for(var l=0;l<r.rest.length;l++)if(r.rest[l]==o)return{map:r.measure.maps[l],cache:r.measure.caches[l]};for(var u=0;u<r.rest.length;u++)if(ct(r.rest[u])>c)return{map:r.measure.maps[u],cache:r.measure.caches[u],before:!0}}}function rO(r,o){o=hr(o);var c=ct(o),l=r.display.externalMeasured=new ib(r.doc,o,c);l.lineN=c;var u=l.built=nb(r,l);return l.text=u.pre,ne(r.display.lineMeasure,u.pre),l}function pb(r,o,c,l){return Or(r,go(r,o),c,l)}function Ku(r,o){if(o>=r.display.viewFrom&&o<r.display.viewTo)return r.display.view[Mi(r,o)];var c=r.display.externalMeasured;if(c&&o>=c.lineN&&o<c.lineN+c.size)return c}function go(r,o){var c=ct(o),l=Ku(r,c);l&&!l.text?l=null:l&&l.changes&&(ob(r,l,c,ef(r)),r.curOp.forceUpdate=!0),l||(l=rO(r,o));var u=fb(l,o,c);return{line:o,view:l,rect:null,map:u.map,cache:u.cache,before:u.before,hasHeights:!1}}function Or(r,o,c,l,u){o.before&&(c=-1);var d=c+(l||""),y;return o.cache.hasOwnProperty(d)?y=o.cache[d]:(o.rect||(o.rect=o.view.text.getBoundingClientRect()),o.hasHeights||(nO(r,o.view,o.rect),o.hasHeights=!0),y=oO(r,o,c,l),y.bogus||(o.cache[d]=y)),{left:y.left,right:y.right,top:u?y.rtop:y.top,bottom:u?y.rbottom:y.bottom}}var db={left:0,right:0,top:0,bottom:0};function hb(r,o,c){for(var l,u,d,y,b,x,C=0;C<r.length;C+=3)if(b=r[C],x=r[C+1],o<b?(u=0,d=1,y="left"):o<x?(u=o-b,d=u+1):(C==r.length-3||o==x&&r[C+3]>o)&&(d=x-b,u=d-1,o>=x&&(y="right")),u!=null){if(l=r[C+2],b==x&&c==(l.insertLeft?"left":"right")&&(y=c),c=="left"&&u==0)for(;C&&r[C-2]==r[C-3]&&r[C-1].insertLeft;)l=r[(C-=3)+2],y="left";if(c=="right"&&u==x-b)for(;C<r.length-3&&r[C+3]==r[C+4]&&!r[C+5].insertLeft;)l=r[(C+=3)+2],y="right";break}return{node:l,start:u,end:d,collapse:y,coverStart:b,coverEnd:x}}function iO(r,o){var c=db;if(o=="left")for(var l=0;l<r.length&&(c=r[l]).left==c.right;l++);else for(var u=r.length-1;u>=0&&(c=r[u]).left==c.right;u--);return c}function oO(r,o,c,l){var u=hb(o.map,c,l),d=u.node,y=u.start,b=u.end,x=u.collapse,C;if(d.nodeType==3){for(var I=0;I<4;I++){for(;y&&Y(o.line.text.charAt(u.coverStart+y));)--y;for(;u.coverStart+b<u.coverEnd&&Y(o.line.text.charAt(u.coverStart+b));)++b;if(f&&p<9&&y==0&&b==u.coverEnd-u.coverStart?C=d.parentNode.getBoundingClientRect():C=iO(oe(d,y,b).getClientRects(),l),C.left||C.right||y==0)break;b=y,y=y-1,x="right"}f&&p<11&&(C=sO(r.display.measure,C))}else{y>0&&(x=l="right");var F;r.options.lineWrapping&&(F=d.getClientRects()).length>1?C=F[l=="right"?F.length-1:0]:C=d.getBoundingClientRect()}if(f&&p<9&&!y&&(!C||!C.left&&!C.right)){var V=d.parentNode.getClientRects()[0];V?C={left:V.left,right:V.left+vo(r.display),top:V.top,bottom:V.bottom}:C=db}for(var $=C.top-o.rect.top,Z=C.bottom-o.rect.top,re=($+Z)/2,he=o.view.measure.heights,ye=0;ye<he.length-1&&!(re<he[ye]);ye++);var ke=ye?he[ye-1]:0,ve=he[ye],Se={left:(x=="right"?C.right:C.left)-o.rect.left,right:(x=="left"?C.left:C.right)-o.rect.left,top:ke,bottom:ve};return!C.left&&!C.right&&(Se.bogus=!0),r.options.singleCursorHeightPerLine||(Se.rtop=$,Se.rbottom=Z),Se}function sO(r,o){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!ir(r))return o;var c=screen.logicalXDPI/screen.deviceXDPI,l=screen.logicalYDPI/screen.deviceYDPI;return{left:o.left*c,right:o.right*c,top:o.top*l,bottom:o.bottom*l}}function mb(r){if(r.measure&&(r.measure.cache={},r.measure.heights=null,r.rest))for(var o=0;o<r.rest.length;o++)r.measure.caches[o]={}}function gb(r){r.display.externalMeasure=null,G(r.display.lineMeasure);for(var o=0;o<r.display.view.length;o++)mb(r.display.view[o])}function Ns(r){gb(r),r.display.cachedCharWidth=r.display.cachedTextHeight=r.display.cachedPaddingH=null,r.options.lineWrapping||(r.display.maxLineChanged=!0),r.display.lineNumChars=null}function yb(r){return g&&A?-(r.body.getBoundingClientRect().left-parseInt(getComputedStyle(r.body).marginLeft)):r.defaultView.pageXOffset||(r.documentElement||r.body).scrollLeft}function vb(r){return g&&A?-(r.body.getBoundingClientRect().top-parseInt(getComputedStyle(r.body).marginTop)):r.defaultView.pageYOffset||(r.documentElement||r.body).scrollTop}function Qu(r){var o=hr(r),c=o.widgets,l=0;if(c)for(var u=0;u<c.length;++u)c[u].above&&(l+=Ms(c[u]));return l}function wl(r,o,c,l,u){if(!u){var d=Qu(o);c.top+=d,c.bottom+=d}if(l=="line")return c;l||(l="local");var y=Ur(o);if(l=="local"?y+=bl(r.display):y-=r.display.viewOffset,l=="page"||l=="window"){var b=r.display.lineSpace.getBoundingClientRect();y+=b.top+(l=="window"?0:vb(At(r)));var x=b.left+(l=="window"?0:yb(At(r)));c.left+=x,c.right+=x}return c.top+=y,c.bottom+=y,c}function bb(r,o,c){if(c=="div")return o;var l=o.left,u=o.top;if(c=="page")l-=yb(At(r)),u-=vb(At(r));else if(c=="local"||!c){var d=r.display.sizer.getBoundingClientRect();l+=d.left,u+=d.top}var y=r.display.lineSpace.getBoundingClientRect();return{left:l-y.left,top:u-y.top}}function xl(r,o,c,l,u){return l||(l=Oe(r.doc,o.line)),wl(r,l,pb(r,l,o.ch,u),c)}function mr(r,o,c,l,u,d){l=l||Oe(r.doc,o.line),u||(u=go(r,l));function y(Z,re){var he=Or(r,u,Z,re?"right":"left",d);return re?he.left=he.right:he.right=he.left,wl(r,l,he,c)}var b=Te(l,r.doc.direction),x=o.ch,C=o.sticky;if(x>=l.text.length?(x=l.text.length,C="before"):x<=0&&(x=0,C="after"),!b)return y(C=="before"?x-1:x,C=="before");function I(Z,re,he){var ye=b[re],ke=ye.level==1;return y(he?Z-1:Z,ke!=he)}var F=xe(b,x,C),V=ge,$=I(x,F,C=="before");return V!=null&&($.other=I(x,V,C!="before")),$}function wb(r,o){var c=0;o=Ue(r.doc,o),r.options.lineWrapping||(c=vo(r.display)*o.ch);var l=Oe(r.doc,o.line),u=Ur(l)+bl(r.display);return{left:c,right:c,top:u,bottom:u+l.height}}function Xu(r,o,c,l,u){var d=q(r,o,c);return d.xRel=u,l&&(d.outside=l),d}function Ju(r,o,c){var l=r.doc;if(c+=r.display.viewOffset,c<0)return Xu(l.first,0,null,-1,-1);var u=Mr(l,c),d=l.first+l.size-1;if(u>d)return Xu(l.first+l.size-1,Oe(l,d).text.length,null,1,1);o<0&&(o=0);for(var y=Oe(l,u);;){var b=aO(r,y,u,o,c),x=zD(y,b.ch+(b.xRel>0||b.outside>0?1:0));if(!x)return b;var C=x.find(1);if(C.line==u)return C;y=Oe(l,u=C.line)}}function xb(r,o,c,l){l-=Qu(o);var u=o.text.length,d=le(function(y){return Or(r,c,y-1).bottom<=l},u,0);return u=le(function(y){return Or(r,c,y).top>l},d,u),{begin:d,end:u}}function kb(r,o,c,l){c||(c=go(r,o));var u=wl(r,o,Or(r,c,l),"line").top;return xb(r,o,c,u)}function Zu(r,o,c,l){return r.bottom<=c?!1:r.top>c?!0:(l?r.left:r.right)>o}function aO(r,o,c,l,u){u-=Ur(o);var d=go(r,o),y=Qu(o),b=0,x=o.text.length,C=!0,I=Te(o,r.doc.direction);if(I){var F=(r.options.lineWrapping?cO:lO)(r,o,c,d,I,l,u);C=F.level!=1,b=C?F.from:F.to-1,x=C?F.to:F.from-1}var V=null,$=null,Z=le(function(Re){var Be=Or(r,d,Re);return Be.top+=y,Be.bottom+=y,Zu(Be,l,u,!1)?(Be.top<=u&&Be.left<=l&&(V=Re,$=Be),!0):!1},b,x),re,he,ye=!1;if($){var ke=l-$.left<$.right-l,ve=ke==C;Z=V+(ve?0:1),he=ve?"after":"before",re=ke?$.left:$.right}else{!C&&(Z==x||Z==b)&&Z++,he=Z==0?"after":Z==o.text.length?"before":Or(r,d,Z-(C?1:0)).bottom+y<=u==C?"after":"before";var Se=mr(r,q(c,Z,he),"line",o,d);re=Se.left,ye=u<Se.top?-1:u>=Se.bottom?1:0}return Z=X(o.text,Z,1),Xu(c,Z,he,ye,l-re)}function lO(r,o,c,l,u,d,y){var b=le(function(F){var V=u[F],$=V.level!=1;return Zu(mr(r,q(c,$?V.to:V.from,$?"before":"after"),"line",o,l),d,y,!0)},0,u.length-1),x=u[b];if(b>0){var C=x.level!=1,I=mr(r,q(c,C?x.from:x.to,C?"after":"before"),"line",o,l);Zu(I,d,y,!0)&&I.top>y&&(x=u[b-1])}return x}function cO(r,o,c,l,u,d,y){var b=xb(r,o,l,y),x=b.begin,C=b.end;/\s/.test(o.text.charAt(C-1))&&C--;for(var I=null,F=null,V=0;V<u.length;V++){var $=u[V];if(!($.from>=C||$.to<=x)){var Z=$.level!=1,re=Or(r,l,Z?Math.min(C,$.to)-1:Math.max(x,$.from)).right,he=re<d?d-re+1e9:re-d;(!I||F>he)&&(I=$,F=he)}}return I||(I=u[u.length-1]),I.from<x&&(I={from:x,to:I.to,level:I.level}),I.to>C&&(I={from:I.from,to:C,level:I.level}),I}var Ei;function yo(r){if(r.cachedTextHeight!=null)return r.cachedTextHeight;if(Ei==null){Ei=D("pre",null,"CodeMirror-line-like");for(var o=0;o<49;++o)Ei.appendChild(document.createTextNode("x")),Ei.appendChild(D("br"));Ei.appendChild(document.createTextNode("x"))}ne(r.measure,Ei);var c=Ei.offsetHeight/50;return c>3&&(r.cachedTextHeight=c),G(r.measure),c||1}function vo(r){if(r.cachedCharWidth!=null)return r.cachedCharWidth;var o=D("span","xxxxxxxxxx"),c=D("pre",[o],"CodeMirror-line-like");ne(r.measure,c);var l=o.getBoundingClientRect(),u=(l.right-l.left)/10;return u>2&&(r.cachedCharWidth=u),u||10}function ef(r){for(var o=r.display,c={},l={},u=o.gutters.clientLeft,d=o.gutters.firstChild,y=0;d;d=d.nextSibling,++y){var b=r.display.gutterSpecs[y].className;c[b]=d.offsetLeft+d.clientLeft+u,l[b]=d.clientWidth}return{fixedPos:tf(o),gutterTotalWidth:o.gutters.offsetWidth,gutterLeft:c,gutterWidth:l,wrapperWidth:o.wrapper.clientWidth}}function tf(r){return r.scroller.getBoundingClientRect().left-r.sizer.getBoundingClientRect().left}function Cb(r){var o=yo(r.display),c=r.options.lineWrapping,l=c&&Math.max(5,r.display.scroller.clientWidth/vo(r.display)-3);return function(u){if(ai(r.doc,u))return 0;var d=0;if(u.widgets)for(var y=0;y<u.widgets.length;y++)u.widgets[y].height&&(d+=u.widgets[y].height);return c?d+(Math.ceil(u.text.length/l)||1)*o:d+o}}function nf(r){var o=r.doc,c=Cb(r);o.iter(function(l){var u=c(l);u!=l.height&&or(l,u)})}function Li(r,o,c,l){var u=r.display;if(!c&&Ct(o).getAttribute("cm-not-content")=="true")return null;var d,y,b=u.lineSpace.getBoundingClientRect();try{d=o.clientX-b.left,y=o.clientY-b.top}catch{return null}var x=Ju(r,d,y),C;if(l&&x.xRel>0&&(C=Oe(r.doc,x.line).text).length==x.ch){var I=me(C,C.length,r.options.tabSize)-C.length;x=q(x.line,Math.max(0,Math.round((d-ub(r.display).left)/vo(r.display))-I))}return x}function Mi(r,o){if(o>=r.display.viewTo||(o-=r.display.viewFrom,o<0))return null;for(var c=r.display.view,l=0;l<c.length;l++)if(o-=c[l].size,o<0)return l}function Dn(r,o,c,l){o==null&&(o=r.doc.first),c==null&&(c=r.doc.first+r.doc.size),l||(l=0);var u=r.display;if(l&&c<u.viewTo&&(u.updateLineNumbers==null||u.updateLineNumbers>o)&&(u.updateLineNumbers=o),r.curOp.viewChanged=!0,o>=u.viewTo)Wr&&Wu(r.doc,o)<u.viewTo&&ci(r);else if(c<=u.viewFrom)Wr&&eb(r.doc,c+l)>u.viewFrom?ci(r):(u.viewFrom+=l,u.viewTo+=l);else if(o<=u.viewFrom&&c>=u.viewTo)ci(r);else if(o<=u.viewFrom){var d=kl(r,c,c+l,1);d?(u.view=u.view.slice(d.index),u.viewFrom=d.lineN,u.viewTo+=l):ci(r)}else if(c>=u.viewTo){var y=kl(r,o,o,-1);y?(u.view=u.view.slice(0,y.index),u.viewTo=y.lineN):ci(r)}else{var b=kl(r,o,o,-1),x=kl(r,c,c+l,1);b&&x?(u.view=u.view.slice(0,b.index).concat(vl(r,b.lineN,x.lineN)).concat(u.view.slice(x.index)),u.viewTo+=l):ci(r)}var C=u.externalMeasured;C&&(c<C.lineN?C.lineN+=l:o<C.lineN+C.size&&(u.externalMeasured=null))}function li(r,o,c){r.curOp.viewChanged=!0;var l=r.display,u=r.display.externalMeasured;if(u&&o>=u.lineN&&o<u.lineN+u.size&&(l.externalMeasured=null),!(o<l.viewFrom||o>=l.viewTo)){var d=l.view[Mi(r,o)];if(d.node!=null){var y=d.changes||(d.changes=[]);we(y,c)==-1&&y.push(c)}}}function ci(r){r.display.viewFrom=r.display.viewTo=r.doc.first,r.display.view=[],r.display.viewOffset=0}function kl(r,o,c,l){var u=Mi(r,o),d,y=r.display.view;if(!Wr||c==r.doc.first+r.doc.size)return{index:u,lineN:c};for(var b=r.display.viewFrom,x=0;x<u;x++)b+=y[x].size;if(b!=o){if(l>0){if(u==y.length-1)return null;d=b+y[u].size-o,u++}else d=b-o;o+=d,c+=d}for(;Wu(r.doc,c)!=c;){if(u==(l<0?0:y.length-1))return null;c+=l*y[u-(l<0?1:0)].size,u+=l}return{index:u,lineN:c}}function uO(r,o,c){var l=r.display,u=l.view;u.length==0||o>=l.viewTo||c<=l.viewFrom?(l.view=vl(r,o,c),l.viewFrom=o):(l.viewFrom>o?l.view=vl(r,o,l.viewFrom).concat(l.view):l.viewFrom<o&&(l.view=l.view.slice(Mi(r,o))),l.viewFrom=o,l.viewTo<c?l.view=l.view.concat(vl(r,l.viewTo,c)):l.viewTo>c&&(l.view=l.view.slice(0,Mi(r,c)))),l.viewTo=c}function Sb(r){for(var o=r.display.view,c=0,l=0;l<o.length;l++){var u=o[l];!u.hidden&&(!u.node||u.changes)&&++c}return c}function Ds(r){r.display.input.showSelection(r.display.input.prepareSelection())}function Ab(r,o){o===void 0&&(o=!0);var c=r.doc,l={},u=l.cursors=document.createDocumentFragment(),d=l.selection=document.createDocumentFragment(),y=r.options.$customCursor;y&&(o=!0);for(var b=0;b<c.sel.ranges.length;b++)if(!(!o&&b==c.sel.primIndex)){var x=c.sel.ranges[b];if(!(x.from().line>=r.display.viewTo||x.to().line<r.display.viewFrom)){var C=x.empty();if(y){var I=y(r,x);I&&rf(r,I,u)}else(C||r.options.showCursorWhenSelecting)&&rf(r,x.head,u);C||fO(r,x,d)}}return l}function rf(r,o,c){var l=mr(r,o,"div",null,null,!r.options.singleCursorHeightPerLine),u=c.appendChild(D("div","\xA0","CodeMirror-cursor"));if(u.style.left=l.left+"px",u.style.top=l.top+"px",u.style.height=Math.max(0,l.bottom-l.top)*r.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(r.getWrapperElement().className)){var d=xl(r,o,"div",null,null),y=d.right-d.left;u.style.width=(y>0?y:r.defaultCharWidth())+"px"}if(l.other){var b=c.appendChild(D("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));b.style.display="",b.style.left=l.other.left+"px",b.style.top=l.other.top+"px",b.style.height=(l.other.bottom-l.other.top)*.85+"px"}}function Cl(r,o){return r.top-o.top||r.left-o.left}function fO(r,o,c){var l=r.display,u=r.doc,d=document.createDocumentFragment(),y=ub(r.display),b=y.left,x=Math.max(l.sizerWidth,Ti(r)-l.sizer.offsetLeft)-y.right,C=u.direction=="ltr";function I(ve,Se,Re,Be){Se<0&&(Se=0),Se=Math.round(Se),Be=Math.round(Be),d.appendChild(D("div",null,"CodeMirror-selected","position: absolute; left: "+ve+`px;
                             top: `+Se+"px; width: "+(Re??x-ve)+`px;
                             height: `+(Be-Se)+"px"))}function F(ve,Se,Re){var Be=Oe(u,ve),Xe=Be.text.length,xt,on;function zt(Gt,In){return xl(r,q(ve,Gt),"div",Be,In)}function _n(Gt,In,an){var Jt=kb(r,Be,null,Gt),Vt=In=="ltr"==(an=="after")?"left":"right",_t=an=="after"?Jt.begin:Jt.end-(/\s/.test(Be.text.charAt(Jt.end-1))?2:1);return zt(_t,Vt)[Vt]}var Pn=Te(Be,u.direction);return ae(Pn,Se||0,Re??Xe,function(Gt,In,an,Jt){var Vt=an=="ltr",_t=zt(Gt,Vt?"left":"right"),zn=zt(In-1,Vt?"right":"left"),Do=Se==null&&Gt==0,mi=Re==null&&In==Xe,hn=Jt==0,Pr=!Pn||Jt==Pn.length-1;if(zn.top-_t.top<=3){var sn=(C?Do:mi)&&hn,Df=(C?mi:Do)&&Pr,Yr=sn?b:(Vt?_t:zn).left,Ii=Df?x:(Vt?zn:_t).right;I(Yr,_t.top,Ii-Yr,_t.bottom)}else{var zi,wn,Oo,Of;Vt?(zi=C&&Do&&hn?b:_t.left,wn=C?x:_n(Gt,an,"before"),Oo=C?b:_n(In,an,"after"),Of=C&&mi&&Pr?x:zn.right):(zi=C?_n(Gt,an,"before"):b,wn=!C&&Do&&hn?x:_t.right,Oo=!C&&mi&&Pr?b:zn.left,Of=C?_n(In,an,"after"):x),I(zi,_t.top,wn-zi,_t.bottom),_t.bottom<zn.top&&I(b,_t.bottom,null,zn.top),I(Oo,zn.top,Of-Oo,zn.bottom)}(!xt||Cl(_t,xt)<0)&&(xt=_t),Cl(zn,xt)<0&&(xt=zn),(!on||Cl(_t,on)<0)&&(on=_t),Cl(zn,on)<0&&(on=zn)}),{start:xt,end:on}}var V=o.from(),$=o.to();if(V.line==$.line)F(V.line,V.ch,$.ch);else{var Z=Oe(u,V.line),re=Oe(u,$.line),he=hr(Z)==hr(re),ye=F(V.line,V.ch,he?Z.text.length+1:null).end,ke=F($.line,he?0:null,$.ch).start;he&&(ye.top<ke.top-2?(I(ye.right,ye.top,null,ye.bottom),I(b,ke.top,ke.left,ke.bottom)):I(ye.right,ye.top,ke.left-ye.right,ye.bottom)),ye.bottom<ke.top&&I(b,ye.bottom,null,ke.top)}c.appendChild(d)}function of(r){if(r.state.focused){var o=r.display;clearInterval(o.blinker);var c=!0;o.cursorDiv.style.visibility="",r.options.cursorBlinkRate>0?o.blinker=setInterval(function(){r.hasFocus()||bo(r),o.cursorDiv.style.visibility=(c=!c)?"":"hidden"},r.options.cursorBlinkRate):r.options.cursorBlinkRate<0&&(o.cursorDiv.style.visibility="hidden")}}function Tb(r){r.hasFocus()||(r.display.input.focus(),r.state.focused||af(r))}function sf(r){r.state.delayingBlurEvent=!0,setTimeout(function(){r.state.delayingBlurEvent&&(r.state.delayingBlurEvent=!1,r.state.focused&&bo(r))},100)}function af(r,o){r.state.delayingBlurEvent&&!r.state.draggingText&&(r.state.delayingBlurEvent=!1),r.options.readOnly!="nocursor"&&(r.state.focused||(Ye(r,"focus",r,o),r.state.focused=!0,st(r.display.wrapper,"CodeMirror-focused"),!r.curOp&&r.display.selForContextMenu!=r.doc.sel&&(r.display.input.reset(),m&&setTimeout(function(){return r.display.input.reset(!0)},20)),r.display.input.receivedFocus()),of(r))}function bo(r,o){r.state.delayingBlurEvent||(r.state.focused&&(Ye(r,"blur",r,o),r.state.focused=!1,fe(r.display.wrapper,"CodeMirror-focused")),clearInterval(r.display.blinker),setTimeout(function(){r.state.focused||(r.display.shift=!1)},150))}function Sl(r){for(var o=r.display,c=o.lineDiv.offsetTop,l=Math.max(0,o.scroller.getBoundingClientRect().top),u=o.lineDiv.getBoundingClientRect().top,d=0,y=0;y<o.view.length;y++){var b=o.view[y],x=r.options.lineWrapping,C=void 0,I=0;if(!b.hidden){if(u+=b.line.height,f&&p<8){var F=b.node.offsetTop+b.node.offsetHeight;C=F-c,c=F}else{var V=b.node.getBoundingClientRect();C=V.bottom-V.top,!x&&b.text.firstChild&&(I=b.text.firstChild.getBoundingClientRect().right-V.left-1)}var $=b.line.height-C;if(($>.005||$<-.005)&&(u<l&&(d-=$),or(b.line,C),Eb(b.line),b.rest))for(var Z=0;Z<b.rest.length;Z++)Eb(b.rest[Z]);if(I>r.display.sizerWidth){var re=Math.ceil(I/vo(r.display));re>r.display.maxLineLength&&(r.display.maxLineLength=re,r.display.maxLine=b.line,r.display.maxLineChanged=!0)}}}Math.abs(d)>2&&(o.scroller.scrollTop+=d)}function Eb(r){if(r.widgets)for(var o=0;o<r.widgets.length;++o){var c=r.widgets[o],l=c.node.parentNode;l&&(c.height=l.offsetHeight)}}function Al(r,o,c){var l=c&&c.top!=null?Math.max(0,c.top):r.scroller.scrollTop;l=Math.floor(l-bl(r));var u=c&&c.bottom!=null?c.bottom:l+r.wrapper.clientHeight,d=Mr(o,l),y=Mr(o,u);if(c&&c.ensure){var b=c.ensure.from.line,x=c.ensure.to.line;b<d?(d=b,y=Mr(o,Ur(Oe(o,b))+r.wrapper.clientHeight)):Math.min(x,o.lastLine())>=y&&(d=Mr(o,Ur(Oe(o,x))-r.wrapper.clientHeight),y=x)}return{from:d,to:Math.max(y,d+1)}}function pO(r,o){if(!Fe(r,"scrollCursorIntoView")){var c=r.display,l=c.sizer.getBoundingClientRect(),u=null,d=c.wrapper.ownerDocument;if(o.top+l.top<0?u=!0:o.bottom+l.top>(d.defaultView.innerHeight||d.documentElement.clientHeight)&&(u=!1),u!=null&&!P){var y=D("div","\u200B",null,`position: absolute;
                         top: `+(o.top-c.viewOffset-bl(r.display))+`px;
                         height: `+(o.bottom-o.top+Dr(r)+c.barHeight)+`px;
                         left: `+o.left+"px; width: "+Math.max(2,o.right-o.left)+"px;");r.display.lineSpace.appendChild(y),y.scrollIntoView(u),r.display.lineSpace.removeChild(y)}}}function dO(r,o,c,l){l==null&&(l=0);var u;!r.options.lineWrapping&&o==c&&(c=o.sticky=="before"?q(o.line,o.ch+1,"before"):o,o=o.ch?q(o.line,o.sticky=="before"?o.ch-1:o.ch,"after"):o);for(var d=0;d<5;d++){var y=!1,b=mr(r,o),x=!c||c==o?b:mr(r,c);u={left:Math.min(b.left,x.left),top:Math.min(b.top,x.top)-l,right:Math.max(b.left,x.left),bottom:Math.max(b.bottom,x.bottom)+l};var C=lf(r,u),I=r.doc.scrollTop,F=r.doc.scrollLeft;if(C.scrollTop!=null&&(Ps(r,C.scrollTop),Math.abs(r.doc.scrollTop-I)>1&&(y=!0)),C.scrollLeft!=null&&(Ni(r,C.scrollLeft),Math.abs(r.doc.scrollLeft-F)>1&&(y=!0)),!y)break}return u}function hO(r,o){var c=lf(r,o);c.scrollTop!=null&&Ps(r,c.scrollTop),c.scrollLeft!=null&&Ni(r,c.scrollLeft)}function lf(r,o){var c=r.display,l=yo(r.display);o.top<0&&(o.top=0);var u=r.curOp&&r.curOp.scrollTop!=null?r.curOp.scrollTop:c.scroller.scrollTop,d=Yu(r),y={};o.bottom-o.top>d&&(o.bottom=o.top+d);var b=r.doc.height+Vu(c),x=o.top<l,C=o.bottom>b-l;if(o.top<u)y.scrollTop=x?0:o.top;else if(o.bottom>u+d){var I=Math.min(o.top,(C?b:o.bottom)-d);I!=u&&(y.scrollTop=I)}var F=r.options.fixedGutter?0:c.gutters.offsetWidth,V=r.curOp&&r.curOp.scrollLeft!=null?r.curOp.scrollLeft:c.scroller.scrollLeft-F,$=Ti(r)-c.gutters.offsetWidth,Z=o.right-o.left>$;return Z&&(o.right=o.left+$),o.left<10?y.scrollLeft=0:o.left<V?y.scrollLeft=Math.max(0,o.left+F-(Z?0:10)):o.right>$+V-3&&(y.scrollLeft=o.right+(Z?0:10)-$),y}function cf(r,o){o!=null&&(Tl(r),r.curOp.scrollTop=(r.curOp.scrollTop==null?r.doc.scrollTop:r.curOp.scrollTop)+o)}function wo(r){Tl(r);var o=r.getCursor();r.curOp.scrollToPos={from:o,to:o,margin:r.options.cursorScrollMargin}}function Os(r,o,c){(o!=null||c!=null)&&Tl(r),o!=null&&(r.curOp.scrollLeft=o),c!=null&&(r.curOp.scrollTop=c)}function mO(r,o){Tl(r),r.curOp.scrollToPos=o}function Tl(r){var o=r.curOp.scrollToPos;if(o){r.curOp.scrollToPos=null;var c=wb(r,o.from),l=wb(r,o.to);Lb(r,c,l,o.margin)}}function Lb(r,o,c,l){var u=lf(r,{left:Math.min(o.left,c.left),top:Math.min(o.top,c.top)-l,right:Math.max(o.right,c.right),bottom:Math.max(o.bottom,c.bottom)+l});Os(r,u.scrollLeft,u.scrollTop)}function Ps(r,o){Math.abs(r.doc.scrollTop-o)<2||(n||ff(r,{top:o}),Mb(r,o,!0),n&&ff(r),Bs(r,100))}function Mb(r,o,c){o=Math.max(0,Math.min(r.display.scroller.scrollHeight-r.display.scroller.clientHeight,o)),!(r.display.scroller.scrollTop==o&&!c)&&(r.doc.scrollTop=o,r.display.scrollbars.setScrollTop(o),r.display.scroller.scrollTop!=o&&(r.display.scroller.scrollTop=o))}function Ni(r,o,c,l){o=Math.max(0,Math.min(o,r.display.scroller.scrollWidth-r.display.scroller.clientWidth)),!((c?o==r.doc.scrollLeft:Math.abs(r.doc.scrollLeft-o)<2)&&!l)&&(r.doc.scrollLeft=o,Ib(r),r.display.scroller.scrollLeft!=o&&(r.display.scroller.scrollLeft=o),r.display.scrollbars.setScrollLeft(o))}function Is(r){var o=r.display,c=o.gutters.offsetWidth,l=Math.round(r.doc.height+Vu(r.display));return{clientHeight:o.scroller.clientHeight,viewHeight:o.wrapper.clientHeight,scrollWidth:o.scroller.scrollWidth,clientWidth:o.scroller.clientWidth,viewWidth:o.wrapper.clientWidth,barLeft:r.options.fixedGutter?c:0,docHeight:l,scrollHeight:l+Dr(r)+o.barHeight,nativeBarWidth:o.nativeBarWidth,gutterWidth:c}}var Di=function(r,o,c){this.cm=c;var l=this.vert=D("div",[D("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),u=this.horiz=D("div",[D("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");l.tabIndex=u.tabIndex=-1,r(l),r(u),ce(l,"scroll",function(){l.clientHeight&&o(l.scrollTop,"vertical")}),ce(u,"scroll",function(){u.clientWidth&&o(u.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,f&&p<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Di.prototype.update=function(r){var o=r.scrollWidth>r.clientWidth+1,c=r.scrollHeight>r.clientHeight+1,l=r.nativeBarWidth;if(c){this.vert.style.display="block",this.vert.style.bottom=o?l+"px":"0";var u=r.viewHeight-(o?l:0);this.vert.firstChild.style.height=Math.max(0,r.scrollHeight-r.clientHeight+u)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(o){this.horiz.style.display="block",this.horiz.style.right=c?l+"px":"0",this.horiz.style.left=r.barLeft+"px";var d=r.viewWidth-r.barLeft-(c?l:0);this.horiz.firstChild.style.width=Math.max(0,r.scrollWidth-r.clientWidth+d)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&r.clientHeight>0&&(l==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:c?l:0,bottom:o?l:0}},Di.prototype.setScrollLeft=function(r){this.horiz.scrollLeft!=r&&(this.horiz.scrollLeft=r),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Di.prototype.setScrollTop=function(r){this.vert.scrollTop!=r&&(this.vert.scrollTop=r),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Di.prototype.zeroWidthHack=function(){var r=L&&!S?"12px":"18px";this.horiz.style.height=this.vert.style.width=r,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Ae,this.disableVert=new Ae},Di.prototype.enableZeroWidthBar=function(r,o,c){r.style.visibility="";function l(){var u=r.getBoundingClientRect(),d=c=="vert"?document.elementFromPoint(u.right-1,(u.top+u.bottom)/2):document.elementFromPoint((u.right+u.left)/2,u.bottom-1);d!=r?r.style.visibility="hidden":o.set(1e3,l)}o.set(1e3,l)},Di.prototype.clear=function(){var r=this.horiz.parentNode;r.removeChild(this.horiz),r.removeChild(this.vert)};var zs=function(){};zs.prototype.update=function(){return{bottom:0,right:0}},zs.prototype.setScrollLeft=function(){},zs.prototype.setScrollTop=function(){},zs.prototype.clear=function(){};function xo(r,o){o||(o=Is(r));var c=r.display.barWidth,l=r.display.barHeight;Nb(r,o);for(var u=0;u<4&&c!=r.display.barWidth||l!=r.display.barHeight;u++)c!=r.display.barWidth&&r.options.lineWrapping&&Sl(r),Nb(r,Is(r)),c=r.display.barWidth,l=r.display.barHeight}function Nb(r,o){var c=r.display,l=c.scrollbars.update(o);c.sizer.style.paddingRight=(c.barWidth=l.right)+"px",c.sizer.style.paddingBottom=(c.barHeight=l.bottom)+"px",c.heightForcer.style.borderBottom=l.bottom+"px solid transparent",l.right&&l.bottom?(c.scrollbarFiller.style.display="block",c.scrollbarFiller.style.height=l.bottom+"px",c.scrollbarFiller.style.width=l.right+"px"):c.scrollbarFiller.style.display="",l.bottom&&r.options.coverGutterNextToScrollbar&&r.options.fixedGutter?(c.gutterFiller.style.display="block",c.gutterFiller.style.height=l.bottom+"px",c.gutterFiller.style.width=o.gutterWidth+"px"):c.gutterFiller.style.display=""}var Db={native:Di,null:zs};function Ob(r){r.display.scrollbars&&(r.display.scrollbars.clear(),r.display.scrollbars.addClass&&fe(r.display.wrapper,r.display.scrollbars.addClass)),r.display.scrollbars=new Db[r.options.scrollbarStyle](function(o){r.display.wrapper.insertBefore(o,r.display.scrollbarFiller),ce(o,"mousedown",function(){r.state.focused&&setTimeout(function(){return r.display.input.focus()},0)}),o.setAttribute("cm-not-content","true")},function(o,c){c=="horizontal"?Ni(r,o):Ps(r,o)},r),r.display.scrollbars.addClass&&st(r.display.wrapper,r.display.scrollbars.addClass)}var gO=0;function Oi(r){r.curOp={cm:r,viewChanged:!1,startHeight:r.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++gO,markArrays:null},VD(r.curOp)}function Pi(r){var o=r.curOp;o&&KD(o,function(c){for(var l=0;l<c.ops.length;l++)c.ops[l].cm.curOp=null;yO(c)})}function yO(r){for(var o=r.ops,c=0;c<o.length;c++)vO(o[c]);for(var l=0;l<o.length;l++)bO(o[l]);for(var u=0;u<o.length;u++)wO(o[u]);for(var d=0;d<o.length;d++)xO(o[d]);for(var y=0;y<o.length;y++)kO(o[y])}function vO(r){var o=r.cm,c=o.display;SO(o),r.updateMaxLine&&$u(o),r.mustUpdate=r.viewChanged||r.forceUpdate||r.scrollTop!=null||r.scrollToPos&&(r.scrollToPos.from.line<c.viewFrom||r.scrollToPos.to.line>=c.viewTo)||c.maxLineChanged&&o.options.lineWrapping,r.update=r.mustUpdate&&new El(o,r.mustUpdate&&{top:r.scrollTop,ensure:r.scrollToPos},r.forceUpdate)}function bO(r){r.updatedDisplay=r.mustUpdate&&uf(r.cm,r.update)}function wO(r){var o=r.cm,c=o.display;r.updatedDisplay&&Sl(o),r.barMeasure=Is(o),c.maxLineChanged&&!o.options.lineWrapping&&(r.adjustWidthTo=pb(o,c.maxLine,c.maxLine.text.length).left+3,o.display.sizerWidth=r.adjustWidthTo,r.barMeasure.scrollWidth=Math.max(c.scroller.clientWidth,c.sizer.offsetLeft+r.adjustWidthTo+Dr(o)+o.display.barWidth),r.maxScrollLeft=Math.max(0,c.sizer.offsetLeft+r.adjustWidthTo-Ti(o))),(r.updatedDisplay||r.selectionChanged)&&(r.preparedSelection=c.input.prepareSelection())}function xO(r){var o=r.cm;r.adjustWidthTo!=null&&(o.display.sizer.style.minWidth=r.adjustWidthTo+"px",r.maxScrollLeft<o.doc.scrollLeft&&Ni(o,Math.min(o.display.scroller.scrollLeft,r.maxScrollLeft),!0),o.display.maxLineChanged=!1);var c=r.focus&&r.focus==et(At(o));r.preparedSelection&&o.display.input.showSelection(r.preparedSelection,c),(r.updatedDisplay||r.startHeight!=o.doc.height)&&xo(o,r.barMeasure),r.updatedDisplay&&df(o,r.barMeasure),r.selectionChanged&&of(o),o.state.focused&&r.updateInput&&o.display.input.reset(r.typing),c&&Tb(r.cm)}function kO(r){var o=r.cm,c=o.display,l=o.doc;if(r.updatedDisplay&&Pb(o,r.update),c.wheelStartX!=null&&(r.scrollTop!=null||r.scrollLeft!=null||r.scrollToPos)&&(c.wheelStartX=c.wheelStartY=null),r.scrollTop!=null&&Mb(o,r.scrollTop,r.forceScroll),r.scrollLeft!=null&&Ni(o,r.scrollLeft,!0,!0),r.scrollToPos){var u=dO(o,Ue(l,r.scrollToPos.from),Ue(l,r.scrollToPos.to),r.scrollToPos.margin);pO(o,u)}var d=r.maybeHiddenMarkers,y=r.maybeUnhiddenMarkers;if(d)for(var b=0;b<d.length;++b)d[b].lines.length||Ye(d[b],"hide");if(y)for(var x=0;x<y.length;++x)y[x].lines.length&&Ye(y[x],"unhide");c.wrapper.offsetHeight&&(l.scrollTop=o.display.scroller.scrollTop),r.changeObjs&&Ye(o,"changes",o,r.changeObjs),r.update&&r.update.finish()}function jn(r,o){if(r.curOp)return o();Oi(r);try{return o()}finally{Pi(r)}}function nn(r,o){return function(){if(r.curOp)return o.apply(r,arguments);Oi(r);try{return o.apply(r,arguments)}finally{Pi(r)}}}function bn(r){return function(){if(this.curOp)return r.apply(this,arguments);Oi(this);try{return r.apply(this,arguments)}finally{Pi(this)}}}function rn(r){return function(){var o=this.cm;if(!o||o.curOp)return r.apply(this,arguments);Oi(o);try{return r.apply(this,arguments)}finally{Pi(o)}}}function Bs(r,o){r.doc.highlightFrontier<r.display.viewTo&&r.state.highlight.set(o,be(CO,r))}function CO(r){var o=r.doc;if(!(o.highlightFrontier>=r.display.viewTo)){var c=+new Date+r.options.workTime,l=As(r,o.highlightFrontier),u=[];o.iter(l.line,Math.min(o.first+o.size,r.display.viewTo+500),function(d){if(l.line>=r.display.viewFrom){var y=d.styles,b=d.text.length>r.options.maxHighlightLength?Hr(o.mode,l.state):null,x=_v(r,d,l,!0);b&&(l.state=b),d.styles=x.styles;var C=d.styleClasses,I=x.classes;I?d.styleClasses=I:C&&(d.styleClasses=null);for(var F=!y||y.length!=d.styles.length||C!=I&&(!C||!I||C.bgClass!=I.bgClass||C.textClass!=I.textClass),V=0;!F&&V<y.length;++V)F=y[V]!=d.styles[V];F&&u.push(l.line),d.stateAfter=l.save(),l.nextLine()}else d.text.length<=r.options.maxHighlightLength&&ju(r,d.text,l),d.stateAfter=l.line%5==0?l.save():null,l.nextLine();if(+new Date>c)return Bs(r,r.options.workDelay),!0}),o.highlightFrontier=l.line,o.modeFrontier=Math.max(o.modeFrontier,l.line),u.length&&jn(r,function(){for(var d=0;d<u.length;d++)li(r,u[d],"text")})}}var El=function(r,o,c){var l=r.display;this.viewport=o,this.visible=Al(l,r.doc,o),this.editorIsHidden=!l.wrapper.offsetWidth,this.wrapperHeight=l.wrapper.clientHeight,this.wrapperWidth=l.wrapper.clientWidth,this.oldDisplayWidth=Ti(r),this.force=c,this.dims=ef(r),this.events=[]};El.prototype.signal=function(r,o){dt(r,o)&&this.events.push(arguments)},El.prototype.finish=function(){for(var r=0;r<this.events.length;r++)Ye.apply(null,this.events[r])};function SO(r){var o=r.display;!o.scrollbarsClipped&&o.scroller.offsetWidth&&(o.nativeBarWidth=o.scroller.offsetWidth-o.scroller.clientWidth,o.heightForcer.style.height=Dr(r)+"px",o.sizer.style.marginBottom=-o.nativeBarWidth+"px",o.sizer.style.borderRightWidth=Dr(r)+"px",o.scrollbarsClipped=!0)}function AO(r){if(r.hasFocus())return null;var o=et(At(r));if(!o||!Ee(r.display.lineDiv,o))return null;var c={activeElt:o};if(window.getSelection){var l=se(r).getSelection();l.anchorNode&&l.extend&&Ee(r.display.lineDiv,l.anchorNode)&&(c.anchorNode=l.anchorNode,c.anchorOffset=l.anchorOffset,c.focusNode=l.focusNode,c.focusOffset=l.focusOffset)}return c}function TO(r){if(!(!r||!r.activeElt||r.activeElt==et(r.activeElt.ownerDocument))&&(r.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(r.activeElt.nodeName)&&r.anchorNode&&Ee(document.body,r.anchorNode)&&Ee(document.body,r.focusNode))){var o=r.activeElt.ownerDocument,c=o.defaultView.getSelection(),l=o.createRange();l.setEnd(r.anchorNode,r.anchorOffset),l.collapse(!1),c.removeAllRanges(),c.addRange(l),c.extend(r.focusNode,r.focusOffset)}}function uf(r,o){var c=r.display,l=r.doc;if(o.editorIsHidden)return ci(r),!1;if(!o.force&&o.visible.from>=c.viewFrom&&o.visible.to<=c.viewTo&&(c.updateLineNumbers==null||c.updateLineNumbers>=c.viewTo)&&c.renderedView==c.view&&Sb(r)==0)return!1;zb(r)&&(ci(r),o.dims=ef(r));var u=l.first+l.size,d=Math.max(o.visible.from-r.options.viewportMargin,l.first),y=Math.min(u,o.visible.to+r.options.viewportMargin);c.viewFrom<d&&d-c.viewFrom<20&&(d=Math.max(l.first,c.viewFrom)),c.viewTo>y&&c.viewTo-y<20&&(y=Math.min(u,c.viewTo)),Wr&&(d=Wu(r.doc,d),y=eb(r.doc,y));var b=d!=c.viewFrom||y!=c.viewTo||c.lastWrapHeight!=o.wrapperHeight||c.lastWrapWidth!=o.wrapperWidth;uO(r,d,y),c.viewOffset=Ur(Oe(r.doc,c.viewFrom)),r.display.mover.style.top=c.viewOffset+"px";var x=Sb(r);if(!b&&x==0&&!o.force&&c.renderedView==c.view&&(c.updateLineNumbers==null||c.updateLineNumbers>=c.viewTo))return!1;var C=AO(r);return x>4&&(c.lineDiv.style.display="none"),EO(r,c.updateLineNumbers,o.dims),x>4&&(c.lineDiv.style.display=""),c.renderedView=c.view,TO(C),G(c.cursorDiv),G(c.selectionDiv),c.gutters.style.height=c.sizer.style.minHeight=0,b&&(c.lastWrapHeight=o.wrapperHeight,c.lastWrapWidth=o.wrapperWidth,Bs(r,400)),c.updateLineNumbers=null,!0}function Pb(r,o){for(var c=o.viewport,l=!0;;l=!1){if(!l||!r.options.lineWrapping||o.oldDisplayWidth==Ti(r)){if(c&&c.top!=null&&(c={top:Math.min(r.doc.height+Vu(r.display)-Yu(r),c.top)}),o.visible=Al(r.display,r.doc,c),o.visible.from>=r.display.viewFrom&&o.visible.to<=r.display.viewTo)break}else l&&(o.visible=Al(r.display,r.doc,c));if(!uf(r,o))break;Sl(r);var u=Is(r);Ds(r),xo(r,u),df(r,u),o.force=!1}o.signal(r,"update",r),(r.display.viewFrom!=r.display.reportedViewFrom||r.display.viewTo!=r.display.reportedViewTo)&&(o.signal(r,"viewportChange",r,r.display.viewFrom,r.display.viewTo),r.display.reportedViewFrom=r.display.viewFrom,r.display.reportedViewTo=r.display.viewTo)}function ff(r,o){var c=new El(r,o);if(uf(r,c)){Sl(r),Pb(r,c);var l=Is(r);Ds(r),xo(r,l),df(r,l),c.finish()}}function EO(r,o,c){var l=r.display,u=r.options.lineNumbers,d=l.lineDiv,y=d.firstChild;function b(Z){var re=Z.nextSibling;return m&&L&&r.display.currentWheelTarget==Z?Z.style.display="none":Z.parentNode.removeChild(Z),re}for(var x=l.view,C=l.viewFrom,I=0;I<x.length;I++){var F=x[I];if(!F.hidden)if(!F.node||F.node.parentNode!=d){var V=eO(r,F,C,c);d.insertBefore(V,y)}else{for(;y!=F.node;)y=b(y);var $=u&&o!=null&&o<=C&&F.lineNumber;F.changes&&(we(F.changes,"gutter")>-1&&($=!1),ob(r,F,C,c)),$&&(G(F.lineNumber),F.lineNumber.appendChild(document.createTextNode(R(r.options,C)))),y=F.node.nextSibling}C+=F.size}for(;y;)y=b(y)}function pf(r){var o=r.gutters.offsetWidth;r.sizer.style.marginLeft=o+"px",tn(r,"gutterChanged",r)}function df(r,o){r.display.sizer.style.minHeight=o.docHeight+"px",r.display.heightForcer.style.top=o.docHeight+"px",r.display.gutters.style.height=o.docHeight+r.display.barHeight+Dr(r)+"px"}function Ib(r){var o=r.display,c=o.view;if(!(!o.alignWidgets&&(!o.gutters.firstChild||!r.options.fixedGutter))){for(var l=tf(o)-o.scroller.scrollLeft+r.doc.scrollLeft,u=o.gutters.offsetWidth,d=l+"px",y=0;y<c.length;y++)if(!c[y].hidden){r.options.fixedGutter&&(c[y].gutter&&(c[y].gutter.style.left=d),c[y].gutterBackground&&(c[y].gutterBackground.style.left=d));var b=c[y].alignable;if(b)for(var x=0;x<b.length;x++)b[x].style.left=d}r.options.fixedGutter&&(o.gutters.style.left=l+u+"px")}}function zb(r){if(!r.options.lineNumbers)return!1;var o=r.doc,c=R(r.options,o.first+o.size-1),l=r.display;if(c.length!=l.lineNumChars){var u=l.measure.appendChild(D("div",[D("div",c)],"CodeMirror-linenumber CodeMirror-gutter-elt")),d=u.firstChild.offsetWidth,y=u.offsetWidth-d;return l.lineGutter.style.width="",l.lineNumInnerWidth=Math.max(d,l.lineGutter.offsetWidth-y)+1,l.lineNumWidth=l.lineNumInnerWidth+y,l.lineNumChars=l.lineNumInnerWidth?c.length:-1,l.lineGutter.style.width=l.lineNumWidth+"px",pf(r.display),!0}return!1}function hf(r,o){for(var c=[],l=!1,u=0;u<r.length;u++){var d=r[u],y=null;if(typeof d!="string"&&(y=d.style,d=d.className),d=="CodeMirror-linenumbers")if(o)l=!0;else continue;c.push({className:d,style:y})}return o&&!l&&c.push({className:"CodeMirror-linenumbers",style:null}),c}function Bb(r){var o=r.gutters,c=r.gutterSpecs;G(o),r.lineGutter=null;for(var l=0;l<c.length;++l){var u=c[l],d=u.className,y=u.style,b=o.appendChild(D("div",null,"CodeMirror-gutter "+d));y&&(b.style.cssText=y),d=="CodeMirror-linenumbers"&&(r.lineGutter=b,b.style.width=(r.lineNumWidth||1)+"px")}o.style.display=c.length?"":"none",pf(r)}function Fs(r){Bb(r.display),Dn(r),Ib(r)}function LO(r,o,c,l){var u=this;this.input=c,u.scrollbarFiller=D("div",null,"CodeMirror-scrollbar-filler"),u.scrollbarFiller.setAttribute("cm-not-content","true"),u.gutterFiller=D("div",null,"CodeMirror-gutter-filler"),u.gutterFiller.setAttribute("cm-not-content","true"),u.lineDiv=ie("div",null,"CodeMirror-code"),u.selectionDiv=D("div",null,null,"position: relative; z-index: 1"),u.cursorDiv=D("div",null,"CodeMirror-cursors"),u.measure=D("div",null,"CodeMirror-measure"),u.lineMeasure=D("div",null,"CodeMirror-measure"),u.lineSpace=ie("div",[u.measure,u.lineMeasure,u.selectionDiv,u.cursorDiv,u.lineDiv],null,"position: relative; outline: none");var d=ie("div",[u.lineSpace],"CodeMirror-lines");u.mover=D("div",[d],null,"position: relative"),u.sizer=D("div",[u.mover],"CodeMirror-sizer"),u.sizerWidth=null,u.heightForcer=D("div",null,null,"position: absolute; height: "+Ce+"px; width: 1px;"),u.gutters=D("div",null,"CodeMirror-gutters"),u.lineGutter=null,u.scroller=D("div",[u.sizer,u.heightForcer,u.gutters],"CodeMirror-scroll"),u.scroller.setAttribute("tabIndex","-1"),u.wrapper=D("div",[u.scrollbarFiller,u.gutterFiller,u.scroller],"CodeMirror"),g&&v>=105&&(u.wrapper.style.clipPath="inset(0px)"),u.wrapper.setAttribute("translate","no"),f&&p<8&&(u.gutters.style.zIndex=-1,u.scroller.style.paddingRight=0),!m&&!(n&&T)&&(u.scroller.draggable=!0),r&&(r.appendChild?r.appendChild(u.wrapper):r(u.wrapper)),u.viewFrom=u.viewTo=o.first,u.reportedViewFrom=u.reportedViewTo=o.first,u.view=[],u.renderedView=null,u.externalMeasured=null,u.viewOffset=0,u.lastWrapHeight=u.lastWrapWidth=0,u.updateLineNumbers=null,u.nativeBarWidth=u.barHeight=u.barWidth=0,u.scrollbarsClipped=!1,u.lineNumWidth=u.lineNumInnerWidth=u.lineNumChars=null,u.alignWidgets=!1,u.cachedCharWidth=u.cachedTextHeight=u.cachedPaddingH=null,u.maxLine=null,u.maxLineLength=0,u.maxLineChanged=!1,u.wheelDX=u.wheelDY=u.wheelStartX=u.wheelStartY=null,u.shift=!1,u.selForContextMenu=null,u.activeTouch=null,u.gutterSpecs=hf(l.gutters,l.lineNumbers),Bb(u),c.init(u)}var Ll=0,Gr=null;f?Gr=-.53:n?Gr=15:g?Gr=-.7:k&&(Gr=-1/3);function Fb(r){var o=r.wheelDeltaX,c=r.wheelDeltaY;return o==null&&r.detail&&r.axis==r.HORIZONTAL_AXIS&&(o=r.detail),c==null&&r.detail&&r.axis==r.VERTICAL_AXIS?c=r.detail:c==null&&(c=r.wheelDelta),{x:o,y:c}}function MO(r){var o=Fb(r);return o.x*=Gr,o.y*=Gr,o}function Rb(r,o){g&&v==102&&(r.display.chromeScrollHack==null?r.display.sizer.style.pointerEvents="none":clearTimeout(r.display.chromeScrollHack),r.display.chromeScrollHack=setTimeout(function(){r.display.chromeScrollHack=null,r.display.sizer.style.pointerEvents=""},100));var c=Fb(o),l=c.x,u=c.y,d=Gr;o.deltaMode===0&&(l=o.deltaX,u=o.deltaY,d=1);var y=r.display,b=y.scroller,x=b.scrollWidth>b.clientWidth,C=b.scrollHeight>b.clientHeight;if(l&&x||u&&C){if(u&&L&&m){e:for(var I=o.target,F=y.view;I!=b;I=I.parentNode)for(var V=0;V<F.length;V++)if(F[V].node==I){r.display.currentWheelTarget=I;break e}}if(l&&!n&&!w&&d!=null){u&&C&&Ps(r,Math.max(0,b.scrollTop+u*d)),Ni(r,Math.max(0,b.scrollLeft+l*d)),(!u||u&&C)&&lt(o),y.wheelStartX=null;return}if(u&&d!=null){var $=u*d,Z=r.doc.scrollTop,re=Z+y.wrapper.clientHeight;$<0?Z=Math.max(0,Z+$-50):re=Math.min(r.doc.height,re+$+50),ff(r,{top:Z,bottom:re})}Ll<20&&o.deltaMode!==0&&(y.wheelStartX==null?(y.wheelStartX=b.scrollLeft,y.wheelStartY=b.scrollTop,y.wheelDX=l,y.wheelDY=u,setTimeout(function(){if(y.wheelStartX!=null){var he=b.scrollLeft-y.wheelStartX,ye=b.scrollTop-y.wheelStartY,ke=ye&&y.wheelDY&&ye/y.wheelDY||he&&y.wheelDX&&he/y.wheelDX;y.wheelStartX=y.wheelStartY=null,ke&&(Gr=(Gr*Ll+ke)/(Ll+1),++Ll)}},200)):(y.wheelDX+=l,y.wheelDY+=u))}}var Qn=function(r,o){this.ranges=r,this.primIndex=o};Qn.prototype.primary=function(){return this.ranges[this.primIndex]},Qn.prototype.equals=function(r){if(r==this)return!0;if(r.primIndex!=this.primIndex||r.ranges.length!=this.ranges.length)return!1;for(var o=0;o<this.ranges.length;o++){var c=this.ranges[o],l=r.ranges[o];if(!We(c.anchor,l.anchor)||!We(c.head,l.head))return!1}return!0},Qn.prototype.deepCopy=function(){for(var r=[],o=0;o<this.ranges.length;o++)r[o]=new ut(tt(this.ranges[o].anchor),tt(this.ranges[o].head));return new Qn(r,this.primIndex)},Qn.prototype.somethingSelected=function(){for(var r=0;r<this.ranges.length;r++)if(!this.ranges[r].empty())return!0;return!1},Qn.prototype.contains=function(r,o){o||(o=r);for(var c=0;c<this.ranges.length;c++){var l=this.ranges[c];if(J(o,l.from())>=0&&J(r,l.to())<=0)return c}return-1};var ut=function(r,o){this.anchor=r,this.head=o};ut.prototype.from=function(){return Xt(this.anchor,this.head)},ut.prototype.to=function(){return ot(this.anchor,this.head)},ut.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function gr(r,o,c){var l=r&&r.options.selectionsMayTouch,u=o[c];o.sort(function(V,$){return J(V.from(),$.from())}),c=we(o,u);for(var d=1;d<o.length;d++){var y=o[d],b=o[d-1],x=J(b.to(),y.from());if(l&&!y.empty()?x>0:x>=0){var C=Xt(b.from(),y.from()),I=ot(b.to(),y.to()),F=b.empty()?y.from()==y.head:b.from()==b.head;d<=c&&--c,o.splice(--d,2,new ut(F?I:C,F?C:I))}}return new Qn(o,c)}function ui(r,o){return new Qn([new ut(r,o||r)],0)}function fi(r){return r.text?q(r.from.line+r.text.length-1,qe(r.text).length+(r.text.length==1?r.from.ch:0)):r.to}function jb(r,o){if(J(r,o.from)<0)return r;if(J(r,o.to)<=0)return fi(o);var c=r.line+o.text.length-(o.to.line-o.from.line)-1,l=r.ch;return r.line==o.to.line&&(l+=fi(o).ch-o.to.ch),q(c,l)}function mf(r,o){for(var c=[],l=0;l<r.sel.ranges.length;l++){var u=r.sel.ranges[l];c.push(new ut(jb(u.anchor,o),jb(u.head,o)))}return gr(r.cm,c,r.sel.primIndex)}function _b(r,o,c){return r.line==o.line?q(c.line,r.ch-o.ch+c.ch):q(c.line+(r.line-o.line),r.ch)}function NO(r,o,c){for(var l=[],u=q(r.first,0),d=u,y=0;y<o.length;y++){var b=o[y],x=_b(b.from,u,d),C=_b(fi(b),u,d);if(u=b.to,d=C,c=="around"){var I=r.sel.ranges[y],F=J(I.head,I.anchor)<0;l[y]=new ut(F?C:x,F?x:C)}else l[y]=new ut(x,x)}return new Qn(l,r.sel.primIndex)}function gf(r){r.doc.mode=_r(r.options,r.doc.modeOption),Rs(r)}function Rs(r){r.doc.iter(function(o){o.stateAfter&&(o.stateAfter=null),o.styles&&(o.styles=null)}),r.doc.modeFrontier=r.doc.highlightFrontier=r.doc.first,Bs(r,100),r.state.modeGen++,r.curOp&&Dn(r)}function Hb(r,o){return o.from.ch==0&&o.to.ch==0&&qe(o.text)==""&&(!r.cm||r.cm.options.wholeLineUpdateBefore)}function yf(r,o,c,l){function u(ke){return c?c[ke]:null}function d(ke,ve,Se){RD(ke,ve,Se,l),tn(ke,"change",ke,o)}function y(ke,ve){for(var Se=[],Re=ke;Re<ve;++Re)Se.push(new ho(C[Re],u(Re),l));return Se}var b=o.from,x=o.to,C=o.text,I=Oe(r,b.line),F=Oe(r,x.line),V=qe(C),$=u(C.length-1),Z=x.line-b.line;if(o.full)r.insert(0,y(0,C.length)),r.remove(C.length,r.size-C.length);else if(Hb(r,o)){var re=y(0,C.length-1);d(F,F.text,$),Z&&r.remove(b.line,Z),re.length&&r.insert(b.line,re)}else if(I==F)if(C.length==1)d(I,I.text.slice(0,b.ch)+V+I.text.slice(x.ch),$);else{var he=y(1,C.length-1);he.push(new ho(V+I.text.slice(x.ch),$,l)),d(I,I.text.slice(0,b.ch)+C[0],u(0)),r.insert(b.line+1,he)}else if(C.length==1)d(I,I.text.slice(0,b.ch)+C[0]+F.text.slice(x.ch),u(0)),r.remove(b.line+1,Z);else{d(I,I.text.slice(0,b.ch)+C[0],u(0)),d(F,V+F.text.slice(x.ch),$);var ye=y(1,C.length-1);Z>1&&r.remove(b.line+1,Z-1),r.insert(b.line+1,ye)}tn(r,"change",r,o)}function pi(r,o,c){function l(u,d,y){if(u.linked)for(var b=0;b<u.linked.length;++b){var x=u.linked[b];if(x.doc!=d){var C=y&&x.sharedHist;c&&!C||(o(x.doc,C),l(x.doc,u,C))}}}l(r,null,!0)}function qb(r,o){if(o.cm)throw new Error("This document is already in use.");r.doc=o,o.cm=r,nf(r),gf(r),Wb(r),r.options.direction=o.direction,r.options.lineWrapping||$u(r),r.options.mode=o.modeOption,Dn(r)}function Wb(r){(r.doc.direction=="rtl"?st:fe)(r.display.lineDiv,"CodeMirror-rtl")}function DO(r){jn(r,function(){Wb(r),Dn(r)})}function Ml(r){this.done=[],this.undone=[],this.undoDepth=r?r.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=r?r.maxGeneration:1}function vf(r,o){var c={from:tt(o.from),to:fi(o),text:qr(r,o.from,o.to)};return Gb(r,c,o.from.line,o.to.line+1),pi(r,function(l){return Gb(l,c,o.from.line,o.to.line+1)},!0),c}function Ub(r){for(;r.length;){var o=qe(r);if(o.ranges)r.pop();else break}}function OO(r,o){if(o)return Ub(r.done),qe(r.done);if(r.done.length&&!qe(r.done).ranges)return qe(r.done);if(r.done.length>1&&!r.done[r.done.length-2].ranges)return r.done.pop(),qe(r.done)}function $b(r,o,c,l){var u=r.history;u.undone.length=0;var d=+new Date,y,b;if((u.lastOp==l||u.lastOrigin==o.origin&&o.origin&&(o.origin.charAt(0)=="+"&&u.lastModTime>d-(r.cm?r.cm.options.historyEventDelay:500)||o.origin.charAt(0)=="*"))&&(y=OO(u,u.lastOp==l)))b=qe(y.changes),J(o.from,o.to)==0&&J(o.from,b.to)==0?b.to=fi(o):y.changes.push(vf(r,o));else{var x=qe(u.done);for((!x||!x.ranges)&&Nl(r.sel,u.done),y={changes:[vf(r,o)],generation:u.generation},u.done.push(y);u.done.length>u.undoDepth;)u.done.shift(),u.done[0].ranges||u.done.shift()}u.done.push(c),u.generation=++u.maxGeneration,u.lastModTime=u.lastSelTime=d,u.lastOp=u.lastSelOp=l,u.lastOrigin=u.lastSelOrigin=o.origin,b||Ye(r,"historyAdded")}function PO(r,o,c,l){var u=o.charAt(0);return u=="*"||u=="+"&&c.ranges.length==l.ranges.length&&c.somethingSelected()==l.somethingSelected()&&new Date-r.history.lastSelTime<=(r.cm?r.cm.options.historyEventDelay:500)}function IO(r,o,c,l){var u=r.history,d=l&&l.origin;c==u.lastSelOp||d&&u.lastSelOrigin==d&&(u.lastModTime==u.lastSelTime&&u.lastOrigin==d||PO(r,d,qe(u.done),o))?u.done[u.done.length-1]=o:Nl(o,u.done),u.lastSelTime=+new Date,u.lastSelOrigin=d,u.lastSelOp=c,l&&l.clearRedo!==!1&&Ub(u.undone)}function Nl(r,o){var c=qe(o);c&&c.ranges&&c.equals(r)||o.push(r)}function Gb(r,o,c,l){var u=o["spans_"+r.id],d=0;r.iter(Math.max(r.first,c),Math.min(r.first+r.size,l),function(y){y.markedSpans&&((u||(u=o["spans_"+r.id]={}))[d]=y.markedSpans),++d})}function zO(r){if(!r)return null;for(var o,c=0;c<r.length;++c)r[c].marker.explicitlyCleared?o||(o=r.slice(0,c)):o&&o.push(r[c]);return o?o.length?o:null:r}function BO(r,o){var c=o["spans_"+r.id];if(!c)return null;for(var l=[],u=0;u<o.text.length;++u)l.push(zO(c[u]));return l}function Vb(r,o){var c=BO(r,o),l=Hu(r,o);if(!c)return l;if(!l)return c;for(var u=0;u<c.length;++u){var d=c[u],y=l[u];if(d&&y)e:for(var b=0;b<y.length;++b){for(var x=y[b],C=0;C<d.length;++C)if(d[C].marker==x.marker)continue e;d.push(x)}else y&&(c[u]=y)}return c}function ko(r,o,c){for(var l=[],u=0;u<r.length;++u){var d=r[u];if(d.ranges){l.push(c?Qn.prototype.deepCopy.call(d):d);continue}var y=d.changes,b=[];l.push({changes:b});for(var x=0;x<y.length;++x){var C=y[x],I=void 0;if(b.push({from:C.from,to:C.to,text:C.text}),o)for(var F in C)(I=F.match(/^spans_(\d+)$/))&&we(o,Number(I[1]))>-1&&(qe(b)[F]=C[F],delete C[F])}}return l}function bf(r,o,c,l){if(l){var u=r.anchor;if(c){var d=J(o,u)<0;d!=J(c,u)<0?(u=o,o=c):d!=J(o,c)<0&&(o=c)}return new ut(u,o)}else return new ut(c||o,o)}function Dl(r,o,c,l,u){u==null&&(u=r.cm&&(r.cm.display.shift||r.extend)),dn(r,new Qn([bf(r.sel.primary(),o,c,u)],0),l)}function Yb(r,o,c){for(var l=[],u=r.cm&&(r.cm.display.shift||r.extend),d=0;d<r.sel.ranges.length;d++)l[d]=bf(r.sel.ranges[d],o[d],null,u);var y=gr(r.cm,l,r.sel.primIndex);dn(r,y,c)}function wf(r,o,c,l){var u=r.sel.ranges.slice(0);u[o]=c,dn(r,gr(r.cm,u,r.sel.primIndex),l)}function Kb(r,o,c,l){dn(r,ui(o,c),l)}function FO(r,o,c){var l={ranges:o.ranges,update:function(u){this.ranges=[];for(var d=0;d<u.length;d++)this.ranges[d]=new ut(Ue(r,u[d].anchor),Ue(r,u[d].head))},origin:c&&c.origin};return Ye(r,"beforeSelectionChange",r,l),r.cm&&Ye(r.cm,"beforeSelectionChange",r.cm,l),l.ranges!=o.ranges?gr(r.cm,l.ranges,l.ranges.length-1):o}function Qb(r,o,c){var l=r.history.done,u=qe(l);u&&u.ranges?(l[l.length-1]=o,Ol(r,o,c)):dn(r,o,c)}function dn(r,o,c){Ol(r,o,c),IO(r,r.sel,r.cm?r.cm.curOp.id:NaN,c)}function Ol(r,o,c){(dt(r,"beforeSelectionChange")||r.cm&&dt(r.cm,"beforeSelectionChange"))&&(o=FO(r,o,c));var l=c&&c.bias||(J(o.primary().head,r.sel.primary().head)<0?-1:1);Xb(r,Zb(r,o,l,!0)),!(c&&c.scroll===!1)&&r.cm&&r.cm.getOption("readOnly")!="nocursor"&&wo(r.cm)}function Xb(r,o){o.equals(r.sel)||(r.sel=o,r.cm&&(r.cm.curOp.updateInput=1,r.cm.curOp.selectionChanged=!0,Qt(r.cm)),tn(r,"cursorActivity",r))}function Jb(r){Xb(r,Zb(r,r.sel,null,!1))}function Zb(r,o,c,l){for(var u,d=0;d<o.ranges.length;d++){var y=o.ranges[d],b=o.ranges.length==r.sel.ranges.length&&r.sel.ranges[d],x=Pl(r,y.anchor,b&&b.anchor,c,l),C=y.head==y.anchor?x:Pl(r,y.head,b&&b.head,c,l);(u||x!=y.anchor||C!=y.head)&&(u||(u=o.ranges.slice(0,d)),u[d]=new ut(x,C))}return u?gr(r.cm,u,o.primIndex):o}function Co(r,o,c,l,u){var d=Oe(r,o.line);if(d.markedSpans)for(var y=0;y<d.markedSpans.length;++y){var b=d.markedSpans[y],x=b.marker,C="selectLeft"in x?!x.selectLeft:x.inclusiveLeft,I="selectRight"in x?!x.selectRight:x.inclusiveRight;if((b.from==null||(C?b.from<=o.ch:b.from<o.ch))&&(b.to==null||(I?b.to>=o.ch:b.to>o.ch))){if(u&&(Ye(x,"beforeCursorEnter"),x.explicitlyCleared))if(d.markedSpans){--y;continue}else break;if(!x.atomic)continue;if(c){var F=x.find(l<0?1:-1),V=void 0;if((l<0?I:C)&&(F=ew(r,F,-l,F&&F.line==o.line?d:null)),F&&F.line==o.line&&(V=J(F,c))&&(l<0?V<0:V>0))return Co(r,F,o,l,u)}var $=x.find(l<0?-1:1);return(l<0?C:I)&&($=ew(r,$,l,$.line==o.line?d:null)),$?Co(r,$,o,l,u):null}}return o}function Pl(r,o,c,l,u){var d=l||1,y=Co(r,o,c,d,u)||!u&&Co(r,o,c,d,!0)||Co(r,o,c,-d,u)||!u&&Co(r,o,c,-d,!0);return y||(r.cantEdit=!0,q(r.first,0))}function ew(r,o,c,l){return c<0&&o.ch==0?o.line>r.first?Ue(r,q(o.line-1)):null:c>0&&o.ch==(l||Oe(r,o.line)).text.length?o.line<r.first+r.size-1?q(o.line+1,0):null:new q(o.line,o.ch+c)}function tw(r){r.setSelection(q(r.firstLine(),0),q(r.lastLine()),it)}function nw(r,o,c){var l={canceled:!1,from:o.from,to:o.to,text:o.text,origin:o.origin,cancel:function(){return l.canceled=!0}};return c&&(l.update=function(u,d,y,b){u&&(l.from=Ue(r,u)),d&&(l.to=Ue(r,d)),y&&(l.text=y),b!==void 0&&(l.origin=b)}),Ye(r,"beforeChange",r,l),r.cm&&Ye(r.cm,"beforeChange",r.cm,l),l.canceled?(r.cm&&(r.cm.curOp.updateInput=2),null):{from:l.from,to:l.to,text:l.text,origin:l.origin}}function So(r,o,c){if(r.cm){if(!r.cm.curOp)return nn(r.cm,So)(r,o,c);if(r.cm.state.suppressEdits)return}if(!((dt(r,"beforeChange")||r.cm&&dt(r.cm,"beforeChange"))&&(o=nw(r,o,!0),!o))){var l=Vv&&!c&&ID(r,o.from,o.to);if(l)for(var u=l.length-1;u>=0;--u)rw(r,{from:l[u].from,to:l[u].to,text:u?[""]:o.text,origin:o.origin});else rw(r,o)}}function rw(r,o){if(!(o.text.length==1&&o.text[0]==""&&J(o.from,o.to)==0)){var c=mf(r,o);$b(r,o,c,r.cm?r.cm.curOp.id:NaN),js(r,o,c,Hu(r,o));var l=[];pi(r,function(u,d){!d&&we(l,u.history)==-1&&(aw(u.history,o),l.push(u.history)),js(u,o,null,Hu(u,o))})}}function Il(r,o,c){var l=r.cm&&r.cm.state.suppressEdits;if(!(l&&!c)){for(var u=r.history,d,y=r.sel,b=o=="undo"?u.done:u.undone,x=o=="undo"?u.undone:u.done,C=0;C<b.length&&(d=b[C],!(c?d.ranges&&!d.equals(r.sel):!d.ranges));C++);if(C!=b.length){for(u.lastOrigin=u.lastSelOrigin=null;;)if(d=b.pop(),d.ranges){if(Nl(d,x),c&&!d.equals(r.sel)){dn(r,d,{clearRedo:!1});return}y=d}else if(l){b.push(d);return}else break;var I=[];Nl(y,x),x.push({changes:I,generation:u.generation}),u.generation=d.generation||++u.maxGeneration;for(var F=dt(r,"beforeChange")||r.cm&&dt(r.cm,"beforeChange"),V=function(re){var he=d.changes[re];if(he.origin=o,F&&!nw(r,he,!1))return b.length=0,{};I.push(vf(r,he));var ye=re?mf(r,he):qe(b);js(r,he,ye,Vb(r,he)),!re&&r.cm&&r.cm.scrollIntoView({from:he.from,to:fi(he)});var ke=[];pi(r,function(ve,Se){!Se&&we(ke,ve.history)==-1&&(aw(ve.history,he),ke.push(ve.history)),js(ve,he,null,Vb(ve,he))})},$=d.changes.length-1;$>=0;--$){var Z=V($);if(Z)return Z.v}}}}function iw(r,o){if(o!=0&&(r.first+=o,r.sel=new Qn(yn(r.sel.ranges,function(u){return new ut(q(u.anchor.line+o,u.anchor.ch),q(u.head.line+o,u.head.ch))}),r.sel.primIndex),r.cm)){Dn(r.cm,r.first,r.first-o,o);for(var c=r.cm.display,l=c.viewFrom;l<c.viewTo;l++)li(r.cm,l,"gutter")}}function js(r,o,c,l){if(r.cm&&!r.cm.curOp)return nn(r.cm,js)(r,o,c,l);if(o.to.line<r.first){iw(r,o.text.length-1-(o.to.line-o.from.line));return}if(!(o.from.line>r.lastLine())){if(o.from.line<r.first){var u=o.text.length-1-(r.first-o.from.line);iw(r,u),o={from:q(r.first,0),to:q(o.to.line+u,o.to.ch),text:[qe(o.text)],origin:o.origin}}var d=r.lastLine();o.to.line>d&&(o={from:o.from,to:q(d,Oe(r,d).text.length),text:[o.text[0]],origin:o.origin}),o.removed=qr(r,o.from,o.to),c||(c=mf(r,o)),r.cm?RO(r.cm,o,l):yf(r,o,l),Ol(r,c,it),r.cantEdit&&Pl(r,q(r.firstLine(),0))&&(r.cantEdit=!1)}}function RO(r,o,c){var l=r.doc,u=r.display,d=o.from,y=o.to,b=!1,x=d.line;r.options.lineWrapping||(x=ct(hr(Oe(l,d.line))),l.iter(x,y.line+1,function($){if($==u.maxLine)return b=!0,!0})),l.sel.contains(o.from,o.to)>-1&&Qt(r),yf(l,o,c,Cb(r)),r.options.lineWrapping||(l.iter(x,d.line+o.text.length,function($){var Z=yl($);Z>u.maxLineLength&&(u.maxLine=$,u.maxLineLength=Z,u.maxLineChanged=!0,b=!1)}),b&&(r.curOp.updateMaxLine=!0)),ED(l,d.line),Bs(r,400);var C=o.text.length-(y.line-d.line)-1;o.full?Dn(r):d.line==y.line&&o.text.length==1&&!Hb(r.doc,o)?li(r,d.line,"text"):Dn(r,d.line,y.line+1,C);var I=dt(r,"changes"),F=dt(r,"change");if(F||I){var V={from:d,to:y,text:o.text,removed:o.removed,origin:o.origin};F&&tn(r,"change",r,V),I&&(r.curOp.changeObjs||(r.curOp.changeObjs=[])).push(V)}r.display.selForContextMenu=null}function Ao(r,o,c,l,u){var d;l||(l=c),J(l,c)<0&&(d=[l,c],c=d[0],l=d[1]),typeof o=="string"&&(o=r.splitLines(o)),So(r,{from:c,to:l,text:o,origin:u})}function ow(r,o,c,l){c<r.line?r.line+=l:o<r.line&&(r.line=o,r.ch=0)}function sw(r,o,c,l){for(var u=0;u<r.length;++u){var d=r[u],y=!0;if(d.ranges){d.copied||(d=r[u]=d.deepCopy(),d.copied=!0);for(var b=0;b<d.ranges.length;b++)ow(d.ranges[b].anchor,o,c,l),ow(d.ranges[b].head,o,c,l);continue}for(var x=0;x<d.changes.length;++x){var C=d.changes[x];if(c<C.from.line)C.from=q(C.from.line+l,C.from.ch),C.to=q(C.to.line+l,C.to.ch);else if(o<=C.to.line){y=!1;break}}y||(r.splice(0,u+1),u=0)}}function aw(r,o){var c=o.from.line,l=o.to.line,u=o.text.length-(l-c)-1;sw(r.done,c,l,u),sw(r.undone,c,l,u)}function _s(r,o,c,l){var u=o,d=o;return typeof o=="number"?d=Oe(r,Kn(r,o)):u=ct(o),u==null?null:(l(d,u)&&r.cm&&li(r.cm,u,c),d)}function Hs(r){this.lines=r,this.parent=null;for(var o=0,c=0;c<r.length;++c)r[c].parent=this,o+=r[c].height;this.height=o}Hs.prototype={chunkSize:function(){return this.lines.length},removeInner:function(r,o){for(var c=r,l=r+o;c<l;++c){var u=this.lines[c];this.height-=u.height,jD(u),tn(u,"delete")}this.lines.splice(r,o)},collapse:function(r){r.push.apply(r,this.lines)},insertInner:function(r,o,c){this.height+=c,this.lines=this.lines.slice(0,r).concat(o).concat(this.lines.slice(r));for(var l=0;l<o.length;++l)o[l].parent=this},iterN:function(r,o,c){for(var l=r+o;r<l;++r)if(c(this.lines[r]))return!0}};function qs(r){this.children=r;for(var o=0,c=0,l=0;l<r.length;++l){var u=r[l];o+=u.chunkSize(),c+=u.height,u.parent=this}this.size=o,this.height=c,this.parent=null}qs.prototype={chunkSize:function(){return this.size},removeInner:function(r,o){this.size-=o;for(var c=0;c<this.children.length;++c){var l=this.children[c],u=l.chunkSize();if(r<u){var d=Math.min(o,u-r),y=l.height;if(l.removeInner(r,d),this.height-=y-l.height,u==d&&(this.children.splice(c--,1),l.parent=null),(o-=d)==0)break;r=0}else r-=u}if(this.size-o<25&&(this.children.length>1||!(this.children[0]instanceof Hs))){var b=[];this.collapse(b),this.children=[new Hs(b)],this.children[0].parent=this}},collapse:function(r){for(var o=0;o<this.children.length;++o)this.children[o].collapse(r)},insertInner:function(r,o,c){this.size+=o.length,this.height+=c;for(var l=0;l<this.children.length;++l){var u=this.children[l],d=u.chunkSize();if(r<=d){if(u.insertInner(r,o,c),u.lines&&u.lines.length>50){for(var y=u.lines.length%25+25,b=y;b<u.lines.length;){var x=new Hs(u.lines.slice(b,b+=25));u.height-=x.height,this.children.splice(++l,0,x),x.parent=this}u.lines=u.lines.slice(0,y),this.maybeSpill()}break}r-=d}},maybeSpill:function(){if(!(this.children.length<=10)){var r=this;do{var o=r.children.splice(r.children.length-5,5),c=new qs(o);if(r.parent){r.size-=c.size,r.height-=c.height;var u=we(r.parent.children,r);r.parent.children.splice(u+1,0,c)}else{var l=new qs(r.children);l.parent=r,r.children=[l,c],r=l}c.parent=r.parent}while(r.children.length>10);r.parent.maybeSpill()}},iterN:function(r,o,c){for(var l=0;l<this.children.length;++l){var u=this.children[l],d=u.chunkSize();if(r<d){var y=Math.min(o,d-r);if(u.iterN(r,y,c))return!0;if((o-=y)==0)break;r=0}else r-=d}}};var Ws=function(r,o,c){if(c)for(var l in c)c.hasOwnProperty(l)&&(this[l]=c[l]);this.doc=r,this.node=o};Ws.prototype.clear=function(){var r=this.doc.cm,o=this.line.widgets,c=this.line,l=ct(c);if(!(l==null||!o)){for(var u=0;u<o.length;++u)o[u]==this&&o.splice(u--,1);o.length||(c.widgets=null);var d=Ms(this);or(c,Math.max(0,c.height-d)),r&&(jn(r,function(){lw(r,c,-d),li(r,l,"widget")}),tn(r,"lineWidgetCleared",r,this,l))}},Ws.prototype.changed=function(){var r=this,o=this.height,c=this.doc.cm,l=this.line;this.height=null;var u=Ms(this)-o;u&&(ai(this.doc,l)||or(l,l.height+u),c&&jn(c,function(){c.curOp.forceUpdate=!0,lw(c,l,u),tn(c,"lineWidgetChanged",c,r,ct(l))}))},at(Ws);function lw(r,o,c){Ur(o)<(r.curOp&&r.curOp.scrollTop||r.doc.scrollTop)&&cf(r,c)}function jO(r,o,c,l){var u=new Ws(r,c,l),d=r.cm;return d&&u.noHScroll&&(d.display.alignWidgets=!0),_s(r,o,"widget",function(y){var b=y.widgets||(y.widgets=[]);if(u.insertAt==null?b.push(u):b.splice(Math.min(b.length,Math.max(0,u.insertAt)),0,u),u.line=y,d&&!ai(r,y)){var x=Ur(y)<r.scrollTop;or(y,y.height+Ms(u)),x&&cf(d,u.height),d.curOp.forceUpdate=!0}return!0}),d&&tn(d,"lineWidgetAdded",d,u,typeof o=="number"?o:ct(o)),u}var cw=0,di=function(r,o){this.lines=[],this.type=o,this.doc=r,this.id=++cw};di.prototype.clear=function(){if(!this.explicitlyCleared){var r=this.doc.cm,o=r&&!r.curOp;if(o&&Oi(r),dt(this,"clear")){var c=this.find();c&&tn(this,"clear",c.from,c.to)}for(var l=null,u=null,d=0;d<this.lines.length;++d){var y=this.lines[d],b=Ts(y.markedSpans,this);r&&!this.collapsed?li(r,ct(y),"text"):r&&(b.to!=null&&(u=ct(y)),b.from!=null&&(l=ct(y))),y.markedSpans=ND(y.markedSpans,b),b.from==null&&this.collapsed&&!ai(this.doc,y)&&r&&or(y,yo(r.display))}if(r&&this.collapsed&&!r.options.lineWrapping)for(var x=0;x<this.lines.length;++x){var C=hr(this.lines[x]),I=yl(C);I>r.display.maxLineLength&&(r.display.maxLine=C,r.display.maxLineLength=I,r.display.maxLineChanged=!0)}l!=null&&r&&this.collapsed&&Dn(r,l,u+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,r&&Jb(r.doc)),r&&tn(r,"markerCleared",r,this,l,u),o&&Pi(r),this.parent&&this.parent.clear()}},di.prototype.find=function(r,o){r==null&&this.type=="bookmark"&&(r=1);for(var c,l,u=0;u<this.lines.length;++u){var d=this.lines[u],y=Ts(d.markedSpans,this);if(y.from!=null&&(c=q(o?d:ct(d),y.from),r==-1))return c;if(y.to!=null&&(l=q(o?d:ct(d),y.to),r==1))return l}return c&&{from:c,to:l}},di.prototype.changed=function(){var r=this,o=this.find(-1,!0),c=this,l=this.doc.cm;!o||!l||jn(l,function(){var u=o.line,d=ct(o.line),y=Ku(l,d);if(y&&(mb(y),l.curOp.selectionChanged=l.curOp.forceUpdate=!0),l.curOp.updateMaxLine=!0,!ai(c.doc,u)&&c.height!=null){var b=c.height;c.height=null;var x=Ms(c)-b;x&&or(u,u.height+x)}tn(l,"markerChanged",l,r)})},di.prototype.attachLine=function(r){if(!this.lines.length&&this.doc.cm){var o=this.doc.cm.curOp;(!o.maybeHiddenMarkers||we(o.maybeHiddenMarkers,this)==-1)&&(o.maybeUnhiddenMarkers||(o.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(r)},di.prototype.detachLine=function(r){if(this.lines.splice(we(this.lines,r),1),!this.lines.length&&this.doc.cm){var o=this.doc.cm.curOp;(o.maybeHiddenMarkers||(o.maybeHiddenMarkers=[])).push(this)}},at(di);function To(r,o,c,l,u){if(l&&l.shared)return _O(r,o,c,l,u);if(r.cm&&!r.cm.curOp)return nn(r.cm,To)(r,o,c,l,u);var d=new di(r,u),y=J(o,c);if(l&&pe(l,d,!1),y>0||y==0&&d.clearWhenEmpty!==!1)return d;if(d.replacedWith&&(d.collapsed=!0,d.widgetNode=ie("span",[d.replacedWith],"CodeMirror-widget"),l.handleMouseEvents||d.widgetNode.setAttribute("cm-ignore-events","true"),l.insertLeft&&(d.widgetNode.insertLeft=!0)),d.collapsed){if(Zv(r,o.line,o,c,d)||o.line!=c.line&&Zv(r,c.line,o,c,d))throw new Error("Inserting collapsed marker partially overlapping an existing one");MD()}d.addToHistory&&$b(r,{from:o,to:c,origin:"markText"},r.sel,NaN);var b=o.line,x=r.cm,C;if(r.iter(b,c.line+1,function(F){x&&d.collapsed&&!x.options.lineWrapping&&hr(F)==x.display.maxLine&&(C=!0),d.collapsed&&b!=o.line&&or(F,0),DD(F,new dl(d,b==o.line?o.ch:null,b==c.line?c.ch:null),r.cm&&r.cm.curOp),++b}),d.collapsed&&r.iter(o.line,c.line+1,function(F){ai(r,F)&&or(F,0)}),d.clearOnEnter&&ce(d,"beforeCursorEnter",function(){return d.clear()}),d.readOnly&&(LD(),(r.history.done.length||r.history.undone.length)&&r.clearHistory()),d.collapsed&&(d.id=++cw,d.atomic=!0),x){if(C&&(x.curOp.updateMaxLine=!0),d.collapsed)Dn(x,o.line,c.line+1);else if(d.className||d.startStyle||d.endStyle||d.css||d.attributes||d.title)for(var I=o.line;I<=c.line;I++)li(x,I,"text");d.atomic&&Jb(x.doc),tn(x,"markerAdded",x,d)}return d}var Us=function(r,o){this.markers=r,this.primary=o;for(var c=0;c<r.length;++c)r[c].parent=this};Us.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var r=0;r<this.markers.length;++r)this.markers[r].clear();tn(this,"clear")}},Us.prototype.find=function(r,o){return this.primary.find(r,o)},at(Us);function _O(r,o,c,l,u){l=pe(l),l.shared=!1;var d=[To(r,o,c,l,u)],y=d[0],b=l.widgetNode;return pi(r,function(x){b&&(l.widgetNode=b.cloneNode(!0)),d.push(To(x,Ue(x,o),Ue(x,c),l,u));for(var C=0;C<x.linked.length;++C)if(x.linked[C].isParent)return;y=qe(d)}),new Us(d,y)}function uw(r){return r.findMarks(q(r.first,0),r.clipPos(q(r.lastLine())),function(o){return o.parent})}function HO(r,o){for(var c=0;c<o.length;c++){var l=o[c],u=l.find(),d=r.clipPos(u.from),y=r.clipPos(u.to);if(J(d,y)){var b=To(r,d,y,l.primary,l.primary.type);l.markers.push(b),b.parent=l}}}function qO(r){for(var o=function(l){var u=r[l],d=[u.primary.doc];pi(u.primary.doc,function(x){return d.push(x)});for(var y=0;y<u.markers.length;y++){var b=u.markers[y];we(d,b.doc)==-1&&(b.parent=null,u.markers.splice(y--,1))}},c=0;c<r.length;c++)o(c)}var WO=0,On=function(r,o,c,l,u){if(!(this instanceof On))return new On(r,o,c,l,u);c==null&&(c=0),qs.call(this,[new Hs([new ho("",null)])]),this.first=c,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=c;var d=q(c,0);this.sel=ui(d),this.history=new Ml(null),this.id=++WO,this.modeOption=o,this.lineSep=l,this.direction=u=="rtl"?"rtl":"ltr",this.extend=!1,typeof r=="string"&&(r=this.splitLines(r)),yf(this,{from:d,to:d,text:r}),dn(this,ui(d),it)};On.prototype=K(qs.prototype,{constructor:On,iter:function(r,o,c){c?this.iterN(r-this.first,o-r,c):this.iterN(this.first,this.first+this.size,r)},insert:function(r,o){for(var c=0,l=0;l<o.length;++l)c+=o[l].height;this.insertInner(r-this.first,o,c)},remove:function(r,o){this.removeInner(r-this.first,o)},getValue:function(r){var o=po(this,this.first,this.first+this.size);return r===!1?o:o.join(r||this.lineSeparator())},setValue:rn(function(r){var o=q(this.first,0),c=this.first+this.size-1;So(this,{from:o,to:q(c,Oe(this,c).text.length),text:this.splitLines(r),origin:"setValue",full:!0},!0),this.cm&&Os(this.cm,0,0),dn(this,ui(o),it)}),replaceRange:function(r,o,c,l){o=Ue(this,o),c=c?Ue(this,c):o,Ao(this,r,o,c,l)},getRange:function(r,o,c){var l=qr(this,Ue(this,r),Ue(this,o));return c===!1?l:c===""?l.join(""):l.join(c||this.lineSeparator())},getLine:function(r){var o=this.getLineHandle(r);return o&&o.text},getLineHandle:function(r){if(E(this,r))return Oe(this,r)},getLineNumber:function(r){return ct(r)},getLineHandleVisualStart:function(r){return typeof r=="number"&&(r=Oe(this,r)),hr(r)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(r){return Ue(this,r)},getCursor:function(r){var o=this.sel.primary(),c;return r==null||r=="head"?c=o.head:r=="anchor"?c=o.anchor:r=="end"||r=="to"||r===!1?c=o.to():c=o.from(),c},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:rn(function(r,o,c){Kb(this,Ue(this,typeof r=="number"?q(r,o||0):r),null,c)}),setSelection:rn(function(r,o,c){Kb(this,Ue(this,r),Ue(this,o||r),c)}),extendSelection:rn(function(r,o,c){Dl(this,Ue(this,r),o&&Ue(this,o),c)}),extendSelections:rn(function(r,o){Yb(this,jv(this,r),o)}),extendSelectionsBy:rn(function(r,o){var c=yn(this.sel.ranges,r);Yb(this,jv(this,c),o)}),setSelections:rn(function(r,o,c){if(r.length){for(var l=[],u=0;u<r.length;u++)l[u]=new ut(Ue(this,r[u].anchor),Ue(this,r[u].head||r[u].anchor));o==null&&(o=Math.min(r.length-1,this.sel.primIndex)),dn(this,gr(this.cm,l,o),c)}}),addSelection:rn(function(r,o,c){var l=this.sel.ranges.slice(0);l.push(new ut(Ue(this,r),Ue(this,o||r))),dn(this,gr(this.cm,l,l.length-1),c)}),getSelection:function(r){for(var o=this.sel.ranges,c,l=0;l<o.length;l++){var u=qr(this,o[l].from(),o[l].to());c=c?c.concat(u):u}return r===!1?c:c.join(r||this.lineSeparator())},getSelections:function(r){for(var o=[],c=this.sel.ranges,l=0;l<c.length;l++){var u=qr(this,c[l].from(),c[l].to());r!==!1&&(u=u.join(r||this.lineSeparator())),o[l]=u}return o},replaceSelection:function(r,o,c){for(var l=[],u=0;u<this.sel.ranges.length;u++)l[u]=r;this.replaceSelections(l,o,c||"+input")},replaceSelections:rn(function(r,o,c){for(var l=[],u=this.sel,d=0;d<u.ranges.length;d++){var y=u.ranges[d];l[d]={from:y.from(),to:y.to(),text:this.splitLines(r[d]),origin:c}}for(var b=o&&o!="end"&&NO(this,l,o),x=l.length-1;x>=0;x--)So(this,l[x]);b?Qb(this,b):this.cm&&wo(this.cm)}),undo:rn(function(){Il(this,"undo")}),redo:rn(function(){Il(this,"redo")}),undoSelection:rn(function(){Il(this,"undo",!0)}),redoSelection:rn(function(){Il(this,"redo",!0)}),setExtending:function(r){this.extend=r},getExtending:function(){return this.extend},historySize:function(){for(var r=this.history,o=0,c=0,l=0;l<r.done.length;l++)r.done[l].ranges||++o;for(var u=0;u<r.undone.length;u++)r.undone[u].ranges||++c;return{undo:o,redo:c}},clearHistory:function(){var r=this;this.history=new Ml(this.history),pi(this,function(o){return o.history=r.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(r){return r&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(r){return this.history.generation==(r||this.cleanGeneration)},getHistory:function(){return{done:ko(this.history.done),undone:ko(this.history.undone)}},setHistory:function(r){var o=this.history=new Ml(this.history);o.done=ko(r.done.slice(0),null,!0),o.undone=ko(r.undone.slice(0),null,!0)},setGutterMarker:rn(function(r,o,c){return _s(this,r,"gutter",function(l){var u=l.gutterMarkers||(l.gutterMarkers={});return u[o]=c,!c&&j(u)&&(l.gutterMarkers=null),!0})}),clearGutter:rn(function(r){var o=this;this.iter(function(c){c.gutterMarkers&&c.gutterMarkers[r]&&_s(o,c,"gutter",function(){return c.gutterMarkers[r]=null,j(c.gutterMarkers)&&(c.gutterMarkers=null),!0})})}),lineInfo:function(r){var o;if(typeof r=="number"){if(!E(this,r)||(o=r,r=Oe(this,r),!r))return null}else if(o=ct(r),o==null)return null;return{line:o,handle:r,text:r.text,gutterMarkers:r.gutterMarkers,textClass:r.textClass,bgClass:r.bgClass,wrapClass:r.wrapClass,widgets:r.widgets}},addLineClass:rn(function(r,o,c){return _s(this,r,o=="gutter"?"gutter":"class",function(l){var u=o=="text"?"textClass":o=="background"?"bgClass":o=="gutter"?"gutterClass":"wrapClass";if(!l[u])l[u]=c;else{if(U(c).test(l[u]))return!1;l[u]+=" "+c}return!0})}),removeLineClass:rn(function(r,o,c){return _s(this,r,o=="gutter"?"gutter":"class",function(l){var u=o=="text"?"textClass":o=="background"?"bgClass":o=="gutter"?"gutterClass":"wrapClass",d=l[u];if(d)if(c==null)l[u]=null;else{var y=d.match(U(c));if(!y)return!1;var b=y.index+y[0].length;l[u]=d.slice(0,y.index)+(!y.index||b==d.length?"":" ")+d.slice(b)||null}else return!1;return!0})}),addLineWidget:rn(function(r,o,c){return jO(this,r,o,c)}),removeLineWidget:function(r){r.clear()},markText:function(r,o,c){return To(this,Ue(this,r),Ue(this,o),c,c&&c.type||"range")},setBookmark:function(r,o){var c={replacedWith:o&&(o.nodeType==null?o.widget:o),insertLeft:o&&o.insertLeft,clearWhenEmpty:!1,shared:o&&o.shared,handleMouseEvents:o&&o.handleMouseEvents};return r=Ue(this,r),To(this,r,r,c,"bookmark")},findMarksAt:function(r){r=Ue(this,r);var o=[],c=Oe(this,r.line).markedSpans;if(c)for(var l=0;l<c.length;++l){var u=c[l];(u.from==null||u.from<=r.ch)&&(u.to==null||u.to>=r.ch)&&o.push(u.marker.parent||u.marker)}return o},findMarks:function(r,o,c){r=Ue(this,r),o=Ue(this,o);var l=[],u=r.line;return this.iter(r.line,o.line+1,function(d){var y=d.markedSpans;if(y)for(var b=0;b<y.length;b++){var x=y[b];!(x.to!=null&&u==r.line&&r.ch>=x.to||x.from==null&&u!=r.line||x.from!=null&&u==o.line&&x.from>=o.ch)&&(!c||c(x.marker))&&l.push(x.marker.parent||x.marker)}++u}),l},getAllMarks:function(){var r=[];return this.iter(function(o){var c=o.markedSpans;if(c)for(var l=0;l<c.length;++l)c[l].from!=null&&r.push(c[l].marker)}),r},posFromIndex:function(r){var o,c=this.first,l=this.lineSeparator().length;return this.iter(function(u){var d=u.text.length+l;if(d>r)return o=r,!0;r-=d,++c}),Ue(this,q(c,o))},indexFromPos:function(r){r=Ue(this,r);var o=r.ch;if(r.line<this.first||r.ch<0)return 0;var c=this.lineSeparator().length;return this.iter(this.first,r.line,function(l){o+=l.text.length+c}),o},copy:function(r){var o=new On(po(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return o.scrollTop=this.scrollTop,o.scrollLeft=this.scrollLeft,o.sel=this.sel,o.extend=!1,r&&(o.history.undoDepth=this.history.undoDepth,o.setHistory(this.getHistory())),o},linkedDoc:function(r){r||(r={});var o=this.first,c=this.first+this.size;r.from!=null&&r.from>o&&(o=r.from),r.to!=null&&r.to<c&&(c=r.to);var l=new On(po(this,o,c),r.mode||this.modeOption,o,this.lineSep,this.direction);return r.sharedHist&&(l.history=this.history),(this.linked||(this.linked=[])).push({doc:l,sharedHist:r.sharedHist}),l.linked=[{doc:this,isParent:!0,sharedHist:r.sharedHist}],HO(l,uw(this)),l},unlinkDoc:function(r){if(r instanceof Mt&&(r=r.doc),this.linked)for(var o=0;o<this.linked.length;++o){var c=this.linked[o];if(c.doc==r){this.linked.splice(o,1),r.unlinkDoc(this),qO(uw(this));break}}if(r.history==this.history){var l=[r.id];pi(r,function(u){return l.push(u.id)},!0),r.history=new Ml(null),r.history.done=ko(this.history.done,l),r.history.undone=ko(this.history.undone,l)}},iterLinkedDocs:function(r){pi(this,r)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(r){return this.lineSep?r.split(this.lineSep):Yn(r)},lineSeparator:function(){return this.lineSep||`
`},setDirection:rn(function(r){r!="rtl"&&(r="ltr"),r!=this.direction&&(this.direction=r,this.iter(function(o){return o.order=null}),this.cm&&DO(this.cm))})}),On.prototype.eachLine=On.prototype.iter;var fw=0;function UO(r){var o=this;if(pw(o),!(Fe(o,r)||$r(o.display,r))){lt(r),f&&(fw=+new Date);var c=Li(o,r,!0),l=r.dataTransfer.files;if(!(!c||o.isReadOnly()))if(l&&l.length&&window.FileReader&&window.File)for(var u=l.length,d=Array(u),y=0,b=function(){++y==u&&nn(o,function(){c=Ue(o.doc,c);var $={from:c,to:c,text:o.doc.splitLines(d.filter(function(Z){return Z!=null}).join(o.doc.lineSeparator())),origin:"paste"};So(o.doc,$),Qb(o.doc,ui(Ue(o.doc,c),Ue(o.doc,fi($))))})()},x=function($,Z){if(o.options.allowDropFileTypes&&we(o.options.allowDropFileTypes,$.type)==-1){b();return}var re=new FileReader;re.onerror=function(){return b()},re.onload=function(){var he=re.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(he)){b();return}d[Z]=he,b()},re.readAsText($)},C=0;C<l.length;C++)x(l[C],C);else{if(o.state.draggingText&&o.doc.sel.contains(c)>-1){o.state.draggingText(r),setTimeout(function(){return o.display.input.focus()},20);return}try{var I=r.dataTransfer.getData("Text");if(I){var F;if(o.state.draggingText&&!o.state.draggingText.copy&&(F=o.listSelections()),Ol(o.doc,ui(c,c)),F)for(var V=0;V<F.length;++V)Ao(o.doc,"",F[V].anchor,F[V].head,"drag");o.replaceSelection(I,"around","paste"),o.display.input.focus()}}catch{}}}}function $O(r,o){if(f&&(!r.state.draggingText||+new Date-fw<100)){Ht(o);return}if(!(Fe(r,o)||$r(r.display,o))&&(o.dataTransfer.setData("Text",r.getSelection()),o.dataTransfer.effectAllowed="copyMove",o.dataTransfer.setDragImage&&!k)){var c=D("img",null,null,"position: fixed; left: 0; top: 0;");c.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",w&&(c.width=c.height=1,r.display.wrapper.appendChild(c),c._top=c.offsetTop),o.dataTransfer.setDragImage(c,0,0),w&&c.parentNode.removeChild(c)}}function GO(r,o){var c=Li(r,o);if(c){var l=document.createDocumentFragment();rf(r,c,l),r.display.dragCursor||(r.display.dragCursor=D("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),r.display.lineSpace.insertBefore(r.display.dragCursor,r.display.cursorDiv)),ne(r.display.dragCursor,l)}}function pw(r){r.display.dragCursor&&(r.display.lineSpace.removeChild(r.display.dragCursor),r.display.dragCursor=null)}function dw(r){if(document.getElementsByClassName){for(var o=document.getElementsByClassName("CodeMirror"),c=[],l=0;l<o.length;l++){var u=o[l].CodeMirror;u&&c.push(u)}c.length&&c[0].operation(function(){for(var d=0;d<c.length;d++)r(c[d])})}}var hw=!1;function VO(){hw||(YO(),hw=!0)}function YO(){var r;ce(window,"resize",function(){r==null&&(r=setTimeout(function(){r=null,dw(KO)},100))}),ce(window,"blur",function(){return dw(bo)})}function KO(r){var o=r.display;o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.scrollbarsClipped=!1,r.setSize()}for(var hi={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},$s=0;$s<10;$s++)hi[$s+48]=hi[$s+96]=String($s);for(var zl=65;zl<=90;zl++)hi[zl]=String.fromCharCode(zl);for(var Gs=1;Gs<=12;Gs++)hi[Gs+111]=hi[Gs+63235]="F"+Gs;var Vr={};Vr.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Vr.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Vr.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Vr.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Vr.default=L?Vr.macDefault:Vr.pcDefault;function QO(r){var o=r.split(/-(?!$)/);r=o[o.length-1];for(var c,l,u,d,y=0;y<o.length-1;y++){var b=o[y];if(/^(cmd|meta|m)$/i.test(b))d=!0;else if(/^a(lt)?$/i.test(b))c=!0;else if(/^(c|ctrl|control)$/i.test(b))l=!0;else if(/^s(hift)?$/i.test(b))u=!0;else throw new Error("Unrecognized modifier name: "+b)}return c&&(r="Alt-"+r),l&&(r="Ctrl-"+r),d&&(r="Cmd-"+r),u&&(r="Shift-"+r),r}function XO(r){var o={};for(var c in r)if(r.hasOwnProperty(c)){var l=r[c];if(/^(name|fallthrough|(de|at)tach)$/.test(c))continue;if(l=="..."){delete r[c];continue}for(var u=yn(c.split(" "),QO),d=0;d<u.length;d++){var y=void 0,b=void 0;d==u.length-1?(b=u.join(" "),y=l):(b=u.slice(0,d+1).join(" "),y="...");var x=o[b];if(!x)o[b]=y;else if(x!=y)throw new Error("Inconsistent bindings for "+b)}delete r[c]}for(var C in o)r[C]=o[C];return r}function Eo(r,o,c,l){o=Bl(o);var u=o.call?o.call(r,l):o[r];if(u===!1)return"nothing";if(u==="...")return"multi";if(u!=null&&c(u))return"handled";if(o.fallthrough){if(Object.prototype.toString.call(o.fallthrough)!="[object Array]")return Eo(r,o.fallthrough,c,l);for(var d=0;d<o.fallthrough.length;d++){var y=Eo(r,o.fallthrough[d],c,l);if(y)return y}}}function mw(r){var o=typeof r=="string"?r:hi[r.keyCode];return o=="Ctrl"||o=="Alt"||o=="Shift"||o=="Mod"}function gw(r,o,c){var l=r;return o.altKey&&l!="Alt"&&(r="Alt-"+r),(H?o.metaKey:o.ctrlKey)&&l!="Ctrl"&&(r="Ctrl-"+r),(H?o.ctrlKey:o.metaKey)&&l!="Mod"&&(r="Cmd-"+r),!c&&o.shiftKey&&l!="Shift"&&(r="Shift-"+r),r}function yw(r,o){if(w&&r.keyCode==34&&r.char)return!1;var c=hi[r.keyCode];return c==null||r.altGraphKey?!1:(r.keyCode==3&&r.code&&(c=r.code),gw(c,r,o))}function Bl(r){return typeof r=="string"?Vr[r]:r}function Lo(r,o){for(var c=r.doc.sel.ranges,l=[],u=0;u<c.length;u++){for(var d=o(c[u]);l.length&&J(d.from,qe(l).to)<=0;){var y=l.pop();if(J(y.from,d.from)<0){d.from=y.from;break}}l.push(d)}jn(r,function(){for(var b=l.length-1;b>=0;b--)Ao(r.doc,"",l[b].from,l[b].to,"+delete");wo(r)})}function xf(r,o,c){var l=X(r.text,o+c,c);return l<0||l>r.text.length?null:l}function kf(r,o,c){var l=xf(r,o.ch,c);return l==null?null:new q(o.line,l,c<0?"after":"before")}function Cf(r,o,c,l,u){if(r){o.doc.direction=="rtl"&&(u=-u);var d=Te(c,o.doc.direction);if(d){var y=u<0?qe(d):d[0],b=u<0==(y.level==1),x=b?"after":"before",C;if(y.level>0||o.doc.direction=="rtl"){var I=go(o,c);C=u<0?c.text.length-1:0;var F=Or(o,I,C).top;C=le(function(V){return Or(o,I,V).top==F},u<0==(y.level==1)?y.from:y.to-1,C),x=="before"&&(C=xf(c,C,1))}else C=u<0?y.to:y.from;return new q(l,C,x)}}return new q(l,u<0?c.text.length:0,u<0?"before":"after")}function JO(r,o,c,l){var u=Te(o,r.doc.direction);if(!u)return kf(o,c,l);c.ch>=o.text.length?(c.ch=o.text.length,c.sticky="before"):c.ch<=0&&(c.ch=0,c.sticky="after");var d=xe(u,c.ch,c.sticky),y=u[d];if(r.doc.direction=="ltr"&&y.level%2==0&&(l>0?y.to>c.ch:y.from<c.ch))return kf(o,c,l);var b=function(ye,ke){return xf(o,ye instanceof q?ye.ch:ye,ke)},x,C=function(ye){return r.options.lineWrapping?(x=x||go(r,o),kb(r,o,x,ye)):{begin:0,end:o.text.length}},I=C(c.sticky=="before"?b(c,-1):c.ch);if(r.doc.direction=="rtl"||y.level==1){var F=y.level==1==l<0,V=b(c,F?1:-1);if(V!=null&&(F?V<=y.to&&V<=I.end:V>=y.from&&V>=I.begin)){var $=F?"before":"after";return new q(c.line,V,$)}}var Z=function(ye,ke,ve){for(var Se=function(xt,on){return on?new q(c.line,b(xt,1),"before"):new q(c.line,xt,"after")};ye>=0&&ye<u.length;ye+=ke){var Re=u[ye],Be=ke>0==(Re.level!=1),Xe=Be?ve.begin:b(ve.end,-1);if(Re.from<=Xe&&Xe<Re.to||(Xe=Be?Re.from:b(Re.to,-1),ve.begin<=Xe&&Xe<ve.end))return Se(Xe,Be)}},re=Z(d+l,l,I);if(re)return re;var he=l>0?I.end:b(I.begin,-1);return he!=null&&!(l>0&&he==o.text.length)&&(re=Z(l>0?0:u.length-1,l,C(he)),re)?re:null}var Vs={selectAll:tw,singleSelection:function(r){return r.setSelection(r.getCursor("anchor"),r.getCursor("head"),it)},killLine:function(r){return Lo(r,function(o){if(o.empty()){var c=Oe(r.doc,o.head.line).text.length;return o.head.ch==c&&o.head.line<r.lastLine()?{from:o.head,to:q(o.head.line+1,0)}:{from:o.head,to:q(o.head.line,c)}}else return{from:o.from(),to:o.to()}})},deleteLine:function(r){return Lo(r,function(o){return{from:q(o.from().line,0),to:Ue(r.doc,q(o.to().line+1,0))}})},delLineLeft:function(r){return Lo(r,function(o){return{from:q(o.from().line,0),to:o.from()}})},delWrappedLineLeft:function(r){return Lo(r,function(o){var c=r.charCoords(o.head,"div").top+5,l=r.coordsChar({left:0,top:c},"div");return{from:l,to:o.from()}})},delWrappedLineRight:function(r){return Lo(r,function(o){var c=r.charCoords(o.head,"div").top+5,l=r.coordsChar({left:r.display.lineDiv.offsetWidth+100,top:c},"div");return{from:o.from(),to:l}})},undo:function(r){return r.undo()},redo:function(r){return r.redo()},undoSelection:function(r){return r.undoSelection()},redoSelection:function(r){return r.redoSelection()},goDocStart:function(r){return r.extendSelection(q(r.firstLine(),0))},goDocEnd:function(r){return r.extendSelection(q(r.lastLine()))},goLineStart:function(r){return r.extendSelectionsBy(function(o){return vw(r,o.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(r){return r.extendSelectionsBy(function(o){return bw(r,o.head)},{origin:"+move",bias:1})},goLineEnd:function(r){return r.extendSelectionsBy(function(o){return ZO(r,o.head.line)},{origin:"+move",bias:-1})},goLineRight:function(r){return r.extendSelectionsBy(function(o){var c=r.cursorCoords(o.head,"div").top+5;return r.coordsChar({left:r.display.lineDiv.offsetWidth+100,top:c},"div")},pn)},goLineLeft:function(r){return r.extendSelectionsBy(function(o){var c=r.cursorCoords(o.head,"div").top+5;return r.coordsChar({left:0,top:c},"div")},pn)},goLineLeftSmart:function(r){return r.extendSelectionsBy(function(o){var c=r.cursorCoords(o.head,"div").top+5,l=r.coordsChar({left:0,top:c},"div");return l.ch<r.getLine(l.line).search(/\S/)?bw(r,o.head):l},pn)},goLineUp:function(r){return r.moveV(-1,"line")},goLineDown:function(r){return r.moveV(1,"line")},goPageUp:function(r){return r.moveV(-1,"page")},goPageDown:function(r){return r.moveV(1,"page")},goCharLeft:function(r){return r.moveH(-1,"char")},goCharRight:function(r){return r.moveH(1,"char")},goColumnLeft:function(r){return r.moveH(-1,"column")},goColumnRight:function(r){return r.moveH(1,"column")},goWordLeft:function(r){return r.moveH(-1,"word")},goGroupRight:function(r){return r.moveH(1,"group")},goGroupLeft:function(r){return r.moveH(-1,"group")},goWordRight:function(r){return r.moveH(1,"word")},delCharBefore:function(r){return r.deleteH(-1,"codepoint")},delCharAfter:function(r){return r.deleteH(1,"char")},delWordBefore:function(r){return r.deleteH(-1,"word")},delWordAfter:function(r){return r.deleteH(1,"word")},delGroupBefore:function(r){return r.deleteH(-1,"group")},delGroupAfter:function(r){return r.deleteH(1,"group")},indentAuto:function(r){return r.indentSelection("smart")},indentMore:function(r){return r.indentSelection("add")},indentLess:function(r){return r.indentSelection("subtract")},insertTab:function(r){return r.replaceSelection("	")},insertSoftTab:function(r){for(var o=[],c=r.listSelections(),l=r.options.tabSize,u=0;u<c.length;u++){var d=c[u].from(),y=me(r.getLine(d.line),d.ch,l);o.push(It(l-y%l))}r.replaceSelections(o)},defaultTab:function(r){r.somethingSelected()?r.indentSelection("add"):r.execCommand("insertTab")},transposeChars:function(r){return jn(r,function(){for(var o=r.listSelections(),c=[],l=0;l<o.length;l++)if(o[l].empty()){var u=o[l].head,d=Oe(r.doc,u.line).text;if(d){if(u.ch==d.length&&(u=new q(u.line,u.ch-1)),u.ch>0)u=new q(u.line,u.ch+1),r.replaceRange(d.charAt(u.ch-1)+d.charAt(u.ch-2),q(u.line,u.ch-2),u,"+transpose");else if(u.line>r.doc.first){var y=Oe(r.doc,u.line-1).text;y&&(u=new q(u.line,1),r.replaceRange(d.charAt(0)+r.doc.lineSeparator()+y.charAt(y.length-1),q(u.line-1,y.length-1),u,"+transpose"))}}c.push(new ut(u,u))}r.setSelections(c)})},newlineAndIndent:function(r){return jn(r,function(){for(var o=r.listSelections(),c=o.length-1;c>=0;c--)r.replaceRange(r.doc.lineSeparator(),o[c].anchor,o[c].head,"+input");o=r.listSelections();for(var l=0;l<o.length;l++)r.indentLine(o[l].from().line,null,!0);wo(r)})},openLine:function(r){return r.replaceSelection(`
`,"start")},toggleOverwrite:function(r){return r.toggleOverwrite()}};function vw(r,o){var c=Oe(r.doc,o),l=hr(c);return l!=c&&(o=ct(l)),Cf(!0,r,l,o,1)}function ZO(r,o){var c=Oe(r.doc,o),l=BD(c);return l!=c&&(o=ct(l)),Cf(!0,r,c,o,-1)}function bw(r,o){var c=vw(r,o.line),l=Oe(r.doc,c.line),u=Te(l,r.doc.direction);if(!u||u[0].level==0){var d=Math.max(c.ch,l.text.search(/\S/)),y=o.line==c.line&&o.ch<=d&&o.ch;return q(c.line,y?0:d,c.sticky)}return c}function Fl(r,o,c){if(typeof o=="string"&&(o=Vs[o],!o))return!1;r.display.input.ensurePolled();var l=r.display.shift,u=!1;try{r.isReadOnly()&&(r.state.suppressEdits=!0),c&&(r.display.shift=!1),u=o(r)!=ze}finally{r.display.shift=l,r.state.suppressEdits=!1}return u}function eP(r,o,c){for(var l=0;l<r.state.keyMaps.length;l++){var u=Eo(o,r.state.keyMaps[l],c,r);if(u)return u}return r.options.extraKeys&&Eo(o,r.options.extraKeys,c,r)||Eo(o,r.options.keyMap,c,r)}var tP=new Ae;function Ys(r,o,c,l){var u=r.state.keySeq;if(u){if(mw(o))return"handled";if(/\'$/.test(o)?r.state.keySeq=null:tP.set(50,function(){r.state.keySeq==u&&(r.state.keySeq=null,r.display.input.reset())}),ww(r,u+" "+o,c,l))return!0}return ww(r,o,c,l)}function ww(r,o,c,l){var u=eP(r,o,l);return u=="multi"&&(r.state.keySeq=o),u=="handled"&&tn(r,"keyHandled",r,o,c),(u=="handled"||u=="multi")&&(lt(c),of(r)),!!u}function xw(r,o){var c=yw(o,!0);return c?o.shiftKey&&!r.state.keySeq?Ys(r,"Shift-"+c,o,function(l){return Fl(r,l,!0)})||Ys(r,c,o,function(l){if(typeof l=="string"?/^go[A-Z]/.test(l):l.motion)return Fl(r,l)}):Ys(r,c,o,function(l){return Fl(r,l)}):!1}function nP(r,o,c){return Ys(r,"'"+c+"'",o,function(l){return Fl(r,l,!0)})}var Sf=null;function kw(r){var o=this;if(!(r.target&&r.target!=o.display.input.getField())&&(o.curOp.focus=et(At(o)),!Fe(o,r))){f&&p<11&&r.keyCode==27&&(r.returnValue=!1);var c=r.keyCode;o.display.shift=c==16||r.shiftKey;var l=xw(o,r);w&&(Sf=l?c:null,!l&&c==88&&!vn&&(L?r.metaKey:r.ctrlKey)&&o.replaceSelection("",null,"cut")),n&&!L&&!l&&c==46&&r.shiftKey&&!r.ctrlKey&&document.execCommand&&document.execCommand("cut"),c==18&&!/\bCodeMirror-crosshair\b/.test(o.display.lineDiv.className)&&rP(o)}}function rP(r){var o=r.display.lineDiv;st(o,"CodeMirror-crosshair");function c(l){(l.keyCode==18||!l.altKey)&&(fe(o,"CodeMirror-crosshair"),Ze(document,"keyup",c),Ze(document,"mouseover",c))}ce(document,"keyup",c),ce(document,"mouseover",c)}function Cw(r){r.keyCode==16&&(this.doc.sel.shift=!1),Fe(this,r)}function Sw(r){var o=this;if(!(r.target&&r.target!=o.display.input.getField())&&!($r(o.display,r)||Fe(o,r)||r.ctrlKey&&!r.altKey||L&&r.metaKey)){var c=r.keyCode,l=r.charCode;if(w&&c==Sf){Sf=null,lt(r);return}if(!(w&&(!r.which||r.which<10)&&xw(o,r))){var u=String.fromCharCode(l??c);u!="\b"&&(nP(o,r,u)||o.display.input.onKeyPress(r))}}}var iP=400,Af=function(r,o,c){this.time=r,this.pos=o,this.button=c};Af.prototype.compare=function(r,o,c){return this.time+iP>r&&J(o,this.pos)==0&&c==this.button};var Ks,Qs;function oP(r,o){var c=+new Date;return Qs&&Qs.compare(c,r,o)?(Ks=Qs=null,"triple"):Ks&&Ks.compare(c,r,o)?(Qs=new Af(c,r,o),Ks=null,"double"):(Ks=new Af(c,r,o),Qs=null,"single")}function Aw(r){var o=this,c=o.display;if(!(Fe(o,r)||c.activeTouch&&c.input.supportsTouch())){if(c.input.ensurePolled(),c.shift=r.shiftKey,$r(c,r)){m||(c.scroller.draggable=!1,setTimeout(function(){return c.scroller.draggable=!0},100));return}if(!Tf(o,r)){var l=Li(o,r),u=Ln(r),d=l?oP(l,u):"single";se(o).focus(),u==1&&o.state.selectingText&&o.state.selectingText(r),!(l&&sP(o,u,l,d,r))&&(u==1?l?lP(o,l,d,r):Ct(r)==c.scroller&&lt(r):u==2?(l&&Dl(o.doc,l),setTimeout(function(){return c.input.focus()},20)):u==3&&(W?o.display.input.onContextMenu(r):sf(o)))}}}function sP(r,o,c,l,u){var d="Click";return l=="double"?d="Double"+d:l=="triple"&&(d="Triple"+d),d=(o==1?"Left":o==2?"Middle":"Right")+d,Ys(r,gw(d,u),u,function(y){if(typeof y=="string"&&(y=Vs[y]),!y)return!1;var b=!1;try{r.isReadOnly()&&(r.state.suppressEdits=!0),b=y(r,c)!=ze}finally{r.state.suppressEdits=!1}return b})}function aP(r,o,c){var l=r.getOption("configureMouse"),u=l?l(r,o,c):{};if(u.unit==null){var d=O?c.shiftKey&&c.metaKey:c.altKey;u.unit=d?"rectangle":o=="single"?"char":o=="double"?"word":"line"}return(u.extend==null||r.doc.extend)&&(u.extend=r.doc.extend||c.shiftKey),u.addNew==null&&(u.addNew=L?c.metaKey:c.ctrlKey),u.moveOnDrag==null&&(u.moveOnDrag=!(L?c.altKey:c.ctrlKey)),u}function lP(r,o,c,l){f?setTimeout(be(Tb,r),0):r.curOp.focus=et(At(r));var u=aP(r,c,l),d=r.doc.sel,y;r.options.dragDrop&&Vn&&!r.isReadOnly()&&c=="single"&&(y=d.contains(o))>-1&&(J((y=d.ranges[y]).from(),o)<0||o.xRel>0)&&(J(y.to(),o)>0||o.xRel<0)?cP(r,l,o,u):uP(r,l,o,u)}function cP(r,o,c,l){var u=r.display,d=!1,y=nn(r,function(C){m&&(u.scroller.draggable=!1),r.state.draggingText=!1,r.state.delayingBlurEvent&&(r.hasFocus()?r.state.delayingBlurEvent=!1:sf(r)),Ze(u.wrapper.ownerDocument,"mouseup",y),Ze(u.wrapper.ownerDocument,"mousemove",b),Ze(u.scroller,"dragstart",x),Ze(u.scroller,"drop",y),d||(lt(C),l.addNew||Dl(r.doc,c,null,null,l.extend),m&&!k||f&&p==9?setTimeout(function(){u.wrapper.ownerDocument.body.focus({preventScroll:!0}),u.input.focus()},20):u.input.focus())}),b=function(C){d=d||Math.abs(o.clientX-C.clientX)+Math.abs(o.clientY-C.clientY)>=10},x=function(){return d=!0};m&&(u.scroller.draggable=!0),r.state.draggingText=y,y.copy=!l.moveOnDrag,ce(u.wrapper.ownerDocument,"mouseup",y),ce(u.wrapper.ownerDocument,"mousemove",b),ce(u.scroller,"dragstart",x),ce(u.scroller,"drop",y),r.state.delayingBlurEvent=!0,setTimeout(function(){return u.input.focus()},20),u.scroller.dragDrop&&u.scroller.dragDrop()}function Tw(r,o,c){if(c=="char")return new ut(o,o);if(c=="word")return r.findWordAt(o);if(c=="line")return new ut(q(o.line,0),Ue(r.doc,q(o.line+1,0)));var l=c(r,o);return new ut(l.from,l.to)}function uP(r,o,c,l){f&&sf(r);var u=r.display,d=r.doc;lt(o);var y,b,x=d.sel,C=x.ranges;if(l.addNew&&!l.extend?(b=d.sel.contains(c),b>-1?y=C[b]:y=new ut(c,c)):(y=d.sel.primary(),b=d.sel.primIndex),l.unit=="rectangle")l.addNew||(y=new ut(c,c)),c=Li(r,o,!0,!0),b=-1;else{var I=Tw(r,c,l.unit);l.extend?y=bf(y,I.anchor,I.head,l.extend):y=I}l.addNew?b==-1?(b=C.length,dn(d,gr(r,C.concat([y]),b),{scroll:!1,origin:"*mouse"})):C.length>1&&C[b].empty()&&l.unit=="char"&&!l.extend?(dn(d,gr(r,C.slice(0,b).concat(C.slice(b+1)),0),{scroll:!1,origin:"*mouse"}),x=d.sel):wf(d,b,y,fn):(b=0,dn(d,new Qn([y],0),fn),x=d.sel);var F=c;function V(ve){if(J(F,ve)!=0)if(F=ve,l.unit=="rectangle"){for(var Se=[],Re=r.options.tabSize,Be=me(Oe(d,c.line).text,c.ch,Re),Xe=me(Oe(d,ve.line).text,ve.ch,Re),xt=Math.min(Be,Xe),on=Math.max(Be,Xe),zt=Math.min(c.line,ve.line),_n=Math.min(r.lastLine(),Math.max(c.line,ve.line));zt<=_n;zt++){var Pn=Oe(d,zt).text,Gt=Pt(Pn,xt,Re);xt==on?Se.push(new ut(q(zt,Gt),q(zt,Gt))):Pn.length>Gt&&Se.push(new ut(q(zt,Gt),q(zt,Pt(Pn,on,Re))))}Se.length||Se.push(new ut(c,c)),dn(d,gr(r,x.ranges.slice(0,b).concat(Se),b),{origin:"*mouse",scroll:!1}),r.scrollIntoView(ve)}else{var In=y,an=Tw(r,ve,l.unit),Jt=In.anchor,Vt;J(an.anchor,Jt)>0?(Vt=an.head,Jt=Xt(In.from(),an.anchor)):(Vt=an.anchor,Jt=ot(In.to(),an.head));var _t=x.ranges.slice(0);_t[b]=fP(r,new ut(Ue(d,Jt),Vt)),dn(d,gr(r,_t,b),fn)}}var $=u.wrapper.getBoundingClientRect(),Z=0;function re(ve){var Se=++Z,Re=Li(r,ve,!0,l.unit=="rectangle");if(Re)if(J(Re,F)!=0){r.curOp.focus=et(At(r)),V(Re);var Be=Al(u,d);(Re.line>=Be.to||Re.line<Be.from)&&setTimeout(nn(r,function(){Z==Se&&re(ve)}),150)}else{var Xe=ve.clientY<$.top?-20:ve.clientY>$.bottom?20:0;Xe&&setTimeout(nn(r,function(){Z==Se&&(u.scroller.scrollTop+=Xe,re(ve))}),50)}}function he(ve){r.state.selectingText=!1,Z=1/0,ve&&(lt(ve),u.input.focus()),Ze(u.wrapper.ownerDocument,"mousemove",ye),Ze(u.wrapper.ownerDocument,"mouseup",ke),d.history.lastSelOrigin=null}var ye=nn(r,function(ve){ve.buttons===0||!Ln(ve)?he(ve):re(ve)}),ke=nn(r,he);r.state.selectingText=ke,ce(u.wrapper.ownerDocument,"mousemove",ye),ce(u.wrapper.ownerDocument,"mouseup",ke)}function fP(r,o){var c=o.anchor,l=o.head,u=Oe(r.doc,c.line);if(J(c,l)==0&&c.sticky==l.sticky)return o;var d=Te(u);if(!d)return o;var y=xe(d,c.ch,c.sticky),b=d[y];if(b.from!=c.ch&&b.to!=c.ch)return o;var x=y+(b.from==c.ch==(b.level!=1)?0:1);if(x==0||x==d.length)return o;var C;if(l.line!=c.line)C=(l.line-c.line)*(r.doc.direction=="ltr"?1:-1)>0;else{var I=xe(d,l.ch,l.sticky),F=I-y||(l.ch-c.ch)*(b.level==1?-1:1);I==x-1||I==x?C=F<0:C=F>0}var V=d[x+(C?-1:0)],$=C==(V.level==1),Z=$?V.from:V.to,re=$?"after":"before";return c.ch==Z&&c.sticky==re?o:new ut(new q(c.line,Z,re),l)}function Ew(r,o,c,l){var u,d;if(o.touches)u=o.touches[0].clientX,d=o.touches[0].clientY;else try{u=o.clientX,d=o.clientY}catch{return!1}if(u>=Math.floor(r.display.gutters.getBoundingClientRect().right))return!1;l&&lt(o);var y=r.display,b=y.lineDiv.getBoundingClientRect();if(d>b.bottom||!dt(r,c))return En(o);d-=b.top-y.viewOffset;for(var x=0;x<r.display.gutterSpecs.length;++x){var C=y.gutters.childNodes[x];if(C&&C.getBoundingClientRect().right>=u){var I=Mr(r.doc,d),F=r.display.gutterSpecs[x];return Ye(r,c,r,I,F.className,o),En(o)}}}function Tf(r,o){return Ew(r,o,"gutterClick",!0)}function Lw(r,o){$r(r.display,o)||pP(r,o)||Fe(r,o,"contextmenu")||W||r.display.input.onContextMenu(o)}function pP(r,o){return dt(r,"gutterContextMenu")?Ew(r,o,"gutterContextMenu",!1):!1}function Mw(r){r.display.wrapper.className=r.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+r.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ns(r)}var Mo={toString:function(){return"CodeMirror.Init"}},Nw={},Rl={};function dP(r){var o=r.optionHandlers;function c(l,u,d,y){r.defaults[l]=u,d&&(o[l]=y?function(b,x,C){C!=Mo&&d(b,x,C)}:d)}r.defineOption=c,r.Init=Mo,c("value","",function(l,u){return l.setValue(u)},!0),c("mode",null,function(l,u){l.doc.modeOption=u,gf(l)},!0),c("indentUnit",2,gf,!0),c("indentWithTabs",!1),c("smartIndent",!0),c("tabSize",4,function(l){Rs(l),Ns(l),Dn(l)},!0),c("lineSeparator",null,function(l,u){if(l.doc.lineSep=u,!!u){var d=[],y=l.doc.first;l.doc.iter(function(x){for(var C=0;;){var I=x.text.indexOf(u,C);if(I==-1)break;C=I+u.length,d.push(q(y,I))}y++});for(var b=d.length-1;b>=0;b--)Ao(l.doc,u,d[b],q(d[b].line,d[b].ch+u.length))}}),c("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(l,u,d){l.state.specialChars=new RegExp(u.source+(u.test("	")?"":"|	"),"g"),d!=Mo&&l.refresh()}),c("specialCharPlaceholder",qD,function(l){return l.refresh()},!0),c("electricChars",!0),c("inputStyle",T?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),c("spellcheck",!1,function(l,u){return l.getInputField().spellcheck=u},!0),c("autocorrect",!1,function(l,u){return l.getInputField().autocorrect=u},!0),c("autocapitalize",!1,function(l,u){return l.getInputField().autocapitalize=u},!0),c("rtlMoveVisually",!z),c("wholeLineUpdateBefore",!0),c("theme","default",function(l){Mw(l),Fs(l)},!0),c("keyMap","default",function(l,u,d){var y=Bl(u),b=d!=Mo&&Bl(d);b&&b.detach&&b.detach(l,y),y.attach&&y.attach(l,b||null)}),c("extraKeys",null),c("configureMouse",null),c("lineWrapping",!1,mP,!0),c("gutters",[],function(l,u){l.display.gutterSpecs=hf(u,l.options.lineNumbers),Fs(l)},!0),c("fixedGutter",!0,function(l,u){l.display.gutters.style.left=u?tf(l.display)+"px":"0",l.refresh()},!0),c("coverGutterNextToScrollbar",!1,function(l){return xo(l)},!0),c("scrollbarStyle","native",function(l){Ob(l),xo(l),l.display.scrollbars.setScrollTop(l.doc.scrollTop),l.display.scrollbars.setScrollLeft(l.doc.scrollLeft)},!0),c("lineNumbers",!1,function(l,u){l.display.gutterSpecs=hf(l.options.gutters,u),Fs(l)},!0),c("firstLineNumber",1,Fs,!0),c("lineNumberFormatter",function(l){return l},Fs,!0),c("showCursorWhenSelecting",!1,Ds,!0),c("resetSelectionOnContextMenu",!0),c("lineWiseCopyCut",!0),c("pasteLinesPerSelection",!0),c("selectionsMayTouch",!1),c("readOnly",!1,function(l,u){u=="nocursor"&&(bo(l),l.display.input.blur()),l.display.input.readOnlyChanged(u)}),c("screenReaderLabel",null,function(l,u){u=u===""?null:u,l.display.input.screenReaderLabelChanged(u)}),c("disableInput",!1,function(l,u){u||l.display.input.reset()},!0),c("dragDrop",!0,hP),c("allowDropFileTypes",null),c("cursorBlinkRate",530),c("cursorScrollMargin",0),c("cursorHeight",1,Ds,!0),c("singleCursorHeightPerLine",!0,Ds,!0),c("workTime",100),c("workDelay",100),c("flattenSpans",!0,Rs,!0),c("addModeClass",!1,Rs,!0),c("pollInterval",100),c("undoDepth",200,function(l,u){return l.doc.history.undoDepth=u}),c("historyEventDelay",1250),c("viewportMargin",10,function(l){return l.refresh()},!0),c("maxHighlightLength",1e4,Rs,!0),c("moveInputWithCursor",!0,function(l,u){u||l.display.input.resetPosition()}),c("tabindex",null,function(l,u){return l.display.input.getField().tabIndex=u||""}),c("autofocus",null),c("direction","ltr",function(l,u){return l.doc.setDirection(u)},!0),c("phrases",null)}function hP(r,o,c){var l=c&&c!=Mo;if(!o!=!l){var u=r.display.dragFunctions,d=o?ce:Ze;d(r.display.scroller,"dragstart",u.start),d(r.display.scroller,"dragenter",u.enter),d(r.display.scroller,"dragover",u.over),d(r.display.scroller,"dragleave",u.leave),d(r.display.scroller,"drop",u.drop)}}function mP(r){r.options.lineWrapping?(st(r.display.wrapper,"CodeMirror-wrap"),r.display.sizer.style.minWidth="",r.display.sizerWidth=null):(fe(r.display.wrapper,"CodeMirror-wrap"),$u(r)),nf(r),Dn(r),Ns(r),setTimeout(function(){return xo(r)},100)}function Mt(r,o){var c=this;if(!(this instanceof Mt))return new Mt(r,o);this.options=o=o?pe(o):{},pe(Nw,o,!1);var l=o.value;typeof l=="string"?l=new On(l,o.mode,null,o.lineSeparator,o.direction):o.mode&&(l.modeOption=o.mode),this.doc=l;var u=new Mt.inputStyles[o.inputStyle](this),d=this.display=new LO(r,l,u,o);d.wrapper.CodeMirror=this,Mw(this),o.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Ob(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ae,keySeq:null,specialChars:null},o.autofocus&&!T&&d.input.focus(),f&&p<11&&setTimeout(function(){return c.display.input.reset(!0)},20),gP(this),VO(),Oi(this),this.curOp.forceUpdate=!0,qb(this,l),o.autofocus&&!T||this.hasFocus()?setTimeout(function(){c.hasFocus()&&!c.state.focused&&af(c)},20):bo(this);for(var y in Rl)Rl.hasOwnProperty(y)&&Rl[y](this,o[y],Mo);zb(this),o.finishInit&&o.finishInit(this);for(var b=0;b<Ef.length;++b)Ef[b](this);Pi(this),m&&o.lineWrapping&&getComputedStyle(d.lineDiv).textRendering=="optimizelegibility"&&(d.lineDiv.style.textRendering="auto")}Mt.defaults=Nw,Mt.optionHandlers=Rl;function gP(r){var o=r.display;ce(o.scroller,"mousedown",nn(r,Aw)),f&&p<11?ce(o.scroller,"dblclick",nn(r,function(x){if(!Fe(r,x)){var C=Li(r,x);if(!(!C||Tf(r,x)||$r(r.display,x))){lt(x);var I=r.findWordAt(C);Dl(r.doc,I.anchor,I.head)}}})):ce(o.scroller,"dblclick",function(x){return Fe(r,x)||lt(x)}),ce(o.scroller,"contextmenu",function(x){return Lw(r,x)}),ce(o.input.getField(),"contextmenu",function(x){o.scroller.contains(x.target)||Lw(r,x)});var c,l={end:0};function u(){o.activeTouch&&(c=setTimeout(function(){return o.activeTouch=null},1e3),l=o.activeTouch,l.end=+new Date)}function d(x){if(x.touches.length!=1)return!1;var C=x.touches[0];return C.radiusX<=1&&C.radiusY<=1}function y(x,C){if(C.left==null)return!0;var I=C.left-x.left,F=C.top-x.top;return I*I+F*F>20*20}ce(o.scroller,"touchstart",function(x){if(!Fe(r,x)&&!d(x)&&!Tf(r,x)){o.input.ensurePolled(),clearTimeout(c);var C=+new Date;o.activeTouch={start:C,moved:!1,prev:C-l.end<=300?l:null},x.touches.length==1&&(o.activeTouch.left=x.touches[0].pageX,o.activeTouch.top=x.touches[0].pageY)}}),ce(o.scroller,"touchmove",function(){o.activeTouch&&(o.activeTouch.moved=!0)}),ce(o.scroller,"touchend",function(x){var C=o.activeTouch;if(C&&!$r(o,x)&&C.left!=null&&!C.moved&&new Date-C.start<300){var I=r.coordsChar(o.activeTouch,"page"),F;!C.prev||y(C,C.prev)?F=new ut(I,I):!C.prev.prev||y(C,C.prev.prev)?F=r.findWordAt(I):F=new ut(q(I.line,0),Ue(r.doc,q(I.line+1,0))),r.setSelection(F.anchor,F.head),r.focus(),lt(x)}u()}),ce(o.scroller,"touchcancel",u),ce(o.scroller,"scroll",function(){o.scroller.clientHeight&&(Ps(r,o.scroller.scrollTop),Ni(r,o.scroller.scrollLeft,!0),Ye(r,"scroll",r))}),ce(o.scroller,"mousewheel",function(x){return Rb(r,x)}),ce(o.scroller,"DOMMouseScroll",function(x){return Rb(r,x)}),ce(o.wrapper,"scroll",function(){return o.wrapper.scrollTop=o.wrapper.scrollLeft=0}),o.dragFunctions={enter:function(x){Fe(r,x)||Ht(x)},over:function(x){Fe(r,x)||(GO(r,x),Ht(x))},start:function(x){return $O(r,x)},drop:nn(r,UO),leave:function(x){Fe(r,x)||pw(r)}};var b=o.input.getField();ce(b,"keyup",function(x){return Cw.call(r,x)}),ce(b,"keydown",nn(r,kw)),ce(b,"keypress",nn(r,Sw)),ce(b,"focus",function(x){return af(r,x)}),ce(b,"blur",function(x){return bo(r,x)})}var Ef=[];Mt.defineInitHook=function(r){return Ef.push(r)};function Xs(r,o,c,l){var u=r.doc,d;c==null&&(c="add"),c=="smart"&&(u.mode.indent?d=As(r,o).state:c="prev");var y=r.options.tabSize,b=Oe(u,o),x=me(b.text,null,y);b.stateAfter&&(b.stateAfter=null);var C=b.text.match(/^\s*/)[0],I;if(!l&&!/\S/.test(b.text))I=0,c="not";else if(c=="smart"&&(I=u.mode.indent(d,b.text.slice(C.length),b.text),I==ze||I>150)){if(!l)return;c="prev"}c=="prev"?o>u.first?I=me(Oe(u,o-1).text,null,y):I=0:c=="add"?I=x+r.options.indentUnit:c=="subtract"?I=x-r.options.indentUnit:typeof c=="number"&&(I=x+c),I=Math.max(0,I);var F="",V=0;if(r.options.indentWithTabs)for(var $=Math.floor(I/y);$;--$)V+=y,F+="	";if(V<I&&(F+=It(I-V)),F!=C)return Ao(u,F,q(o,0),q(o,C.length),"+input"),b.stateAfter=null,!0;for(var Z=0;Z<u.sel.ranges.length;Z++){var re=u.sel.ranges[Z];if(re.head.line==o&&re.head.ch<C.length){var he=q(o,C.length);wf(u,Z,new ut(he,he));break}}}var yr=null;function jl(r){yr=r}function Lf(r,o,c,l,u){var d=r.doc;r.display.shift=!1,l||(l=d.sel);var y=+new Date-200,b=u=="paste"||r.state.pasteIncoming>y,x=Yn(o),C=null;if(b&&l.ranges.length>1)if(yr&&yr.text.join(`
`)==o){if(l.ranges.length%yr.text.length==0){C=[];for(var I=0;I<yr.text.length;I++)C.push(d.splitLines(yr.text[I]))}}else x.length==l.ranges.length&&r.options.pasteLinesPerSelection&&(C=yn(x,function(ye){return[ye]}));for(var F=r.curOp.updateInput,V=l.ranges.length-1;V>=0;V--){var $=l.ranges[V],Z=$.from(),re=$.to();$.empty()&&(c&&c>0?Z=q(Z.line,Z.ch-c):r.state.overwrite&&!b?re=q(re.line,Math.min(Oe(d,re.line).text.length,re.ch+qe(x).length)):b&&yr&&yr.lineWise&&yr.text.join(`
`)==x.join(`
`)&&(Z=re=q(Z.line,0)));var he={from:Z,to:re,text:C?C[V%C.length]:x,origin:u||(b?"paste":r.state.cutIncoming>y?"cut":"+input")};So(r.doc,he),tn(r,"inputRead",r,he)}o&&!b&&Ow(r,o),wo(r),r.curOp.updateInput<2&&(r.curOp.updateInput=F),r.curOp.typing=!0,r.state.pasteIncoming=r.state.cutIncoming=-1}function Dw(r,o){var c=r.clipboardData&&r.clipboardData.getData("Text");if(c)return r.preventDefault(),!o.isReadOnly()&&!o.options.disableInput&&o.hasFocus()&&jn(o,function(){return Lf(o,c,0,null,"paste")}),!0}function Ow(r,o){if(!(!r.options.electricChars||!r.options.smartIndent))for(var c=r.doc.sel,l=c.ranges.length-1;l>=0;l--){var u=c.ranges[l];if(!(u.head.ch>100||l&&c.ranges[l-1].head.line==u.head.line)){var d=r.getModeAt(u.head),y=!1;if(d.electricChars){for(var b=0;b<d.electricChars.length;b++)if(o.indexOf(d.electricChars.charAt(b))>-1){y=Xs(r,u.head.line,"smart");break}}else d.electricInput&&d.electricInput.test(Oe(r.doc,u.head.line).text.slice(0,u.head.ch))&&(y=Xs(r,u.head.line,"smart"));y&&tn(r,"electricInput",r,u.head.line)}}}function Pw(r){for(var o=[],c=[],l=0;l<r.doc.sel.ranges.length;l++){var u=r.doc.sel.ranges[l].head.line,d={anchor:q(u,0),head:q(u+1,0)};c.push(d),o.push(r.getRange(d.anchor,d.head))}return{text:o,ranges:c}}function Mf(r,o,c,l){r.setAttribute("autocorrect",c?"on":"off"),r.setAttribute("autocapitalize",l?"on":"off"),r.setAttribute("spellcheck",!!o)}function Iw(){var r=D("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),o=D("div",[r],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return m?r.style.width="1000px":r.setAttribute("wrap","off"),M&&(r.style.border="1px solid black"),o}function yP(r){var o=r.optionHandlers,c=r.helpers={};r.prototype={constructor:r,focus:function(){se(this).focus(),this.display.input.focus()},setOption:function(l,u){var d=this.options,y=d[l];d[l]==u&&l!="mode"||(d[l]=u,o.hasOwnProperty(l)&&nn(this,o[l])(this,u,y),Ye(this,"optionChange",this,l))},getOption:function(l){return this.options[l]},getDoc:function(){return this.doc},addKeyMap:function(l,u){this.state.keyMaps[u?"push":"unshift"](Bl(l))},removeKeyMap:function(l){for(var u=this.state.keyMaps,d=0;d<u.length;++d)if(u[d]==l||u[d].name==l)return u.splice(d,1),!0},addOverlay:bn(function(l,u){var d=l.token?l:r.getMode(this.options,l);if(d.startState)throw new Error("Overlays may not be stateful.");Ar(this.state.overlays,{mode:d,modeSpec:l,opaque:u&&u.opaque,priority:u&&u.priority||0},function(y){return y.priority}),this.state.modeGen++,Dn(this)}),removeOverlay:bn(function(l){for(var u=this.state.overlays,d=0;d<u.length;++d){var y=u[d].modeSpec;if(y==l||typeof l=="string"&&y.name==l){u.splice(d,1),this.state.modeGen++,Dn(this);return}}}),indentLine:bn(function(l,u,d){typeof u!="string"&&typeof u!="number"&&(u==null?u=this.options.smartIndent?"smart":"prev":u=u?"add":"subtract"),E(this.doc,l)&&Xs(this,l,u,d)}),indentSelection:bn(function(l){for(var u=this.doc.sel.ranges,d=-1,y=0;y<u.length;y++){var b=u[y];if(b.empty())b.head.line>d&&(Xs(this,b.head.line,l,!0),d=b.head.line,y==this.doc.sel.primIndex&&wo(this));else{var x=b.from(),C=b.to(),I=Math.max(d,x.line);d=Math.min(this.lastLine(),C.line-(C.ch?0:1))+1;for(var F=I;F<d;++F)Xs(this,F,l);var V=this.doc.sel.ranges;x.ch==0&&u.length==V.length&&V[y].from().ch>0&&wf(this.doc,y,new ut(x,V[y].to()),it)}}}),getTokenAt:function(l,u){return Uv(this,l,u)},getLineTokens:function(l,u){return Uv(this,q(l),u,!0)},getTokenTypeAt:function(l){l=Ue(this.doc,l);var u=Hv(this,Oe(this.doc,l.line)),d=0,y=(u.length-1)/2,b=l.ch,x;if(b==0)x=u[2];else for(;;){var C=d+y>>1;if((C?u[C*2-1]:0)>=b)y=C;else if(u[C*2+1]<b)d=C+1;else{x=u[C*2+2];break}}var I=x?x.indexOf("overlay "):-1;return I<0?x:I==0?null:x.slice(0,I-1)},getModeAt:function(l){var u=this.doc.mode;return u.innerMode?r.innerMode(u,this.getTokenAt(l).state).mode:u},getHelper:function(l,u){return this.getHelpers(l,u)[0]},getHelpers:function(l,u){var d=[];if(!c.hasOwnProperty(u))return d;var y=c[u],b=this.getModeAt(l);if(typeof b[u]=="string")y[b[u]]&&d.push(y[b[u]]);else if(b[u])for(var x=0;x<b[u].length;x++){var C=y[b[u][x]];C&&d.push(C)}else b.helperType&&y[b.helperType]?d.push(y[b.helperType]):y[b.name]&&d.push(y[b.name]);for(var I=0;I<y._global.length;I++){var F=y._global[I];F.pred(b,this)&&we(d,F.val)==-1&&d.push(F.val)}return d},getStateAfter:function(l,u){var d=this.doc;return l=Kn(d,l??d.first+d.size-1),As(this,l+1,u).state},cursorCoords:function(l,u){var d,y=this.doc.sel.primary();return l==null?d=y.head:typeof l=="object"?d=Ue(this.doc,l):d=l?y.from():y.to(),mr(this,d,u||"page")},charCoords:function(l,u){return xl(this,Ue(this.doc,l),u||"page")},coordsChar:function(l,u){return l=bb(this,l,u||"page"),Ju(this,l.left,l.top)},lineAtHeight:function(l,u){return l=bb(this,{top:l,left:0},u||"page").top,Mr(this.doc,l+this.display.viewOffset)},heightAtLine:function(l,u,d){var y=!1,b;if(typeof l=="number"){var x=this.doc.first+this.doc.size-1;l<this.doc.first?l=this.doc.first:l>x&&(l=x,y=!0),b=Oe(this.doc,l)}else b=l;return wl(this,b,{top:0,left:0},u||"page",d||y).top+(y?this.doc.height-Ur(b):0)},defaultTextHeight:function(){return yo(this.display)},defaultCharWidth:function(){return vo(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(l,u,d,y,b){var x=this.display;l=mr(this,Ue(this.doc,l));var C=l.bottom,I=l.left;if(u.style.position="absolute",u.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(u),x.sizer.appendChild(u),y=="over")C=l.top;else if(y=="above"||y=="near"){var F=Math.max(x.wrapper.clientHeight,this.doc.height),V=Math.max(x.sizer.clientWidth,x.lineSpace.clientWidth);(y=="above"||l.bottom+u.offsetHeight>F)&&l.top>u.offsetHeight?C=l.top-u.offsetHeight:l.bottom+u.offsetHeight<=F&&(C=l.bottom),I+u.offsetWidth>V&&(I=V-u.offsetWidth)}u.style.top=C+"px",u.style.left=u.style.right="",b=="right"?(I=x.sizer.clientWidth-u.offsetWidth,u.style.right="0px"):(b=="left"?I=0:b=="middle"&&(I=(x.sizer.clientWidth-u.offsetWidth)/2),u.style.left=I+"px"),d&&hO(this,{left:I,top:C,right:I+u.offsetWidth,bottom:C+u.offsetHeight})},triggerOnKeyDown:bn(kw),triggerOnKeyPress:bn(Sw),triggerOnKeyUp:Cw,triggerOnMouseDown:bn(Aw),execCommand:function(l){if(Vs.hasOwnProperty(l))return Vs[l].call(null,this)},triggerElectric:bn(function(l){Ow(this,l)}),findPosH:function(l,u,d,y){var b=1;u<0&&(b=-1,u=-u);for(var x=Ue(this.doc,l),C=0;C<u&&(x=Nf(this.doc,x,b,d,y),!x.hitSide);++C);return x},moveH:bn(function(l,u){var d=this;this.extendSelectionsBy(function(y){return d.display.shift||d.doc.extend||y.empty()?Nf(d.doc,y.head,l,u,d.options.rtlMoveVisually):l<0?y.from():y.to()},pn)}),deleteH:bn(function(l,u){var d=this.doc.sel,y=this.doc;d.somethingSelected()?y.replaceSelection("",null,"+delete"):Lo(this,function(b){var x=Nf(y,b.head,l,u,!1);return l<0?{from:x,to:b.head}:{from:b.head,to:x}})}),findPosV:function(l,u,d,y){var b=1,x=y;u<0&&(b=-1,u=-u);for(var C=Ue(this.doc,l),I=0;I<u;++I){var F=mr(this,C,"div");if(x==null?x=F.left:F.left=x,C=zw(this,F,b,d),C.hitSide)break}return C},moveV:bn(function(l,u){var d=this,y=this.doc,b=[],x=!this.display.shift&&!y.extend&&y.sel.somethingSelected();if(y.extendSelectionsBy(function(I){if(x)return l<0?I.from():I.to();var F=mr(d,I.head,"div");I.goalColumn!=null&&(F.left=I.goalColumn),b.push(F.left);var V=zw(d,F,l,u);return u=="page"&&I==y.sel.primary()&&cf(d,xl(d,V,"div").top-F.top),V},pn),b.length)for(var C=0;C<y.sel.ranges.length;C++)y.sel.ranges[C].goalColumn=b[C]}),findWordAt:function(l){var u=this.doc,d=Oe(u,l.line).text,y=l.ch,b=l.ch;if(d){var x=this.getHelper(l,"wordChars");(l.sticky=="before"||b==d.length)&&y?--y:++b;for(var C=d.charAt(y),I=Je(C,x)?function(F){return Je(F,x)}:/\s/.test(C)?function(F){return/\s/.test(F)}:function(F){return!/\s/.test(F)&&!Je(F)};y>0&&I(d.charAt(y-1));)--y;for(;b<d.length&&I(d.charAt(b));)++b}return new ut(q(l.line,y),q(l.line,b))},toggleOverwrite:function(l){l!=null&&l==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?st(this.display.cursorDiv,"CodeMirror-overwrite"):fe(this.display.cursorDiv,"CodeMirror-overwrite"),Ye(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==et(At(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:bn(function(l,u){Os(this,l,u)}),getScrollInfo:function(){var l=this.display.scroller;return{left:l.scrollLeft,top:l.scrollTop,height:l.scrollHeight-Dr(this)-this.display.barHeight,width:l.scrollWidth-Dr(this)-this.display.barWidth,clientHeight:Yu(this),clientWidth:Ti(this)}},scrollIntoView:bn(function(l,u){l==null?(l={from:this.doc.sel.primary().head,to:null},u==null&&(u=this.options.cursorScrollMargin)):typeof l=="number"?l={from:q(l,0),to:null}:l.from==null&&(l={from:l,to:null}),l.to||(l.to=l.from),l.margin=u||0,l.from.line!=null?mO(this,l):Lb(this,l.from,l.to,l.margin)}),setSize:bn(function(l,u){var d=this,y=function(x){return typeof x=="number"||/^\d+$/.test(String(x))?x+"px":x};l!=null&&(this.display.wrapper.style.width=y(l)),u!=null&&(this.display.wrapper.style.height=y(u)),this.options.lineWrapping&&gb(this);var b=this.display.viewFrom;this.doc.iter(b,this.display.viewTo,function(x){if(x.widgets){for(var C=0;C<x.widgets.length;C++)if(x.widgets[C].noHScroll){li(d,b,"widget");break}}++b}),this.curOp.forceUpdate=!0,Ye(this,"refresh",this)}),operation:function(l){return jn(this,l)},startOperation:function(){return Oi(this)},endOperation:function(){return Pi(this)},refresh:bn(function(){var l=this.display.cachedTextHeight;Dn(this),this.curOp.forceUpdate=!0,Ns(this),Os(this,this.doc.scrollLeft,this.doc.scrollTop),pf(this.display),(l==null||Math.abs(l-yo(this.display))>.5||this.options.lineWrapping)&&nf(this),Ye(this,"refresh",this)}),swapDoc:bn(function(l){var u=this.doc;return u.cm=null,this.state.selectingText&&this.state.selectingText(),qb(this,l),Ns(this),this.display.input.reset(),Os(this,l.scrollLeft,l.scrollTop),this.curOp.forceScroll=!0,tn(this,"swapDoc",this,u),u}),phrase:function(l){var u=this.options.phrases;return u&&Object.prototype.hasOwnProperty.call(u,l)?u[l]:l},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},at(r),r.registerHelper=function(l,u,d){c.hasOwnProperty(l)||(c[l]=r[l]={_global:[]}),c[l][u]=d},r.registerGlobalHelper=function(l,u,d,y){r.registerHelper(l,u,y),c[l]._global.push({pred:d,val:y})}}function Nf(r,o,c,l,u){var d=o,y=c,b=Oe(r,o.line),x=u&&r.direction=="rtl"?-c:c;function C(){var ke=o.line+x;return ke<r.first||ke>=r.first+r.size?!1:(o=new q(ke,o.ch,o.sticky),b=Oe(r,ke))}function I(ke){var ve;if(l=="codepoint"){var Se=b.text.charCodeAt(o.ch+(c>0?0:-1));if(isNaN(Se))ve=null;else{var Re=c>0?Se>=55296&&Se<56320:Se>=56320&&Se<57343;ve=new q(o.line,Math.max(0,Math.min(b.text.length,o.ch+c*(Re?2:1))),-c)}}else u?ve=JO(r.cm,b,o,c):ve=kf(b,o,c);if(ve==null)if(!ke&&C())o=Cf(u,r.cm,b,o.line,x);else return!1;else o=ve;return!0}if(l=="char"||l=="codepoint")I();else if(l=="column")I(!0);else if(l=="word"||l=="group")for(var F=null,V=l=="group",$=r.cm&&r.cm.getHelper(o,"wordChars"),Z=!0;!(c<0&&!I(!Z));Z=!1){var re=b.text.charAt(o.ch)||`
`,he=Je(re,$)?"w":V&&re==`
`?"n":!V||/\s/.test(re)?null:"p";if(V&&!Z&&!he&&(he="s"),F&&F!=he){c<0&&(c=1,I(),o.sticky="after");break}if(he&&(F=he),c>0&&!I(!Z))break}var ye=Pl(r,o,d,y,!0);return We(d,ye)&&(ye.hitSide=!0),ye}function zw(r,o,c,l){var u=r.doc,d=o.left,y;if(l=="page"){var b=Math.min(r.display.wrapper.clientHeight,se(r).innerHeight||u(r).documentElement.clientHeight),x=Math.max(b-.5*yo(r.display),3);y=(c>0?o.bottom:o.top)+c*x}else l=="line"&&(y=c>0?o.bottom+3:o.top-3);for(var C;C=Ju(r,d,y),!!C.outside;){if(c<0?y<=0:y>=u.height){C.hitSide=!0;break}y+=c*5}return C}var gt=function(r){this.cm=r,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ae,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};gt.prototype.init=function(r){var o=this,c=this,l=c.cm,u=c.div=r.lineDiv;u.contentEditable=!0,Mf(u,l.options.spellcheck,l.options.autocorrect,l.options.autocapitalize);function d(b){for(var x=b.target;x;x=x.parentNode){if(x==u)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(x.className))break}return!1}ce(u,"paste",function(b){!d(b)||Fe(l,b)||Dw(b,l)||p<=11&&setTimeout(nn(l,function(){return o.updateFromDOM()}),20)}),ce(u,"compositionstart",function(b){o.composing={data:b.data,done:!1}}),ce(u,"compositionupdate",function(b){o.composing||(o.composing={data:b.data,done:!1})}),ce(u,"compositionend",function(b){o.composing&&(b.data!=o.composing.data&&o.readFromDOMSoon(),o.composing.done=!0)}),ce(u,"touchstart",function(){return c.forceCompositionEnd()}),ce(u,"input",function(){o.composing||o.readFromDOMSoon()});function y(b){if(!(!d(b)||Fe(l,b))){if(l.somethingSelected())jl({lineWise:!1,text:l.getSelections()}),b.type=="cut"&&l.replaceSelection("",null,"cut");else if(l.options.lineWiseCopyCut){var x=Pw(l);jl({lineWise:!0,text:x.text}),b.type=="cut"&&l.operation(function(){l.setSelections(x.ranges,0,it),l.replaceSelection("",null,"cut")})}else return;if(b.clipboardData){b.clipboardData.clearData();var C=yr.text.join(`
`);if(b.clipboardData.setData("Text",C),b.clipboardData.getData("Text")==C){b.preventDefault();return}}var I=Iw(),F=I.firstChild;Mf(F),l.display.lineSpace.insertBefore(I,l.display.lineSpace.firstChild),F.value=yr.text.join(`
`);var V=et(u.ownerDocument);Fn(F),setTimeout(function(){l.display.lineSpace.removeChild(I),V.focus(),V==u&&c.showPrimarySelection()},50)}}ce(u,"copy",y),ce(u,"cut",y)},gt.prototype.screenReaderLabelChanged=function(r){r?this.div.setAttribute("aria-label",r):this.div.removeAttribute("aria-label")},gt.prototype.prepareSelection=function(){var r=Ab(this.cm,!1);return r.focus=et(this.div.ownerDocument)==this.div,r},gt.prototype.showSelection=function(r,o){!r||!this.cm.display.view.length||((r.focus||o)&&this.showPrimarySelection(),this.showMultipleSelections(r))},gt.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},gt.prototype.showPrimarySelection=function(){var r=this.getSelection(),o=this.cm,c=o.doc.sel.primary(),l=c.from(),u=c.to();if(o.display.viewTo==o.display.viewFrom||l.line>=o.display.viewTo||u.line<o.display.viewFrom){r.removeAllRanges();return}var d=_l(o,r.anchorNode,r.anchorOffset),y=_l(o,r.focusNode,r.focusOffset);if(!(d&&!d.bad&&y&&!y.bad&&J(Xt(d,y),l)==0&&J(ot(d,y),u)==0)){var b=o.display.view,x=l.line>=o.display.viewFrom&&Bw(o,l)||{node:b[0].measure.map[2],offset:0},C=u.line<o.display.viewTo&&Bw(o,u);if(!C){var I=b[b.length-1].measure,F=I.maps?I.maps[I.maps.length-1]:I.map;C={node:F[F.length-1],offset:F[F.length-2]-F[F.length-3]}}if(!x||!C){r.removeAllRanges();return}var V=r.rangeCount&&r.getRangeAt(0),$;try{$=oe(x.node,x.offset,C.offset,C.node)}catch{}$&&(!n&&o.state.focused?(r.collapse(x.node,x.offset),$.collapsed||(r.removeAllRanges(),r.addRange($))):(r.removeAllRanges(),r.addRange($)),V&&r.anchorNode==null?r.addRange(V):n&&this.startGracePeriod()),this.rememberSelection()}},gt.prototype.startGracePeriod=function(){var r=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){r.gracePeriod=!1,r.selectionChanged()&&r.cm.operation(function(){return r.cm.curOp.selectionChanged=!0})},20)},gt.prototype.showMultipleSelections=function(r){ne(this.cm.display.cursorDiv,r.cursors),ne(this.cm.display.selectionDiv,r.selection)},gt.prototype.rememberSelection=function(){var r=this.getSelection();this.lastAnchorNode=r.anchorNode,this.lastAnchorOffset=r.anchorOffset,this.lastFocusNode=r.focusNode,this.lastFocusOffset=r.focusOffset},gt.prototype.selectionInEditor=function(){var r=this.getSelection();if(!r.rangeCount)return!1;var o=r.getRangeAt(0).commonAncestorContainer;return Ee(this.div,o)},gt.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||et(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},gt.prototype.blur=function(){this.div.blur()},gt.prototype.getField=function(){return this.div},gt.prototype.supportsTouch=function(){return!0},gt.prototype.receivedFocus=function(){var r=this,o=this;this.selectionInEditor()?setTimeout(function(){return r.pollSelection()},20):jn(this.cm,function(){return o.cm.curOp.selectionChanged=!0});function c(){o.cm.state.focused&&(o.pollSelection(),o.polling.set(o.cm.options.pollInterval,c))}this.polling.set(this.cm.options.pollInterval,c)},gt.prototype.selectionChanged=function(){var r=this.getSelection();return r.anchorNode!=this.lastAnchorNode||r.anchorOffset!=this.lastAnchorOffset||r.focusNode!=this.lastFocusNode||r.focusOffset!=this.lastFocusOffset},gt.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var r=this.getSelection(),o=this.cm;if(A&&g&&this.cm.display.gutterSpecs.length&&vP(r.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var c=_l(o,r.anchorNode,r.anchorOffset),l=_l(o,r.focusNode,r.focusOffset);c&&l&&jn(o,function(){dn(o.doc,ui(c,l),it),(c.bad||l.bad)&&(o.curOp.selectionChanged=!0)})}}},gt.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var r=this.cm,o=r.display,c=r.doc.sel.primary(),l=c.from(),u=c.to();if(l.ch==0&&l.line>r.firstLine()&&(l=q(l.line-1,Oe(r.doc,l.line-1).length)),u.ch==Oe(r.doc,u.line).text.length&&u.line<r.lastLine()&&(u=q(u.line+1,0)),l.line<o.viewFrom||u.line>o.viewTo-1)return!1;var d,y,b;l.line==o.viewFrom||(d=Mi(r,l.line))==0?(y=ct(o.view[0].line),b=o.view[0].node):(y=ct(o.view[d].line),b=o.view[d-1].node.nextSibling);var x=Mi(r,u.line),C,I;if(x==o.view.length-1?(C=o.viewTo-1,I=o.lineDiv.lastChild):(C=ct(o.view[x+1].line)-1,I=o.view[x+1].node.previousSibling),!b)return!1;for(var F=r.doc.splitLines(bP(r,b,I,y,C)),V=qr(r.doc,q(y,0),q(C,Oe(r.doc,C).text.length));F.length>1&&V.length>1;)if(qe(F)==qe(V))F.pop(),V.pop(),C--;else if(F[0]==V[0])F.shift(),V.shift(),y++;else break;for(var $=0,Z=0,re=F[0],he=V[0],ye=Math.min(re.length,he.length);$<ye&&re.charCodeAt($)==he.charCodeAt($);)++$;for(var ke=qe(F),ve=qe(V),Se=Math.min(ke.length-(F.length==1?$:0),ve.length-(V.length==1?$:0));Z<Se&&ke.charCodeAt(ke.length-Z-1)==ve.charCodeAt(ve.length-Z-1);)++Z;if(F.length==1&&V.length==1&&y==l.line)for(;$&&$>l.ch&&ke.charCodeAt(ke.length-Z-1)==ve.charCodeAt(ve.length-Z-1);)$--,Z++;F[F.length-1]=ke.slice(0,ke.length-Z).replace(/^\u200b+/,""),F[0]=F[0].slice($).replace(/\u200b+$/,"");var Re=q(y,$),Be=q(C,V.length?qe(V).length-Z:0);if(F.length>1||F[0]||J(Re,Be))return Ao(r.doc,F,Re,Be,"+input"),!0},gt.prototype.ensurePolled=function(){this.forceCompositionEnd()},gt.prototype.reset=function(){this.forceCompositionEnd()},gt.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},gt.prototype.readFromDOMSoon=function(){var r=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(r.readDOMTimeout=null,r.composing)if(r.composing.done)r.composing=null;else return;r.updateFromDOM()},80))},gt.prototype.updateFromDOM=function(){var r=this;(this.cm.isReadOnly()||!this.pollContent())&&jn(this.cm,function(){return Dn(r.cm)})},gt.prototype.setUneditable=function(r){r.contentEditable="false"},gt.prototype.onKeyPress=function(r){r.charCode==0||this.composing||(r.preventDefault(),this.cm.isReadOnly()||nn(this.cm,Lf)(this.cm,String.fromCharCode(r.charCode==null?r.keyCode:r.charCode),0))},gt.prototype.readOnlyChanged=function(r){this.div.contentEditable=String(r!="nocursor")},gt.prototype.onContextMenu=function(){},gt.prototype.resetPosition=function(){},gt.prototype.needsContentAttribute=!0;function Bw(r,o){var c=Ku(r,o.line);if(!c||c.hidden)return null;var l=Oe(r.doc,o.line),u=fb(c,l,o.line),d=Te(l,r.doc.direction),y="left";if(d){var b=xe(d,o.ch);y=b%2?"right":"left"}var x=hb(u.map,o.ch,y);return x.offset=x.collapse=="right"?x.end:x.start,x}function vP(r){for(var o=r;o;o=o.parentNode)if(/CodeMirror-gutter-wrapper/.test(o.className))return!0;return!1}function No(r,o){return o&&(r.bad=!0),r}function bP(r,o,c,l,u){var d="",y=!1,b=r.doc.lineSeparator(),x=!1;function C($){return function(Z){return Z.id==$}}function I(){y&&(d+=b,x&&(d+=b),y=x=!1)}function F($){$&&(I(),d+=$)}function V($){if($.nodeType==1){var Z=$.getAttribute("cm-text");if(Z){F(Z);return}var re=$.getAttribute("cm-marker"),he;if(re){var ye=r.findMarks(q(l,0),q(u+1,0),C(+re));ye.length&&(he=ye[0].find(0))&&F(qr(r.doc,he.from,he.to).join(b));return}if($.getAttribute("contenteditable")=="false")return;var ke=/^(pre|div|p|li|table|br)$/i.test($.nodeName);if(!/^br$/i.test($.nodeName)&&$.textContent.length==0)return;ke&&I();for(var ve=0;ve<$.childNodes.length;ve++)V($.childNodes[ve]);/^(pre|p)$/i.test($.nodeName)&&(x=!0),ke&&(y=!0)}else $.nodeType==3&&F($.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;V(o),o!=c;)o=o.nextSibling,x=!1;return d}function _l(r,o,c){var l;if(o==r.display.lineDiv){if(l=r.display.lineDiv.childNodes[c],!l)return No(r.clipPos(q(r.display.viewTo-1)),!0);o=null,c=0}else for(l=o;;l=l.parentNode){if(!l||l==r.display.lineDiv)return null;if(l.parentNode&&l.parentNode==r.display.lineDiv)break}for(var u=0;u<r.display.view.length;u++){var d=r.display.view[u];if(d.node==l)return wP(d,o,c)}}function wP(r,o,c){var l=r.text.firstChild,u=!1;if(!o||!Ee(l,o))return No(q(ct(r.line),0),!0);if(o==l&&(u=!0,o=l.childNodes[c],c=0,!o)){var d=r.rest?qe(r.rest):r.line;return No(q(ct(d),d.text.length),u)}var y=o.nodeType==3?o:null,b=o;for(!y&&o.childNodes.length==1&&o.firstChild.nodeType==3&&(y=o.firstChild,c&&(c=y.nodeValue.length));b.parentNode!=l;)b=b.parentNode;var x=r.measure,C=x.maps;function I(he,ye,ke){for(var ve=-1;ve<(C?C.length:0);ve++)for(var Se=ve<0?x.map:C[ve],Re=0;Re<Se.length;Re+=3){var Be=Se[Re+2];if(Be==he||Be==ye){var Xe=ct(ve<0?r.line:r.rest[ve]),xt=Se[Re]+ke;return(ke<0||Be!=he)&&(xt=Se[Re+(ke?1:0)]),q(Xe,xt)}}}var F=I(y,b,c);if(F)return No(F,u);for(var V=b.nextSibling,$=y?y.nodeValue.length-c:0;V;V=V.nextSibling){if(F=I(V,V.firstChild,0),F)return No(q(F.line,F.ch-$),u);$+=V.textContent.length}for(var Z=b.previousSibling,re=c;Z;Z=Z.previousSibling){if(F=I(Z,Z.firstChild,-1),F)return No(q(F.line,F.ch+re),u);re+=Z.textContent.length}}var qt=function(r){this.cm=r,this.prevInput="",this.pollingFast=!1,this.polling=new Ae,this.hasSelection=!1,this.composing=null,this.resetting=!1};qt.prototype.init=function(r){var o=this,c=this,l=this.cm;this.createField(r);var u=this.textarea;r.wrapper.insertBefore(this.wrapper,r.wrapper.firstChild),M&&(u.style.width="0px"),ce(u,"input",function(){f&&p>=9&&o.hasSelection&&(o.hasSelection=null),c.poll()}),ce(u,"paste",function(y){Fe(l,y)||Dw(y,l)||(l.state.pasteIncoming=+new Date,c.fastPoll())});function d(y){if(!Fe(l,y)){if(l.somethingSelected())jl({lineWise:!1,text:l.getSelections()});else if(l.options.lineWiseCopyCut){var b=Pw(l);jl({lineWise:!0,text:b.text}),y.type=="cut"?l.setSelections(b.ranges,null,it):(c.prevInput="",u.value=b.text.join(`
`),Fn(u))}else return;y.type=="cut"&&(l.state.cutIncoming=+new Date)}}ce(u,"cut",d),ce(u,"copy",d),ce(r.scroller,"paste",function(y){if(!($r(r,y)||Fe(l,y))){if(!u.dispatchEvent){l.state.pasteIncoming=+new Date,c.focus();return}var b=new Event("paste");b.clipboardData=y.clipboardData,u.dispatchEvent(b)}}),ce(r.lineSpace,"selectstart",function(y){$r(r,y)||lt(y)}),ce(u,"compositionstart",function(){var y=l.getCursor("from");c.composing&&c.composing.range.clear(),c.composing={start:y,range:l.markText(y,l.getCursor("to"),{className:"CodeMirror-composing"})}}),ce(u,"compositionend",function(){c.composing&&(c.poll(),c.composing.range.clear(),c.composing=null)})},qt.prototype.createField=function(r){this.wrapper=Iw(),this.textarea=this.wrapper.firstChild;var o=this.cm.options;Mf(this.textarea,o.spellcheck,o.autocorrect,o.autocapitalize)},qt.prototype.screenReaderLabelChanged=function(r){r?this.textarea.setAttribute("aria-label",r):this.textarea.removeAttribute("aria-label")},qt.prototype.prepareSelection=function(){var r=this.cm,o=r.display,c=r.doc,l=Ab(r);if(r.options.moveInputWithCursor){var u=mr(r,c.sel.primary().head,"div"),d=o.wrapper.getBoundingClientRect(),y=o.lineDiv.getBoundingClientRect();l.teTop=Math.max(0,Math.min(o.wrapper.clientHeight-10,u.top+y.top-d.top)),l.teLeft=Math.max(0,Math.min(o.wrapper.clientWidth-10,u.left+y.left-d.left))}return l},qt.prototype.showSelection=function(r){var o=this.cm,c=o.display;ne(c.cursorDiv,r.cursors),ne(c.selectionDiv,r.selection),r.teTop!=null&&(this.wrapper.style.top=r.teTop+"px",this.wrapper.style.left=r.teLeft+"px")},qt.prototype.reset=function(r){if(!(this.contextMenuPending||this.composing&&r)){var o=this.cm;if(this.resetting=!0,o.somethingSelected()){this.prevInput="";var c=o.getSelection();this.textarea.value=c,o.state.focused&&Fn(this.textarea),f&&p>=9&&(this.hasSelection=c)}else r||(this.prevInput=this.textarea.value="",f&&p>=9&&(this.hasSelection=null));this.resetting=!1}},qt.prototype.getField=function(){return this.textarea},qt.prototype.supportsTouch=function(){return!1},qt.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!T||et(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},qt.prototype.blur=function(){this.textarea.blur()},qt.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},qt.prototype.receivedFocus=function(){this.slowPoll()},qt.prototype.slowPoll=function(){var r=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){r.poll(),r.cm.state.focused&&r.slowPoll()})},qt.prototype.fastPoll=function(){var r=!1,o=this;o.pollingFast=!0;function c(){var l=o.poll();!l&&!r?(r=!0,o.polling.set(60,c)):(o.pollingFast=!1,o.slowPoll())}o.polling.set(20,c)},qt.prototype.poll=function(){var r=this,o=this.cm,c=this.textarea,l=this.prevInput;if(this.contextMenuPending||this.resetting||!o.state.focused||rr(c)&&!l&&!this.composing||o.isReadOnly()||o.options.disableInput||o.state.keySeq)return!1;var u=c.value;if(u==l&&!o.somethingSelected())return!1;if(f&&p>=9&&this.hasSelection===u||L&&/[\uf700-\uf7ff]/.test(u))return o.display.input.reset(),!1;if(o.doc.sel==o.display.selForContextMenu){var d=u.charCodeAt(0);if(d==8203&&!l&&(l="\u200B"),d==8666)return this.reset(),this.cm.execCommand("undo")}for(var y=0,b=Math.min(l.length,u.length);y<b&&l.charCodeAt(y)==u.charCodeAt(y);)++y;return jn(o,function(){Lf(o,u.slice(y),l.length-y,null,r.composing?"*compose":null),u.length>1e3||u.indexOf(`
`)>-1?c.value=r.prevInput="":r.prevInput=u,r.composing&&(r.composing.range.clear(),r.composing.range=o.markText(r.composing.start,o.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},qt.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},qt.prototype.onKeyPress=function(){f&&p>=9&&(this.hasSelection=null),this.fastPoll()},qt.prototype.onContextMenu=function(r){var o=this,c=o.cm,l=c.display,u=o.textarea;o.contextMenuPending&&o.contextMenuPending();var d=Li(c,r),y=l.scroller.scrollTop;if(!d||w)return;var b=c.options.resetSelectionOnContextMenu;b&&c.doc.sel.contains(d)==-1&&nn(c,dn)(c.doc,ui(d),it);var x=u.style.cssText,C=o.wrapper.style.cssText,I=o.wrapper.offsetParent.getBoundingClientRect();o.wrapper.style.cssText="position: static",u.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(r.clientY-I.top-5)+"px; left: "+(r.clientX-I.left-5)+`px;
      z-index: 1000; background: `+(f?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var F;m&&(F=u.ownerDocument.defaultView.scrollY),l.input.focus(),m&&u.ownerDocument.defaultView.scrollTo(null,F),l.input.reset(),c.somethingSelected()||(u.value=o.prevInput=" "),o.contextMenuPending=$,l.selForContextMenu=c.doc.sel,clearTimeout(l.detectingSelectAll);function V(){if(u.selectionStart!=null){var re=c.somethingSelected(),he="\u200B"+(re?u.value:"");u.value="\u21DA",u.value=he,o.prevInput=re?"":"\u200B",u.selectionStart=1,u.selectionEnd=he.length,l.selForContextMenu=c.doc.sel}}function $(){if(o.contextMenuPending==$&&(o.contextMenuPending=!1,o.wrapper.style.cssText=C,u.style.cssText=x,f&&p<9&&l.scrollbars.setScrollTop(l.scroller.scrollTop=y),u.selectionStart!=null)){(!f||f&&p<9)&&V();var re=0,he=function(){l.selForContextMenu==c.doc.sel&&u.selectionStart==0&&u.selectionEnd>0&&o.prevInput=="\u200B"?nn(c,tw)(c):re++<10?l.detectingSelectAll=setTimeout(he,500):(l.selForContextMenu=null,l.input.reset())};l.detectingSelectAll=setTimeout(he,200)}}if(f&&p>=9&&V(),W){Ht(r);var Z=function(){Ze(window,"mouseup",Z),setTimeout($,20)};ce(window,"mouseup",Z)}else setTimeout($,50)},qt.prototype.readOnlyChanged=function(r){r||this.reset(),this.textarea.disabled=r=="nocursor",this.textarea.readOnly=!!r},qt.prototype.setUneditable=function(){},qt.prototype.needsContentAttribute=!1;function xP(r,o){if(o=o?pe(o):{},o.value=r.value,!o.tabindex&&r.tabIndex&&(o.tabindex=r.tabIndex),!o.placeholder&&r.placeholder&&(o.placeholder=r.placeholder),o.autofocus==null){var c=et(r.ownerDocument);o.autofocus=c==r||r.getAttribute("autofocus")!=null&&c==document.body}function l(){r.value=b.getValue()}var u;if(r.form&&(ce(r.form,"submit",l),!o.leaveSubmitMethodAlone)){var d=r.form;u=d.submit;try{var y=d.submit=function(){l(),d.submit=u,d.submit(),d.submit=y}}catch{}}o.finishInit=function(x){x.save=l,x.getTextArea=function(){return r},x.toTextArea=function(){x.toTextArea=isNaN,l(),r.parentNode.removeChild(x.getWrapperElement()),r.style.display="",r.form&&(Ze(r.form,"submit",l),!o.leaveSubmitMethodAlone&&typeof r.form.submit=="function"&&(r.form.submit=u))}},r.style.display="none";var b=Mt(function(x){return r.parentNode.insertBefore(x,r.nextSibling)},o);return b}function kP(r){r.off=Ze,r.on=ce,r.wheelEventPixels=MO,r.Doc=On,r.splitLines=Yn,r.countColumn=me,r.findColumn=Pt,r.isWordChar=ee,r.Pass=ze,r.signal=Ye,r.Line=ho,r.changeEnd=fi,r.scrollbarModel=Db,r.Pos=q,r.cmpPos=J,r.modes=Nn,r.mimeModes=Lr,r.resolveMode=Rn,r.getMode=_r,r.modeExtensions=oi,r.extendMode=fl,r.copyState=Hr,r.startState=Ss,r.innerMode=si,r.commands=Vs,r.keyMap=Vr,r.keyName=yw,r.isModifierKey=mw,r.lookupKey=Eo,r.normalizeKeyMap=XO,r.StringStream=jt,r.SharedTextMarker=Us,r.TextMarker=di,r.LineWidget=Ws,r.e_preventDefault=lt,r.e_stopPropagation=Tt,r.e_stop=Ht,r.addClass=st,r.contains=Ee,r.rmClass=fe,r.keyNames=hi}dP(Mt),yP(Mt);var CP="iter insert remove copy getEditor constructor".split(" ");for(var Hl in On.prototype)On.prototype.hasOwnProperty(Hl)&&we(CP,Hl)<0&&(Mt.prototype[Hl]=function(r){return function(){return r.apply(this.doc,arguments)}}(On.prototype[Hl]));return at(On),Mt.inputStyles={textarea:qt,contenteditable:gt},Mt.defineMode=function(r){!Mt.defaults.mode&&r!="null"&&(Mt.defaults.mode=r),ul.apply(this,arguments)},Mt.defineMIME=fo,Mt.defineMode("null",function(){return{token:function(r){return r.skipToEnd()}}}),Mt.defineMIME("text/plain","null"),Mt.defineExtension=function(r,o){Mt.prototype[r]=o},Mt.defineDocExtension=function(r,o){On.prototype[r]=o},Mt.fromTextArea=xP,kP(Mt),Mt.version="5.65.15",Mt})});function Ry(t){let e=new Set(["has","in","no","not","and","or","is","asc","ascN","ascA","ascAN","ascNA","desc","descN","descA","descAN","descNA"]),n=Fy.default.getMode(t,{name:"javascript",json:!0});return{...n,indent(i,s){return i.indented+t.indentUnit*(i.lastType==="{"&&s.trim()[0]!=="}"||i.lastType==="("&&s.trim()[0]!==")"||i.lastType==="["&&s.trim()[0]!=="]")},token(i,s){let a=i.peek();if(a==="#"||a==="@")return n.token(new Fy.default.StringStream("$",4,i.lineOracle),s),i.pos++,"variable";let f=n.token(i,s),p=i.string.slice(i.start,i.pos);if(i.string[i.start-1]!=="."){if(s.isAssertionContext){if((f==="variable"||f==="atom")&&s.isAssertionParen===0&&p!=="not")return"type";p==="("?s.isAssertionParen++:p===")"&&(s.isAssertionParen>0&&s.isAssertionParen--,s.isAssertionParen===0&&(s.isAssertionContext=!1))}if(e.has(p))return p==="is"&&(s.isAssertionContext=!0,s.isAssertionParen=0),"keyword"}if(s.isAssertionContext){if(f==="variable"||f==="atom"||f==="def"||p==="function")return"type";s.isAssertionParen===0&&(f||/\S/.test(p))&&(s.isAssertionContext=!1)}return f}}}var Fy,CT=N(()=>{Fy=Xn(jr(),1)});function AT(t,e){let n=typeof e.isDiscoveryViewDefined=="function"?e.isDiscoveryViewDefined:()=>{},i=ST.default.getMode(t,{name:"javascript",json:!0});return{...i,indent(s,a){return s.indented+t.indentUnit*(s.lastType==="{"&&a.trim()[0]!=="}"||s.lastType==="("&&a.trim()[0]!==")"||s.lastType==="["&&a.trim()[0]!=="]")},token:function(s,a){if(a.suspendTokens){let{pos:m,token:h}=a.suspendTokens.shift();return s.pos=m,a.suspendTokens.length===0&&(a.suspendTokens=null),h}let f=s.pos,p=i.token(s,a);if(p==="string"){let m=s.pos,[,h]=s.string.slice(f+1,m-1).match(/^(.+?)([:{]|$)/)||[];n(h)&&(s.pos=f+1,a.suspendTokens=[{pos:f+1+h.length,token:"string discovery-view-name"},{pos:m,token:p}])}return p}}}var ST,TT=N(()=>{ST=Xn(jr(),1)});var jy=Nt((ET,LT)=>{(function(t){typeof ET=="object"&&typeof LT=="object"?t(jr()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)})(function(t){"use strict";t.defineMode("javascript",function(e,n){var i=e.indentUnit,s=n.statementIndent,a=n.jsonld,f=n.json||a,p=n.trackScope!==!1,m=n.typescript,h=n.wordCharacters||/[\w$\xa1-\uffff]/,g=function(){function E(Xt){return{type:Xt,style:"keyword"}}var R=E("keyword a"),q=E("keyword b"),J=E("keyword c"),We=E("keyword d"),tt=E("operator"),ot={type:"atom",style:"atom"};return{if:E("if"),while:R,with:R,else:q,do:q,try:q,finally:q,return:We,break:We,continue:We,new:E("new"),delete:J,void:J,throw:J,debugger:E("debugger"),var:E("var"),const:E("var"),let:E("var"),function:E("function"),catch:E("catch"),for:E("for"),switch:E("switch"),case:E("case"),default:E("default"),in:tt,typeof:tt,instanceof:tt,true:ot,false:ot,null:ot,undefined:ot,NaN:ot,Infinity:ot,this:E("this"),class:E("class"),super:E("atom"),yield:J,export:E("export"),import:E("import"),extends:J,await:J}}(),v=/[+\-*&%=<>!?|~^@]/,w=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function k(E){for(var R=!1,q,J=!1;(q=E.next())!=null;){if(!R){if(q=="/"&&!J)return;q=="["?J=!0:J&&q=="]"&&(J=!1)}R=!R&&q=="\\"}}var S,P;function M(E,R,q){return S=E,P=q,R}function A(E,R){var q=E.next();if(q=='"'||q=="'")return R.tokenize=T(q),R.tokenize(E,R);if(q=="."&&E.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return M("number","number");if(q=="."&&E.match(".."))return M("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(q))return M(q);if(q=="="&&E.eat(">"))return M("=>","operator");if(q=="0"&&E.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return M("number","number");if(/\d/.test(q))return E.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),M("number","number");if(q=="/")return E.eat("*")?(R.tokenize=L,L(E,R)):E.eat("/")?(E.skipToEnd(),M("comment","comment")):Mr(E,R,1)?(k(E),E.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),M("regexp","string-2")):(E.eat("="),M("operator","operator",E.current()));if(q=="`")return R.tokenize=O,O(E,R);if(q=="#"&&E.peek()=="!")return E.skipToEnd(),M("meta","meta");if(q=="#"&&E.eatWhile(h))return M("variable","property");if(q=="<"&&E.match("!--")||q=="-"&&E.match("->")&&!/\S/.test(E.string.slice(0,E.start)))return E.skipToEnd(),M("comment","comment");if(v.test(q))return(q!=">"||!R.lexical||R.lexical.type!=">")&&(E.eat("=")?(q=="!"||q=="=")&&E.eat("="):/[<>*+\-|&?]/.test(q)&&(E.eat(q),q==">"&&E.eat(q))),q=="?"&&E.eat(".")?M("."):M("operator","operator",E.current());if(h.test(q)){E.eatWhile(h);var J=E.current();if(R.lastType!="."){if(g.propertyIsEnumerable(J)){var We=g[J];return M(We.type,We.style,J)}if(J=="async"&&E.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return M("async","keyword",J)}return M("variable","variable",J)}}function T(E){return function(R,q){var J=!1,We;if(a&&R.peek()=="@"&&R.match(w))return q.tokenize=A,M("jsonld-keyword","meta");for(;(We=R.next())!=null&&!(We==E&&!J);)J=!J&&We=="\\";return J||(q.tokenize=A),M("string","string")}}function L(E,R){for(var q=!1,J;J=E.next();){if(J=="/"&&q){R.tokenize=A;break}q=J=="*"}return M("comment","comment")}function O(E,R){for(var q=!1,J;(J=E.next())!=null;){if(!q&&(J=="`"||J=="$"&&E.eat("{"))){R.tokenize=A;break}q=!q&&J=="\\"}return M("quasi","string-2",E.current())}var z="([{}])";function B(E,R){R.fatArrowAt&&(R.fatArrowAt=null);var q=E.string.indexOf("=>",E.start);if(!(q<0)){if(m){var J=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(E.string.slice(E.start,q));J&&(q=J.index)}for(var We=0,tt=!1,ot=q-1;ot>=0;--ot){var Xt=E.string.charAt(ot),Kn=z.indexOf(Xt);if(Kn>=0&&Kn<3){if(!We){++ot;break}if(--We==0){Xt=="("&&(tt=!0);break}}else if(Kn>=3&&Kn<6)++We;else if(h.test(Xt))tt=!0;else if(/["'\/`]/.test(Xt))for(;;--ot){if(ot==0)return;var Ue=E.string.charAt(ot-1);if(Ue==Xt&&E.string.charAt(ot-2)!="\\"){ot--;break}}else if(tt&&!We){++ot;break}}tt&&!We&&(R.fatArrowAt=ot)}}var H={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function W(E,R,q,J,We,tt){this.indented=E,this.column=R,this.type=q,this.prev=We,this.info=tt,J!=null&&(this.align=J)}function U(E,R){if(!p)return!1;for(var q=E.localVars;q;q=q.next)if(q.name==R)return!0;for(var J=E.context;J;J=J.prev)for(var q=J.vars;q;q=q.next)if(q.name==R)return!0}function fe(E,R,q,J,We){var tt=E.cc;for(G.state=E,G.stream=We,G.marked=null,G.cc=tt,G.style=R,E.lexical.hasOwnProperty("align")||(E.lexical.align=!0);;){var ot=tt.length?tt.pop():f?ze:we;if(ot(q,J)){for(;tt.length&&tt[tt.length-1].lex;)tt.pop()();return G.marked?G.marked:q=="variable"&&U(E,J)?"variable-2":R}}}var G={state:null,column:null,marked:null,cc:null};function ne(){for(var E=arguments.length-1;E>=0;E--)G.cc.push(arguments[E])}function D(){return ne.apply(null,arguments),!0}function ie(E,R){for(var q=R;q;q=q.next)if(q.name==E)return!0;return!1}function oe(E){var R=G.state;if(G.marked="def",!!p){if(R.context){if(R.lexical.info=="var"&&R.context&&R.context.block){var q=Ee(E,R.context);if(q!=null){R.context=q;return}}else if(!ie(E,R.localVars)){R.localVars=new Rt(E,R.localVars);return}}n.globalVars&&!ie(E,R.globalVars)&&(R.globalVars=new Rt(E,R.globalVars))}}function Ee(E,R){if(R)if(R.block){var q=Ee(E,R.prev);return q?q==R.prev?R:new st(q,R.vars,!0):null}else return ie(E,R.vars)?R:new st(R.prev,new Rt(E,R.vars),!1);else return null}function et(E){return E=="public"||E=="private"||E=="protected"||E=="abstract"||E=="readonly"}function st(E,R,q){this.prev=E,this.vars=R,this.block=q}function Rt(E,R){this.name=E,this.next=R}var Fn=new Rt("this",new Rt("arguments",null));function At(){G.state.context=new st(G.state.context,G.state.localVars,!1),G.state.localVars=Fn}function se(){G.state.context=new st(G.state.context,G.state.localVars,!0),G.state.localVars=null}At.lex=se.lex=!0;function be(){G.state.localVars=G.state.context.vars,G.state.context=G.state.context.prev}be.lex=!0;function pe(E,R){var q=function(){var J=G.state,We=J.indented;if(J.lexical.type=="stat")We=J.lexical.indented;else for(var tt=J.lexical;tt&&tt.type==")"&&tt.align;tt=tt.prev)We=tt.indented;J.lexical=new W(We,G.stream.column(),E,null,J.lexical,R)};return q.lex=!0,q}function me(){var E=G.state;E.lexical.prev&&(E.lexical.type==")"&&(E.indented=E.lexical.indented),E.lexical=E.lexical.prev)}me.lex=!0;function Ae(E){function R(q){return q==E?D():E==";"||q=="}"||q==")"||q=="]"?ne():D(R)}return R}function we(E,R){return E=="var"?D(pe("vardef",R),Ht,Ae(";"),me):E=="keyword a"?D(pe("form"),fn,we,me):E=="keyword b"?D(pe("form"),we,me):E=="keyword d"?G.stream.match(/^\s*$/,!1)?D():D(pe("stat"),Pt,Ae(";"),me):E=="debugger"?D(Ae(";")):E=="{"?D(pe("}"),se,ge,me,be):E==";"?D():E=="if"?(G.state.lexical.info=="else"&&G.state.cc[G.state.cc.length-1]==me&&G.state.cc.pop()(),D(pe("form"),fn,we,me,Tr)):E=="function"?D(vn):E=="for"?D(pe("form"),se,Er,we,be,me):E=="class"||m&&R=="interface"?(G.marked="keyword",D(pe("form",E=="class"?E:R),ul,me)):E=="variable"?m&&R=="declare"?(G.marked="keyword",D(we)):m&&(R=="module"||R=="enum"||R=="type")&&G.stream.match(/^\s*\w/,!1)?(G.marked="keyword",R=="enum"?D(po):R=="type"?D(ir,Ae("operator"),ce,Ae(";")):D(pe("form"),Ct,Ae("{"),pe("}"),ge,me,me)):m&&R=="namespace"?(G.marked="keyword",D(pe("form"),ze,we,me)):m&&R=="abstract"?(G.marked="keyword",D(we)):D(pe("stat"),Je):E=="switch"?D(pe("form"),fn,Ae("{"),pe("}","switch"),se,ge,me,me,be):E=="case"?D(ze,Ae(":")):E=="default"?D(Ae(":")):E=="catch"?D(pe("form"),At,Ce,we,me,be):E=="export"?D(pe("stat"),oi,me):E=="import"?D(pe("stat"),Hr,me):E=="async"?D(we):R=="@"?D(ze,we):ne(pe("stat"),ze,Ae(";"),me)}function Ce(E){if(E=="(")return D(Nn,Ae(")"))}function ze(E,R){return pn(E,R,!1)}function it(E,R){return pn(E,R,!0)}function fn(E){return E!="("?ne():D(pe(")"),Pt,Ae(")"),me)}function pn(E,R,q){if(G.state.fatArrowAt==G.stream.start){var J=q?mt:Ar;if(E=="(")return D(At,pe(")"),le(Nn,")"),me,Ae("=>"),J,be);if(E=="variable")return ne(At,Ct,Ae("=>"),J,be)}var We=q?It:rt;return H.hasOwnProperty(E)?D(We):E=="function"?D(vn,We):E=="class"||m&&R=="interface"?(G.marked="keyword",D(pe("form"),Lr,me)):E=="keyword c"||E=="async"?D(q?it:ze):E=="("?D(pe(")"),Pt,Ae(")"),me,We):E=="operator"||E=="spread"?D(q?it:ze):E=="["?D(pe("]"),qr,me,We):E=="{"?ae(_,"}",null,We):E=="quasi"?ne(qe,We):E=="new"?D(K(q)):D()}function Pt(E){return E.match(/[;\}\)\],]/)?ne():ne(ze)}function rt(E,R){return E==","?D(Pt):It(E,R,!1)}function It(E,R,q){var J=q==!1?rt:It,We=q==!1?ze:it;if(E=="=>")return D(At,q?mt:Ar,be);if(E=="operator")return/\+\+|--/.test(R)||m&&R=="!"?D(J):m&&R=="<"&&G.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?D(pe(">"),le(ce,">"),me,J):R=="?"?D(ze,Ae(":"),We):D(We);if(E=="quasi")return ne(qe,J);if(E!=";"){if(E=="(")return ae(it,")","call",J);if(E==".")return D(j,J);if(E=="[")return D(pe("]"),Pt,Ae("]"),me,J);if(m&&R=="as")return G.marked="keyword",D(ce,J);if(E=="regexp")return G.state.lastType=G.marked="operator",G.stream.backUp(G.stream.pos-G.stream.start-1),D(We)}}function qe(E,R){return E!="quasi"?ne():R.slice(R.length-2)!="${"?D(qe):D(Pt,yn)}function yn(E){if(E=="}")return G.marked="string-2",G.state.tokenize=O,D(qe)}function Ar(E){return B(G.stream,G.state),ne(E=="{"?we:ze)}function mt(E){return B(G.stream,G.state),ne(E=="{"?we:it)}function K(E){return function(R){return R=="."?D(E?ee:de):R=="variable"&&m?D(lt,E?It:rt):ne(E?it:ze)}}function de(E,R){if(R=="target")return G.marked="keyword",D(rt)}function ee(E,R){if(R=="target")return G.marked="keyword",D(It)}function Je(E){return E==":"?D(me,we):ne(rt,Ae(";"),me)}function j(E){if(E=="variable")return G.marked="property",D()}function _(E,R){if(E=="async")return G.marked="property",D(_);if(E=="variable"||G.style=="keyword"){if(G.marked="property",R=="get"||R=="set")return D(Y);var q;return m&&G.state.fatArrowAt==G.stream.start&&(q=G.stream.match(/^\s*:\s*/,!1))&&(G.state.fatArrowAt=G.stream.pos+q[0].length),D(X)}else{if(E=="number"||E=="string")return G.marked=a?"property":G.style+" property",D(X);if(E=="jsonld-keyword")return D(X);if(m&&et(R))return G.marked="keyword",D(_);if(E=="[")return D(ze,xe,Ae("]"),X);if(E=="spread")return D(it,X);if(R=="*")return G.marked="keyword",D(_);if(E==":")return ne(X)}}function Y(E){return E!="variable"?ne(X):(G.marked="property",D(vn))}function X(E){if(E==":")return D(it);if(E=="(")return ne(vn)}function le(E,R,q){function J(We,tt){if(q?q.indexOf(We)>-1:We==","){var ot=G.state.lexical;return ot.info=="call"&&(ot.pos=(ot.pos||0)+1),D(function(Xt,Kn){return Xt==R||Kn==R?ne():ne(E)},J)}return We==R||tt==R?D():q&&q.indexOf(";")>-1?ne(E):D(Ae(R))}return function(We,tt){return We==R||tt==R?D():ne(E,J)}}function ae(E,R,q){for(var J=3;J<arguments.length;J++)G.cc.push(arguments[J]);return D(pe(R,q),le(E,R),me)}function ge(E){return E=="}"?D():ne(we,ge)}function xe(E,R){if(m){if(E==":")return D(ce);if(R=="?")return D(xe)}}function Le(E,R){if(m&&(E==":"||R=="in"))return D(ce)}function Te(E){if(m&&E==":")return G.stream.match(/^\s*\w+\s+is\b/,!1)?D(ze,Ke,ce):D(ce)}function Ke(E,R){if(R=="is")return G.marked="keyword",D()}function ce(E,R){if(R=="keyof"||R=="typeof"||R=="infer"||R=="readonly")return G.marked="keyword",D(R=="typeof"?it:ce);if(E=="variable"||R=="void")return G.marked="type",D(at);if(R=="|"||R=="&")return D(ce);if(E=="string"||E=="number"||E=="atom")return D(at);if(E=="[")return D(pe("]"),le(ce,"]",","),me,at);if(E=="{")return D(pe("}"),Ze,me,at);if(E=="(")return D(le(dt,")"),Ve,at);if(E=="<")return D(le(ce,">"),ce);if(E=="quasi")return ne(Fe,at)}function Ve(E){if(E=="=>")return D(ce)}function Ze(E){return E.match(/[\}\)\]]/)?D():E==","||E==";"?D(Ze):ne(Ye,Ze)}function Ye(E,R){if(E=="variable"||G.style=="keyword")return G.marked="property",D(Ye);if(R=="?"||E=="number"||E=="string")return D(Ye);if(E==":")return D(ce);if(E=="[")return D(Ae("variable"),Le,Ae("]"),Ye);if(E=="(")return ne(Mn,Ye);if(!E.match(/[;\}\)\],]/))return D()}function Fe(E,R){return E!="quasi"?ne():R.slice(R.length-2)!="${"?D(Fe):D(ce,Qt)}function Qt(E){if(E=="}")return G.marked="string-2",G.state.tokenize=O,D(Fe)}function dt(E,R){return E=="variable"&&G.stream.match(/^\s*[?:]/,!1)||R=="?"?D(dt):E==":"?D(ce):E=="spread"?D(dt):ne(ce)}function at(E,R){if(R=="<")return D(pe(">"),le(ce,">"),me,at);if(R=="|"||E=="."||R=="&")return D(ce);if(E=="[")return D(ce,Ae("]"),at);if(R=="extends"||R=="implements")return G.marked="keyword",D(ce);if(R=="?")return D(ce,Ae(":"),ce)}function lt(E,R){if(R=="<")return D(pe(">"),le(ce,">"),me,at)}function Tt(){return ne(ce,En)}function En(E,R){if(R=="=")return D(ce)}function Ht(E,R){return R=="enum"?(G.marked="keyword",D(po)):ne(Ct,xe,$t,ii)}function Ct(E,R){if(m&&et(R))return G.marked="keyword",D(Ct);if(E=="variable")return oe(R),D();if(E=="spread")return D(Ct);if(E=="[")return ae(Vn,"]");if(E=="{")return ae(Ln,"}")}function Ln(E,R){return E=="variable"&&!G.stream.match(/^\s*:/,!1)?(oe(R),D($t)):(E=="variable"&&(G.marked="property"),E=="spread"?D(Ct):E=="}"?ne():E=="["?D(ze,Ae("]"),Ae(":"),Ln):D(Ae(":"),Ct,$t))}function Vn(){return ne(Ct,$t)}function $t(E,R){if(R=="=")return D(it)}function ii(E){if(E==",")return D(Ht)}function Tr(E,R){if(E=="keyword b"&&R=="else")return D(pe("form","else"),we,me)}function Er(E,R){if(R=="await")return D(Er);if(E=="(")return D(pe(")"),Yn,me)}function Yn(E){return E=="var"?D(Ht,rr):E=="variable"?D(rr):ne(rr)}function rr(E,R){return E==")"?D():E==";"?D(rr):R=="in"||R=="of"?(G.marked="keyword",D(ze,rr)):ne(ze,rr)}function vn(E,R){if(R=="*")return G.marked="keyword",D(vn);if(E=="variable")return oe(R),D(vn);if(E=="(")return D(At,pe(")"),le(Nn,")"),me,Te,we,be);if(m&&R=="<")return D(pe(">"),le(Tt,">"),me,vn)}function Mn(E,R){if(R=="*")return G.marked="keyword",D(Mn);if(E=="variable")return oe(R),D(Mn);if(E=="(")return D(At,pe(")"),le(Nn,")"),me,Te,be);if(m&&R=="<")return D(pe(">"),le(Tt,">"),me,Mn)}function ir(E,R){if(E=="keyword"||E=="variable")return G.marked="type",D(ir);if(R=="<")return D(pe(">"),le(Tt,">"),me)}function Nn(E,R){return R=="@"&&D(ze,Nn),E=="spread"?D(Nn):m&&et(R)?(G.marked="keyword",D(Nn)):m&&E=="this"?D(xe,$t):ne(Ct,xe,$t)}function Lr(E,R){return E=="variable"?ul(E,R):fo(E,R)}function ul(E,R){if(E=="variable")return oe(R),D(fo)}function fo(E,R){if(R=="<")return D(pe(">"),le(Tt,">"),me,fo);if(R=="extends"||R=="implements"||m&&E==",")return R=="implements"&&(G.marked="keyword"),D(m?ce:ze,fo);if(E=="{")return D(pe("}"),Rn,me)}function Rn(E,R){if(E=="async"||E=="variable"&&(R=="static"||R=="get"||R=="set"||m&&et(R))&&G.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return G.marked="keyword",D(Rn);if(E=="variable"||G.style=="keyword")return G.marked="property",D(_r,Rn);if(E=="number"||E=="string")return D(_r,Rn);if(E=="[")return D(ze,xe,Ae("]"),_r,Rn);if(R=="*")return G.marked="keyword",D(Rn);if(m&&E=="(")return ne(Mn,Rn);if(E==";"||E==",")return D(Rn);if(E=="}")return D();if(R=="@")return D(ze,Rn)}function _r(E,R){if(R=="!"||R=="?")return D(_r);if(E==":")return D(ce,$t);if(R=="=")return D(it);var q=G.state.lexical.prev,J=q&&q.info=="interface";return ne(J?Mn:vn)}function oi(E,R){return R=="*"?(G.marked="keyword",D(Oe,Ae(";"))):R=="default"?(G.marked="keyword",D(ze,Ae(";"))):E=="{"?D(le(fl,"}"),Oe,Ae(";")):ne(we)}function fl(E,R){if(R=="as")return G.marked="keyword",D(Ae("variable"));if(E=="variable")return ne(it,fl)}function Hr(E){return E=="string"?D():E=="("?ne(ze):E=="."?ne(rt):ne(si,Ss,Oe)}function si(E,R){return E=="{"?ae(si,"}"):(E=="variable"&&oe(R),R=="*"&&(G.marked="keyword"),D(jt))}function Ss(E){if(E==",")return D(si,Ss)}function jt(E,R){if(R=="as")return G.marked="keyword",D(si)}function Oe(E,R){if(R=="from")return G.marked="keyword",D(ze)}function qr(E){return E=="]"?D():ne(le(it,"]"))}function po(){return ne(pe("form"),Ct,Ae("{"),pe("}"),le(or,"}"),me,me)}function or(){return ne(Ct,$t)}function ct(E,R){return E.lastType=="operator"||E.lastType==","||v.test(R.charAt(0))||/[,.]/.test(R.charAt(0))}function Mr(E,R,q){return R.tokenize==A&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(R.lastType)||R.lastType=="quasi"&&/\{\s*$/.test(E.string.slice(0,E.pos-(q||0)))}return{startState:function(E){var R={tokenize:A,lastType:"sof",cc:[],lexical:new W((E||0)-i,0,"block",!1),localVars:n.localVars,context:n.localVars&&new st(null,null,!1),indented:E||0};return n.globalVars&&typeof n.globalVars=="object"&&(R.globalVars=n.globalVars),R},token:function(E,R){if(E.sol()&&(R.lexical.hasOwnProperty("align")||(R.lexical.align=!1),R.indented=E.indentation(),B(E,R)),R.tokenize!=L&&E.eatSpace())return null;var q=R.tokenize(E,R);return S=="comment"?q:(R.lastType=S=="operator"&&(P=="++"||P=="--")?"incdec":S,fe(R,q,S,P,E))},indent:function(E,R){if(E.tokenize==L||E.tokenize==O)return t.Pass;if(E.tokenize!=A)return 0;var q=R&&R.charAt(0),J=E.lexical,We;if(!/^\s*else\b/.test(R))for(var tt=E.cc.length-1;tt>=0;--tt){var ot=E.cc[tt];if(ot==me)J=J.prev;else if(ot!=Tr&&ot!=be)break}for(;(J.type=="stat"||J.type=="form")&&(q=="}"||(We=E.cc[E.cc.length-1])&&(We==rt||We==It)&&!/^[,\.=+\-*:?[\(]/.test(R));)J=J.prev;s&&J.type==")"&&J.prev.type=="stat"&&(J=J.prev);var Xt=J.type,Kn=q==Xt;return Xt=="vardef"?J.indented+(E.lastType=="operator"||E.lastType==","?J.info.length+1:0):Xt=="form"&&q=="{"?J.indented:Xt=="form"?J.indented+i:Xt=="stat"?J.indented+(ct(E,R)?s||i:0):J.info=="switch"&&!Kn&&n.doubleIndentSwitch!=!1?J.indented+(/^(?:case|default)\b/.test(R)?i:2*i):J.align?J.column+(Kn?0:1):J.indented+(Kn?0:i)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:f?null:"/*",blockCommentEnd:f?null:"*/",blockCommentContinue:f?null:" * ",lineComment:f?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:f?"json":"javascript",jsonldMode:a,jsonMode:f,expressionAllowed:Mr,skipExpression:function(E){fe(E,"atom","atom","true",new t.StringStream("",2,null))}}}),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/manifest+json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})})});function MT(t){return typeof t=="string"?t:t.text}function d4(t,e){for(;e&&e.parentNode!==t;)e=e.parentNode;return e}var Gn,c4,u4,_y,f4,p4,Hy,qy,NT=N(()=>{Gn=Xn(jr(),1);Zi();pt();c4="discovery-view-editor-hints-popup",u4="discovery-view-editor-hint",_y="active",f4=window.requestAnimationFrame||(t=>setTimeout(t,1e3/60)),p4=window.cancelAnimationFrame||clearTimeout;Gn.default.commands.autocomplete=Gn.default.showHint;Gn.default.defineOption("showHintOptions",null);Gn.default.defineExtension("showHint",function(t){t={closeOnUnfocus:!0,container:null,...this.options.showHintOptions,...t},this.state.completionActive&&this.state.completionActive.close(),!(this.listSelections().length>1)&&(this.somethingSelected()||typeof t.hint=="function"&&(this.state.completionActive=new Hy(this,t),this.state.completionActive.update(!0),Gn.default.signal(this,"startCompletion",this)))});Hy=class{constructor(e,n){if(this.cm=e,this.options=n,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,e.on("cursorActivity",this.activityFunc=()=>this.cursorActivity()),n.closeOnUnfocus){let i;this.onFocus=()=>clearTimeout(i),this.onBlur=()=>i=setTimeout(()=>this.close(),100),e.on("focus",this.onFocus),e.on("blur",this.onBlur)}}close(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.options.closeOnUnfocus&&(this.cm.off("blur",this.onBlur),this.cm.off("focus",this.onFocus)),this.widget&&(this.data&&Gn.default.signal(this.data,"close"),this.widget.close()),Gn.default.signal(this.cm,"endCompletion",this.cm))}active(){return this.cm.state.completionActive===this}pick(e,n){let i=e.list[n];this.cm.state.completionEnabled=!1,i.hint?i.hint(this.cm,e,i):this.cm.replaceRange(MT(i),i.from||e.from,i.to||e.to,"complete"),Gn.default.signal(e,"pick",i),this.close()}cursorActivity(){this.debounce&&(p4(this.debounce),this.debounce=0);let e=this.cm.getCursor(),n=this.cm.getLine(e.line);e.line!=this.startPos.line||n.length-e.ch!=this.startLen-this.startPos.ch||e.ch<this.startPos.ch||this.cm.somethingSelected()?this.close():(this.debounce=f4(()=>this.update()),this.widget&&this.widget.disable())}update(e){if(this.tick===null)return;let n=++this.tick;Promise.resolve(this.options.hint(this.cm,this.options)).then(i=>{this.tick==n&&this.finishUpdate(i,e)})}finishUpdate(e){this.data&&Gn.default.signal(this.data,"update");let n=this.widget&&this.widget.picked;this.widget&&this.widget.close(),this.data=e,e&&e.list.length&&(n&&e.list.length==1?this.pick(e,0):(this.widget=new qy(this,e),Gn.default.signal(e,"shown")))}};qy=class{constructor(e,n){let i=e.cm,s=this.hintsEl=document.createElement("ul"),a=[c4,e.cm.options.theme].filter(Boolean),f=e.options.container||document.body;this.rootEls=new Set([f.getRootNode()]),this.completion=e,this.data=n,this.picked=!1,this.selectedHint=n.selectedHint||0,s.style.visibility="hidden",s.classList.add(...a),f.appendChild(s),this.items=n.list.map((p,m)=>{let h=s.appendChild(document.createElement("li"));return h.className=u4,m===this.selectedHint&&h.classList.add(_y),p.render?p.render(h,n,p):h.appendChild(document.createTextNode(p.displayText||MT(p))),h}),i.addKeyMap(this.keyMap={Up:()=>this.changeActive(this.selectedHint-1),Down:()=>this.changeActive(this.selectedHint+1),Enter:()=>this.pick(),Tab:()=>this.pick(),Esc:()=>{i.state.completionEnabled=!1,e.close()}}),this.updatePosSize(),this.onScroll=()=>this.updatePosSize();for(let p of this.rootEls)p.addEventListener("scroll",this.onScroll,fr);Gn.default.on(s,"mousedown",p=>{let m=d4(s,p.target),h=this.items.indexOf(m);h!==-1&&(this.close(),this.selectedHint=h,this.pick(),setTimeout(()=>i.focus(),1))}),Gn.default.signal(n,"select",n.list[this.selectedHint],this.items[this.selectedHint])}close(){if(this.completion.widget===this){this.completion.widget=null,this.completion.cm.removeKeyMap(this.keyMap),this.hintsEl.remove();for(let e of this.rootEls)e.removeEventListener("scroll",this.onScroll,fr)}}disable(){this.completion.cm.removeKeyMap(this.keyMap),this.keyMap={Enter:()=>this.picked=!0},this.completion.cm.addKeyMap(this.keyMap)}pick(){this.completion.pick(this.data,this.selectedHint)}changeActive(e,n){e>=this.items.length?e=n?this.items.length-1:0:e<0&&(e=n?0:this.items.length-1);let i=this.items[this.selectedHint],s=this.items[this.selectedHint=e];s!==i&&(i&&i.classList.remove(_y),s.classList.add(_y),s.offsetTop<this.hintsEl.scrollTop?this.hintsEl.scrollTop=s.offsetTop-3:s.offsetTop+s.offsetHeight>this.hintsEl.scrollTop+this.hintsEl.clientHeight&&(this.hintsEl.scrollTop=s.offsetTop+s.offsetHeight-this.hintsEl.clientHeight+3),Gn.default.signal(this.data,"select",this.data.list[this.selectedHint],s))}getCursorCoords(){let{completion:e,hintsEl:n}=this,i=e.cm,s=Va(n),a=i.cursorCoords(null,"local"),f=$n(i.display.wrapper,s);return{top:f.top+a.top+5,left:f.left+a.left+9,bottom:f.top+a.bottom+5,right:f.left+a.right+9}}updatePosSize(){let{hintsEl:i}=this,s=this.getCursorCoords(),{clientWidth:a,clientHeight:f}=Ya(i);i.style.left="0px",i.style.top="0px";let{width:p,height:m}=i.getBoundingClientRect(),h=f-s.bottom,g=s.top;if(h<m&&g>h){let k=Math.min(m,g-6-1);i.style.top=`${s.top-1-k-6}px`,i.style.maxHeight=`${k}px`}else i.style.top=`${s.bottom+1}px`,i.style.maxHeight=`${h-1-6}px`;let v=a-s.right,w=s.left;v<p&&w>v?(i.style.left=`${s.left+1-Math.min(p,w-6)}px`,i.style.maxWidth=`${w-6}px`):(i.style.left=`${s.right}px`,i.style.maxWidth=`${v-6}px`),i.style.visibility="visible"}}});function h4(t,e,{entry:{type:n,text:i,value:s}}){let a=i[0],f=i[i.length-1],p=a==='"'||a==="'"?1:0,m=f==='"'||f==="'"?1:0,h=i.toLowerCase().substring(p,i.length-m),g=h?s.toLowerCase().indexOf(h,s[0]==='"'||s[0]==="'"?1:0):-1;g!==-1&&(s=Ft(s.substring(0,g))+'<span class="match">'+Ft(s.substr(g,h.length))+"</span>"+Ft(s.substr(g+h.length))),t.classList.add("type-"+n),t.appendChild(Q("span","name",s))}function DT(t){Object.assign(t.view,{QueryEditor:class extends Wy{get container(){return t.dom.container}},ViewEditor:class extends Uy{isViewDefined(e){return t.view.isDefined(e)}}})}var cs,rY,mu,Wy,Uy,OT=N(()=>{pt();nr();hu();Da();cs=Xn(jr(),1);CT();TT();rY=Xn(jy(),1);NT();mu=class extends Cr{static CodeMirror=cs.default;constructor({hint:e,mode:n}){super(),this.el=document.createElement("div"),this.el.className="discovery-view-editor";let i=this,s=(0,cs.default)(this.el,{extraKeys:{"Alt-Space":"autocomplete"},mode:n||"javascript",theme:"neo",indentUnit:0,showHintOptions:{hint:e,get container(){return i.container}}});s.on("change",()=>this.emit("change",s.getValue())),typeof e=="function"&&(s.on("cursorActivity",f=>{f.state.completionEnabled&&f.state.focused&&f.showHint()}),s.on("focus",f=>{f.getValue()===""&&(f.state.completionEnabled=!0),f.state.completionEnabled&&!f.state.completionActive&&f.showHint()}),s.on("change",(f,p)=>{p.origin!=="complete"&&(s.state.completionEnabled=!0)})),this.cm=s;let a=new eo;a.subscribe(()=>s.refresh()),a.observe(s.display.wrapper)}getValue(){return this.cm.getValue()}setValue(e){requestAnimationFrame(()=>this.cm.refresh()),typeof e=="string"&&this.getValue()!==e&&this.cm.setValue(e||"")}focus(){this.cm.focus()}},Wy=class extends mu{constructor(e){super({mode:"discovery-query",hint:n=>{let i=n.getCursor(),s=e(n.getValue(),n.doc.indexFromPos(i),this.queryData,this.queryContext);if(s)return{list:s.slice(0,50).map(a=>({entry:a,text:a.value,render:h4,from:n.posFromIndex(a.from),to:n.posFromIndex(a.to)}))}}}),this.inputPanelEl=Q("div","discovery-view-editor__input-panel"),this.outputPanelEl=Q("div","discovery-view-editor__output-panel"),this.el.append(this.inputPanelEl,this.outputPanelEl)}setValue(e,n,i){let s=typeof e=="string"&&this.getValue()!==e,a=this.queryData!==n||this.queryContext!==i;this.queryData=n,this.queryContext=i,super.setValue(e),a&&!s&&this.cm.state.completionEnabled&&this.cm.state.focused&&this.cm.showHint()}},Uy=class extends mu{constructor(){super({mode:{name:"discovery-view",isDiscoveryViewDefined:e=>this.isViewDefined(e)}})}};cs.default.defineMode("jora",Ry);cs.default.defineMode("discovery-query",Ry);cs.default.defineMode("discovery-view",AT)});var PT,IT=N(()=>{PT={beforeDemo:['md:"A block has no its own look. It\'s using for wrapping some content with a `className` (btw `className` is a common property for any view when appropriate)"'],demo:{view:"block",className:"foo",content:['text:"Content inside block"']}}});function zT(t){t.view.define("block",function(e,n,i,s){let{content:a=[],onInit:f,onChange:p}=n,m=typeof f!="function"&&typeof p!="function"?a:this.composeConfig(a,{onInit:f,onChange:p});return t.view.render(e,m,i,s)},{usage:PT})}var BT=N(()=>{IT()});var gu,$y=N(()=>{gu={demo:{view:"columns",data:["one","two","three","four"],column:"text"}}});function FT(t){t.view.define("column",function(e,n,i,s){let{content:a=[]}=n;return t.view.render(e,a,i,s)},{usage:gu})}var RT=N(()=>{$y()});function jT(t){t.view.define("columns",function(n,i,s,a){let{column:f,columnConfig:p,emptyText:m,limit:h}=i;if(m!==!1&&m!==""&&n.setAttribute("emptyText",m||"Empty"),!Array.isArray(s)&&s&&(s=[s]),Array.isArray(s))return t.view.renderList(n,this.composeConfig({view:"column",content:f},p),s,a,0,t.view.listLimit(h,25))},{usage:gu})}var _T=N(()=>{$y()});var HT,qT=N(()=>{HT={demo:{view:"expand",header:'text:"Expand me!"',content:'text:"Content"'}}});function WT(t){t.view.define("expand",function(e,n,i,s){function a(){if(e.classList.toggle("expanded",f),f)return w=Q("div","content"),t.view.render(w,m,i,s).then(()=>e.appendChild(w));w!==null&&(w.remove(),w=null)}let{expanded:f,header:p,content:m,onToggle:h}=n,g=e.appendChild(Q("div","header")),v=g.appendChild(Q("div","header-content")),w=null;return f=t.queryBool(f,i,s),g.appendChild(Q("div","trigger")),g.addEventListener("click",()=>{f=!f,a(),typeof h=="function"&&h(f)}),Promise.all([t.view.render(v,p||'text:"\xA0"',i,s),a()])},{usage:HT})}var UT=N(()=>{pt();qT()});var $T,GT=N(()=>{$T={demo:{view:"hstack",content:['button:{text:"First button"}','button-primary:{text:"Second button"}']}}});function VT(t){t.view.define("hstack",function(e,n,i,s){let{content:a=[]}=n;return t.view.render(e,a,i,s)},{usage:$T})}var YT=N(()=>{GT()});function KT(t){t.view.define("list-item",function(e,n,i,s){let{content:a="text"}=n;return t.view.render(e,a,i,s)},{tag:"li"})}var QT=N(()=>{});var us,XT=N(()=>{us=(t,e)=>({demo:{view:t,data:["one","two","three","four"]},examples:[{title:"Variations",demo:{view:"context",data:["foo","bar","baz"],content:e.map(n=>[`header{ content: 'md:${JSON.stringify('`view: \\"'+n+'\\"`')}' }`,n])}},{title:"Configure item's content",demo:[{view:t,data:["one","two","three","four"],item:['text:"<item> "',{view:"link",data:'{ href: "#" + $ }'}]}]},{title:"Configure item's config",demo:{view:t,data:["one","two","three","four"],itemConfig:{className:"special"},item:{view:"text",data:'"prefix-" + $'}}}]})});function JT(t){function e(n,i,s,a){let{item:f,itemConfig:p,limit:m,emptyText:h}=i;if(h!==!1&&h!==""&&n.setAttribute("emptyText",h||"Empty list"),!Array.isArray(s)&&s&&(s=[s]),Array.isArray(s))return t.view.renderList(n,this.composeConfig({view:"list-item",content:f},p),s,a,0,t.view.listLimit(m,25))}t.view.define("list",e,{usage:us}),t.view.define("inline-list",e,{usage:us}),t.view.define("comma-list",e,{usage:us}),t.view.define("ol",e,{tag:"ol",usage:us}),t.view.define("ul",e,{tag:"ul",usage:us})}var ZT=N(()=>{XT()});var eE,tE=N(()=>{eE=t=>({beforeDemo:['md:"A special view to be used as the first view in the body of the page. This view stays in place as the page scrolls (although it may move slightly to the top of the page at the start of the scroll), so that the most relevant information and important action elements can remain accessible despite page scrolling."'],demoFixed:100,demo:`${t}:"That's a \\"${t}\\""`,examples:[{title:"Prelude",demoFixed:150,highlightProps:["prelude"],demo:{view:t,prelude:['badge:{ text: "demo" }','badge:{ text: "demo", prefix: "prelude", postfix: "postfix" }'],content:'h1:"Header"'}}]})});function nE(t){t.view.define("page-header",function(n,i,s,a){let{prelude:f,content:p,onInit:m,onChange:h}=i,g=n.appendChild(Q("div","view-page-header__prelude")),v=n.appendChild(Q("div","view-page-header__content")),w=k=>typeof m!="function"&&typeof h!="function"?k:this.composeConfig(k,{onInit:m,onChange:h});return Promise.all([t.view.render(g,w(f||[]),s,a),t.view.render(v,w(p||"text"),s,a)])},{usage:eE})}var rE=N(()=>{pt();tE()});function Gy(t,e){return t.el.contains(e)?t:t.relatedPopups.reduce((n,i)=>n||Gy(i,e),null)}function oE(t){return t?t.getRootNode({composed:!0})===document:!0}function yu(t){pr.slice().forEach(e=>e.hideIfEventOutside(t))}function y4(){pr.slice().forEach(t=>t.hideOnTriggerHasLeftDocument())}function sE(t){pr.slice().forEach(e=>e.hideOnResize(t))}function uE(t,e){return typeof t=="function"&&(t=t(e)),typeof t=="number"?isFinite(t)?t:0:typeof t=="boolean"&&t?m4:0}function vu(t){clearTimeout(t.showDelayTimer),t.showDelayTimer=null,t.showDelayArgs=null,Vy.delete(t)}function aE(t,e,n){clearTimeout(t.showDelayTimer),t.showDelayTimer=setTimeout(()=>t.show(e,n,!0),uE(t.showDelay,e)),t.showDelayArgs=[e,n],Vy.add(t)}function lE(t,e){t.lastChild!==e&&t.appendChild(e)}function cE(t,e=0){return Number.isFinite(t)?t:e}function fE(t){let e=[],n=new Set,i=null,s=null,a=()=>{i===null&&(i=[t.addHostElEventListener("mouseenter",({target:f})=>{if(f!==document)for(let p of e){let m=Gy(p,f),h=m?m.el:f.closest(p.hoverTriggers);h&&(p.hideTimer=clearTimeout(p.hideTimer),h!==p.lastHoverTriggerEl&&((!m||!m.hoverPinned)&&(p.lastHoverTriggerEl=h),m||(p.hoverPinned=!1,p.el.classList.remove("pinned"),p.show(h))))}},fr),t.addHostElEventListener("mouseleave",({target:f})=>{for(let p of e)p.lastHoverTriggerEl===f&&(vu(p),p.lastHoverTriggerEl=null,p.hideTimer=setTimeout(p.hide,100))},fr),t.addGlobalEventListener("scroll",f=>{s=setTimeout(()=>yu(f),0)},!0),t.addHostElEventListener("scroll",f=>{clearTimeout(s),yu(f)}),t.addGlobalEventListener("click",f=>{s=setTimeout(()=>yu(f),0)},!0),t.addHostElEventListener("click",f=>{clearTimeout(s),yu(f),setTimeout(y4,50);for(let p of e)p.hoverPin==="trigger-click"&&p.lastHoverTriggerEl&&p.lastTriggerEl.contains(f.target)&&(p.lastHoverTriggerEl=null,p.hoverPinned=!0,p.el.classList.add("pinned"),f.stopPropagation())},!0)])};Ci.subscribe(()=>{for(let f of pr)f.position==="pointer"&&!f.hoverPinned&&!f.frozen&&!n.has(f)&&f.updatePosition();for(let f of Vy)aE(f,...f.showDelayArgs)}),t.inspectMode.subscribe(f=>f?pr.forEach(p=>n.add(p)):n.clear()),t.view.Popup=class{constructor(p){p={...g4,...p},this.el=document.createElement("div"),this.el.classList.add("discovery-view-popup"),this.showDelayTimer=null,this.showDelayArgs=null,this.showDelay=p.showDelay,this.hideTimer=null,this.hide=this.hide.bind(this),this.lastTriggerEl=null,this.lastHoverTriggerEl=null,this.hoverPinned=!1,this.frozen=!1,this.render=p.render,this.position=p.position,this.positionMode=p.positionMode,this.pointerOffsetX=cE(p.pointerOffsetX),this.pointerOffsetY=cE(p.pointerOffsetY),this.hoverTriggers=p.hoverTriggers,this.hoverPin=p.hoverPin,this.hideIfEventOutsideDisabled=!p.hideIfEventOutside,this.hideOnResizeDisabled=!p.hideOnResize,p.className&&this.el.classList.add(p.className),iE.includes(p.hoverPin)||(t.log("warn",`Bad value for \`Popup#options.hoverPin\` (should be ${iE.join(", ")}):`,p.hoverPin),this.hoverPin=!1),this.hoverTriggers&&(this.el.classList.add("show-on-hover"),this.el.dataset.pinMode=this.hoverPin||"none",e.push(this),a())}get relatedPopups(){return pr.filter(p=>this.el.contains(p.lastTriggerEl))}get visible(){return pr.includes(this)}toggle(...p){this.visible?this.hide():this.show(...p)}async show(p,m=this.render,h=!1){if(!this.visible&&!h&&uE(this.showDelay,p)>0){aE(this,p,m);return}vu(this),n.delete(this),t.view.setViewRoot(this.el,"popup",{config:m});let g=t.dom.container;if(this.hideTimer=clearTimeout(this.hideTimer),this.relatedPopups.forEach(v=>v.hide()),this.el.classList.toggle("inspect",t.inspectMode.value),this.lastTriggerEl&&this.lastTriggerEl.classList.remove("discovery-view-popup-active"),p&&p.classList.add("discovery-view-popup-active"),this.lastTriggerEl=p||null,this.visible||(pr.push(this),pr.length===1&&window.addEventListener("resize",sE)),typeof m=="function"){this.el.innerHTML="";let v=Symbol();if(this.lastRenderMarker=v,requestAnimationFrame(()=>{this.lastRenderMarker===v&&(lE(g,this.el),this.updatePosition())}),await m(this.el,p,this.hide),this.lastRenderMarker!==v)return;this.lastRenderMarker=null}lE(g,this.el),this.updatePosition()}updatePosition(){let p=this.position==="pointer";if(!this.visible||(p?this.frozen:!this.lastTriggerEl))return;let m=t.dom.container,h=Va(m.firstChild),g=Cy(window,h),{x:v,y:w}=Ci.value,{pointerOffsetX:k,pointerOffsetY:S}=this,P=p?{left:parseInt(v)-k,right:parseInt(v)+k,top:parseInt(w)-S,bottom:parseInt(w)+S}:$n(this.lastTriggerEl,m),M=p?P.left:P.right,A=p?P.right:P.left,T=P.top-g.top-3,L=g.bottom-P.bottom-3,O=M-g.left-3,z=g.right-A-3,B=z>=O,H=L>=T;if(H||(this.el.style.maxHeight=T+"px",this.el.style.top="auto",this.el.style.bottom=g.bottom-P.top+"px",this.el.dataset.vTo="top"),B||(this.el.style.left="auto",this.el.style.right=g.right-M+"px",this.el.style.maxWidth=O+"px",this.el.dataset.hTo="left"),this.positionMode==="natural"&&(!B||!H)){let{height:W,width:U}=$n(this.el);H=W<=L,B=U<=z}H&&(this.el.style.maxHeight=L+"px",this.el.style.top=P.bottom-g.top+"px",this.el.style.bottom="auto",this.el.dataset.vTo="bottom"),B&&(this.el.style.left=A-g.left+"px",this.el.style.right="auto",this.el.style.maxWidth=z+"px",this.el.dataset.hTo="right"),this.relatedPopups.forEach(W=>W.updatePosition())}freeze(){this.frozen=!0,this.el.classList.add("frozen")}unfreeze(){this.frozen=!1,this.el.classList.remove("frozen"),this.updatePosition()}hide(){this.hideTimer=clearTimeout(this.hideTimer),this.lastRenderMarker=null,vu(this),this.visible&&!n.has(this)&&(this.relatedPopups.forEach(p=>p.hide()),pr.splice(pr.indexOf(this),1),this.el.remove(),this.unfreeze(),this.lastTriggerEl&&(this.lastTriggerEl.classList.remove("discovery-view-popup-active"),this.lastTriggerEl=null),pr.length===0&&window.removeEventListener("resize",sE))}hideIfEventOutside({target:p}){this.hideIfEventOutsideDisabled||n.has(this)||this.lastTriggerEl&&this.lastTriggerEl.contains(p)||Gy(this,p)||this.hide()}hideOnTriggerHasLeftDocument(){(!oE(this.lastHoverTriggerEl)||!oE(this.lastTriggerEl))&&this.hide()}hideOnResize(){this.hideOnResizeDisabled||n.has(this)||this.hide()}destroy(){n.delete(this),vu(this);let p=e.indexOf(this);p!==-1&&e.splice(p,1),this.hide(),this.el=null,this.lastTriggerEl=null,this.lastHoverTriggerEl=null}}}var pr,Vy,iE,m4,g4,pE=N(()=>{Zi();pt();fu();pr=[],Vy=new Set,iE=[!1,"popup-hover","trigger-click"],m4=300,g4={position:"trigger",positionMode:"safe",pointerOffsetX:3,pointerOffsetY:3,showDelay:!1,hoverTriggers:null,hoverPin:!1,hideIfEventOutside:!0,hideOnResize:!0,render:void 0}});var dE,hE=N(()=>{dE={demo:{view:"section",header:'text:"I am section"',content:['text:"content"']}}});function mE(t){t.view.define("section",function(e,n,i,s){let{header:a,content:f}=n;return t.view.render(e,[{view:"header",content:a},f],i,s)},{usage:dE})}var gE=N(()=>{hE()});function yE(t){t.view.define("toc-section",function(e,n,i,s){let{header:a,content:f}=n;return t.view.render(e,[{view:"block",className:"header",content:a},{view:"block",className:"content",content:f}],i,s)},{tag:"section"})}var vE=N(()=>{});var fs,bE=N(()=>{fs=(t,e)=>({demo:{view:t,data:'"Alert"'},examples:[{title:"Variations",demo:e.map(n=>`${n}:"${n}"`)},{title:"Complex content",demo:{view:t,content:['h3:"Some header"','text:"Hello world!"']}}]})});function wE(t){function e(n,i,s,a){let{content:f="text"}=i;return n.classList.add("view-alert"),t.view.render(n,f,s,a)}t.view.define("alert",e,{usage:fs}),t.view.define("alert-primary",e,{usage:fs}),t.view.define("alert-success",e,{usage:fs}),t.view.define("alert-danger",e,{usage:fs}),t.view.define("alert-warning",e,{usage:fs})}var xE=N(()=>{bE()});function kE(t){t.view.define("auto-link",function(e,n,i,s){let{content:a,fallback:f,href:p}=n;if(!i)return;let m=t.resolveValueLinks(i),g=m?(typeof p=="function"?p:v=>v)(m[0].href,i,s):null;return g?t.view.render(e,{view:"link",content:a},{...m[0],href:g},s):t.view.render(e,f||a||"text",i,s)},{tag:!1})}var CE=N(()=>{});var Yy,SE=N(()=>{Yy=(t,e)=>({demo:{view:t,data:JSON.stringify(t)},examples:[{title:"Variations",demo:e.map(n=>`${n}:"${n}"`)},{title:"Displaying content",beforeDemo:{view:"md",source:["There are several ways to specify the main content of a badge:","- `content` option \u2013 allows to specify any renderable content and has the highest precedence","- `text` option \u2013 used when `content` is omitted or falsy; it renders as plain text","- When both `content` and `text` options are omitted, the `data` is used for content:","  - If `data` is a string, a number, or a boolean value, it is used as the `text` value","  - If `data` is an object, the value of `text` property of `data` coerced to a string is used","  - Otherwise, render an undefined"].join(`
`)},demo:[{view:t,data:'"data"',text:"text",content:'text:"RENDER"'},{view:t,data:'"data"',text:"RENDER",content:"=undefined"},{view:t,data:'"data"',content:"=undefined"},{view:t,data:'"data"',text:"RENDER"},{view:t,data:'"data"',text:"=undefined"},{view:t,data:'"RENDER"'},{view:t,data:'{ text: "RENDER" }'},{view:t,data:"{}"},{view:t,data:[1,2,3]}]},{title:"Using data as source of options",beforeDemo:{view:"md",source:["The following properties are taken from the data when the appropriate options are not specified for a legacy reasons (is subject to remove in the future):","- `color`","- `textColor`","- `darkColor`","- `darkTextColor`","- `text`","- `href`","- `external`","- `prefix`","- `postfix`"].join(`
`)},highlightProps:["data"],demo:{view:t,data:{text:"demo",href:"#example"}}},{title:"Custom colors",beforeDemo:{view:"md",source:["Data properties to setup a custom colors:","* `color` \u2013 default background color","* `textColor` \u2013 default text color","* `darkColor` \u2013 background color in dark mode","* `darkTextColor` \u2013 text color in dark mode"].join(`
`)},demo:{view:t,text:"Colored badge",color:"rgba(237, 177, 9, 0.35)",textColor:"orange",darkColor:"#ffff00",darkTextColor:"black"}},{title:"As a link",highlightProps:["href","external"],demo:{view:t,text:"Link to something",href:"#",external:!0}},{title:"Using onClick handler",highlightProps:["onClick"],demo:{view:t,text:'Show "Hello world"',onClick:Function('return () => alert("Hello world!")')()}},{title:"Prefix and postfix",highlightProps:["prefix","postfix"],demo:{view:t,prefix:"prefix",text:"link",postfix:"postfix"}},{title:"Complex content",highlightProps:["content"],demo:{view:t,content:['text:"text "','link:{ href: "#example" }']}}]})});function TE(t,e,n){if(!n)return;let i=t.appendChild(document.createElement("span"));i.className=e,i.textContent=n}function EE(t){function e(n,i,s,a){let{color:f,textColor:p,darkColor:m,darkTextColor:h,text:g,content:v,href:w,external:k,onClick:S,prefix:P,postfix:M}=i,A;return f&&n.style.setProperty("--discovery-view-badge-color",f),m&&n.style.setProperty("--discovery-view-badge-dark-color",m),p&&n.style.setProperty("--discovery-view-badge-text-color",p),h&&n.style.setProperty("--discovery-view-badge-dark-text-color",h),w&&(n.href=w),k&&n.setAttribute("target","_blank"),typeof S=="function"&&(n.classList.add("onclick"),n.addEventListener("click",T=>{T.preventDefault(),S(n,s,a)})),TE(n,"prefix",P),v?A=this.render(n,v,s,a):n.append(document.createTextNode(g)),TE(n,"postfix",M),A}t.view.define("badge",e,{tag:"a",props:AE,usage:Yy}),t.view.define("pill-badge",e,{tag:"a",props:AE,usage:Yy})}var AE,LE=N(()=>{SE();AE=`is not array? | {
    color,
    textColor,
    darkColor,
    darkTextColor,
    text: #.props has no 'content' ? is (string or number or boolean) ?: text,
    content: undefined,
    href,
    external,
    onClick: undefined,
    prefix,
    postfix
} | overrideProps()`});function zE(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function v4(t){ro=t}function An(t,e){if(e){if(BE.test(t))return t.replace(b4,ME)}else if(FE.test(t))return t.replace(w4,ME);return t}function RE(t){return t.replace(k4,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}function St(t,e){t=typeof t=="string"?t:t.source,e=e||"";let n={replace:(i,s)=>(s=s.source||s,s=s.replace(C4,"$1"),t=t.replace(i,s),n),getRegex:()=>new RegExp(t,e)};return n}function NE(t,e,n){if(t){let i;try{i=decodeURIComponent(RE(n)).replace(S4,"").toLowerCase()}catch{return null}if(i.indexOf("javascript:")===0||i.indexOf("vbscript:")===0||i.indexOf("data:")===0)return null}e&&!A4.test(n)&&(n=M4(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}function M4(t,e){bu[" "+t]||(T4.test(t)?bu[" "+t]=t+"/":bu[" "+t]=wu(t,"/",!0)),t=bu[" "+t];let n=t.indexOf(":")===-1;return e.substring(0,2)==="//"?n?e:t.replace(E4,"$1")+e:e.charAt(0)==="/"?n?e:t.replace(L4,"$1")+e:t+e}function DE(t,e){let n=t.replace(/\|/g,(a,f,p)=>{let m=!1,h=f;for(;--h>=0&&p[h]==="\\";)m=!m;return m?"|":" |"}),i=n.split(/ \|/),s=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;s<i.length;s++)i[s]=i[s].trim().replace(/\\\|/g,"|");return i}function wu(t,e,n){let i=t.length;if(i===0)return"";let s=0;for(;s<i;){let a=t.charAt(i-s-1);if(a===e&&!n)s++;else if(a!==e&&n)s++;else break}return t.slice(0,i-s)}function N4(t,e){if(t.indexOf(e[1])===-1)return-1;let n=t.length,i=0,s=0;for(;s<n;s++)if(t[s]==="\\")s++;else if(t[s]===e[0])i++;else if(t[s]===e[1]&&(i--,i<0))return s;return-1}function D4(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function OE(t,e){if(e<1)return"";let n="";for(;e>1;)e&1&&(n+=t),e>>=1,t+=t;return n+t}function PE(t,e,n,i){let s=e.href,a=e.title?An(e.title):null,f=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){i.state.inLink=!0;let p={type:"link",raw:n,href:s,title:a,text:f,tokens:i.inlineTokens(f)};return i.state.inLink=!1,p}return{type:"image",raw:n,href:s,title:a,text:An(f)}}function O4(t,e){let n=t.match(/^(\s+)(?:```)/);if(n===null)return e;let i=n[1];return e.split(`
`).map(s=>{let a=s.match(/^\s+/);if(a===null)return s;let[f]=a;return f.length>=i.length?s.slice(i.length):s}).join(`
`)}function P4(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function IE(t){let e="",n,i,s=t.length;for(n=0;n<s;n++)i=t.charCodeAt(n),Math.random()>.5&&(i="x"+i.toString(16)),e+="&#"+i+";";return e}function I4(t,e,n){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let s="<p>An error occurred:</p><pre>"+An(i.message+"",!0)+"</pre>";if(e)return Promise.resolve(s);if(n){n(null,s);return}return s}if(e)return Promise.reject(i);if(n){n(i);return}throw i}}function jE(t,e){return(n,i,s)=>{typeof i=="function"&&(s=i,i=null);let a={...i};i={..._e.defaults,...a};let f=I4(i.silent,i.async,s);if(typeof n>"u"||n===null)return f(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return f(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(D4(i),i.hooks&&(i.hooks.options=i),s){let p=i.highlight,m;try{i.hooks&&(n=i.hooks.preprocess(n)),m=t(n,i)}catch(v){return f(v)}let h=function(v){let w;if(!v)try{i.walkTokens&&_e.walkTokens(m,i.walkTokens),w=e(m,i),i.hooks&&(w=i.hooks.postprocess(w))}catch(k){v=k}return i.highlight=p,v?f(v):s(null,w)};if(!p||p.length<3||(delete i.highlight,!m.length))return h();let g=0;_e.walkTokens(m,function(v){v.type==="code"&&(g++,setTimeout(()=>{p(v.text,v.lang,function(w,k){if(w)return h(w);k!=null&&k!==v.text&&(v.text=k,v.escaped=!0),g--,g===0&&h()})},0))}),g===0&&h();return}if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(n):n).then(p=>t(p,i)).then(p=>i.walkTokens?Promise.all(_e.walkTokens(p,i.walkTokens)).then(()=>p):p).then(p=>e(p,i)).then(p=>i.hooks?i.hooks.postprocess(p):p).catch(f);try{i.hooks&&(n=i.hooks.preprocess(n));let p=t(n,i);i.walkTokens&&_e.walkTokens(p,i.walkTokens);let m=e(p,i);return i.hooks&&(m=i.hooks.postprocess(m)),m}catch(p){return f(p)}}}function _e(t,e,n){return jE(to.lex,no.parse)(t,e,n)}var ro,BE,b4,FE,w4,x4,ME,k4,C4,S4,A4,bu,T4,E4,L4,xu,Ja,He,De,to,Za,ku,ps,no,el,VY,YY,KY,QY,XY,JY,ZY,Ky=N(()=>{ro=zE();BE=/[&<>"']/,b4=new RegExp(BE.source,"g"),FE=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,w4=new RegExp(FE.source,"g"),x4={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ME=t=>x4[t];k4=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;C4=/(^|[^\[])\^/g;S4=/[^\w:]/g,A4=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;bu={},T4=/^[^:]+:\/*[^/]*$/,E4=/^([^:]+:)[\s\S]*$/,L4=/^([^:]+:\/*[^/]*)[\s\S]*$/;xu={exec:function(){}};Ja=class{constructor(e){this.options=e||ro}space(e){let n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){let n=this.rules.block.code.exec(e);if(n){let i=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?i:wu(i,`
`)}}}fences(e){let n=this.rules.block.fences.exec(e);if(n){let i=n[0],s=O4(i,n[3]||"");return{type:"code",raw:i,lang:n[2]?n[2].trim().replace(this.rules.inline._escapes,"$1"):n[2],text:s}}}heading(e){let n=this.rules.block.heading.exec(e);if(n){let i=n[2].trim();if(/#$/.test(i)){let s=wu(i,"#");(this.options.pedantic||!s||/ $/.test(s))&&(i=s.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(e){let n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){let n=this.rules.block.blockquote.exec(e);if(n){let i=n[0].replace(/^ *>[ \t]?/gm,""),s=this.lexer.state.top;this.lexer.state.top=!0;let a=this.lexer.blockTokens(i);return this.lexer.state.top=s,{type:"blockquote",raw:n[0],tokens:a,text:i}}}list(e){let n=this.rules.block.list.exec(e);if(n){let i,s,a,f,p,m,h,g,v,w,k,S,P=n[1].trim(),M=P.length>1,A={type:"list",raw:"",ordered:M,start:M?+P.slice(0,-1):"",loose:!1,items:[]};P=M?`\\d{1,9}\\${P.slice(-1)}`:`\\${P}`,this.options.pedantic&&(P=M?P:"[*+-]");let T=new RegExp(`^( {0,3}${P})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(S=!1,!(!(n=T.exec(e))||this.rules.block.hr.test(e)));){if(i=n[0],e=e.substring(i.length),g=n[2].split(`
`,1)[0].replace(/^\t+/,O=>" ".repeat(3*O.length)),v=e.split(`
`,1)[0],this.options.pedantic?(f=2,k=g.trimLeft()):(f=n[2].search(/[^ ]/),f=f>4?1:f,k=g.slice(f),f+=n[1].length),m=!1,!g&&/^ *$/.test(v)&&(i+=v+`
`,e=e.substring(v.length+1),S=!0),!S){let O=new RegExp(`^ {0,${Math.min(3,f-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),z=new RegExp(`^ {0,${Math.min(3,f-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),B=new RegExp(`^ {0,${Math.min(3,f-1)}}(?:\`\`\`|~~~)`),H=new RegExp(`^ {0,${Math.min(3,f-1)}}#`);for(;e&&(w=e.split(`
`,1)[0],v=w,this.options.pedantic&&(v=v.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(B.test(v)||H.test(v)||O.test(v)||z.test(e)));){if(v.search(/[^ ]/)>=f||!v.trim())k+=`
`+v.slice(f);else{if(m||g.search(/[^ ]/)>=4||B.test(g)||H.test(g)||z.test(g))break;k+=`
`+v}!m&&!v.trim()&&(m=!0),i+=w+`
`,e=e.substring(w.length+1),g=v.slice(f)}}A.loose||(h?A.loose=!0:/\n *\n *$/.test(i)&&(h=!0)),this.options.gfm&&(s=/^\[[ xX]\] /.exec(k),s&&(a=s[0]!=="[ ] ",k=k.replace(/^\[[ xX]\] +/,""))),A.items.push({type:"list_item",raw:i,task:!!s,checked:a,loose:!1,text:k}),A.raw+=i}A.items[A.items.length-1].raw=i.trimRight(),A.items[A.items.length-1].text=k.trimRight(),A.raw=A.raw.trimRight();let L=A.items.length;for(p=0;p<L;p++)if(this.lexer.state.top=!1,A.items[p].tokens=this.lexer.blockTokens(A.items[p].text,[]),!A.loose){let O=A.items[p].tokens.filter(B=>B.type==="space"),z=O.length>0&&O.some(B=>/\n.*\n/.test(B.raw));A.loose=z}if(A.loose)for(p=0;p<L;p++)A.items[p].loose=!0;return A}}html(e){let n=this.rules.block.html.exec(e);if(n){let i={type:"html",raw:n[0],pre:!this.options.sanitizer&&(n[1]==="pre"||n[1]==="script"||n[1]==="style"),text:n[0]};if(this.options.sanitize){let s=this.options.sanitizer?this.options.sanitizer(n[0]):An(n[0]);i.type="paragraph",i.text=s,i.tokens=this.lexer.inline(s)}return i}}def(e){let n=this.rules.block.def.exec(e);if(n){let i=n[1].toLowerCase().replace(/\s+/g," "),s=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",a=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline._escapes,"$1"):n[3];return{type:"def",tag:i,raw:n[0],href:s,title:a}}}table(e){let n=this.rules.block.table.exec(e);if(n){let i={type:"table",header:DE(n[1]).map(s=>({text:s})),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(i.header.length===i.align.length){i.raw=n[0];let s=i.align.length,a,f,p,m;for(a=0;a<s;a++)/^ *-+: *$/.test(i.align[a])?i.align[a]="right":/^ *:-+: *$/.test(i.align[a])?i.align[a]="center":/^ *:-+ *$/.test(i.align[a])?i.align[a]="left":i.align[a]=null;for(s=i.rows.length,a=0;a<s;a++)i.rows[a]=DE(i.rows[a],i.header.length).map(h=>({text:h}));for(s=i.header.length,f=0;f<s;f++)i.header[f].tokens=this.lexer.inline(i.header[f].text);for(s=i.rows.length,f=0;f<s;f++)for(m=i.rows[f],p=0;p<m.length;p++)m[p].tokens=this.lexer.inline(m[p].text);return i}}}lheading(e){let n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){let n=this.rules.block.paragraph.exec(e);if(n){let i=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:i,tokens:this.lexer.inline(i)}}}text(e){let n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){let n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:An(n[1])}}tag(e){let n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):An(n[0]):n[0]}}link(e){let n=this.rules.inline.link.exec(e);if(n){let i=n[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;let f=wu(i.slice(0,-1),"\\");if((i.length-f.length)%2===0)return}else{let f=N4(n[2],"()");if(f>-1){let m=(n[0].indexOf("!")===0?5:4)+n[1].length+f;n[2]=n[2].substring(0,f),n[0]=n[0].substring(0,m).trim(),n[3]=""}}let s=n[2],a="";if(this.options.pedantic){let f=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);f&&(s=f[1],a=f[3])}else a=n[3]?n[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(this.options.pedantic&&!/>$/.test(i)?s=s.slice(1):s=s.slice(1,-1)),PE(n,{href:s&&s.replace(this.rules.inline._escapes,"$1"),title:a&&a.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(e,n){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){let s=(i[2]||i[1]).replace(/\s+/g," ");if(s=n[s.toLowerCase()],!s){let a=i[0].charAt(0);return{type:"text",raw:a,text:a}}return PE(i,s,i[0],this.lexer)}}emStrong(e,n,i=""){let s=this.rules.inline.emStrong.lDelim.exec(e);if(!s||s[3]&&i.match(/[\p{L}\p{N}]/u))return;let a=s[1]||s[2]||"";if(!a||a&&(i===""||this.rules.inline.punctuation.exec(i))){let f=s[0].length-1,p,m,h=f,g=0,v=s[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(v.lastIndex=0,n=n.slice(-1*e.length+f);(s=v.exec(n))!=null;){if(p=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!p)continue;if(m=p.length,s[3]||s[4]){h+=m;continue}else if((s[5]||s[6])&&f%3&&!((f+m)%3)){g+=m;continue}if(h-=m,h>0)continue;m=Math.min(m,m+h+g);let w=e.slice(0,f+s.index+(s[0].length-p.length)+m);if(Math.min(f,m)%2){let S=w.slice(1,-1);return{type:"em",raw:w,text:S,tokens:this.lexer.inlineTokens(S)}}let k=w.slice(2,-2);return{type:"strong",raw:w,text:k,tokens:this.lexer.inlineTokens(k)}}}}codespan(e){let n=this.rules.inline.code.exec(e);if(n){let i=n[2].replace(/\n/g," "),s=/[^ ]/.test(i),a=/^ /.test(i)&&/ $/.test(i);return s&&a&&(i=i.substring(1,i.length-1)),i=An(i,!0),{type:"codespan",raw:n[0],text:i}}}br(e){let n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){let n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e,n){let i=this.rules.inline.autolink.exec(e);if(i){let s,a;return i[2]==="@"?(s=An(this.options.mangle?n(i[1]):i[1]),a="mailto:"+s):(s=An(i[1]),a=s),{type:"link",raw:i[0],text:s,href:a,tokens:[{type:"text",raw:s,text:s}]}}}url(e,n){let i;if(i=this.rules.inline.url.exec(e)){let s,a;if(i[2]==="@")s=An(this.options.mangle?n(i[0]):i[0]),a="mailto:"+s;else{let f;do f=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0];while(f!==i[0]);s=An(i[0]),i[1]==="www."?a="http://"+i[0]:a=i[0]}return{type:"link",raw:i[0],text:s,href:a,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(e,n){let i=this.rules.inline.text.exec(e);if(i){let s;return this.lexer.state.inRawBlock?s=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):An(i[0]):i[0]:s=An(this.options.smartypants?n(i[0]):i[0]),{type:"text",raw:i[0],text:s}}}},He={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:xu,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};He._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;He._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;He.def=St(He.def).replace("label",He._label).replace("title",He._title).getRegex();He.bullet=/(?:[*+-]|\d{1,9}[.)])/;He.listItemStart=St(/^( *)(bull) */).replace("bull",He.bullet).getRegex();He.list=St(He.list).replace(/bull/g,He.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+He.def.source+")").getRegex();He._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";He._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;He.html=St(He.html,"i").replace("comment",He._comment).replace("tag",He._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();He.paragraph=St(He._paragraph).replace("hr",He.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",He._tag).getRegex();He.blockquote=St(He.blockquote).replace("paragraph",He.paragraph).getRegex();He.normal={...He};He.gfm={...He.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};He.gfm.table=St(He.gfm.table).replace("hr",He.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",He._tag).getRegex();He.gfm.paragraph=St(He._paragraph).replace("hr",He.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",He.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",He._tag).getRegex();He.pedantic={...He.normal,html:St(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",He._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:xu,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:St(He.normal._paragraph).replace("hr",He.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",He.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};De={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:xu,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:xu,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};De._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";De.punctuation=St(De.punctuation).replace(/punctuation/g,De._punctuation).getRegex();De.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;De.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;De._comment=St(He._comment).replace("(?:-->|$)","-->").getRegex();De.emStrong.lDelim=St(De.emStrong.lDelim).replace(/punct/g,De._punctuation).getRegex();De.emStrong.rDelimAst=St(De.emStrong.rDelimAst,"g").replace(/punct/g,De._punctuation).getRegex();De.emStrong.rDelimUnd=St(De.emStrong.rDelimUnd,"g").replace(/punct/g,De._punctuation).getRegex();De._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;De._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;De._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;De.autolink=St(De.autolink).replace("scheme",De._scheme).replace("email",De._email).getRegex();De._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;De.tag=St(De.tag).replace("comment",De._comment).replace("attribute",De._attribute).getRegex();De._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;De._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;De._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;De.link=St(De.link).replace("label",De._label).replace("href",De._href).replace("title",De._title).getRegex();De.reflink=St(De.reflink).replace("label",De._label).replace("ref",He._label).getRegex();De.nolink=St(De.nolink).replace("ref",He._label).getRegex();De.reflinkSearch=St(De.reflinkSearch,"g").replace("reflink",De.reflink).replace("nolink",De.nolink).getRegex();De.normal={...De};De.pedantic={...De.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:St(/^!?\[(label)\]\((.*?)\)/).replace("label",De._label).getRegex(),reflink:St(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",De._label).getRegex()};De.gfm={...De.normal,escape:St(De.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};De.gfm.url=St(De.gfm.url,"i").replace("email",De.gfm._extended_email).getRegex();De.breaks={...De.gfm,br:St(De.br).replace("{2,}","*").getRegex(),text:St(De.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};to=class t{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ro,this.options.tokenizer=this.options.tokenizer||new Ja,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={block:He.normal,inline:De.normal};this.options.pedantic?(n.block=He.pedantic,n.inline=De.pedantic):this.options.gfm&&(n.block=He.gfm,this.options.breaks?n.inline=De.breaks:n.inline=De.gfm),this.tokenizer.rules=n}static get rules(){return{block:He,inline:De}}static lex(e,n){return new t(n).lex(e)}static lexInline(e,n){return new t(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(e,n=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(p,m,h)=>m+"    ".repeat(h.length));let i,s,a,f;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(p=>(i=p.call({lexer:this},e,n))?(e=e.substring(i.raw.length),n.push(i),!0):!1))){if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length),i.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length),s=n[n.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text):n.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length),s=n[n.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+i.raw,s.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),n.push(i);continue}if(a=e,this.options.extensions&&this.options.extensions.startBlock){let p=1/0,m=e.slice(1),h;this.options.extensions.startBlock.forEach(function(g){h=g.call({lexer:this},m),typeof h=="number"&&h>=0&&(p=Math.min(p,h))}),p<1/0&&p>=0&&(a=e.substring(0,p+1))}if(this.state.top&&(i=this.tokenizer.paragraph(a))){s=n[n.length-1],f&&s.type==="paragraph"?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):n.push(i),f=a.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length),s=n[n.length-1],s&&s.type==="text"?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):n.push(i);continue}if(e){let p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let i,s,a,f=e,p,m,h;if(this.tokens.links){let g=Object.keys(this.tokens.links);if(g.length>0)for(;(p=this.tokenizer.rules.inline.reflinkSearch.exec(f))!=null;)g.includes(p[0].slice(p[0].lastIndexOf("[")+1,-1))&&(f=f.slice(0,p.index)+"["+OE("a",p[0].length-2)+"]"+f.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(p=this.tokenizer.rules.inline.blockSkip.exec(f))!=null;)f=f.slice(0,p.index)+"["+OE("a",p[0].length-2)+"]"+f.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(p=this.tokenizer.rules.inline.escapedEmSt.exec(f))!=null;)f=f.slice(0,p.index+p[0].length-2)+"++"+f.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(m||(h=""),m=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(g=>(i=g.call({lexer:this},e,n))?(e=e.substring(i.raw.length),n.push(i),!0):!1))){if(i=this.tokenizer.escape(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.tag(e)){e=e.substring(i.raw.length),s=n[n.length-1],s&&i.type==="text"&&s.type==="text"?(s.raw+=i.raw,s.text+=i.text):n.push(i);continue}if(i=this.tokenizer.link(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(i.raw.length),s=n[n.length-1],s&&i.type==="text"&&s.type==="text"?(s.raw+=i.raw,s.text+=i.text):n.push(i);continue}if(i=this.tokenizer.emStrong(e,f,h)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.codespan(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.br(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.del(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.autolink(e,IE)){e=e.substring(i.raw.length),n.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(e,IE))){e=e.substring(i.raw.length),n.push(i);continue}if(a=e,this.options.extensions&&this.options.extensions.startInline){let g=1/0,v=e.slice(1),w;this.options.extensions.startInline.forEach(function(k){w=k.call({lexer:this},v),typeof w=="number"&&w>=0&&(g=Math.min(g,w))}),g<1/0&&g>=0&&(a=e.substring(0,g+1))}if(i=this.tokenizer.inlineText(a,P4)){e=e.substring(i.raw.length),i.raw.slice(-1)!=="_"&&(h=i.raw.slice(-1)),m=!0,s=n[n.length-1],s&&s.type==="text"?(s.raw+=i.raw,s.text+=i.text):n.push(i);continue}if(e){let g="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(g);break}else throw new Error(g)}}return n}},Za=class{constructor(e){this.options=e||ro}code(e,n,i){let s=(n||"").match(/\S*/)[0];if(this.options.highlight){let a=this.options.highlight(e,s);a!=null&&a!==e&&(i=!0,e=a)}return e=e.replace(/\n$/,"")+`
`,s?'<pre><code class="'+this.options.langPrefix+An(s)+'">'+(i?e:An(e,!0))+`</code></pre>
`:"<pre><code>"+(i?e:An(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,n,i,s){if(this.options.headerIds){let a=this.options.headerPrefix+s.slug(i);return`<h${n} id="${a}">${e}</h${n}>
`}return`<h${n}>${e}</h${n}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,n,i){let s=n?"ol":"ul",a=n&&i!==1?' start="'+i+'"':"";return"<"+s+a+`>
`+e+"</"+s+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,n){let i=n.header?"th":"td";return(n.align?`<${i} align="${n.align}">`:`<${i}>`)+e+`</${i}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,n,i){if(e=NE(this.options.sanitize,this.options.baseUrl,e),e===null)return i;let s='<a href="'+e+'"';return n&&(s+=' title="'+n+'"'),s+=">"+i+"</a>",s}image(e,n,i){if(e=NE(this.options.sanitize,this.options.baseUrl,e),e===null)return i;let s=`<img src="${e}" alt="${i}"`;return n&&(s+=` title="${n}"`),s+=this.options.xhtml?"/>":">",s}text(e){return e}},ku=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,i){return""+i}image(e,n,i){return""+i}br(){return""}},ps=class{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,n){let i=e,s=0;if(this.seen.hasOwnProperty(i)){s=this.seen[e];do s++,i=e+"-"+s;while(this.seen.hasOwnProperty(i))}return n||(this.seen[e]=s,this.seen[i]=0),i}slug(e,n={}){let i=this.serialize(e);return this.getNextSafeSlug(i,n.dryrun)}},no=class t{constructor(e){this.options=e||ro,this.options.renderer=this.options.renderer||new Za,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ku,this.slugger=new ps}static parse(e,n){return new t(n).parse(e)}static parseInline(e,n){return new t(n).parseInline(e)}parse(e,n=!0){let i="",s,a,f,p,m,h,g,v,w,k,S,P,M,A,T,L,O,z,B,H=e.length;for(s=0;s<H;s++){if(k=e[s],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[k.type]&&(B=this.options.extensions.renderers[k.type].call({parser:this},k),B!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(k.type))){i+=B||"";continue}switch(k.type){case"space":continue;case"hr":{i+=this.renderer.hr();continue}case"heading":{i+=this.renderer.heading(this.parseInline(k.tokens),k.depth,RE(this.parseInline(k.tokens,this.textRenderer)),this.slugger);continue}case"code":{i+=this.renderer.code(k.text,k.lang,k.escaped);continue}case"table":{for(v="",g="",p=k.header.length,a=0;a<p;a++)g+=this.renderer.tablecell(this.parseInline(k.header[a].tokens),{header:!0,align:k.align[a]});for(v+=this.renderer.tablerow(g),w="",p=k.rows.length,a=0;a<p;a++){for(h=k.rows[a],g="",m=h.length,f=0;f<m;f++)g+=this.renderer.tablecell(this.parseInline(h[f].tokens),{header:!1,align:k.align[f]});w+=this.renderer.tablerow(g)}i+=this.renderer.table(v,w);continue}case"blockquote":{w=this.parse(k.tokens),i+=this.renderer.blockquote(w);continue}case"list":{for(S=k.ordered,P=k.start,M=k.loose,p=k.items.length,w="",a=0;a<p;a++)T=k.items[a],L=T.checked,O=T.task,A="",T.task&&(z=this.renderer.checkbox(L),M?T.tokens.length>0&&T.tokens[0].type==="paragraph"?(T.tokens[0].text=z+" "+T.tokens[0].text,T.tokens[0].tokens&&T.tokens[0].tokens.length>0&&T.tokens[0].tokens[0].type==="text"&&(T.tokens[0].tokens[0].text=z+" "+T.tokens[0].tokens[0].text)):T.tokens.unshift({type:"text",text:z}):A+=z),A+=this.parse(T.tokens,M),w+=this.renderer.listitem(A,O,L);i+=this.renderer.list(w,S,P);continue}case"html":{i+=this.renderer.html(k.text);continue}case"paragraph":{i+=this.renderer.paragraph(this.parseInline(k.tokens));continue}case"text":{for(w=k.tokens?this.parseInline(k.tokens):k.text;s+1<H&&e[s+1].type==="text";)k=e[++s],w+=`
`+(k.tokens?this.parseInline(k.tokens):k.text);i+=n?this.renderer.paragraph(w):w;continue}default:{let W='Token with "'+k.type+'" type was not found.';if(this.options.silent){console.error(W);return}else throw new Error(W)}}}return i}parseInline(e,n){n=n||this.renderer;let i="",s,a,f,p=e.length;for(s=0;s<p;s++){if(a=e[s],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]&&(f=this.options.extensions.renderers[a.type].call({parser:this},a),f!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type))){i+=f||"";continue}switch(a.type){case"escape":{i+=n.text(a.text);break}case"html":{i+=n.html(a.text);break}case"link":{i+=n.link(a.href,a.title,this.parseInline(a.tokens,n));break}case"image":{i+=n.image(a.href,a.title,a.text);break}case"strong":{i+=n.strong(this.parseInline(a.tokens,n));break}case"em":{i+=n.em(this.parseInline(a.tokens,n));break}case"codespan":{i+=n.codespan(a.text);break}case"br":{i+=n.br();break}case"del":{i+=n.del(this.parseInline(a.tokens,n));break}case"text":{i+=n.text(a.text);break}default:{let m='Token with "'+a.type+'" type was not found.';if(this.options.silent){console.error(m);return}else throw new Error(m)}}}return i}},el=class{constructor(e){this.options=e||ro}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(e){return e}postprocess(e){return e}};_e.options=_e.setOptions=function(t){return _e.defaults={..._e.defaults,...t},v4(_e.defaults),_e};_e.getDefaults=zE;_e.defaults=ro;_e.use=function(...t){let e=_e.defaults.extensions||{renderers:{},childTokens:{}};t.forEach(n=>{let i={...n};if(i.async=_e.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if(s.renderer){let a=e.renderers[s.name];a?e.renderers[s.name]=function(...f){let p=s.renderer.apply(this,f);return p===!1&&(p=a.apply(this,f)),p}:e.renderers[s.name]=s.renderer}if(s.tokenizer){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");e[s.level]?e[s.level].unshift(s.tokenizer):e[s.level]=[s.tokenizer],s.start&&(s.level==="block"?e.startBlock?e.startBlock.push(s.start):e.startBlock=[s.start]:s.level==="inline"&&(e.startInline?e.startInline.push(s.start):e.startInline=[s.start]))}s.childTokens&&(e.childTokens[s.name]=s.childTokens)}),i.extensions=e),n.renderer){let s=_e.defaults.renderer||new Za;for(let a in n.renderer){let f=s[a];s[a]=(...p)=>{let m=n.renderer[a].apply(s,p);return m===!1&&(m=f.apply(s,p)),m}}i.renderer=s}if(n.tokenizer){let s=_e.defaults.tokenizer||new Ja;for(let a in n.tokenizer){let f=s[a];s[a]=(...p)=>{let m=n.tokenizer[a].apply(s,p);return m===!1&&(m=f.apply(s,p)),m}}i.tokenizer=s}if(n.hooks){let s=_e.defaults.hooks||new el;for(let a in n.hooks){let f=s[a];el.passThroughHooks.has(a)?s[a]=p=>{if(_e.defaults.async)return Promise.resolve(n.hooks[a].call(s,p)).then(h=>f.call(s,h));let m=n.hooks[a].call(s,p);return f.call(s,m)}:s[a]=(...p)=>{let m=n.hooks[a].apply(s,p);return m===!1&&(m=f.apply(s,p)),m}}i.hooks=s}if(n.walkTokens){let s=_e.defaults.walkTokens;i.walkTokens=function(a){let f=[];return f.push(n.walkTokens.call(this,a)),s&&(f=f.concat(s.call(this,a))),f}}_e.setOptions(i)})};_e.walkTokens=function(t,e){let n=[];for(let i of t)switch(n=n.concat(e.call(_e,i)),i.type){case"table":{for(let s of i.header)n=n.concat(_e.walkTokens(s.tokens,e));for(let s of i.rows)for(let a of s)n=n.concat(_e.walkTokens(a.tokens,e));break}case"list":{n=n.concat(_e.walkTokens(i.items,e));break}default:_e.defaults.extensions&&_e.defaults.extensions.childTokens&&_e.defaults.extensions.childTokens[i.type]?_e.defaults.extensions.childTokens[i.type].forEach(function(s){n=n.concat(_e.walkTokens(i[s],e))}):i.tokens&&(n=n.concat(_e.walkTokens(i.tokens,e)))}return n};_e.parseInline=jE(to.lexInline,no.parseInline);_e.Parser=no;_e.parser=no.parse;_e.Renderer=Za;_e.TextRenderer=ku;_e.Lexer=to;_e.lexer=to.lex;_e.Tokenizer=Ja;_e.Slugger=ps;_e.Hooks=el;_e.parse=_e;VY=_e.options,YY=_e.setOptions,KY=_e.use,QY=_e.walkTokens,XY=_e.parseInline,JY=no.parse,ZY=to.lex});var io,_E=N(()=>{io=(t,e)=>({demo:`${t}:"Header \\"${t}\\""`,examples:[{title:"Variations",view:e.map(n=>`${n}:"Header \\"${n}\\""`)},{title:"Complex content",demo:{view:t,content:['text:"Text "','link:{ text: "Link" }']}},{title:"Using anchor",demo:[{view:t,anchor:"foo",content:'text:"Explicit value for an anchor"'},{view:t,anchor:!0,content:'text:"Auto generated anchor based on text content of header"'}]}]})});function HE(t){let e=new ps;function n(i,s,a,f){let{content:p,anchor:m=!1}=s;i.classList.add("view-header");let h=t.view.render(i,p||"text",a,f);return m&&h.then(()=>{let g=e.slug(m===!0?i.textContent:String(m),{dryrun:!0}),v=t.encodePageHash(t.pageId,t.pageRef,{...t.pageParams,"!anchor":g});i.prepend(Q("a",{class:"view-header__anchor",id:`!anchor:${g}`,href:v}))}),h}t.view.define("header",n,{tag:"h4",usage:io}),t.view.define("h1",n,{tag:"h1",usage:io}),t.view.define("h2",n,{tag:"h2",usage:io}),t.view.define("h3",n,{tag:"h3",usage:io}),t.view.define("h4",n,{tag:"h4",usage:io}),t.view.define("h5",n,{tag:"h5",usage:io})}var qE=N(()=>{Ky();pt();_E()});var WE,UE=N(()=>{WE={demo:{view:"html",data:'"<h1>I am inner HTML</h1>"'}}});function $E(t){let e=document.createElement("div");t.view.define("html",function(n,i,s){e.innerHTML=s,n.append(...e.childNodes)},{tag:null,usage:WE})}var GE=N(()=>{UE()});var Qy,VE,Xy=N(()=>{Qy="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMjggMTI4Ij4KICAgIDxyZWN0IHg9IjY1LjYiIHk9IjI0LjYiIHRyYW5zZm9ybT0ibWF0cml4KDAuOTM5NyAtMC4zNDIgMC4zNDIgMC45Mzk3IC05Ljk0MjYgMzEuODI4KSIgZmlsbD0iI0ZGRkZGRiIgd2lkdGg9IjM5LjMiIGhlaWdodD0iMzkiPjwvcmVjdD4KICAgIDxyZWN0IHg9IjcwLjYiIHk9IjUyLjciIHRyYW5zZm9ybT0ibWF0cml4KC0wLjkzOTcgMC4zNDIgLTAuMzQyIC0wLjkzOTcgMTk0Ljc4NTIgODEuMTIwNCkiIGZpbGw9IiNDN0Q3RTIiIHdpZHRoPSIzOS4zIiBoZWlnaHQ9IjEwIj48L3JlY3Q+CiAgICA8cGF0aCBmaWxsPSIjOThCRUQ4IiBkPSJNMTExLjUsNTQuNmwtMS4xLDEuMUw5Ny4xLDE5LjFsMS41LDAuMmM4LDAuOSwxNC43LDYuMiwxNy40LDEzLjdsMCwwQzExOC44LDQwLjQsMTE3LDQ4LjgsMTExLjUsNTQuNnoiPjwvcGF0aD4KICAgIDxwYXRoIGZpbGw9IiM0NTRCNTQiIGQ9Ik03My41LDcyLjJjLTEuMiwwLTIuNC0wLjgtMi44LTJMNTcuMywzMy41Yy0wLjMtMC43LTAuMi0xLjYsMC4xLTIuM2MwLjMtMC43LDAuOS0xLjMsMS43LTEuNmwzNi45LTEzLjRjMS42LTAuNiwzLjMsMC4yLDMuOCwxLjhsMTMuMywzNi42YzAuMywwLjcsMC4yLDEuNi0wLjEsMi4zYy0wLjMsMC43LTAuOSwxLjMtMS43LDEuNkw3NC41LDcyQzc0LjIsNzIuMSw3My44LDcyLjIsNzMuNSw3Mi4yek02NCwzNC4zbDExLjMsMzFsMzEuMy0xMS40bC0xMS4zLTMxTDY0LDM0LjN6Ij48L3BhdGg+CiAgICA8cmVjdCB4PSIzNSIgeT0iNDYuNyIgdHJhbnNmb3JtPSJtYXRyaXgoMC45Mzk3IC0wLjM0MiAwLjM0MiAwLjkzOTcgLTE2LjIwMTEgMjAuOTg4KSIgZmlsbD0iI0ZGRkZGRiIgd2lkdGg9IjMyLjgiIGhlaWdodD0iMTkuNSI+PC9yZWN0PgogICAgPHJlY3QgeD0iMzcuMyIgeT0iNTkuOCIgdHJhbnNmb3JtPSJtYXRyaXgoLTAuOTM5NyAwLjM0MiAtMC4zNDIgLTAuOTM5NyAxMjUuNjc2MyAxMDMuMzk0NikiIGZpbGw9IiNDN0Q3RTIiIHdpZHRoPSIzMi44IiBoZWlnaHQ9IjYiPjwvcmVjdD4KICAgIDxwYXRoIGZpbGw9IiM0NTRCNTQiIGQ9Ik0zOS40LDc0LjJjLTAuNCwwLTAuOS0wLjEtMS4zLTAuM2MtMC43LTAuMy0xLjMtMC45LTEuNi0xLjdsLTYuNy0xOC4zYy0wLjMtMC43LTAuMi0xLjYsMC4xLTIuM2MwLjMtMC43LDAuOS0xLjMsMS43LTEuNmwzMC44LTExLjJjMC43LTAuMywxLjYtMC4yLDIuMywwLjFjMC43LDAuMywxLjMsMC45LDEuNiwxLjdMNzMsNTljMC42LDEuNi0wLjIsMy4zLTEuOCwzLjhMNDAuNCw3NEM0MCw3NC4xLDM5LjcsNzQuMiwzOS40LDc0LjJ6IE0zNi41LDU0LjdsNC42LDEyLjdsMjUuMi05LjJsLTQuNi0xMi43TDM2LjUsNTQuN3oiPjwvcGF0aD4KICAgIDxwYXRoIGZpbGw9IiM0NTRCNTQiIGQ9Ik03MCwxMTguOWMtMS4yLDAtMi40LTAuNy0yLjgtMS45bC0xNC0zNy4ybC04LjQsMy4xbC0xNy4yLDM0LjRjLTAuNywxLjUtMi41LDIuMS00LDEuM2MtMS41LTAuNy0yLjEtMi41LTEuMy00TDQwLDc5YzAuMy0wLjcsMC45LTEuMiwxLjctMS41TDU0LDczLjFjMS41LTAuNiwzLjMsMC4yLDMuOCwxLjhsMTUsNDBjMC42LDEuNi0wLjIsMy4zLTEuOCwzLjlDNzAuNywxMTguOCw3MC40LDExOC45LDcwLDExOC45eiI+PC9wYXRoPgogICAgPHBhdGggZmlsbD0iIzQ1NEI1NCIgZD0iTTEzLjYsODAuMWMtMS4yLDAtMi40LTAuOC0yLjgtMkw2LjMsNjUuOWMtMC42LTEuNiwwLjItMy4zLDEuOC0zLjhjMS42LTAuNiwzLjMsMC4yLDMuOCwxLjhsNC40LDEyLjJjMC42LDEuNi0wLjIsMy4zLTEuOCwzLjhDMTQuMyw4MC4xLDE0LDgwLjEsMTMuNiw4MC4xeiI+PC9wYXRoPgogICAgPHBhdGggZmlsbD0iIzQ1NEI1NCIgZD0iTTEzLjIsNzMuM2MtMS4yLDAtMi40LTAuOC0yLjgtMmMtMC42LTEuNiwwLjItMy4zLDEuOC0zLjhMMzUsNTkuMmMxLjYtMC42LDMuMywwLjIsMy44LDEuOGMwLjYsMS42LTAuMiwzLjMtMS44LDMuOGwtMjIuOCw4LjNDMTMuOSw3My4zLDEzLjYsNzMuMywxMy4yLDczLjN6Ij48L3BhdGg+Cjwvc3ZnPgo=",VE={demo:{view:"image",src:Qy,height:100},examples:[{title:"Src is not defined",demo:"image"},{title:"Bad url",demo:'image{ src: "<bad url>" }'}]}});function YE(t){t.view.define("image",function(e,n){Object.assign(e,n),e.onerror=()=>e.classList.add("error"),e.onload=()=>e.classList.add("loaded")},{tag:"img",usage:VE})}var KE=N(()=>{Xy()});var QE,XE=N(()=>{Xy();QE={beforeDemo:['md:"The same as `image` view but with "'],demo:{view:"image-preview",src:Qy,height:100},examples:[{title:"Src is not defined",demo:"image-preview"},{title:"Bad url",demo:'image-preview{ src: "<bad url>" }'}]}});function JE(t){t.view.define("image-preview",function(e,n,i,s){this.render(e,{view:"image",...n},i,s)},{usage:QE})}var ZE=N(()=>{XE()});var eL,tL=N(()=>{eL={demo:{view:"indicator",data:{label:"Label",value:"1234"}},examples:[{title:"Indicator as link",demo:{view:"indicator",data:{label:"Label",value:"4321",href:"#"}}}]}});function nL(t){t.view.define("indicator",function(e,n,i,s){let{value:a,label:f}=n,{href:p}=i||{},m=document.createElement("div"),h=document.createElement("div");return m.className="value",h.className="label",p&&(e.href=p),Promise.all([t.view.render(m,a||"text:value",i,s),t.view.render(h,f||"text:label",i,s)]).then(()=>e.append(m,h))},{tag:"a",usage:eL})}var rL=N(()=>{tL()});var iL,oL=N(()=>{iL={demo:{view:"link",text:"I am link",href:"#example"},examples:[{title:"Link opened in new tab",highlightProps:["external"],demo:{view:"link",text:"Discovery github",href:"https://github.com/discoveryjs/discovery",external:!0}},{title:"Infering text \u21FF href",highlightProps:["text","href","data"],beforeDemo:'md:"When `text` is omitted but `href` is specified, or vice versa, the opposite component is inferred from the specified one"',demo:[{view:"link",text:"http://example1.com"},{view:"link",href:"http://example2.com"},{view:"link",data:'"http://example3.com"'}]},{title:"Using onClick handler",highlightProps:["onClick"],demo:{view:"link",text:'Show "Hello world"',onClick:Function('return () => alert("Hello world!")')()}},{title:"Using data as source of options",beforeDemo:{view:"md",source:["The following properties are taken from the data when the appropriate options are not specified for a legacy reasons (is subject to remove in the future):","- `text`","- `href`","- `external`"].join(`
`)},highlightProps:["data"],demo:{view:"link",data:{text:"demo",href:"#example"}}},{title:"Complex content",highlightProps:["content"],demo:{view:"link",href:"#example",content:['text:"text "','html:"<b>bold</b>"']}}]}});function sL(t){t.view.define("link",function(e,n,i,s){let{text:a,content:f,href:p,external:m,onClick:h}=n;if(p&&(e.href=p),m&&e.setAttribute("target","_blank"),typeof h=="function"&&(e.classList.add("onclick"),e.addEventListener("click",g=>{g.preventDefault(),h(e,i,s)})),f)return t.view.render(e,f,i,s);e.textContent=a},{tag:"a",props:z4,usage:iL})}var z4,aL=N(()=>{oL();z4=`is not array? | {
    text: #.props.content is undefined ? is string ?: text,
    content: undefined,
    href,
    external,
    onClick: undefined
} | overrideProps() | {
    $text; $href;
    ...,
    text: $text | is not undefined or no $href ?: $href,
    href: $href | is not undefined or no $text ?: $text
}`});var Jy,lL=N(()=>{Jy={demo:{view:"markdown",source:`# Markdown example

> NOTE: The \`markdown\` view is based on [marked](https://github.com/markedjs/marked) package

Markdown is good because:
* You'll get **formatted** *text* with _no tags_
* It's much simpler than \`HTML\`

\`\`\`html
<b>bold</b><i>italic</i>
\`\`\`
[Read more](https://guides.github.com/features/mastering-markdown/)`},examples:[{title:"Inline config",demo:'markdown{ source: "**Hello** `world`!" }'},{title:"Shorthand syntax",beforeDemo:['md:"You can use `md` as an alias for `markdown` with a string as data. That\'s a **shortest** definition for a marked text"'],demo:'md:"**Hello** `world`!"'},{title:"Array of strings as a source",beforeDemo:['md:"Array of strings might be passed as a value for `source` property which is useful for a long sources\\n> NOTE: This doesn\'t work a source passed via data"'],demo:{view:"markdown",source:["Array","of","`strings`"]}},{title:"Interpolation",beforeDemo:['md:"Interpolation can be used almost anywhere in a markdown to embed the result of a jora query into resulting HTML. Just place a jora query between `{{`{{`}}` and `{{`}`+`}`}}`:"'],demo:{view:"md",source:["Simple evaluation: 2 + 2 = `{{ 2 + 2 }}`","","Markdown view has {{ viewDef.examples.size() }} examples"]}},{title:"Disable anchors for headers",highlightProps:["anchors"],beforeDemo:"Hover a header to see a chain icon on the left side of header when anchors are enabled:",demo:[{view:"markdown",source:"## header with default settings"},{view:"markdown",anchors:!1,source:"## header with disabled anchor"}]},{title:"Sections prelude and postlude",highlightProps:["sectionPrelude","sectionPostlude"],demo:{view:"markdown",sectionPrelude:"struct",sectionPostlude:{view:"link",data:'{ href: "#top", text: "Scroll to top \u2191" }'},source:`Some text

## Header level 2

Some text

### Header level 3

Some text

## Header level 2

Some text`}},{title:"Additional action buttons for code blocks",highlightProps:["codeActionButtons"],beforeDemo:['md:"Use `codeActionButtons` to add additional buttons to code blocks. The option is the same as `actionButtons` for `source` view."'],demo:{view:"markdown",codeActionButtons:[{view:"button",content:'text:"Say \\"Hello world\\""',onClick:new Function('return () => alert("Hello world!")')()}],source:'```js\nconsole.log("Hello world")\n```'}},{title:"Configuration for code blocks",highlightProps:["codeConfig"],beforeDemo:['md:"Use `codeConfig` to specify any settings for code blocks available for `source` view."'],demo:{view:"markdown",codeConfig:{prelude:{view:"block",content:["badge:syntax",'text:"Length: " + content.size()']},postlude:"struct:{ data: $, context: # }"},source:`# Header 1

\`\`\`js
console.log("Hello world")
\`\`\`

## Header 2

text

## Header 3



\`\`\`jora
foo.bar.baz
\`\`\``}},{title:"Showcase",demo:{view:"markdown",source:`
# Header
## Header
### Header
#### Header
##### Header
* One
* Two
    * Three

4. Four
5. Five
    6. Six
- [{{ true }}] Task 1
- [x] Task 2

Interpolation in text: 2 + 2 = \`{{ 2 + 2 }}\`, or in attribute: [link](#dummy-link/{{"exam" + "ple"}} "{{ "example" + " title" }}")

Paragraph **bold** __bold__ *italic* _italic_ ~line-through~ \`code\` [link](#href)

>Blockquote
> > Line 2

\`\`\`js
var some = "code";
\`\`\`

foo | bar
----|-----
1 | A
2 | C
3 | E
`.trim().split(/\n/)}}]}});function cL(t){let e={discovery:t};function n(a,f){return a.replace(/{{(\d+)}}/gs,(p,m)=>f[m])}function i(a,f){for(let p of a.childNodes)switch(p.nodeType){case document.ELEMENT_NODE:if(!p.classList.contains("view-source")){i(p,f);for(let m of p.attributes)m.nodeValue=n(m.nodeValue,f)}break;case document.TEXT_NODE:p.nodeValue=n(p.nodeValue,f);break}}function s(a,f,p,m){let{source:h,anchors:g=!0,sectionPrelude:v,sectionPostlude:w,codeConfig:k}=f,S=new Map,P=typeof p=="string"?p:h||"";return Array.isArray(P)&&(P=P.join(`
`)),P=P.replace(/{{(.+?)}}/gs,(M,A)=>(A=A.trim(),S.has(A)||S.set(A,S.size),`{{${S.get(A)}}}`)),a.classList.add("view-markdown"),new Promise(M=>{_e(P,{...e,anchors:g},(A,T)=>{let L=[];if(a.innerHTML=T,S.size>0){let B=new Array(S.size);for(let[H,W]of S.entries())try{B[W]=t.query(H,p,m)}catch(U){t.log("error","Interpolation query error in markdown:",U)}i(a,B)}let O=new Map,z={after:B=>a.prepend(B)};if(k||v||w){let{firstElementChild:B}=a,H={next:null,data:{sectionIdx:0,slug:null,text:null,href:null}};O.set(z,H);for(let W of[...a.querySelectorAll(":scope > :is(h1, h2, h3, h4, h5, h6)")]){W===B&&(O.delete(z),z=W,H=null);let U=W.querySelector(':scope > a[id^="!anchor:"]'),fe={next:null,data:{sectionIdx:O.size,slug:W.dataset.slug,text:W.textContent.trim(),href:U?.hash}};O.set(W,fe),H&&(H.next=W),H=fe}}for(let B of[...a.querySelectorAll("pre > code")]){let H=document.createDocumentFragment(),W=B.textContent.replace(/\n$/,""),U=(B.className.match(/discovery-markdown-(\S+)/)||[])[1],fe=O.get(z),G=B.parentNode;for(;G!==null&&G!==a;){if(O.has(G)){fe=O.get(G);break}G=G.previousSibling||G.parentNode}L.push(this.render(H,typeof k=="object"?{view:"source",...k}:k||"source",{syntax:U,content:W},{...m,section:fe?.data}).then(()=>B.parentNode.replaceWith(H)))}if(v||w){let B=(H,W,U)=>{let fe=document.createDocumentFragment();L.push(this.render(fe,H,p,{...m,section:W.data}).then(()=>U(fe)))};for(let[H,W]of O)v&&B(v,W,U=>H.after(U)),w&&B(w,W,U=>W.next?W.next.before(U):a.append(U))}Promise.all(L).then(M)})})}t.view.define("markdown",s,{usage:Jy}),t.view.define("md",s,{usage:Jy})}var Zy,uL=N(()=>{Ky();lL();nr();Zy=class extends _e.Renderer{heading(e,n,i,s){let{discovery:a,anchors:f}=this.options,p=s.slug(i),m="";if(f){let h=a.encodePageHash(a.pageId,a.pageRef,{...a.pageParams,"!anchor":p});m=`<a class="view-header__anchor" id="!anchor:${Ft(p)}" href="${h}"></a>`}return`<h${n} class="view-header view-h${n}" data-slug="${p}">${m}${e}</h${n}>
`}link(e,n,i){if(e===null)return i;let s='<a class="view-link" href="'+Ft(e)+'"';return n&&(s+=' title="'+Ft(n)+'"'),e.startsWith("#")||(s+=' target="_blank"'),s+=">"+i+"</a>",s}checkbox(e){return'<label class="view-checkbox"><input type="checkbox" disabled'+(e?" checked":"")+"/></label> "}list(e,n,i){let s=n?"ol":"ul",a=n&&i!==1?` start="${i}"`:"";return`<${s} class="view-${s}"${a}>
`+e+`
</${s}>
`}listitem(e){return'<li class="view-list-item">'+e+`</li>
`}table(e,n){return`<table class="view-table">
<thead>
`+e.replace(/ class="view-table-row"/g,"")+`</thead>
`+(n?"<tbody>"+n+"</tbody>":"")+`</table>
`}tablerow(e){return`<tr class="view-table-row">
`+e+`</tr>
`}tablecell(e,n){let i=n.header?"th":"td";return`<${i} class="view-table-cell"${n.align?` align="${n.align}"`:""}>`+e+`</${i}>
`}};_e.setOptions({smartLists:!0,langPrefix:"discovery-markdown-",renderer:new Zy})});var Cu=Nt((EK,fL)=>{function B4(t,e){switch(t.charCodeAt(e)){default:return 0;case 10:return 1;case 13:return e+1<t.length&&t.charCodeAt(e+1)===10?2:1}}fL.exports={newLineLength:B4}});var dL=Nt((LK,pL)=>{var{newLineLength:F4}=Cu();pL.exports=(t,e)=>{let n=1,i=0;for(let s=0;s<t.length;s++){let a=F4(t,s);a!==0&&(e(i,s+a,n++),i=s+a,s+=a-1)}e(i,t.length,n++)}});var mL=Nt((MK,hL)=>{var{newLineLength:R4}=Cu();hL.exports=(t,e)=>{let n=1,i=0;for(let s=0;s<t.length;s++){let a=R4(t,s);a!==0&&(e(i,s,n++),i=s+a,s+=a-1)}e(i,t.length,n++)}});var yL=Nt((NK,gL)=>{gL.exports=function(t){if(t instanceof RegExp){let e=t.flags.indexOf("g")!==-1?t.flags:t.flags+"g",n=new RegExp(t,e);return function(i,s){let a;for(;a=n.exec(i);)s(a.index,a.index+a[0].length)}}return t=String(t),function(e,n){let i=-1;for(;i=e.indexOf(t,i+1),i!==-1;)n(i,i+t.length)}}});var bL=Nt((DK,vL)=>{var{newLineLength:j4}=Cu();vL.exports=(t,e)=>{let n=1;for(let i=0;i<t.length;i++){let s=j4(t,i);s!==0&&(e(i,i+s,n++),i+=s-1)}}});var xL=Nt((OK,wL)=>{wL.exports={lines:dL(),lineContents:mL(),matches:yL(),newlines:bL()}});var Su=Nt((PK,SL)=>{function kL(t){return ev.call(null,t)}function ev(t){let e=this===window?{}:this||{},n={};return Object.assign(n,e,t,{fork:ev.bind(n),ranges:Object.assign({},e.ranges,t&&t.ranges)}),typeof n.createHook!="function"&&(n.createHook=i=>i()),n}function CL(t){let e=Object.assign({},this);for(let n in t){let i=t[n];if(!(!i||typeof i!="object"))if(hasOwnProperty.call(e,n)){let s=e[n];e[n]=s&&typeof s.fork=="function"?s.fork(t[n]):s}else e[n]=kL(t[n])}return e.fork=CL.bind(e),e}SL.exports={createPrinter:kL,forkPrinter:ev,forkPrinterSet:CL}});var tv=Nt((IK,AL)=>{AL.exports=Su().createPrinter()});var EL=Nt((zK,TL)=>{var{createPrinter:_4}=Su();TL.exports=_4({print:t=>t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")})});var ML=Nt((BK,LL)=>{var{forkPrinterSet:H4}=Su();LL.exports=H4.call({},{noop:tv(),html:EL(),tty:tv()})});var DL=Nt((FK,NL)=>{NL.exports=function(e,n){let i=[];return n.forEach(({generate:s,marker:a})=>s(e,(f,p,m)=>i.push({type:a,start:f,end:p,data:m}))),i}});var PL=Nt((RK,OL)=>{var Au=()=>"",q4=function(){};function oo(t,e){return typeof t=="function"?t:e||q4}OL.exports=function(e,n,i){let s=oo(i.print,L=>L),a=Object.assign(Object.defineProperties(Object.create(null),{offset:{get:()=>v},line:{get:()=>w},column:{get:()=>k},start:{get:()=>p.start},end:{get:()=>p.end},data:{get:()=>p.data}}),oo(i.createContext)()),f=[],p={start:0,end:e.length},m=i.ranges||{},h=[],g=1/0,v=0,w=1,k=1,S="";S+=oo(i.open,Au)(a),m=[].concat(Object.getOwnPropertyNames(m),Object.getOwnPropertySymbols(m)).reduce((L,O)=>{let z=m[O];return typeof z=="function"&&(m[O]=z=i.createHook(z)),z&&(h.push(O),L[O]={open:oo(z.open,Au),close:oo(z.close,Au),print:oo(z.print,s)}),L},{}),n=n.slice().sort((L,O)=>L.start-O.start||O.end-L.end||h.indexOf(L.type)-h.indexOf(O.type));let P=L=>m[(p=f[L]).type].open(a)||"",M=L=>m[(p=f[L]).type].close(a)||"",A=L=>{if(v!==L){let O=e.substring(v,L),z=f.length?m[f[f.length-1].type].print:s;for(let B=v;B<L;B++){let H=e.charCodeAt(B);H===10||H===13&&(B>=e.length||e.charCodeAt(B+1)!==10)?(w++,k=1):k++}S+=z(O,a),v=L}},T=L=>{for(;g<=L;){A(g);for(let O=f.length-1;O>=0&&f[O].end===g;O--)S+=M(O),f.pop();g=1/0;for(let O=0;O<f.length;O++)f[O].end<g&&(g=f[O].end)}};for(let L=0;L<n.length;L++){let O=n[L],z=0;if(m.hasOwnProperty(O.type)!==!1&&!(O.start>O.end||!Number.isFinite(O.start)||!Number.isFinite(O.end))){for(T(O.start),A(O.start),z=0;z<f.length;z++)if(f[z].end<O.end){for(let B=f.length-1;B>=z;B--)S+=M(B);break}for(f.splice(z,0,O);z<f.length;z++)S+=P(z);O.end<g&&(g=O.end)}}T(e.length),A(e.length);for(let L=f.length-1;L>=0;L--)S+=M(L);return S+=oo(i.close,Au)(a)||"",S}});var BL=Nt((jK,zL)=>{var W4=xL(),iv=ML(),IL=DL(),U4=PL();function $4(t,e){return{marker:t,generate:e}}function G4(t,e){let n={};for(let i in e)n[i]={ranges:{[t]:e[i]}};return n}function rv(t,e,n){let i=(s,a)=>{let f=e[a||n]||iv.noop,p=IL(s,t);return U4(s,p,f)};return Object.assign(i,{print:i,generateRanges(s){return IL(s,t)},use(s,a){let f=Symbol(s.name),p=s.ranges||s,m=Array.isArray(p)?(h,g)=>p.forEach(v=>g(...v)):p;return typeof m!="function"||(a||(a=s.printer),!a)?i:rv(t.concat($4(f,m)),e.fork(G4(f,a)),n)},printer(s){return rv(t,e,s)}})}function nv(t,e,n){let i=rv([],n||iv,e);return Array.isArray(t)&&(i=t.reduce((s,a)=>Array.isArray(a)?s.use(...a):s.use(a),i)),i}zL.exports=Object.assign(nv,{gen:W4,printer:Object.assign((...t)=>nv().printer(...t),iv),use(...t){return nv().use(...t)}})});var jL=Nt((FL,RL)=>{(function(t){typeof FL=="object"&&typeof RL=="object"?t(jr()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)})(function(t){"use strict";t.defineMode("css",function(W,U){var fe=U.inline;U.propertyKeywords||(U=t.resolveMode("text/css"));var G=W.indentUnit,ne=U.tokenHooks,D=U.documentTypes||{},ie=U.mediaTypes||{},oe=U.mediaFeatures||{},Ee=U.mediaValueKeywords||{},et=U.propertyKeywords||{},st=U.nonStandardPropertyKeywords||{},Rt=U.fontProperties||{},Fn=U.counterDescriptors||{},At=U.colorKeywords||{},se=U.valueKeywords||{},be=U.allowNested,pe=U.lineComment,me=U.supportsAtComponent===!0,Ae=W.highlightNonStandardPropertyKeywords!==!1,we,Ce;function ze(K,de){return we=de,K}function it(K,de){var ee=K.next();if(ne[ee]){var Je=ne[ee](K,de);if(Je!==!1)return Je}if(ee=="@")return K.eatWhile(/[\w\\\-]/),ze("def",K.current());if(ee=="="||(ee=="~"||ee=="|")&&K.eat("="))return ze(null,"compare");if(ee=='"'||ee=="'")return de.tokenize=fn(ee),de.tokenize(K,de);if(ee=="#")return K.eatWhile(/[\w\\\-]/),ze("atom","hash");if(ee=="!")return K.match(/^\s*\w*/),ze("keyword","important");if(/\d/.test(ee)||ee=="."&&K.eat(/\d/))return K.eatWhile(/[\w.%]/),ze("number","unit");if(ee==="-"){if(/[\d.]/.test(K.peek()))return K.eatWhile(/[\w.%]/),ze("number","unit");if(K.match(/^-[\w\\\-]*/))return K.eatWhile(/[\w\\\-]/),K.match(/^\s*:/,!1)?ze("variable-2","variable-definition"):ze("variable-2","variable");if(K.match(/^\w+-/))return ze("meta","meta")}else return/[,+>*\/]/.test(ee)?ze(null,"select-op"):ee=="."&&K.match(/^-?[_a-z][_a-z0-9-]*/i)?ze("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(ee)?ze(null,ee):K.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(K.current())&&(de.tokenize=pn),ze("variable callee","variable")):/[\w\\\-]/.test(ee)?(K.eatWhile(/[\w\\\-]/),ze("property","word")):ze(null,null)}function fn(K){return function(de,ee){for(var Je=!1,j;(j=de.next())!=null;){if(j==K&&!Je){K==")"&&de.backUp(1);break}Je=!Je&&j=="\\"}return(j==K||!Je&&K!=")")&&(ee.tokenize=null),ze("string","string")}}function pn(K,de){return K.next(),K.match(/^\s*[\"\')]/,!1)?de.tokenize=null:de.tokenize=fn(")"),ze(null,"(")}function Pt(K,de,ee){this.type=K,this.indent=de,this.prev=ee}function rt(K,de,ee,Je){return K.context=new Pt(ee,de.indentation()+(Je===!1?0:G),K.context),ee}function It(K){return K.context.prev&&(K.context=K.context.prev),K.context.type}function qe(K,de,ee){return mt[ee.context.type](K,de,ee)}function yn(K,de,ee,Je){for(var j=Je||1;j>0;j--)ee.context=ee.context.prev;return qe(K,de,ee)}function Ar(K){var de=K.current().toLowerCase();se.hasOwnProperty(de)?Ce="atom":At.hasOwnProperty(de)?Ce="keyword":Ce="variable"}var mt={};return mt.top=function(K,de,ee){if(K=="{")return rt(ee,de,"block");if(K=="}"&&ee.context.prev)return It(ee);if(me&&/@component/i.test(K))return rt(ee,de,"atComponentBlock");if(/^@(-moz-)?document$/i.test(K))return rt(ee,de,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(K))return rt(ee,de,"atBlock");if(/^@(font-face|counter-style)/i.test(K))return ee.stateArg=K,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(K))return"keyframes";if(K&&K.charAt(0)=="@")return rt(ee,de,"at");if(K=="hash")Ce="builtin";else if(K=="word")Ce="tag";else{if(K=="variable-definition")return"maybeprop";if(K=="interpolation")return rt(ee,de,"interpolation");if(K==":")return"pseudo";if(be&&K=="(")return rt(ee,de,"parens")}return ee.context.type},mt.block=function(K,de,ee){if(K=="word"){var Je=de.current().toLowerCase();return et.hasOwnProperty(Je)?(Ce="property","maybeprop"):st.hasOwnProperty(Je)?(Ce=Ae?"string-2":"property","maybeprop"):be?(Ce=de.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(Ce+=" error","maybeprop")}else return K=="meta"?"block":!be&&(K=="hash"||K=="qualifier")?(Ce="error","block"):mt.top(K,de,ee)},mt.maybeprop=function(K,de,ee){return K==":"?rt(ee,de,"prop"):qe(K,de,ee)},mt.prop=function(K,de,ee){if(K==";")return It(ee);if(K=="{"&&be)return rt(ee,de,"propBlock");if(K=="}"||K=="{")return yn(K,de,ee);if(K=="(")return rt(ee,de,"parens");if(K=="hash"&&!/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(de.current()))Ce+=" error";else if(K=="word")Ar(de);else if(K=="interpolation")return rt(ee,de,"interpolation");return"prop"},mt.propBlock=function(K,de,ee){return K=="}"?It(ee):K=="word"?(Ce="property","maybeprop"):ee.context.type},mt.parens=function(K,de,ee){return K=="{"||K=="}"?yn(K,de,ee):K==")"?It(ee):K=="("?rt(ee,de,"parens"):K=="interpolation"?rt(ee,de,"interpolation"):(K=="word"&&Ar(de),"parens")},mt.pseudo=function(K,de,ee){return K=="meta"?"pseudo":K=="word"?(Ce="variable-3",ee.context.type):qe(K,de,ee)},mt.documentTypes=function(K,de,ee){return K=="word"&&D.hasOwnProperty(de.current())?(Ce="tag",ee.context.type):mt.atBlock(K,de,ee)},mt.atBlock=function(K,de,ee){if(K=="(")return rt(ee,de,"atBlock_parens");if(K=="}"||K==";")return yn(K,de,ee);if(K=="{")return It(ee)&&rt(ee,de,be?"block":"top");if(K=="interpolation")return rt(ee,de,"interpolation");if(K=="word"){var Je=de.current().toLowerCase();Je=="only"||Je=="not"||Je=="and"||Je=="or"?Ce="keyword":ie.hasOwnProperty(Je)?Ce="attribute":oe.hasOwnProperty(Je)?Ce="property":Ee.hasOwnProperty(Je)?Ce="keyword":et.hasOwnProperty(Je)?Ce="property":st.hasOwnProperty(Je)?Ce=Ae?"string-2":"property":se.hasOwnProperty(Je)?Ce="atom":At.hasOwnProperty(Je)?Ce="keyword":Ce="error"}return ee.context.type},mt.atComponentBlock=function(K,de,ee){return K=="}"?yn(K,de,ee):K=="{"?It(ee)&&rt(ee,de,be?"block":"top",!1):(K=="word"&&(Ce="error"),ee.context.type)},mt.atBlock_parens=function(K,de,ee){return K==")"?It(ee):K=="{"||K=="}"?yn(K,de,ee,2):mt.atBlock(K,de,ee)},mt.restricted_atBlock_before=function(K,de,ee){return K=="{"?rt(ee,de,"restricted_atBlock"):K=="word"&&ee.stateArg=="@counter-style"?(Ce="variable","restricted_atBlock_before"):qe(K,de,ee)},mt.restricted_atBlock=function(K,de,ee){return K=="}"?(ee.stateArg=null,It(ee)):K=="word"?(ee.stateArg=="@font-face"&&!Rt.hasOwnProperty(de.current().toLowerCase())||ee.stateArg=="@counter-style"&&!Fn.hasOwnProperty(de.current().toLowerCase())?Ce="error":Ce="property","maybeprop"):"restricted_atBlock"},mt.keyframes=function(K,de,ee){return K=="word"?(Ce="variable","keyframes"):K=="{"?rt(ee,de,"top"):qe(K,de,ee)},mt.at=function(K,de,ee){return K==";"?It(ee):K=="{"||K=="}"?yn(K,de,ee):(K=="word"?Ce="tag":K=="hash"&&(Ce="builtin"),"at")},mt.interpolation=function(K,de,ee){return K=="}"?It(ee):K=="{"||K==";"?yn(K,de,ee):(K=="word"?Ce="variable":K!="variable"&&K!="("&&K!=")"&&(Ce="error"),"interpolation")},{startState:function(K){return{tokenize:null,state:fe?"block":"top",stateArg:null,context:new Pt(fe?"block":"top",K||0,null)}},token:function(K,de){if(!de.tokenize&&K.eatSpace())return null;var ee=(de.tokenize||it)(K,de);return ee&&typeof ee=="object"&&(we=ee[1],ee=ee[0]),Ce=ee,we!="comment"&&(de.state=mt[de.state](we,K,de)),Ce},indent:function(K,de){var ee=K.context,Je=de&&de.charAt(0),j=ee.indent;return ee.type=="prop"&&(Je=="}"||Je==")")&&(ee=ee.prev),ee.prev&&(Je=="}"&&(ee.type=="block"||ee.type=="top"||ee.type=="interpolation"||ee.type=="restricted_atBlock")?(ee=ee.prev,j=ee.indent):(Je==")"&&(ee.type=="parens"||ee.type=="atBlock_parens")||Je=="{"&&(ee.type=="at"||ee.type=="atBlock"))&&(j=Math.max(0,ee.indent-G))),j},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:pe,fold:"brace"}});function e(W){for(var U={},fe=0;fe<W.length;++fe)U[W[fe].toLowerCase()]=!0;return U}var n=["domain","regexp","url","url-prefix"],i=e(n),s=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],a=e(s),f=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],p=e(f),m=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],h=e(m),g=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],v=e(g),w=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],k=e(w),S=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],P=e(S),M=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],A=e(M),T=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],L=e(T),O=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],z=e(O),B=n.concat(s).concat(f).concat(m).concat(g).concat(w).concat(T).concat(O);t.registerHelper("hintWords","css",B);function H(W,U){for(var fe=!1,G;(G=W.next())!=null;){if(fe&&G=="/"){U.tokenize=null;break}fe=G=="*"}return["comment","comment"]}t.defineMIME("text/css",{documentTypes:i,mediaTypes:a,mediaFeatures:p,mediaValueKeywords:h,propertyKeywords:v,nonStandardPropertyKeywords:k,fontProperties:P,counterDescriptors:A,colorKeywords:L,valueKeywords:z,tokenHooks:{"/":function(W,U){return W.eat("*")?(U.tokenize=H,H(W,U)):!1}},name:"css"}),t.defineMIME("text/x-scss",{mediaTypes:a,mediaFeatures:p,mediaValueKeywords:h,propertyKeywords:v,nonStandardPropertyKeywords:k,colorKeywords:L,valueKeywords:z,fontProperties:P,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(W,U){return W.eat("/")?(W.skipToEnd(),["comment","comment"]):W.eat("*")?(U.tokenize=H,H(W,U)):["operator","operator"]},":":function(W){return W.match(/^\s*\{/,!1)?[null,null]:!1},$:function(W){return W.match(/^[\w-]+/),W.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(W){return W.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),t.defineMIME("text/x-less",{mediaTypes:a,mediaFeatures:p,mediaValueKeywords:h,propertyKeywords:v,nonStandardPropertyKeywords:k,colorKeywords:L,valueKeywords:z,fontProperties:P,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(W,U){return W.eat("/")?(W.skipToEnd(),["comment","comment"]):W.eat("*")?(U.tokenize=H,H(W,U)):["operator","operator"]},"@":function(W){return W.eat("{")?[null,"interpolation"]:W.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(W.eatWhile(/[\w\\\-]/),W.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),t.defineMIME("text/x-gss",{documentTypes:i,mediaTypes:a,mediaFeatures:p,propertyKeywords:v,nonStandardPropertyKeywords:k,fontProperties:P,counterDescriptors:A,colorKeywords:L,valueKeywords:z,supportsAtComponent:!0,tokenHooks:{"/":function(W,U){return W.eat("*")?(U.tokenize=H,H(W,U)):!1}},name:"css",helperType:"gss"})})});var qL=Nt((_L,HL)=>{(function(t){typeof _L=="object"&&typeof HL=="object"?t(jr()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)})(function(t){"use strict";var e={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};t.defineMode("xml",function(i,s){var a=i.indentUnit,f={},p=s.htmlMode?e:n;for(var m in p)f[m]=p[m];for(var m in s)f[m]=s[m];var h,g;function v(D,ie){function oe(st){return ie.tokenize=st,st(D,ie)}var Ee=D.next();if(Ee=="<")return D.eat("!")?D.eat("[")?D.match("CDATA[")?oe(S("atom","]]>")):null:D.match("--")?oe(S("comment","-->")):D.match("DOCTYPE",!0,!0)?(D.eatWhile(/[\w\._\-]/),oe(P(1))):null:D.eat("?")?(D.eatWhile(/[\w\._\-]/),ie.tokenize=S("meta","?>"),"meta"):(h=D.eat("/")?"closeTag":"openTag",ie.tokenize=w,"tag bracket");if(Ee=="&"){var et;return D.eat("#")?D.eat("x")?et=D.eatWhile(/[a-fA-F\d]/)&&D.eat(";"):et=D.eatWhile(/[\d]/)&&D.eat(";"):et=D.eatWhile(/[\w\.\-:]/)&&D.eat(";"),et?"atom":"error"}else return D.eatWhile(/[^&<]/),null}v.isInText=!0;function w(D,ie){var oe=D.next();if(oe==">"||oe=="/"&&D.eat(">"))return ie.tokenize=v,h=oe==">"?"endTag":"selfcloseTag","tag bracket";if(oe=="=")return h="equals",null;if(oe=="<"){ie.tokenize=v,ie.state=O,ie.tagName=ie.tagStart=null;var Ee=ie.tokenize(D,ie);return Ee?Ee+" tag error":"tag error"}else return/[\'\"]/.test(oe)?(ie.tokenize=k(oe),ie.stringStartCol=D.column(),ie.tokenize(D,ie)):(D.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function k(D){var ie=function(oe,Ee){for(;!oe.eol();)if(oe.next()==D){Ee.tokenize=w;break}return"string"};return ie.isInAttribute=!0,ie}function S(D,ie){return function(oe,Ee){for(;!oe.eol();){if(oe.match(ie)){Ee.tokenize=v;break}oe.next()}return D}}function P(D){return function(ie,oe){for(var Ee;(Ee=ie.next())!=null;){if(Ee=="<")return oe.tokenize=P(D+1),oe.tokenize(ie,oe);if(Ee==">")if(D==1){oe.tokenize=v;break}else return oe.tokenize=P(D-1),oe.tokenize(ie,oe)}return"meta"}}function M(D){return D&&D.toLowerCase()}function A(D,ie,oe){this.prev=D.context,this.tagName=ie||"",this.indent=D.indented,this.startOfLine=oe,(f.doNotIndent.hasOwnProperty(ie)||D.context&&D.context.noIndent)&&(this.noIndent=!0)}function T(D){D.context&&(D.context=D.context.prev)}function L(D,ie){for(var oe;;){if(!D.context||(oe=D.context.tagName,!f.contextGrabbers.hasOwnProperty(M(oe))||!f.contextGrabbers[M(oe)].hasOwnProperty(M(ie))))return;T(D)}}function O(D,ie,oe){return D=="openTag"?(oe.tagStart=ie.column(),z):D=="closeTag"?B:O}function z(D,ie,oe){return D=="word"?(oe.tagName=ie.current(),g="tag",U):f.allowMissingTagName&&D=="endTag"?(g="tag bracket",U(D,ie,oe)):(g="error",z)}function B(D,ie,oe){if(D=="word"){var Ee=ie.current();return oe.context&&oe.context.tagName!=Ee&&f.implicitlyClosed.hasOwnProperty(M(oe.context.tagName))&&T(oe),oe.context&&oe.context.tagName==Ee||f.matchClosing===!1?(g="tag",H):(g="tag error",W)}else return f.allowMissingTagName&&D=="endTag"?(g="tag bracket",H(D,ie,oe)):(g="error",W)}function H(D,ie,oe){return D!="endTag"?(g="error",H):(T(oe),O)}function W(D,ie,oe){return g="error",H(D,ie,oe)}function U(D,ie,oe){if(D=="word")return g="attribute",fe;if(D=="endTag"||D=="selfcloseTag"){var Ee=oe.tagName,et=oe.tagStart;return oe.tagName=oe.tagStart=null,D=="selfcloseTag"||f.autoSelfClosers.hasOwnProperty(M(Ee))?L(oe,Ee):(L(oe,Ee),oe.context=new A(oe,Ee,et==oe.indented)),O}return g="error",U}function fe(D,ie,oe){return D=="equals"?G:(f.allowMissing||(g="error"),U(D,ie,oe))}function G(D,ie,oe){return D=="string"?ne:D=="word"&&f.allowUnquoted?(g="string",U):(g="error",U(D,ie,oe))}function ne(D,ie,oe){return D=="string"?ne:U(D,ie,oe)}return{startState:function(D){var ie={tokenize:v,state:O,indented:D||0,tagName:null,tagStart:null,context:null};return D!=null&&(ie.baseIndent=D),ie},token:function(D,ie){if(!ie.tagName&&D.sol()&&(ie.indented=D.indentation()),D.eatSpace())return null;h=null;var oe=ie.tokenize(D,ie);return(oe||h)&&oe!="comment"&&(g=null,ie.state=ie.state(h||oe,D,ie),g&&(oe=g=="error"?oe+" error":g)),oe},indent:function(D,ie,oe){var Ee=D.context;if(D.tokenize.isInAttribute)return D.tagStart==D.indented?D.stringStartCol+1:D.indented+a;if(Ee&&Ee.noIndent)return t.Pass;if(D.tokenize!=w&&D.tokenize!=v)return oe?oe.match(/^(\s*)/)[0].length:0;if(D.tagName)return f.multilineTagIndentPastTag!==!1?D.tagStart+D.tagName.length+2:D.tagStart+a*(f.multilineTagIndentFactor||1);if(f.alignCDATA&&/<!\[CDATA\[/.test(ie))return 0;var et=ie&&/^<(\/)?([\w_:\.-]*)/.exec(ie);if(et&&et[1])for(;Ee;)if(Ee.tagName==et[2]){Ee=Ee.prev;break}else if(f.implicitlyClosed.hasOwnProperty(M(Ee.tagName)))Ee=Ee.prev;else break;else if(et)for(;Ee;){var st=f.contextGrabbers[M(Ee.tagName)];if(st&&st.hasOwnProperty(M(et[2])))Ee=Ee.prev;else break}for(;Ee&&Ee.prev&&!Ee.startOfLine;)Ee=Ee.prev;return Ee?Ee.indent+a:D.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:f.htmlMode?"html":"xml",helperType:f.htmlMode?"html":"xml",skipAttribute:function(D){D.state==G&&(D.state=U)},xmlCurrentTag:function(D){return D.tagName?{name:D.tagName,close:D.type=="closeTag"}:null},xmlCurrentContext:function(D){for(var ie=[],oe=D.context;oe;oe=oe.prev)ie.push(oe.tagName);return ie.reverse()}}}),t.defineMIME("text/xml","xml"),t.defineMIME("application/xml","xml"),t.mimeModes.hasOwnProperty("text/html")||t.defineMIME("text/html",{name:"xml",htmlMode:!0})})});function V4(t){let e=Q("div",{style:["position: fixed","overflow: hidden","font-size: 1px","width: 1px","height: 1px","top: 0","left: 0","white-space: pre"].join(";")});document.body.append(e);try{let n=window.getSelection(),i=document.createRange();e.append(t),i.selectNodeContents(e),n?.removeAllRanges(),n?.addRange(i),document.execCommand("copy")}finally{e.remove()}}async function Tn(t){try{if(navigator.clipboard){let e=await navigator.permissions.query({name:"clipboard-write"});if(e.state==="granted"||e.state==="prompt")return navigator.clipboard.writeText(t)}}catch{}V4(t)}var tl=N(()=>{pt()});function K4(){let t=new Set,e=new Map,n=i=>{let s=ds.default.resolveMode(i),a=[...e.keys()].find(f=>ou(f,s));return a||(e.set(s,{name:new Set,mime:new Set}),s)};for(let[i,s]of Object.entries(ds.default.modeToMime)){let a=e.get(n(s));a.mime.add(s),a.name.add(i),t.add(i)}for(let[i,s]of Object.entries(ds.default.mimeModes)){let a=e.get(n(i));a.mime.add(i),typeof s=="string"&&(a.name.add(s),t.add(s))}for(let[i]of Object.entries(ds.default.modes))if(!t.has(i)){let s=ds.default.modes[i];e.has(s)||e.set(s,{name:new Set,mime:[]}),e.get(s).name.add(i)}return[...e.values()].map(i=>({name:[...i.name],mime:[...i.mime]}))}var ds,so,Y4,WL,UL=N(()=>{ds=Xn(jr(),1);su();so='let name = "world";\n\nconsole.log(`Hello, ${name}!`);',Y4=new Function("return num => num + 5")();WL={demo:{view:"source",data:{syntax:"js",content:so}},examples:[{title:"Supported syntaxes",beforeDemo:['md:"Following values (for both `name` and `mime`) are supported for `syntax` option:"','html:"<br>"',{view:"table",data:K4,cols:{name:{content:"comma-list:name"},mime:{content:"comma-list:mime"}}},'html:"<br>"',"md:\"More syntaxes may be added via `import 'codemirror/mode/[name]/[name]';`\""],source:!1},{title:"Custom line numbers",highlightProps:["lineNum"],demo:{view:"source",data:{content:so,syntax:"js",lineNum:Y4}}},{title:"Hide line numbers",highlightProps:["lineNum"],beforeDemo:['md:"Pass falsy value to `lineNum` option to hide line numbers:"'],demo:{view:"source",data:{content:so,syntax:"js",lineNum:!1}}},{title:"Additional action buttons",highlightProps:["actionButtons"],demo:{view:"source",actionButtons:[{view:"button",content:'text:"Say \\"Hello world\\""',onClick:new Function('return () => alert("Hello world!")')()}],data:{content:so,syntax:"js"}}},{title:"Prelude and postlude slots",highlightProps:["prelude","postlude"],demo:{view:"source",prelude:['text:"Prelude:"',"struct:{ data: $, context: # }"],postlude:['text:"Postlude:"',"struct:{ data: $, context: # }"],data:{content:so,syntax:"js"}}},{title:"Highlight ranges",highlightProps:["refs"],demo:{view:"source",data:{syntax:"js",content:so,refs:[{range:[4,8]},{range:[21,28],type:"link",href:"#example",tooltip:{position:"trigger",content:['text:"Link to "',"text:href"]}}]}}},{title:"Max content size for syntax highlight",highlightProps:["maxSourceSizeToHighlight"],beforeDemo:['md:"By default a syntax highlighing is not appling to a source longer than 250Kb. Option `maxSourceSizeToHighlight` is using to change max size of source to be syntax highlighted."'],demo:{view:"source",data:{content:so,syntax:"js",maxSourceSizeToHighlight:4}}}]}});function X4(t,e){let n=ao.default.getMode(ao.default.defaults,{name:ao.default.modeToMime[t]||t,isDiscoveryViewDefined:i=>e.view.isDefined(i)});return(i,s)=>{let a=ao.default.startState(n),f=i.split(/(\n|\r\n?)/),p=0;for(let m=0;m<f.length;m++){if(m%2===0){let h=new ao.default.StringStream(f[m],4,{lookAhead:g=>f[m+g],baseToken:function(){}});for(;!h.eol();){let g=n.token(h,a);g&&s(p+h.start,p+h.pos,g),h.start=h.pos}}p+=f[m].length}}}function J4(t,e){let n=t&&t.className,i=[e,Array.isArray(n)?n.join(" "):typeof n=="string"?n:!1].filter(Boolean).join(" ");return i?` class="${i}"`:""}function $L(t){return`${J4(t,"spotlight")}${t.marker?` data-marker="${t.marker}"`:""}${typeof t.tooltipId=="number"?` data-tooltip-id="${t.tooltipId}"`:""}`}function VL(t){t.view.define("source",function(e,n,i,s){let a=e.appendChild(Q("div","view-source__prelude")),f=e.appendChild(Q("div","view-source__content")),p=e.appendChild(Q("div","view-source__postlude")),m=new Map,h=[],{mime:g,binary:v,size:w,maxSourceSizeToHighlight:k=Q4,syntax:S,lineNum:P=!0,content:M,refs:A}=i;if(typeof M=="string")if(M.length<k&&h.push([X4(S||g,t),{html:{open({data:T}){return'<span class="token '+T+'">'},close(){return"</span>"}}}]),Array.isArray(A)&&h.push([(T,L)=>A.forEach(O=>{if(O.range){let z;O.tooltip&&m.set(z=m.size,O),L(O.range[0],O.range[1],{type:"spotlight",...O,tooltipId:z})}}),Z4]),v)f.innerHTML="Binary content"+(typeof w=="number"?" ("+w+" bytes)":"");else{let T=typeof P=="function"?P:z=>z+1,L=P?'<div class="view-source__lines">'+M.split(/\r\n?|\n/g).map((z,B)=>"<span>"+T(B)+"</span>").join("")+"</div>":"";f.innerHTML=L+`<div class="view-source__source">${(0,GL.default)(h,"html")(M)}</div>`;let O=Q("div","view-source__action-buttons");t.view.render(O,[n.actionButtons,{view:"button",className:"copy",async onClick(z){clearTimeout(z.copiedTimer),await Tn(M),z.classList.add("copied"),z.copiedTimer=setTimeout(()=>z.classList.remove("copied"),1250)}}],i,s),f.prepend(O);for(let z of f.querySelectorAll(":scope [data-tooltip-id]")){let B=m.get(Number(z.dataset.tooltipId));delete z.dataset.tooltipId,this.tooltip(z,B.tooltip,B,s)}n.prelude&&t.view.render(a,n.prelude,i,s),n.postlude&&t.view.render(p,n.postlude,i,s)}},{usage:WL,tag:"pre"})}var GL,ao,UK,$K,GK,Q4,Z4,YL=N(()=>{GL=Xn(BL(),1),ao=Xn(jr(),1),UK=Xn(jy(),1),$K=Xn(jL(),1),GK=Xn(qL(),1);pt();tl();UL();Q4=250*1024;ao.default.modeToMime={js:"application/javascript",ts:"application/typescript",typescript:"application/typescript",json:"application/json",html:"text/html",css:"text/css",scss:"text/x-scss",less:"text/x-less"};Z4={html:{open({data:t}){switch(t.type){case"link":return`<a href="${t.href}"${$L(t)}>`;case"spotlight":return`<span${$L(t)}>`}},close({data:t}){switch(t.type){case"link":return"</a>";case"spotlight":return"</span>"}}}}});var KL,QL=N(()=>{KL={demo:{view:"text",data:'"Hello world!"'},examples:[{title:"Shorthand usage",view:'text:"Hello world!"'}]}});function XL(t){t.view.define("text",function(e,{text:n}){e.appendChild(document.createTextNode(String(n)))},{tag:!1,props:(...e)=>t.query(e5,...e),usage:KL})}var e5,JL=N(()=>{QL();e5=`{
    text: #.props has no 'text'?
} | overrideProps()`});var ov={};te(ov,{isArray:()=>Sr,isRegExp:()=>Tu,isSet:()=>Si});function Sr(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function Si(t){return ZL.call(t)==="[object Set]"}function Tu(t){return ZL.call(t)==="[object RegExp]"}var ZL,lo=N(()=>{({toString:ZL}=Object.prototype)});var av={};te(av,{has:()=>r5,matchAll:()=>sv});function t5(t,e,n){let i=t.slice(n).search(e);return i!==-1?{offset:n+i,length:RegExp.lastMatch.length}:null}function n5(t,e,n){let i=t.indexOf(e,n);return i!==-1?{offset:i,length:e.length}:null}function r5(t,e,n=!1){return Tu(e)?n&&!e.ignoreCase?new RegExp(e,e.flags+"i").test(t):e.test(t):typeof e=="string"?n?String(t).toLowerCase().indexOf(e.toLowerCase()):String(t).indexOf(e)!==-1:!1}function sv(t,e,n,i,s=!1){if(!Tu(e)&&typeof e!="string"){n(t);return}let a=String(t);s&&(typeof e=="string"?(a=a.toLowerCase(),e=e.toLowerCase()):e.ignoreCase||(e=new RegExp(e,e.flags+"i")));let f=0;do{let p=typeof e=="string"?n5(a,e,f):t5(a,e,f);if(p===null||p.length===0&&p.offset===f){n(f>0?t.slice(f):t);break}p.length!==0&&(p.offset!==f&&n(t.slice(f,p.offset)),i(t.substr(p.offset,p.length))),f=p.offset+p.length}while(f!==t.length)}var lv=N(()=>{lo()});var eM,tM=N(()=>{eM={demo:{view:"text-match",data:{text:"I am matched text or a text with matches!",match:/match/}},examples:[{title:"Raw string as match",demo:{view:"text-match",data:{text:"I am matched text or a text with matches!",match:"match"}}},{title:"Using with a link",demo:{view:"link",data:{href:"#"},content:'text-match:{ text: "Test link", match: /\\w+/i }'}},{title:"Various configurations",demo:{view:"table",cols:[{header:"text-match",content:"text-match"},{header:"Config",content:"struct"}],data:[null,{},{},{match:"test"},{match:"Test"},{match:"test",ignoreCase:!0},{match:"Test",ignoreCase:!0},{match:/test/},{match:/test/g},{match:/test/i},{match:/test/,ignoreCase:!0},{match:/test/g,ignoreCase:!0}].map((t,e)=>e>1?{text:"test Test",...t}:t)}}]}});function nM(t){t.view.define("text-match",function(e,n){let{text:i,match:s,ignoreCase:a}=n;sv(String(i),s,f=>e.appendChild(Sn(f)),f=>e.appendChild(i5.cloneNode()).appendChild(Sn(f)),a)},{tag:!1,props:o5,usage:eM})}var i5,o5,rM=N(()=>{pt();lv();tM();i5=Q("span","view-text-match"),o5=`is not array? | {
    text: #.props has no 'text' ? text,
    match,
    ignoreCase: ignoreCase or false
} | overrideProps()`});var iM,oM=N(()=>{iM={demo:{view:"text-numeric",data:'"Like a `text` view but adds a thousands separator to integer part of numbers, e.g. 12345678 or 12345.67890"'},examples:[{title:"Shorthand usage",view:"text-numeric:1234567"}]}});function sM(t){t.view.define("text-numeric",function(e,{text:n}){e.innerHTML=Bn(n)},{tag:"span",props:s5,usage:iM})}var s5,aM=N(()=>{nr();oM();s5=`{
    text: #.props has no 'text'?
} | overrideProps()`});var lM,cM=N(()=>{lM={demo:{view:"context",data:{name:"text",demo:123},content:["text:name","table"]},examples:[{title:"Using with modifiers",demo:{view:"context",modifiers:['h2:"Modifiers"',{view:"input",name:"inputValue"},{view:"select",name:"selectValue",data:["foo","bar","baz"]}],content:['h2:"Values"',"struct:#"]}}]}});function uM(t){t.view.define("context",function(e,n,i,s){let a=s,f=null,p=null,m=null,h=!1,{modifiers:g=[],content:v=[]}=n,{proxy:w,onInit:k,onChange:S}=n;Array.isArray(g)||(g=[g]);let P=this.render(e,this.composeConfig(g,{onInit:A,onChange:A}),i,s);return f=e.appendChild(document.createComment('{ view: "context" } content start')),p=e.appendChild(document.createComment('{ view: "context" } content end')),w&&(k||S)&&(v=this.composeConfig(v,{onInit:k,onChange:S})),P.then(()=>(h=!0,M()));function M(){let T=p.previousSibling;for(;T&&T!==f;)T=T.previousSibling,T.nextSibling.remove();let L=m=document.createDocumentFragment();return t.view.render(L,v,i,a).then(()=>{L===m&&(t.view.adoptFragment(L,f),f.after(L))})}function A(T,L){L&&(!Object.hasOwn(a,L)||a[L]!==T)&&(a={...a,[L]:T},h?(M(),w&&typeof S=="function"&&S(T,L)):typeof k=="function"&&k(T,L))}},{tag:!1,props:a5,usage:lM})}var a5,fM=N(()=>{cM();a5=`
#.props | {
    modifiers is array ?: is truthy ? [$] : [],
    content,
    proxy.bool(),
    onInit,
    onChange
}`});var pM,dM=N(()=>{pM={demo:{view:"switch",data:{enabled:!0},content:[{when:"not enabled",content:'text:"I am disabled"'},{when:"enabled",content:'text:"I am enabled"'}]},examples:[{title:"Using with tabs",demo:{view:"context",modifiers:{view:"tabs",tabs:["foo","bar","baz"],name:"section"},content:{view:"switch",content:[{when:'#.section="foo"',content:'text:"FOO!"'},{when:'#.section="bar"',content:'text:"BAR!!"'},{content:'text:"When no other conditions are met"'}]}}}]}});function hM(t){t.view.define("switch",function(e,n,i,s){let{content:a}=n,f='alert-warning:"No case choosen"';if(Array.isArray(a))for(let p=0;p<a.length;p++){let m=a[p];if(m&&t.queryBool(m.when||!0,i,s)){f="data"in m?{view:"context",data:m.data,content:m.content}:m.content;break}}return t.view.render(e,f,i,s)},{tag:!1,usage:pM})}var mM=N(()=>{dM()});function cv(t,e,n){for(let i in t){if(!hasOwnProperty.call(t,i))continue;if(!e){n.properties=null;break}let s;n.dictMode?(s=n.dictMode,s.count++,s.keys.add(i)):n.properties.has(i)?(s=n.properties.get(i),s.count++):(s={count:1,map:Object.create(null)},n.properties.set(i,s)),hs(t[i],e-1,s.map)}}function hs(t,e,n=Object.create(null)){let i=t===null?"null":Sr(t)?"array":Si(t)?"set":typeof t;switch(i){default:i in n||(n[i]=new Map),n[i].set(t,(n[i].get(t)||0)+1);break;case"object":"object"in n||(n.object=new Map,n.object.count=0,n.object.properties=new Map,n.object.dictMode=null,n.object.sortKeys=!1),n.object.count++,n.object.has(t)?n.object.set(t,n.object.get(t)+1):(n.object.set(t,1),cv(t,e,n.object));break;case"array":"array"in n||(n.array=new Map,n.array.count=0,n.array.map=Object.create(null)),n.array.count++,n.array.set(t,(n.array.get(t)||0)+1);for(let s=0;s<t.length;s++)hs(t[s],e,n.array.map);break;case"set":"set"in n||(n.set=new Map,n.set.count++,n.set.map=Object.create(null)),n.set.count++,n.set.set(t,(n.set.get(t)||0)+1);for(let s of t)hs(s,e,n.set.map);break}return n}var gM=N(()=>{lo()});var Eu,nl,uv=N(()=>{Eu=["rgba(83,211,75,0.75)","rgba(241,235,44,0.75)","rgba(244,152,99,0.75)","rgba(148,99,244,0.75)","rgba(44,132,241,0.75)","rgba(233,117,117,0.75)","rgba(85,187,155,0.75)","rgba(151,147,99,0.75)","rgba(216,107,196,0.75)","rgba(108,204,227,0.75)","rgba(164,164,164,0.75)"],nl=["null","undefined","string","number","bigint","boolean","symbol","function","array","set","object"]});function ms(t,e,n,i=[],s=""){Object.keys(e).sort((a,f)=>nl.indexOf(a)-nl.indexOf(f)).forEach((a,f)=>{switch(f>0&&t.appendChild(Sn(" | ")),a){default:{let p=t.appendChild(Q("span","type",a));n.set(p,{type:"type",path:i,stat:e,name:a});break}case"object":{let p=e[a],{properties:m,dictMode:h,sortKeys:g}=p;if(m===null){n.set(t.appendChild(Q("span","expand","{\u2026}")),{type:"expand",path:i,map:e[a],offset:s});break}if(m.size===0){t.appendChild(Q("span","object","{}"));break}let v=p.size,w=h?[["[key]",h]]:[...m.entries()],k=s+"    ",S=t.appendChild(Q("span","object",["{",Q("span",{"data-action":"collapse"})]));m.size>1&&(S.appendChild(Q("span",{title:"Toggle dictionary mode (collapse all the values in a single signature)","data-action":"dict-mode","data-enabled":h!==null})),w.some(([P],M)=>M!==0&&P<w[M-1][0])&&S.appendChild(Q("span",{title:"Toggle keys sorting","data-action":"sort-keys","data-enabled":g}))),n.set(S,{type:"shape",path:i,map:e[a],offset:s}),v>1&&(S.appendChild(Q("span","count")).dataset.value=String(v)),g&&w.sort(([P],[M])=>P<M?-1:P>M?1:0);for(let[P,{count:M,map:A}]of w){let T=Q("span","property",[P]);n.set(T,{type:"property",path:i,stat:e,name:P,map:A}),S.appendChild(Sn(`
${k}`)),S.appendChild(T),M!==v&&h===null&&T.appendChild(Q("span","optional","?")),S.appendChild(Sn(": ")),ms(S,A,n,i.concat(h?"*":P),k),S.appendChild(Sn(";"))}S.lastChild.nodeValue===";"&&S.appendChild(Sn(`
${s}`)),S.appendChild(Sn("}"));break}case"array":t.appendChild(Sn("[")),ms(t,e[a].map,n,i,s),t.appendChild(Sn("]"));break;case"set":t.appendChild(Sn("Set(")),ms(t,e[a].map,n,i,s),t.appendChild(Sn(")"));break}})}var yM=N(()=>{pt();uv()});function gs(t,e){return t.toFixed(e).replace(/\.?0+$/,"")}function vM(t){let e=Math.cos(2*Math.PI*t),n=Math.sin(2*Math.PI*t);return[e,n]}function bM(t){let e=0;return['<svg viewBox="-1 -1 2 2" class="pie">',...t.map(n=>{let[i,s]=vM(e),[a,f]=vM(e+=n.percent),p=n.percent>.5?1:0;return`<path d="${[`M ${i} ${s}`,`A 1 1 0 ${p} 1 ${a} ${f}`,"L 0 0"].join(" ")}" fill="${n.color}"/>`}),"</svg>"].join(`
`)}function l5(t){let e=0;for(let n in t)t[n].forEach(i=>e+=i);return e}function c5(t){let e=Object.create(null);for(let n in t)e[n]=0,t[n].forEach(i=>e[n]+=i);return e}function wM(t,e,n){let{count:i,map:s}=e.stat.object.dictMode||e.stat.object.properties.get(e.name),a=(e.stat.object.dictMode||e.stat.object).count,f={name:e.name,path:e.path,total:a,count:i,percent:gs(100*i/a,1)+"%"};n.view.render(t,[{view:"block",when:"path",className:"path",data:p=>n.pathToQuery(p.path),content:"text:$"},{view:"h1",className:"property",content:["text:name",{view:"html",when:"count != total",data:`"<span class=\\"usage-stat optional\\">" + (
                        "(in <span class=\\"num\\">" + count + "</span> of <span class=\\"num\\">" + total + "</span> objects, <span class=\\"num\\">" + percent + "</span>)"
                    ) + "</span>"`}]}],f),xM(t,{map:s,count:i},n)}function xM(t,{map:e,count:n},i){let s=c5(e),a=[],f=nl.filter(p=>p in e);Object.entries(s).sort(([,p],[,m])=>p-m).reverse().forEach(([p,m],h)=>{a.push({name:Ft(p),count:m,percent:m/n,percent100:gs(100*m/n,1),color:Eu[h]})}),i.view.render(t,{view:"block",when:"typeStat.size() > 1",data:"typeStat",className:"pie-stat",content:[{view:"block",content:{view:"html",data:bM}},{view:"block",content:['html:"<span class=\\"list-header\\">Types usage:</span>"',{view:"list",item:`html:
                            "<span class=\\"dot\\" style=\\"--size: 10px; background-color: " + color + "\\"></span> " +
                            "<span class=\\"caption\\">" + name + "</span>" +
                            "<span class=\\"times\\"> \xD7 " + count + " (" + percent100 + "%)</span>"
                        `}]}]},a),f.forEach(p=>fv(t,{name:p,stat:e},i))}function fv(t,e,n){let i=e.stat[e.name],s=l5(e.stat),a=[],f;switch(e.name){case"number":{let p=[],m=0,h=0,g=0,v=1/0,w=-1/0;i.forEach((k,S)=>{p.push({count:k,value:S}),m+=S*k,h+=k,k>1&&g++,S<v&&(v=S),S>w&&(w=S)}),f={type:e.name,count:h,distinct:i.size,duplicated:g,min:v,max:w,sum:m,avg:gs(m/h,3),values:p.sort((k,S)=>S.count-k.count||k.value-S.value)},f.distinct>1&&a.push({view:"block",className:"overview-stat",content:`html:
                        "range: (min) <span class=\\"num\\">" + min + "</span> ... " +
                        "<span class=\\"num\\">" + max + "</span> (max), " +
                        "avg: <span class=\\"num\\">" + avg + "</span>"
                    `});break}default:{let p=[],m=0,h=0;i.forEach((g,v)=>{p.push({count:g,value:v}),m+=g,g>1&&h++}),f={type:e.name,count:m,distinct:i.size,duplicated:h,values:e.name==="object"||e.name==="array"||e.name==="set"?p.sort((g,v)=>v.count-g.count):p.sort((g,v)=>v.count-g.count||g.value>v.value||-(g.value<v.value))};break}}if(e.name!=="undefined"&&e.name!=="null"){if(a.unshift({view:"block",className:"overview-stat",content:['html:"<span class=\\"num\\">" + count + "</span> " + (count > 1 ? "values, " : "value")',{view:"switch",when:"count > 1",content:[{when:"distinct = 1",content:'text:"a single unique value:"'},{when:"distinct = count",content:'text:"all unique, no duplicates"'},{content:['html:"<span class=\\"num\\">" + distinct + "</span> unique, "','html:duplicated = distinct ? "all occur more than once" : "<span class=\\"num\\">" + duplicated + "</span> occur more than once"']}]}]}),f.values.length>1&&f.duplicated&&e.name!=="object"&&e.name!=="set"&&e.name!=="array"){let p=[],m=f.values.length===10?10:Math.min(9,f.values.length),h=0;for(let g=0;g<m;g++){let{count:v,value:w}=f.values[g];h+=v,p.push({name:Ft(String(w)),count:v,percent:v/f.count,percent100:gs(100*v/f.count,1),color:Eu[g]})}if(p.length){let g=f.count-h;g>0&&p.push({name:"...",count:g,percent:g/f.count,percent100:gs(100*g/f.count,1),color:Eu[p.length]}),a.push({view:"block",className:"pie-stat",data:p,content:[{view:"block",content:{view:"html",data:bM}},{view:"block",content:['html:"<span class=\\"list-header\\">Dominators:</span>"',{view:"list",item:`html:
                                        "<span class=\\"dot\\" style=\\"--size: 10px; background-color: " + color + "\\"></span> " +
                                        "<span class=\\"caption\\" title=\\"" + name + "\\">" + name + "</span>" +
                                        "<span class=\\"times\\"> \xD7 " + count + " (" + percent100 + "%)</span>"
                                    `}]}]})}}f.values.length>1?(e.name==="number"||e.name==="string")&&a.push({view:"content-filter",name:"filter",content:{view:"menu",data:"values.[no #.filter or value~=#.filter].sort(=>value)",item:[{view:"block",className:"caption",content:"text-match:{ text: value, match: #.filter }"},{view:"block",when:"count > 1",className:"count",content:'text:" \xD7 " + count'}]}}):(e.name==="number"||e.name==="string"||e.name==="boolean")&&a.push({view:"struct",data:"values.pick().value"}),e.name==="object"&&a.push({view:"list",className:"struct-list",data:"values",item:["struct:value",{view:"block",when:"count > 1",className:"count",content:'text:" \xD7 " + count'}]}),(e.name==="array"||e.name==="set")&&Object.keys(i.map).length&&a.push({view:"block",className:e.name==="array"?"array-types":"set-types",content:p=>xM(p,i,n)})}n.view.render(t,[{view:"block",when:"path",className:"path",data:p=>n.pathToQuery(p.path),content:"text"},{view:"h1",className:"type",content:["text:name",`html:"<span class=\\"usage-stat\\">" + (
                    count = total
                        ? "only this type is used"
                        : "used in <span class=\\"num\\">" + count + "</span> of <span class=\\"num\\">" + total + "</span> cases (<span class=\\"num\\">" + percent + "</span>)"
                ) + "</span>"`]},...a],{...f,name:e.name,path:e.path,total:s,percent:gs(100*f.count/s,1)+"%"},{})}var kM=N(()=>{nr();uv()});var CM,SM=N(()=>{CM={beforeDemo:['md:"The `signature` view is used to output a type definition for current data using TypeScript like style:"'],demo:{view:"signature",expanded:!0}}});function AM(t){let e=new WeakMap,n=({target:i})=>{let s="expand",a=i.closest(`
            .view-signature .expand,
            .view-signature [data-action]
        `);if(!a)return;a.dataset.action&&(s=a.dataset.action,a=a.parentNode);let f=e.get(a);if(f){let{path:p,map:m,offset:h}=f,g=document.createDocumentFragment();switch(s){case"sort-keys":m.sortKeys=!m.sortKeys;break;case"dict-mode":if(m.dictMode)m.dictMode=null;else{let v=m.dictMode={keys:new Set,count:0,map:Object.create(null)};m.forEach((w,k)=>{for(let S in k)hasOwnProperty.call(k,S)&&(v.keys.add(S),v.count++,hs(k[S],1,v.map))})}break;default:m.properties===null?(m.properties=new Map,m.forEach((v,w)=>cv(w,1,m))):m.properties=null}ms(g,{object:m},e,p,h),a.replaceWith(g)}};t.addHostElEventListener("click",n,!1),new t.view.Popup({className:"signature-details",hoverPin:"trigger-click",hoverTriggers:`
            .view-signature .property,
            .view-signature .type
        `,render:function(i,s){let a=e.get(s);switch(a.type){case"property":return wM(i,a,t);case"type":return fv(i,a,t)}}}),t.view.define("signature",function(i,s,a){let{expanded:f,path:p}=s,m=hs(a,f),h=Array.isArray(p)?p:void 0;ms(i,m,e,h)},{usage:CM})}var TM=N(()=>{gM();yM();kM();SM()});var EM,LM=N(()=>{EM=(t,e,n,i,s,a,f)=>({target:p})=>{let m="expand",h=p.closest(`
        .view-struct.struct-expand,
        .view-struct .struct-expand-value,
        .view-struct .struct-action-button
    `);if(h)switch(h.dataset.action&&(m=h.dataset.action),m){case"expand":h.classList.contains("struct-expand")&&(h=h.lastChild),t(h,0),n(),h.parentNode.classList.add("struct-expanded-value"),s.has(h.parentNode)&&h.parentNode.classList.remove("struct-expand");break;case"collapse":h=h.parentNode,e(h),n(),h.parentNode.classList.remove("struct-expanded-value"),h.classList.remove("view-as-table"),s.has(h.parentNode)&&h.parentNode.classList.add("struct-expand");break;case"show-signature":f.show(h);break;case"value-actions":a.show(h);break;case"toggle-sort-keys":t(h.parentNode,0,h.parentNode.classList.toggle("sort-keys")),n();break;case"toggle-string-mode":h=h.parentNode;let g=h.querySelector(".string-text").firstChild;g.nodeValue=h.classList.toggle("string-value-as-text")?JSON.parse(`"${g.nodeValue}"`):JSON.stringify(g.nodeValue).slice(1,-1);break;case"toggle-view-as-table":if(h=h.parentNode,h.classList.toggle("view-as-table"))i(h);else{let w=h.querySelector(":scope > .view-table");w&&w.remove()}break}}});var pv={};te(pv,{jsonStringifyAsJavaScript:()=>Ai,jsonStringifyInfo:()=>os});function u5(t,e,n){let i=String(t),[s,a]=i.match(/^(?:\S+\s+)?(\S+)\(/)||[];if(s!=="function"&&s!=="function*"&&a===n.trim().slice(0,-1)&&(n=""),i.indexOf(`
`)===-1)return n+i;let f=i.split(/\n/),p=f[f.length-1].match(/^\s*/)?.[0].length||0,m=new RegExp("^\\s{0,"+p+"}");return n+f.map((h,g)=>g&&h.length?h.replace(m,e):h).join(`
`)}function f5(t,e,n){return typeof t=="function"?u5(t,e,n):t instanceof Date?`${n}new Date("${t.toISOString()}")`:n+String(t)}function Ai(t,e,n=4){let i=[];return String(JSON.stringify(t,e||function(a,f){return typeof f=="string"&&MM.call(this[a])==="[object Date]"&&(f=this[a]),f!==null&&p5.has(MM.call(f))?(i.push(f),"{{{__placeholder__}}}"):f},n)).replace(/"((?:\\.|[^"])*)"(:?)/g,(a,f,p)=>p&&/^[a-z$_][a-z$_\d]*$/i.test(f)?f+p:`'${f.replace(/\\"/g,'"').replace(/'/g,"\\'")}'`+p).replace(/(^|\n)([ \t]*)(.*?)([a-zA-Z$_][a-zA-Z0-9$_]+:\s*)?'{{{__placeholder__}}}'/g,(a,f,p,m,h)=>f+p+m+f5(i.shift(),p,h))}var MM,p5,rl=N(()=>{Zg();({toString:MM}=Object.prototype),p5=new Set(["[object Function]","[object RegExp]","[object Date]"])});function NM(t){return t?", "+Bn(t)+" bytes":""}function DM(t,e,n){return new t.view.Popup({className:"view-struct-actions-popup",render:(i,s,a)=>{let f=s.parentNode,p=e.get(f),m=[];if(typeof p=="string")m=[{text:"Copy as quoted string",action:()=>Tn(JSON.stringify(p))},{text:"Copy as unquoted string",action:()=>Tn(JSON.stringify(p).slice(1,-1))},{text:"Copy a value (unescaped)",action:()=>Tn(p)}];else{let h=t.pathToQuery(n(f)),g=1024*1024*1024,v=!1,w=!1,k=0,S=0;try{let{bytes:P,circular:M}=os(p);k=P,M.length?w="Converting circular structure to JSON":k>g?w="Resulting JSON is over 1 Gb":(S=os(p,null,4).bytes,S>g&&(v="Resulting JSON is over 1 Gb"))}catch(P){w=/Maximum call stack size|too much recursion/i.test(P.message)?"Too much nested structure":P.message}w&&(w="Can't be copied: "+w,v||(v=w)),h&&m.push({text:"Copy path:",notes:Ft(h),action:()=>Tn(h)}),m.push({text:"Copy as JSON",notes:`(formatted${NM(S)})`,error:v,disabled:!!v,action:()=>Tn(JSON.stringify(p,null,4))}),m.push({text:"Copy as JSON",notes:`(compact${w?"":NM(k)})`,error:w,disabled:!!w,action:()=>Tn(JSON.stringify(p))})}t.view.render(i,{view:"menu",onClick(h){a(),h.action()},item:["html:text",{view:"block",when:"notes",className:"notes",content:"html:notes"},{view:"block",when:"error",className:"error",content:"text:error"}]},m)}})}var OM=N(()=>{nr();rl();tl()});function ri(t,e){return`<span class="${t}">${e}</span>`}function Lu(t){return ri("more",`\u2026${Bn(t)} more\u2026`)}function co(t,e,n){switch(typeof t){case"boolean":case"undefined":return ri("keyword",t);case"number":case"bigint":return ri("number",Bn(t));case"symbol":return ri("symbol",String(t));case"function":return"\u0192n";case"string":{let i=e?n.maxCompactStringLength:n.maxStringLength,s=t.length>i+n.allowedExcessStringLength,a=s?Ft(JSON.stringify(t.slice(0,i)).slice(1,-1)):Ft(JSON.stringify(t).slice(1,-1)),f=s?Lu(t.length-i):"";return ri("string",!e&&(t[0]==="h"||t[0]==="/")&&d5.test(t)?`"<a href="${Ft(t)}" target="_blank">${a}</a>${f}"`:`"${a}${f}"`)}case"object":{if(t===null)return ri("keyword","null");if(Sr(t)){let f=n.limitCollapsed===!1||n.limitCollapsed>t.length?t.length:n.limitCollapsed,p=Array.from({length:f},(m,h)=>co(t[h],!0,n));return t.length>f&&p.push(`${Lu(t.length-f)} `),`[${p.join(", ")}]`}switch(h5.call(t)){case"[object Set]":{let f=n.limitCollapsed===!1||n.limitCollapsed>t.size?t.size:n.limitCollapsed,p=t.values(),m=Array.from({length:f},()=>co(p.next().value,!0,n));return t.size>f&&m.push(`${Lu(t.size-f)} `),`[${m.join(", ")}]`}case"[object Date]":return ri("date",t);case"[object RegExp]":return ri("regexp",t)}if(e&&n.limitCompactObjectEntries===0){for(let f in t)if(hasOwnProperty.call(t,f))return"{\u2026}";return"{}"}let i=e?n.limitCompactObjectEntries===!1?1/0:n.limitCompactObjectEntries:n.limitCollapsed===!1?1/0:n.limitCollapsed,s=[],a=0;for(let f in t)if(hasOwnProperty.call(t,f)){if(a<i){let p=Ft(f.length>n.maxCompactPropertyLength?f.slice(0,n.maxCompactPropertyLength)+"\u2026":f);s.push(`${ri("property",p)}: ${co(t[f],!0,n)}`)}a++}return a>i&&s.push(Lu(a-i)),s.length?`{ ${s.join(", ")} }`:"{}"}default:return`unknown type "${typeof t}"`}}var d5,h5,PM=N(()=>{nr();lo();d5=/^(?:https?:)?\/\/(?:[a-z0-9\-]+(?:\.[a-z0-9\-]+)+|\d+(?:\.\d+){3})(?:\:\d+)?(?:\/\S*?)?$/i,h5=Object.prototype.toString});function dv(t){let e=Date.now()+8,n=0;for(;n<t.length&&!(Date.now()>e);n++){let{el:i,config:s,renderer:a,data:f,context:p}=t[n],{place:m="after",className:h,text:g=typeof s!="object"?String(s):"",icon:v,href:w,external:k,tooltip:S}=s,P=m5.includes(s.style)?s.style:m==="before"?"none":"default",M=g!=="",A=["value-annotation","style-"+P,m==="before"?"before":"after",M?"has-text":"",h||""].join(" "),T=Q(w?"a":"span",{class:A,href:typeof w=="string"?w:void 0,target:k?"_blank":void 0});if(M&&(/\d{4}/.test(g)?T.innerHTML=Bn(g):T.append(g)),v&&(T.classList.add("icon"),/^[a-z_$][a-z0-9_$-]*$/i.test(v)?T.classList.add("icon-"+v):T.style.setProperty("--annotation-image",`url("${v}")`)),S&&a.tooltip(T,S,f,{...p,config:s}),m==="before")i.before(T);else{let L=i.parentNode;i.annotationsEl||(i.annotationsEl=Q("span","value-annotations"),L.classList.contains("struct-expanded-value")?i.querySelector(":scope > .value-size, :scope > .string-length").after(i.annotationsEl):L.append(i.annotationsEl)),i.annotationsEl.append(T)}}t.splice(0,n)}var m5,IM=N(()=>{pt();nr();m5=["none","default","badge"]});var zM,BM,FM=N(()=>{zM={level_1:{level_2_1:{level_3_1:{level_4_1:{}},level_3_2:2,level_3_3:3,level_3_4:4,level_3_5:5,level_3_6:6},level_2_2:[{foo:1,bar:2},{foo:3}],level_2_3:3,level_2_4:4,level_2_5:5,level_2_6:6},level_1_2:2,level_1_3:3,level_1_4:4,level_1_5:5,level_1_6:6,level_1_7:7},BM={beforeDemo:['md:"View to display the structure of any value. This is the simplest yet powerful way to enable data exploration."'],demo:{view:"struct",data:{foo:"bar",baz:[1,2,3]}},examples:[{title:"Default expanded depth",highlightProps:["expanded"],beforeDemo:['md:"By default `struct` view is collapsed in one line. The `expanded` option is using to specify an initial expanded depth. A value for the option can be a boolean (`false` \u2192 `0`, `true` \u2192 `1`) or a positive number."'],demoData:zM,demo:['badge:"Default (expanded option is not used)"',{view:"struct"},'badge:"expanded = true"',{view:"struct",expanded:!0},'badge:"expanded = 2"',{view:"struct",expanded:2}]},{title:"Annotations",highlightProps:["annotations"],beforeDemo:[{view:"md",source:["Clarity of data can be improved by adding annotations. An annotation is special marker before or after a value which displaying for expanded objects and arrays only.","Any number of annotations can be applied to a single value.","","Annotations are adding with `annotations` option which should contain an array of strings (jora queries) and functions to compute an annotation config. An annotation config is an object with following fields:","```ts","type AnnotationConfig = {",'   place?: "before" | "after"; // the placement of an annotation, "after" is by default','   style?: "none" | "badge" | "default"; // appereance of annotation, "default" is by default',"   className?: string;         // a class to add to an annotation element","   text?: any;                 // text content of an annotation element","   icon?: string;              // name of icon or url to an image","   href?: string;              // annotation is a link and that's an URL","   external?: boolean;         // open a link in new tab, make sence when `href` is specified only","   tooltip?: TooltipConfig;    // configuration for a tooltip, the same as for any view","}","```","",'An annotation is not displayed (not rendered) when computed annotation config is a falsy value. Any other value (truthy, but not an object) is used as value for `text` option, i.e. `"example"` is the same as `{ text: "example" }`.',"","In addition to a string or function, an object can be used as an element of `annotations` array","* `query` \u2013 a string (jora query) or a function to compute an annotation config","* `debug` (optional) - when truthy a debug information is output to the console; when value is a string, it's used in debug message"]}],demoData:{items:[{id:1,value:"example"},{id:2,value:"bar"},{id:3,value:"baz"}],"annotation styles":["none","default","badge"]},demo:{view:"struct",expanded:3,annotations:['#.key = "items" ? { place: "before", style: "badge", text: "view as table", tooltip: "table" } : null',`$ ~= /az/ and "Value has 'az' substring!"`,'$ in ["none", "default", "badge"] and { style: $, place: "before", text: $ + " before" }','$ in ["none", "default", "badge"] and { style: $, text: $ + " after" }']}},{title:"Limit number of array elements and object entries",beforeDemo:{view:"md",source:["The following options define the maximum number of elements in array or entries in object:","* `limit` (default: `50`) \u2013 max number of elements/entries for expanded array/object","* `limitCollapsed` (default: `4`) \u2013 max of elements/entries for collapsed array/object","* `limitCompactObjectEntries` (default: `0`) \u2013 max number of entries in a object which appears in a collapsed array or object","","> Use `false` for any of these options to disable a limitation"]},highlightProps:["limit","limitCollapsed","limitCompactObjectEntries"],demoData:zM,demo:{view:"struct",limit:4,limitCollapsed:1,expanded:2}},{title:"Maximum length for strings",beforeDemo:{view:"md",source:["The following options define the maximum string length in various cases:","* `maxStringLength` (default: `150`) \u2013 max string length when a host value is expanded","* `maxCompactStringLength` (default: `40`) \u2013 max of string length when a host value is collapsed",'* `allowedExcessStringLength` (default: `10`) \u2013 allowed excess in length before a string will be cut and \\"N more\\" label will be added',"* `maxPropertyLength` (default: `Infinity`) \u2013 max of property name length","* `maxCompactPropertyLength` (default: `35`) \u2013 max of property name length in collapsed objects","","> Expand and collapse `level2` branch to see difference in a value presentation"]},highlightProps:["maxStringLength","maxCompactStringLength","allowedExcessStringLength","maxPropertyLength","maxCompactPropertyLength"],demo:{view:"struct",maxStringLength:30,maxCompactStringLength:10,allowedExcessStringLength:5,maxPropertyLength:30,maxCompactPropertyLength:15,expanded:1},demoData:{stringsInExpandedObject:"Quite a long string value Quite a long string value",string_34_chars:"String with 34 chars length demo x",string_35_chars:"String with 35 chars length demo xx",string_36_chars:"String with 36 chars length demo xxx",very_very_very_very_very_very_very_very_very_very_long_property_name:"a property name should be truncated due to settings, but will not be by default",level2:{stringsInCollapsedObject:"Quite a long string value Quite a long string value",string_14_chars:"Short string x",string_15_chars:"Short string xx",string_16_chars:"Short string xxx"}}}]}});var dr,RM,jM,_M,HM,qM,WM,UM=N(()=>{pt();dr={get collapse(){return Q("span",{class:"struct-action-button struct-collapse-value","data-action":"collapse"})},get signature(){return Q("span",{class:"struct-action-button show-signature","data-action":"show-signature"})},get actions(){return Q("span",{class:"struct-action-button",title:"Value actions","data-action":"value-actions"})},get stringMode(){return Q("span",{class:"struct-action-button",title:"Toggle string show mode","data-action":"toggle-string-mode"})},get viewAsTable(){return Q("span",{class:"struct-action-button",title:"Toggle view as table","data-action":"toggle-view-as-table"})},get sortKeys(){return Q("span",{class:"struct-action-button",title:"Toggle key sorting","data-action":"toggle-sort-keys"})}},RM=Xi('"',dr.collapse,dr.actions,dr.stringMode,Q("span","string-length"),Q("span","string-text-wrapper",[Q("span","string-text")]),'"'),jM=Xi("[",dr.collapse,dr.signature,dr.actions,dr.viewAsTable,Q("span","value-size"),"]"),_M=Xi("{",dr.collapse,dr.signature,dr.actions,dr.viewAsTable,dr.sortKeys,Q("span","value-size"),"}"),HM=Q("div","entry-line"),qM=Q("span","value"),WM=Q("span","label",["\xA0\xA0\xA0\xA0",Q("span","property"),":\xA0"])});function $M(t,e,n){return new t.view.Popup({className:"view-struct-signature-popup",hoverPin:"popup-hover",hoverTriggers:".view-struct .show-signature",showDelay:50,render:function(i,s){let a=s.parentNode,f=e.get(a);i.classList.add("computing"),setTimeout(()=>{t.view.render(i,{view:"signature",expanded:2,path:n(a)},f).then(()=>i.classList.remove("computing"))},16)}})}var GM=N(()=>{});function il(t,e){return typeof t=="number"&&isFinite(t)&&t>=1?parseInt(t,10):e}function YM(t,e){if(typeof t=="string")return t.length>e.maxStringLength||/[\r\n\f\t]/.test(t);if(Sr(t))return t.length>0;if(typeof t=="object"&&t!==null)switch(y5.call(t)){case"[object Set]":return t.size>0;case"[object Object]":for(let n in t)if(g5.call(t,n))return!0}return!1}function hv(t,e){t.appendChild(document.createTextNode(e))}function KM(t,e,n){e>1&&(t.lastElementChild.innerHTML=Bn(e)+" "+n)}function A5(t,e,n){e.length<2||e.every(([s],a)=>a===0||s>e[a-1][0])?t.querySelector('[data-action="toggle-sort-keys"]').remove():n&&e.sort(([s],[a])=>s<a?-1:s>a?1:0)}function T5(t,e,n){let i=WM.cloneNode(!0),s=e.length>n?e.slice(0,n)+"\u2026":e;hv(i.firstElementChild,s),t.appendChild(i)}function QM(t){function e(L){let O=w.get(L),z=g.get(L);L.classList.add("struct-expand-value"),L.innerHTML=co(z,!1,O),L.annotationsEl&&L.parentNode.append(L.annotationsEl)}function n(L,O,z){let B=g.get(L);if(L.classList.remove("struct-expand-value"),typeof B=="string"){let H=RM.cloneNode(!0),W=H.lastChild.previousSibling,U=W.previousSibling,fe=JSON.stringify(B);hv(W.firstChild,fe.slice(1,-1)),U.innerHTML=`length: ${Bn(fe.length)} chars`,L.replaceChildren(H),p(L,U)}else if(Sr(B)||Si(B)){let H=v.get(L),W=w.get(L),U=typeof B.size=="number"?B.size:B.length;L.replaceChildren(jM.cloneNode(!0)),KM(L,U,"elements"),p(L,L.lastElementChild),s(L,L.lastChild,B.values(),U,(fe,G,ne)=>{i(fe,G,O,W,Object.freeze({parent:H,host:B,key:ne,index:ne}))},0,W.limit)}else{let H=v.get(L),W=w.get(L),U=Object.entries(B);L.replaceChildren(_M.cloneNode(!0)),KM(L,U.length,"entries"),p(L,L.lastElementChild),A5(L,U,z),s(L,L.lastChild,U.values(),U.length,(fe,[G,ne],D)=>{T5(fe,G,W.maxPropertyLength),i(fe,ne,O,W,Object.freeze({parent:H,host:B,key:G,index:D}))},0,W.limit)}}function i(L,O,z,B,H){let W=YM(O,B),U=qM.cloneNode(!0);g.set(U,O),v.set(U,H),w.set(U,B),W&&typeof O!="string"&&z?(L.classList.add("struct-expanded-value"),n(U,z-1)):(W&&U.classList.add("struct-expand-value"),U.innerHTML=co(O,!1,B)),m(U,O,B,H),L.appendChild(U)}function s(L,O,z,B,H,W=0,U=VM){U===!1&&(U=1/0);let fe=document.createDocumentFragment(),G=B-1,ne=0;for(;ne<U;ne++,W++){let{done:D,value:ie}=z.next();if(D)break;let oe=HM.cloneNode(!0);H(oe,ie,W),W!==G&&hv(oe,","),fe.appendChild(oe)}L.insertBefore(fe,O),t.view.maybeMoreButtons(L,O,B,W,U,(D,ie)=>s(L,O,z,B,H,D,ie))}function a(L){let O=w.get(L),z=g.get(L);!Sr(z)&&!Si(z)&&(z=Object.entries(z).map(([B,H])=>({"[key]":B,"[value]":H}))),t.view.render(L,"table",z,O.context),L.append(L.lastChild.previousSibling)}function f(L){let O=[],z=v.get(L);for(;z!==null&&z.parent!==null;)O.unshift(z.key),z=z.parent;return O}function p(L,O){L.annotationsEl&&O.after(L.annotationsEl)}function m(L,O,z,B){if(z.annotations.length){for(let H of z.annotations)try{let{query:W,debug:U}=H,fe={...B,context:z.context},G=t.query(W,O,fe);U&&t.log("info",`Compute struct view annotation${typeof U=="string"?` "${U}"`:""}:`,{data:O,context:fe,query:W,queryResult:G}),G&&S.push(G.tooltip?{el:L,config:G,renderer:z.renderer,data:O,context:fe}:{el:L,config:G})}catch(W){t.log("error",W)}h()}}function h(){P===null&&S.length&&(P=Promise.resolve().then(()=>{P=null,dv(S),S.length&&h()}))}let g=new WeakMap,v=new WeakMap,w=new WeakMap,k=new WeakSet,S=[],P=null,M=DM(t,g,f),A=$M(t,g,f),T=EM(n,e,h,a,k,M,A);return t.addHostElEventListener("click",T,!1),t.view.define("struct",function(L,O,z,B){let{annotations:H,expanded:W,limit:U,limitCollapsed:fe,limitCompactObjectEntries:G,maxStringLength:ne,maxCompactStringLength:D,allowedExcessStringLength:ie,maxPropertyLength:oe,maxCompactPropertyLength:Ee}=O,et=H?(t.annotations||[]).concat(H.map(Rt=>typeof Rt=="string"||typeof Rt=="function"?{query:Rt}:Rt)):t.annotations,st={renderer:this,context:B,annotations:et,limit:t.view.listLimit(U,VM),limitCollapsed:t.view.listLimit(fe,v5),limitCompactObjectEntries:t.view.listLimit(G,b5),maxStringLength:il(ne,w5),maxCompactStringLength:il(D,x5),allowedExcessStringLength:il(ie,k5),maxPropertyLength:il(oe,C5),maxCompactPropertyLength:il(Ee,S5)};k.add(L),i(L,z,W,st,{parent:null,host:{"":z},key:"",index:0}),h(),!W&&YM(z,st)&&L.classList.add("struct-expand")},{usage:BM}),()=>{document.removeEventListener("click",T,!1)}}var g5,y5,VM,v5,b5,w5,x5,k5,C5,S5,XM=N(()=>{nr();lo();LM();OM();PM();IM();FM();UM();GM();g5=Object.prototype.hasOwnProperty,y5=Object.prototype.toString,VM=50,v5=4,b5=0,w5=150,x5=40,k5=10,C5=1/0,S5=35});var JM,ZM=N(()=>{JM={demo:{view:"table",data:[{foo:1,bar:"bar",baz:"zab"},{foo:2,baz:"xyz"},{foo:3,bar:"qux",baz:"baz"},{foo:4,bar:"aaa",baz:"abc"}]},examples:[{title:"Columns setup",demo:{view:"table",cols:[{header:"Header Col 1",data:"col1",content:'text:"prefix-" + $'},{header:"Header Col 3",data:"col3",content:'text:$ + "-suffix"'}],data:[{col1:"foo",col2:"bar",col3:"baz"},{col1:"qux",col2:"oof",col3:"zab"}]}}]}});function mv(t){return{header:t,view:"table-cell",data:e=>e[t],sorting:`$[${JSON.stringify(t)}] ascN`}}function E5(t,e,n){let i="",s="";if("data"in t&&t.data!==void 0)switch(typeof t.data){case"string":s=`(${t.data})`;break;case"function":i="$dataQuery;",s="$dataQuery(#)";break;default:i="$dataQuery;",s="$dataQuery"}if(typeof t.content=="string"){let a=t.content.indexOf(":"),f=t.content.slice(0,a);if(a===-1||!e.view.has(f))return;let p=t.content.slice(a+1);p&&(s=s?`(${s} | ${p})`:`(${p})`)}return s?e.query(`${i} ${s} ascN`,{dataQuery:t.data},n):!1}function L5(t,e){return typeof e=="string"&&(e={content:e}),ys.call(e,"content")||ys.call(e,"data")?{header:t,view:"table-cell",...e}:{...mv(t),...e}}function eN(t,e,n){if(typeof n!="function")return!1;let i=0;try{for(let s=1;s<e.length;s++){let a=Math.sign(n(e[s-1],e[s]));if(a){if(i&&a!==i)return!1;i=a}}}catch(s){return t.log("error","Error on column order detection in table view",s),0}return-i}function tN(t){let e="is (null or not object or regexp)",n=t.queryFn(e);t.view.define("table",function(i,s,a,f){let{cols:p,rowConfig:m,limit:h,scalarCol:g=!1}=s,v;Si(a)&&(a=[...a]),Sr(a)||(a=a?[a]:[]);let w=i.appendChild(Q("thead")).appendChild(Q("tr")),k=[],S=i.appendChild(Q("tbody")),P=i.appendChild(Q("tbody")),M=P.appendChild(Q("tr")).appendChild(Q("td")),A=T=>{S.innerHTML="",M.innerHTML="";for(let L of k){let O=eN(t,T,L.sorting);L.el.classList.toggle("asc",O===1),L.el.classList.toggle("desc",O===-1)}return t.view.renderList(S,v,T,{...f,cols:p},0,t.view.listLimit(h,25),M).then(()=>P.hidden=!M.firstChild)};if(Array.isArray(p))p=p.map((T,L)=>typeof T=="string"?mv(T):{header:"col"+L,view:"table-cell",...T});else{let T=new Set,L=p&&typeof p=="object"?p:{};p=[];for(let O of a)if(n(O))g=!0;else for(let z of Object.keys(O))T.add(z);for(let O of Object.keys(L))L[O]?T.add(O):T.delete(O);for(let O of T)p.push(ys.call(L,O)?L5(O,L[O]):mv(O))}g&&p.unshift({header:"[value]",view:"table-cell",sorting:"$ ascN",scalarAsStruct:!0,colSpan:`=${e} ? #.cols.size() : 1`}),p=p.filter(T=>!ys.call(T,"when")||t.queryBool(T.when,a,f));for(let T of p){if(ys.call(T,"whenData")&&T.whenData!==void 0){let{whenData:H,content:W}=T;T.whenData=void 0,T.content=(U,fe)=>t.queryBool(H,U,fe)?{content:W}:void 0}let L=w.appendChild(Q("th")),O={el:L};k.push(O),L.textContent=T.header;let z=ys.call(T,"sorting")?t.query(T.sorting,null,f):E5(T,t,f),B=typeof z=="function"?eN(t,a,z):0;B!==0?(T.sorting=z,O.sorting=z,L.classList.add("sortable"),L.addEventListener("click",()=>{L.classList.contains("asc")?A(a.slice().sort((H,W)=>-z(H,W))):L.classList.contains("desc")&&!B?A(a):A(a.slice().sort(z))})):T.sorting=!1}return M.colSpan=p.length,v=this.composeConfig({view:"table-row",cols:`=${e} ? [#.cols[]] : #.cols`},m),A(a)},{tag:"table",usage:JM})}var ys,nN=N(()=>{ZM();lo();pt();ys=Object.hasOwnProperty});function rN(t){t.view.define("table-row",function(e,n,i,s){let{cols:a}=n;if(Array.isArray(a))return Promise.all(a.map((f,p)=>t.view.render(e,f,i,{...s,colIndex:p})))},{tag:"tr"})}var iN=N(()=>{});function D5(t,e,n){if(Array.isArray(e)){t.classList.add("number"),t.textContent=e.length||"";return}if(n){t.classList.add("complex");for(let i in e)if(N5.call(e,i)){t.textContent="{\u2026}";return}t.textContent="{}";return}if(e!==void 0){if(typeof e=="number"){let i=String(e);t.classList.add("number"),i.length>3?t.innerHTML=Bn(i,!1):t.textContent=i;return}t.textContent=String(e)}}function oN(t){t.view.define("table-cell",function(e,n,i,s){let{content:a,details:f,colSpan:p,scalarAsStruct:m}=n,h=i!==null&&(Array.isArray(i)?i.length>0:typeof i=="object")&&!(i instanceof RegExp);if(typeof p=="number"&&p>1&&(e.colSpan=p),typeof a=="function"){if(a=a(i,s),!a)return;a=a.content}if((f||!a&&h)&&(e.classList.add("details"),e.addEventListener("click",g=>{let v=g.target;if(v===e){let w=v.parentNode,k=w.parentNode,S=Array.from(k.querySelectorAll(".view-table-cell.details-expanded")).find(M=>M.parentNode.parentNode===k),P=null;if(S){let M=S.parentNode;if(S.classList.remove("details-expanded"),S===e){w.parentNode.removeChild(w.nextSibling);return}M!==w?M.parentNode.removeChild(M.nextSibling):(P=w.nextSibling.firstChild,P.innerHTML="")}P===null&&(P=w.parentNode.insertBefore(document.createElement("tr"),w.nextSibling).appendChild(document.createElement("td")),P.parentNode.className="view-table-cell-details-row",P.className="view-cell-details-content",P.colSpan=1e3),e.classList.add("details-expanded"),t.view.render(P,f||M5,i,s)}})),m&&!a&&!h&&(a="struct"),a)return t.view.render(e,a,i,s);D5(e,i,h)},{tag:"td"})}var M5,N5,sN=N(()=>{nr();M5={view:"struct",expanded:1},N5=Object.hasOwnProperty});var O5,aN,lN,cN=N(()=>{O5=()=>alert("toggled!"),aN=([t,...e],n="")=>{let i=[];for(let s=0;s<t;s++){let a=n+"."+(s+1);i.push({title:a,children:e.length?aN(e,a):null})}return i},lN={demo:{view:"tree",item:"text:text",data:{text:"Root",children:[{text:"Child"},{text:"Another child",children:[{text:"Lvl 2 child"},{text:"Lvl 2 child"}]}]}},examples:[{title:"Expanded tree",highlightProps:["expanded"],demo:{view:"tree",item:"text:text",expanded:999},demoData:{text:"Root",children:[{text:"Child"},{text:"Another child",children:[{text:"Lvl 2 child"},{text:"Lvl 2 child"}]}]}},{title:"With empty text",highlightProps:["emptyText"],demo:{view:"tree",emptyText:"This tree is empty",data:null}},{title:"With toggle handler",highlightProps:["onToggle"],demo:{view:"tree",item:"text:text",onToggle:O5},demoData:{text:"Root",children:[{text:"Child"},{text:"Another child",children:[{text:"Lvl 2 child"},{text:"Lvl 2 child"}]}]}},{title:"limitLines",highlightProps:["limitLines"],demoData:aN([5,3,3]),demo:{view:"tree",item:"text:title",limitLines:7}}]}});function uN(t){function e(i,s,a,f,p,m){return m===!1&&(m=a.length),i.classList.add("incomplete"),a.slice(p,p+m).reduce((h,g)=>h.then(()=>{let{container:v,itemConfig:w}=s;return t.view.render(v,t.view.composeConfig(w,{expanded:g.expanded,last:g.last,hasChildren:g.hasChildren,children:g.children}),g.data,f).then(()=>{if(g.expanded&&g.hasChildren){let k=v.lastChild.querySelector(".view-tree-leaf-children");k.classList.add("incomplete"),s={container:k,itemConfig:t.view.composeConfig(w,w.itemConfig),prev:s}}else for(;g.shift--;)s.container.classList.remove("incomplete"),s=s.prev})}),Promise.resolve()).then(()=>t.view.maybeMoreButtons(i,null,a.length,p+m,m,(h,g)=>e(i,s,a,f,h,g))||i.classList.remove("incomplete"))}function n(i,s,a,f){function p(g,v,w,k=0){g.forEach((S,P,M)=>{let A=t.query(w.children,S,s),T=Array.isArray(A)&&A.length>0,L=P===M.length-1,O=h.has(S)?0:typeof v=="function"?v(S,s):v;h.add(S),m.push({data:S,expanded:O,last:L,hasChildren:T,children:O?null:w.children,shift:L&&(!O||!T)?k+1:0}),T&&O&&p(A,typeof v=="number"?v-1:v,t.view.composeConfig(w,w.itemConfig),L?k+1:0)})}let m=[],h=new Set;return p(i,f,a),m}t.view.define("tree",function(s,a,f,p){let{children:m="children",item:h="text",itemConfig:g,collapsible:v,emptyText:w,onToggle:k}=a,{expanded:S,limit:P,limitLines:M=!0}=a;if(w!==!1&&w!==""&&s.setAttribute("emptyText",w||"Empty tree"),!Array.isArray(f)&&f&&(f=[f]),Array.isArray(f)){if(P=t.view.listLimit(P,25),M=t.view.listLimit(M,25),S=typeof S=="function"?S:t.view.listLimit(S,1),M){let A=n(f,p,this.composeConfig({children:m},g),S),T={container:s,itemConfig:this.composeConfig({view:"tree-leaf",itemConfig:g,content:h,collapsible:v,onToggle:k},g)};return e(s,T,A,p,0,M)}return this.renderList(s,this.composeConfig({view:"tree-leaf",itemConfig:g,content:h,collapsible:v,expanded:S,children:m,limit:P,onToggle:k},g),f,p,0,P)}},{tag:"ul",usage:lN})}var fN=N(()=>{cN()});function pN(t){let e=new WeakMap,n=({target:i})=>{let s=i.closest(".view-tree-leaf-toggle");if(s){let a=e.get(s),f=!s.parentNode.classList.toggle("collapsed");typeof a.render=="function"&&a.render(),typeof a.onToggle=="function"&&a.onToggle(f,s.parentNode,a.data,a.context)}};t.addHostElEventListener("click",n,!1),t.view.define("tree-leaf",async function(i,s,a,f){let{expanded:p,hasChildren:m,children:h,items:g,content:v,itemConfig:w,collapsible:k,last:S,limit:P,onToggle:M}=s,A=i.appendChild(Q("span","view-tree-leaf-toggle")),T=i.appendChild(Q("span","view-tree-leaf-content"));if(S&&i.classList.add("last"),k||i.classList.add("non-collapsible"),await this.render(T,v,a,f),m){let L=i.appendChild(Q("ul","view-tree-leaf-children")),O={data:a,context:f,onToggle:M,render:null},z=(B,H)=>(typeof H=="number"&&H--,this.renderList(L,this.composeConfig({view:"tree-leaf",expanded:H,itemConfig:w,content:v,collapsible:k,children:h,limit:P,onToggle:M},w),B,f,0,this.listLimit(P,25)));i.classList.add("has-children"),e.set(A,O),(typeof p=="function"?p(a,f):p)?g&&await z(g,p):(i.classList.add("collapsed"),g&&(O.render=()=>{O.render=null,z(g,p||1)}))}},{tag:"li",props:P5})}var P5,dN=N(()=>{pt();P5=`#.props | {
    $items: children.query(@, #.context) | is array?;

    itemConfig,
    content is not undefined ?: 'text',
    collapsible is not undefined ?: true,
    onToggle,
    expanded,
    last,
    hasChildren: hasChildren or $items.size() > 0,
    children,
    $items,
    limit: limit | $ = false or is int ?: 25
}`});var Mu={};te(Mu,{alerts:()=>wE,autoLink:()=>kE,badges:()=>EE,block:()=>zT,button:()=>xA,checkbox:()=>MA,checkboxList:()=>AA,column:()=>FT,columns:()=>jT,contentFilter:()=>PA,context:()=>uM,dropdown:()=>RA,editors:()=>DT,expand:()=>WT,headers:()=>HE,hstack:()=>VT,html:()=>$E,image:()=>YE,imagePreview:()=>JE,indicator:()=>nL,input:()=>WA,link:()=>sL,listItem:()=>KT,lists:()=>JT,markdown:()=>cL,menu:()=>VA,menuItem:()=>XA,navButton:()=>tT,pageHeader:()=>nE,popup:()=>fE,progressbar:()=>oT,section:()=>mE,select:()=>cT,signature:()=>AM,source:()=>VL,struct:()=>QM,switch:()=>hM,tab:()=>yT,table:()=>tN,tableCell:()=>oN,tableRow:()=>rN,tabs:()=>dT,text:()=>XL,textMatch:()=>nM,textNumeric:()=>sM,tocSection:()=>yE,toggle:()=>bT,toggleGroup:()=>xT,tree:()=>uN,treeItem:()=>pN});var gv=N(()=>{kA();TA();NA();IA();jA();UA();YA();JA();nT();sT();uT();hT();vT();wT();kT();OT();BT();RT();_T();UT();YT();QT();ZT();rE();pE();gE();vE();xE();CE();LE();qE();GE();KE();ZE();rL();aL();uL();YL();JL();rM();aM();fM();mM();TM();XM();nN();iN();sN();fN();dN()});function hN(t){t.page.define("default",{view:"switch",content:[{when:"not #.datasets",content:[{view:"h1",className:"no-data-loaded",content:'text:"Discovery.js"'},{view:"markdown",when:"#.meta.description",source:"=#.meta.description"},'html:"<br>"',"preset/upload"]},{content:['page-header{ content: "h1:#.name" }',{view:"struct",expanded:1}]}]})}var mN=N(()=>{});function gN(t){t.page.define("not-found",['alert-warning:"Page `" + name + "` not found"'])}var yN=N(()=>{});var Nu={};te(Nu,{decode:()=>bs,decodeBase64Bytes:()=>kN,encode:()=>vs,encodeBytes:()=>xN});function vs(t){return wN.decode(xN(t))}function xN(t){typeof t=="string"&&(t=I5.encode(t));let e=new Uint8Array(Math.ceil(t.length/3)*4),n=0,i=0,s=0;for(let a=0;a<t.length;a++)for(i=i<<8|t[a],s+=8;s>=6;){let f=i>>(s-=6);e[n++]=yv[f],i-=f<<s}for(s!==0&&(e[n++]=yv[i<<6-s]);n<e.length;)e[n++]=61;return e}function bs(t){return wN.decode(kN(t))}function kN(t){let e=t.length;for(;e>0&&t[e-1]==="=";)e--;let n=new Uint8Array(3*Math.ceil(e/4)),i=0,s=0,a=0;for(let f=0;f<e;f++)if(s=s<<6|bN[t.charCodeAt(f)&255],a+=6,a>8){let p=s>>(a-=8);n[i++]=p,s-=p<<a}return a!==0&&(n[i++]=s),n.subarray(0,(e>>2)*3+(e%4*6>>3))}var vN,yv,bN,I5,wN,vv=N(()=>{vN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yv=new Uint8Array(64),bN=new Uint8Array(256),I5=new TextEncoder,wN=new TextDecoder;for(let t=0;t<vN.length;t++){let e=vN.charCodeAt(t);bN[e]=t,yv[t]=e}});function bv(t,e){return typeof t=="string"?t:e||""}function AN(t){let{query:e,graph:n,view:i,title:s,dzen:a,noedit:f,...p}=typeof t=="string"?{query:t}:t,m=[];return a&&m.push(["dzen"]),f&&m.push(["noedit"]),s&&m.push(["title",s]),e&&m.push(["q",vs(e)]),n&&m.push(["graph",vs(JSON.stringify(n))]),typeof i=="string"&&m.push(i?["v",vs(i)]:["v"]),Object.keys(p||{}).sort().forEach(h=>{SN.includes(h)||m.push([h,h.endsWith("-b64")&&typeof p[h]=="string"?vs(p[h]):p[h]])}),m}function TN(t){let e=Object.fromEntries(t),n={title:e.title||"",query:bs(bv(e.q,"")),graph:JSON.parse(bs(bv(e.graph,""))||"null"),view:"v"in e?bs(bv(e.v,"")):void 0,dzen:"dzen"in e,noedit:"noedit"in e};return Object.keys(e).forEach(i=>{z5.includes(i)||(n[i]=i.endsWith("-b64")&&typeof e[i]=="string"?bs(e[i]):e[i])}),n}function B5(t){return Object.fromEntries(Object.entries(t).filter(([e])=>!SN.includes(e)))}function CN(t,e,n){for(let i of Object.keys(t))if(i!==n&&t[i]!==e[i])return!1;for(let i of Object.keys(e))if(i!==n&&t[i]!==e[i])return!1;return!0}function Du(t,e={}){let n={...t,params:B5(t.params)};return!CN(e,n,"params")||!CN(e.params,n.params)?n:e}var SN,z5,Ou=N(()=>{vv();SN=["query","graph","view","title","dzen","noedit"],z5=["q","graph","v","title","dzen","noedit"]});function F5(t){return t.replace(/\\/g,"\\\\").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/'/g,"\\'")}function R5(t){let{title:e,query:n,view:i}=t,s={title:e,query:n,view:i};return`{
${Object.keys(s).reduce((a,f)=>a.concat(s[f]?`    ${f}: '${F5(s[f])}'`:[]),[]).join(`,
`)}
}`}function j5(t){if(t&&(typeof t=="number"||typeof t=="string")){let e=new Date(t);return isNaN(e)?null:e}return t instanceof Date?t:null}function EN(t){let e=j5(t);return e?e.toISOString().replace(/^(\d{4})-(\d{2})-(\d{2})T([\d:]+).*/,"$3/$2/$1 $4 UTC"):null}function LN(t,e){let n,i,s,a,f=new t.view.Popup({render:(g,v,w)=>t.view.render(g,{view:"menu",data:[{text:"Copy page permalink",disabled:!t.action.has("permalink"),action:async()=>Tn(await t.action.call("permalink",t.pageHash))},{text:"Copy page hash",action:()=>Tn(t.pageHash)},{text:"Copy page as JSON",action:()=>Tn(R5(t.pageParams))}],onClick(k){w(),k.action()}})}),p=Q("div","discovery-actions",[a=Q("button",{class:"edit-mode discovery-hidden-in-dzen",title:"Toggle edit mode",onclick:({target:g})=>{g.blur(),e({noedit:!t.pageParams.noedit})}}),Q("button",{class:"share",title:"Sharing",onclick:({target:g})=>{g.blur(),f.show(g)}}),Q("button",{class:"toggle-fullscreen",title:"Toggle full page mode",onclick:({target:g})=>{g.blur(),e({dzen:!t.pageParams.dzen})}})]),m=g=>{g.parentNode.dataset.title=g.value||g.placeholder},h=Q("div","discovery-header",[Q("div",{class:"discovery-header-text","data-title":"\xA0"},[n=Q("input",{class:"discovery-hidden-in-dzen",placeholder:"Untitled discovery",oninput:({target:g})=>{m(g)},onchange:({target:g})=>{m(g),e({title:g.value},!0)},onkeypress:g=>{(g.charCode===13||g.keyCode===13)&&g.target.blur()}}),Q("span","timestamp",[i=Q("span",null,"&nbsp;"),s=Q("span")])])]);return{el:[p,h],render(g,v){let{title:w,noedit:k}=v.params,S=EN(v.datasets?.[0]?.resource?.createdAt);n.value=w,m(n),a.classList.toggle("disabled",k),i.innerText=S?"Data collected at "+S+" | ":"",s.innerText="Rendered at "+EN(new Date)}}}var MN=N(()=>{pt();tl()});function NN(t,e,n){return t.length?`${t.length} ${t.length===1?e:n}`:"empty"}function wv(t){return Array.isArray(t)?`Array (${NN(t,"element","elements")})`:t&&typeof t=="object"?`Object (${NN(Object.keys(t),"entry","entries")})`:`Scalar (${t===null?"null":typeof t})`}function xv(t,e){let n=document.createElementNS("http://www.w3.org/2000/svg",t);if(e)for(let[i,s]of Object.entries(e))n.setAttribute(i,s);return n}function _5(t,e,n){function i(){return t.appendChild(Q("div","query-graph-box"))}function s(f,p,m,h){Array.isArray(h)||(h=[]),f||(f=i());let g=h.length===1,v=h.length>1,w=f.appendChild(Q("div",{"data-path":m.join(" "),class:`query-graph-node${g?" target":v?" current":""}`}));if(n.view.attachTooltip(w,{className:"query-graph-tooltip",content:g?'badge:"Current query"':{view:"source",data:p.query?{syntax:"jora",content:p.query||"",lineNum:!1}:{content:"<empty query>",lineNum:!1}}}),Array.isArray(p.children))for(let k=0;k<p.children.length;k++){let S=s(f.nextSibling,p.children[k],m.concat(k),h[1]===k?h.slice(1):[]);a.push([w,S])}return w}let a=[];for(let f=0;f<e.children.length;f++)s(t.firstChild,e.children[f],[f],e.current[0]===f?e.current:[]);requestAnimationFrame(()=>{let f=t.appendChild(xv("svg"));for(let[p,m]of a){let h=$n(p,f),g=$n(m,f),v=h.right-2,w=h.top+h.height/2,k=g.left+2,S=g.top+g.height/2,P=(k-v)/3;f.append(w===S?xv("line",{stroke:"#888",x1:v,y1:w,x2:k,y2:S}):xv("path",{stroke:"#888",fill:"none",d:`M ${v} ${w} C ${v+2*P} ${w} ${k-2*P} ${S} ${k} ${S}`}))}})}function H5(t){Array.isArray(t.current)||(t.current=[]),t.current.length===0&&t.current.push(0),Array.isArray(t.children)||(t.children=[]),t.children.length===0&&t.children.push({})}function Pu(t,e){let n=[t],i=t;for(let s=0;s<e.length;s++)i=i.children[e[s]],n.push(i);return n}function DN(t,e){let n=!1,i=NaN,s=!1,a=NaN,f,p,m=null,h,g=null,v=null,w=[],k={},S,P=(se,be,pe,me)=>t.querySuggestions(se,be,pe,me),M=new t.view.QueryEditor(P).on("change",se=>S.checked&&e({query:se},!0)),A=t.getQueryEngineInfo(),T=Q("div","query-graph-actions"),L=Q("div","buttons"),O=Q("div","query-input"),z=Q("div","query-input-details"),B=Q("div","data-query-result"),H=Q("div","data-query-result-details"),W=Q("div","query-graph"),U=Q("div","query-path"),fe=Q("div","form query-editor-form",[W,U,Q("div","query-editor",[M.el])]);M.inputPanelEl.append(T,O,z,Q("a",{class:"view-link query-engine",href:A.link,target:"_blank"},[`${A.name} ${A.version||""}`])),M.outputPanelEl.append(B,L,H);let G=(se,be=se)=>({position:"trigger",className:"hint-tooltip",showDelay:!0,content:{view:"context",data:()=>m.current.length<2?be:se,content:"text"}});t.view.render(T,[{view:"button",className:"subquery",tooltip:G("Create a new query for a result of current one"),onClick(){ne(({nextGraph:se,last:be})=>(Array.isArray(be.children)||(be.children=[]),be.query=f,be.view=p,se.current.push(be.children.push({})-1),{query:"",view:void 0,graph:se}))}},{view:"button",className:"stash",tooltip:G("Stash current query and create a new empty query for current parent","Stash current query and create a new empty query"),onClick(){ne(({nextGraph:se,last:be,preLast:pe})=>(be.query=f,be.view=p,se.current[se.current.length-1]=pe.children.push({})-1,{query:"",view:void 0,graph:se}))}},{view:"button",className:"clone",tooltip:G("Clone current query"),onClick(){ne(({nextGraph:se,last:be,preLast:pe})=>(be.query=f,be.view=p,se.current[se.current.length-1]=pe.children.push({})-1,{graph:se}))}},{view:"button",className:"delete",tooltip:G("Delete current query and all the descendants"),onClick(){ne(({nextGraph:se,last:be,preLast:pe})=>{let me=pe.children.indexOf(be),Ae=pe.query;if(pe.children.splice(me,1),pe.children.length===0&&(pe.children=void 0),se.current.pop(),se.current.length===0){let we=Math.max(0,Math.min(me-1,(se.children?.length||0)-1));se.current.push(we),Ae=se.children?.[we]?.query}return{query:Ae,graph:se}})}}]),L.append(Q("label","view-checkbox",[S=Q("input",{class:"live-update",type:"checkbox",checked:!0,onchange:se=>{se.target.checked&&e({query:M.getValue()},!0)}}),Q("span","view-checkbox__label","process on input")])),t.view.render(L,{view:"button-primary",content:'text:"Process"',onClick:()=>{w=w.slice(0,m.current.length-1),e({query:M.getValue()},!0),t.scheduleRender("page")}}),U.addEventListener("click",se=>{let be=[...U.children].indexOf(se.target.closest(".query-path > *"));be!==-1&&ne(({nextGraph:pe,currentPath:me,last:Ae})=>{Ae.query=f,pe.current=pe.current.slice(0,be+1),e({query:me[be+1].query,graph:pe})})}),W.addEventListener("click",se=>{let be=se.target.dataset.path;typeof be=="string"&&be!==m.current.join(" ")&&ne(({nextGraph:pe,last:me})=>{let Ae=be.split(" ").map(Number),we=Pu(pe,Ae),Ce=we[we.length-1],ze=Ce.query,it=Ce.view;return Ce.query=void 0,Ce.view=void 0,me.query=f,me.view=p,pe.current=Ae,{query:ze,view:it,graph:pe}})});function ne(se){let be=JSON.parse(JSON.stringify(m)),pe=Pu(be,be.current),me=pe[pe.length-1],Ae=pe[pe.length-2],we=se({nextGraph:be,currentPath:pe,last:me,preLast:Ae});e(we),setTimeout(()=>{M.focus(),M.cm.setCursor(M.cm.lineCount(),0)},0)}function D(se){let be=setTimeout(se,16);return()=>clearTimeout(be)}function ie(se){O.innerHTML="",O.append(Q("div",{class:"query-input-data",onclick(){n=n==="data"?!1:"data",oe(se)}},[Q("span",{class:"query-input-variable","data-name":"input"},["@"]),se.state==="awaiting"?"Computing...":se.state==="canceled"?"Not available (undefined)":wv(se.data)]),Q("div",{class:"query-input-context",onclick(){n=n==="context"?!1:"context",oe(se)}},[Q("span",{class:"query-input-variable","data-name":"context"},["#"]),se.state==="awaiting"?"Computing...":se.state==="canceled"?"Not available (undefined)":wv(se.context)])),oe(se)}function oe(se){if(M.inputPanelEl.classList.toggle("details-expanded",n),O.dataset.details=n,n){let be=se.state!=="awaiting"&&se.state!=="canceled"?se[n]:NaN;be!==i&&(i=be,se.state==="awaiting"?z.textContent="Computing...":se.state==="canceled"?z.textContent="Not available because one of ancestor queries failed":(z.innerHTML="",t.view.render(z,[{view:"struct",expanded:1}],i)))}else i=NaN,z.innerHTML=""}function Ee(se,be,pe){pe||(pe=be,be=null);let me=[Q("span","query-output-message",Array.isArray(pe)?pe:[pe])];be&&me.unshift(Q("span","query-output-prelude",[be])),B.replaceChildren(Q("div",{class:"query-result-data"+(se.state==="failed"?" error":""),onclick(){s=!s,st(se)}},me))}function et(se){switch(g&&(g.clear(),g=null),se.state){case"canceled":{M.setValue(se.query),Ee(se,"Result","Not available");break}case"awaiting":{M.setValue(se.query),Ee(se,"Avaiting...");break}case"computing":{M.setValue(se.query,se.data,se.context),Ee(se,"Computing...");break}case"successful":{M.setValue(se.query,se.data,se.context),Ee(se,"Result",[wv(se.computed),` in ${parseInt(se.duration,10)}ms`]);break}case"failed":{let{error:be}=se,pe=be?.details?.loc?.range,me=M.cm.doc;if(Array.isArray(pe)&&pe.length===2){let[Ae,we]=pe;g=be.details?.token==="EOF"||Ae===we||se.query[Ae]===`
`?me.setBookmark(me.posFromIndex(Ae),{widget:Q("span","discovery-editor-error"," ")}):me.markText(me.posFromIndex(Ae),me.posFromIndex(we),{className:"discovery-editor-error"})}M.setValue(se.query,se.data,se.context),Ee(se,"Error",[be.message.split(/\n/)[0].replace(/^(Parse error|Bad input).+/s,"Parse error")]);break}}st(se)}function st(se){if(M.outputPanelEl.classList.toggle("details-expanded",s),s){let be=se.state!=="awaiting"&&se.state!=="canceled"&&se.state!=="computing"?se.error||se.computed:NaN;if(be!==a)switch(a=be,se.state){case"awaiting":H.innerHTML='<div class="state-message">Awaiting for all of ancestor queries done<div>';break;case"canceled":H.innerHTML='<div class="state-message">Not available because one of ancestor queries failed<div>';break;case"failed":H.innerHTML='<div class="discovery-error query-error">'+Ft(se.error.message)+"</div>";break;case"successful":H.innerHTML="",t.view.render(H,{view:"struct",expanded:1},a);break}}else a=NaN,H.innerHTML=""}function Rt(se){let be=se.path.join(" "),pe=W.querySelector(`[data-path="${be}"]`);pe&&(pe.dataset.state=se.state),w[m.current.length-1]===se&&(ie(se),et(se))}function Fn(se,be,pe,me){v&&(v.cancel(),v.computation.state="canceled",v=null);let Ae=!1;if(me)for(let we=se;we<m.current.length;we++){let Ce=w[we];Ce.state!=="computing"&&Rt(Ce)}for(let we=se;we<m.current.length;we++){let Ce=w[we],ze=we===m.current.length-1;if(Ce.state==="awaiting"&&(Ce.state="computing"),Ce.state==="failed"?Ae=!0:Ae&&(Ce.state="canceled"),Ce.state!=="computing"){if(be=Ce.computed,pe=Ce.context,Rt(Ce),ze)return Promise.resolve(Ce);continue}return new Promise((it,fn)=>{Ce.data=be,Ce.context=pe,Rt(Ce),v={computation:Ce,cancel:D(()=>{let pn=Date.now();v=null;try{Ce.computed=t.query(Ce.query,Ce.data,Ce.context),Ce.state="successful"}catch(Pt){Ce.error=Pt,Ce.state="failed"}Ce.duration=Date.now()-pn,Fn(we,be,pe).then(it,fn)})}})}}function At(se,be){let pe=Pu(m,m.current).slice(1),me=-1,Ae=null;for(let we=0;we<m.current.length;we++){let Ce=pe[we],ze=w[we]||{},fn=we===m.current.length-1?f:Ce.query,pn=m.current.slice(0,we+1);if(me===-1&&ze.query===fn&&ze.data===se&&ze.context===be&&String(ze.path)===String(pn)){se=ze.computed,Ae=ze.error;continue}let Pt=w[we]={state:"awaiting",path:m.current.slice(0,we+1),query:fn,data:void 0,context:void 0,computed:void 0,error:null,duration:0};if(Ae){Pt.state="canceled";continue}if(me===-1){me=we,Pt.state="computing",Pt.data=se,Pt.context=be;continue}}return me!==-1?w.slice(me,m.current.length):[]}return{el:fe,perform(se,be){let pe=Du(be,h),me=be.params.query,Ae=be.params.view,we={...be.params.graph||k};H5(we),T.classList.toggle("root",we.current.length<2),W.innerHTML="",_5(W,we,t),U.innerHTML="";for(let Ce of Pu(we,we.current).slice(1,-1))U.append(Q("div","query",Ce.query||""));return m=we,h=pe,f=me,p=Ae,At(se,pe),Fn(0,se,pe,!0)}}}var ON=N(()=>{pt();nr();Zi();Ou()});function Iu(t){return!!(t&&t.nodeType===Node.TEXT_NODE)}function kv(t,e=`
`){let n="";for(let i of t.childNodes)!Iu(i)&&i.previousSibling&&!Iu(i.previousSibling)&&(n+=e),n+=q5(i,e);return n}function q5(t,e=`
`){switch(t.nodeType){case Node.ELEMENT_NODE:let[n,i=""]=t.cloneNode().outerHTML.split(/(?=<\/[^>]+>$)/);return n+(t.firstChild&&!Iu(t.firstChild)?e+"  ":"")+kv(t,e+"  ")+(t.lastChild&&!Iu(t.lastChild)?e:"")+i;case Node.TEXT_NODE:return t.nodeValue;case Node.COMMENT_NODE:return"<!--"+t.nodeValue+"-->";case Node.DOCUMENT_FRAGMENT_NODE:return kv(t,e)}return""}function PN(t,e){let n=[],i=[...Array.isArray(t.highlight)?t.highlight:t.highlight?[t.highlight]:[]];Array.isArray(t.highlightProps)&&i.push(`(")?(?:${t.highlightProps.join("|")})\\1(?=:)`);for(let s of i){let a=new RegExp(s,"gm"),f;for(;f=a.exec(e);)n.push({range:[f.index,f.index+f[0].length]})}return n}function zu(t){let e={view:"context",modifiers:[{view:"switch",when:"beforeDemo",content:[{when:({beforeDemo:n})=>typeof n=="string",content:'html:"<p>" + beforeDemo + "</p>"'},{content:{view:"render",config:"beforeDemo",context:"{ __demoContext: true, ...(viewDef | { name, group, options }) }"}}]},{view:"block",when:"demo or view",className:"usage-render",postRender:(n,{onInit:i},{demoFixed:s})=>{s&&(n.classList.add("demo-fixed"),n.style.height=s+"px"),i(n,"root")},content:{view:"render",config:"demo or view",data:"demoData",context:"{ __demoContext: true, ...(viewDef | { name, group, options }) }"}},{view:"switch",when:"afterDemo",content:[{when:({afterDemo:n})=>typeof n=="string",content:'html:"<p>" + afterDemo + "</p>"'},{content:{view:"render",config:"afterDemo",context:"{ __demoContext: true, ...(viewDef | { name, group, options }) }"}}]}],content:{view:"tabs",when:"source != false",className:"usage-sources",name:"code",tabs:[{value:"config",text:"Config (JS)"},{value:"config-json",text:"Config (JSON)"},{value:"html",text:"Rendered HTML"}],content:{view:"switch",content:[{when:'#.code="config"',content:[{view:"expand",when:'"demoData" in $',header:'text:"Input data"',content:{view:"struct",expanded:2,data:"demoData"}},{view:"source",className:"first-tab",data:n=>{let i=Ai(n.demo||n.view);return{syntax:"discovery-view",content:i,refs:PN(n,i)}}}]},{when:'#.code="config-json"',content:[{view:"expand",when:'"demoData" in $',header:'text:"Input data"',content:{view:"struct",expanded:2,data:"demoData"}},{view:"source",data:n=>{let i=JSON.stringify(n.demo||n.view,null,4);return{syntax:"json",content:i,refs:PN(n,i)}}}]},{when:'#.code="html"',content:{view:"source",data:(n,i)=>({syntax:"html",content:kv(i.root)})}}]}}};return{view:"block",className:"discovery-view-usage",data({name:n,options:i},s){let a=[...t.view.values].filter(f=>f.options.usage===i.usage).map(f=>f.name);return a.includes(n)||a.unshift(n),s.viewDef={demo:{view:n,data:'"'+n+'"'},...typeof i.usage=="function"?i.usage(n,a):Array.isArray(i.usage)?{examples:i.usage}:i.usage,name:n,group:a,options:i}},content:["h1:name",e,{view:"list",data:"examples",whenData:!0,itemConfig:{className:"usage-section"},item:["h2{ anchor: true, data: title }",e]}]}}var Cv=N(()=>{rl()});function W5(t,e,n){return Q("div",{class:"discovery-editor-tab",onclick:()=>n({view:e})},t||"Untitled preset")}function BN(t,e){let n={},i=Array.isArray(t.options.viewPresets)?zN.concat(t.options.viewPresets):zN,s,a,f,p,m,h,g=new t.view.ViewEditor(t).on("change",S=>h.checked&&e({view:S},!0)),v=Q("div","buttons"),w=Q("div","form view-editor-form",[Q("div","view-editor-form-header",[Q("div","discovery-editor-tabs view-mode",m=["Default","Custom"].map(S=>Q("div",{class:"discovery-editor-tab","data-mode":S.toLowerCase(),onclick:()=>e({view:S==="Default"?void 0:IN},!0)},S))),Q("div","discovery-editor-tabs presets",i.map(({name:S,content:P})=>W5(S,P,e))),Q("div","view-editor-form-header-links",'<a href="#views-showcase" class="view-link">Views showcase</a>')]),s=Q("div",{class:"view-editor-form-content",hidden:!0},[Q("button",{class:"view-button formatting",title:"Prettify (input should be a JSON)",onclick(){g.focus();try{let S=g.getValue().trim(),P=new Function("return 0,"+S)();e({view:Ai(P)})}catch(S){t.log("error","View editor prettify failed:",S)}}}),g.el,Q("div","editor-toolbar",[a=Q("div","view-expand",[Q("div",{class:"header",onclick:()=>{a.classList.toggle("expanded"),p.classList.toggle("visible")}},[f=Q("div","header-content"),Q("div","trigger")]),p=Q("div","view-editor-view-list")]),Q("label","view-checkbox",[h=Q("input",{class:"live-update",type:"checkbox",checked:!0,onchange:S=>{S.target.checked&&e({view:g.getValue()},!0)}}),Q("span","view-checkbox__label","build on input")]),v])])]);t.view.render(v,{view:"button-primary",content:'text:"Build"',onClick:()=>{n={},e({view:g.getValue()},!0),t.scheduleRender("page")}}),new t.view.Popup({className:"view-editor-view-list-hint",hoverTriggers:".view-editor-view-list .item.with-usage",render:function(S,P){t.view.render(S,zu(t),t.view.get(P.textContent),{})}}),f.textContent=`Available ${[...t.view.entries].filter(([,S])=>S.options.usage).length} views`;let k=()=>p.innerHTML='<a href="#views-showcase" class="view-link">Views showcase</a><br><br>'+[...t.view.entries].sort().map(([S,P])=>`<div><a class="item view-link${P.options.usage?" with-usage":""}" ${P.options.usage?'href="#views-showcase:'+S+'"':""}>${S}</a></div>`).join("");return k(),t.view.on("define",ni(k,100)),{el:w,render(S,P,M){let A=Du(P,n.context),T=typeof P.params.view=="string"?"custom":"default",L=P.params.view,O=null;if(g.setValue(L),s.hidden=T!=="custom",m.forEach(z=>z.classList.toggle("active",z.dataset.mode===T)),!L&&T==="default"&&(L=IN),n.view!==L||n.data!==S||n.context!==A){M.innerHTML="";try{O=Function("return "+(L?"0,"+L:"null"))(),t.view.render(M,O,S,A)}catch(z){t.view.render(M,B=>{B.className="discovery-error render-error",B.innerHTML=Ft(String(z))+"<br>(see details in console)",t.log("error",z)})}n={data:S,context:A,view:L}}}}}var IN,zN,FN=N(()=>{Ka();pt();nr();rl();Ou();Cv();IN=`{
    view: 'struct',
    expanded: 1
}`,zN=[{name:"Table",content:Ai({view:"table"})},{name:"Auto-link list",content:Ai({view:"ol",item:"auto-link"})},{name:"Signature",content:Ai({view:"signature",expanded:2})}]});function RN(t){function e(a,f){return t.setPageParams({...t.pageParams,...a},f)}function n(){if(i!==null)return i;let a=LN(t,e),f=DN(t,e),p=BN(t,e),m=Q("div",{class:"discovery-editor discovery-hidden-in-dzen",hidden:!0},[f.el,p.el]),h=Q("div","discovery-render-content"),g=[...a.el,m,h];return i={header:a,queryEditor:f,viewEditor:p,discoverEditorEl:m,discoverContentEl:h,layout:g}}let i=null,s=null;t.page.define("discovery",function(a,f,p){let{header:m,queryEditor:h,viewEditor:g,discoverEditorEl:v,discoverContentEl:w}=n();v.hidden=p.params.noedit,m.render(f,p);let k=s={};h.perform(f,p).then(S=>{if(s===k){if(S.error){g.el.hidden=!0,w.hidden=!0;return}g.el.hidden=!1,w.hidden=!1,g.render(S.computed,p,w)}})},{reuseEl:!0,init(a){n().layout.forEach(f=>a.appendChild(f))},encodeParams:AN,decodeParams:TN})}var jN=N(()=>{pt();Ou();MN();ON();FN()});function _N(t){t.page.define("views-showcase",{view:"context",data:()=>[...t.view.values],modifiers:[{view:"block",className:"sidebar",content:{view:"content-filter",content:{view:"menu",name:"view",limit:!1,data:`
                            .[name ~= #.filter]
                            .sort(name asc)
                            .({ ..., disabled: no options.usage })
                        `,item:"text-match:{ text: name, match: #.filter }"}}}],content:{view:"block",className:"content",data:"$[=> name=(#.view.name or #.id)]",content:{view:"switch",content:[{when:"no $ and #.id",content:'alert-warning:"View \\"" + #.id + "\\" not found"'},{when:"no $",content:['h1:"Views showcase"','alert:"\u2190 Select a view to get details"',{view:"markdown",source:U5}]},{content:[{view:"context",postRender:function(e,n,i,s){t.setPageRef(i.name),t.cancelScheduledRender(),s.id=t.pageRef}},zu(t)]}]}}},{sidebar:!1})}var U5,HN=N(()=>{Cv();U5=`
## Working with views

In Discovery.js, a presentation is set up as a tree of views.
There are several ways to define a view, each suitable for different cases.
The primary notation is an object, and all other notations are converted to it.
The only required property is \`view\`, which defines the view's name. Any other properties are optional.

\`\`\`discovery-view
{
    view: "view-name"
}
\`\`\`

The following properties are supported by any view:

- \`when\`: Controls view rendering (should it be rendered or not) before input data is transformed (\`data\` is applied).
- \`data\`: Transforms input data for the view and its nested views.
- \`whenData\`: Controls view rendering after input data is transformed.
- \`className\`: Adds class name(s) to the root element of the view if any.
- \`postRender\`: A function to be invoked after view rendering but before placing it in the destination place in the DOM.
- \`tooltip\`: Sets up a tooltip to show on view hovering; can be applied for views with a container only.

The order of evaluation during view rendering:

\`\`\`js
                          input data | output data (the result of "data" evaluation if any)
                                     |
render start ---> [when] --> [data] -|-> [whenData] --> [postRender] --> [className] --> render finish
                                     |
\`\`\`

When the \`data\` property is specified, it changes the flow's data according to the following rules:

- A string: Treated as a query whose result is used as the output data.
- A function like \`fn(data, context)\`: The result of the function invocation is used as the output data.
- Any other value is used as the output data.

> Note: Only \`when\` and \`data\` properties receive input data; any other functions and queries receive the result of the \`data\` property evaluation. When \`data\` is not specified, all queries and functions receive the same input data.

Properties \`when\` and \`whenData\` can take:

- A string: Treated as a query.
- \`true\`: Treated as an empty query, which means that the data itself is examined with no transformation.
- \`undefined\`: Same as when not specified; just render (ignore the property).
- A function like \`fn(data, context)\`.
- Any other value is used as is.

Regardless of how the value is obtained, it is coerced to a boolean.
Please note that Jora rules are used, which means that empty arrays and objects with no own keys are falsy (truthy in JavaScript).
The view is only rendered if the resulting value is truthy.

## Queries for properties

In some cases, it is necessary to compute the value of a property based on the data.
To do this, you can use a string value for a property that starts with \`=\`.
This means that everything after the \`=\` is a query that will take output data and produce a value for the property.
Other values are passed to the view render as is, without any changes.

For example, limit the number of items rendered at once only if there are more than 12 items:

\`\`\`discovery-view
{
    view: 'list',
    limit: '=size() <= 12 ? false : 10'
}
\`\`\`

> Note: In those rare cases when you need to pass a property a string that starts with \`=\`, you can use a query like \`"=some string"\`, e.g., \`{ view: 'example', prop: '="=string="' }\`.

## Shorthand notations

| Shorthand notation | Expands into... |
| --- | --- |
| \`'name'\` | \`{ view: 'name' }\`
| \`'name:<query>'\` | \`{ view: 'name', data: '<query>' }\`
| \`'name{ foo: size() / 2, bar: "qux" }'\` | \`{ view: 'name', foo: '=size() / 2', bar: 'qux' }\`

## List of views

If you need to specify a list of views, you must use an array.
An array with view definitions can be passed anywhere a view is accepted as a value.

\`\`\`discovery-view
[
    {
        view: 'list',
        item: [
            'text:name',
            { view: 'badge', data: 'something.size()' }
        ]
    },
    'table{ limit: 10 }'
]
\`\`\`

## Tooltip

A canonical form for a tooltip setup is an object with fields (all are optional, defaults provided below):

\`\`\`js
{
    className: 'string',     // additional class names for tooltip's element
    position: 'pointer',     // 'trigger' or 'pointer'
    positionMode: 'natural', // 'safe' or 'natural'
    pointerOffsetX: 3,       // tooltip offset from the pointer
    pointerOffsetY: 3,       // tooltip offset from the pointer
    showDelay: true,         // true (300ms), false (0ms), a number, or a function which takes a triggerEl and returns showDelay value
    content: 'a view config' // view config for tooltip's content
}
\`\`\`

Instead of such an object, any view notation can be used, i.e., a string, an object with a \`view\` property, an array, or a function:

| Shorthand notation | Expands into... |
| --- | --- |
| \`'name'\` | \`{ content: 'name' }\`
| \`{ view: 'name' }\` | \`{ content: { view: 'name' } }\`
| \`['view', { view: 'name' }]\` | \`{ content: ['view', { view: 'name' }] }\`

The content is rendered into a popup container. When \`className\` is used, it behaves the same as for a view but applies to a popup container.
`});var Bu={};te(Bu,{default:()=>hN,discover:()=>RN,notFound:()=>gN,viewsShowcase:()=>_N});var Sv=N(()=>{mN();yN();jN();HN()});function qN(t){t.nav.append({name:"index-page",when:"#.widget | pageId != defaultPageId",data:'{ text: "Index", href: pageLink(#.widget.defaultPageId) }'})}function WN(t){t.nav.append({name:"discovery-page",when:"#.widget | pageId != discoveryPageId",data:'{ text: "Discover", href: pageLink(#.widget.discoveryPageId) }'})}function UN(t){t.nav.append({name:"load-data",when:"#.actions.uploadFile and (#.datasets or (#.widget | pageId != defaultPageId))",content:'text:"Open file\u2026"',onClick:"=#.actions.uploadFile"})}function $N(t){let e=()=>{};t.nav.menu.append({view:"block",className:["toggle-menu-item","dark-mode-switcher"],name:"dark-mode",when:'#.widget | darkmode.mode not in ["disabled", "only"]',postRender:(n,i,s,{widget:a,hide:f})=>{let p;e(),e=a.darkmode.subscribe((m,h)=>{let g=h==="auto"?"auto":m;g!==p&&(n.innerHTML="",p=g,a.view.render(n,{view:"toggle-group",beforeToggles:'text:"Color schema"',onChange:v=>{p=v,a.darkmode.set(v),f()},value:g,data:()=>[{value:!1,text:"Light"},{value:!0,text:"Dark"},{value:"auto",text:"Auto"}]},null,{widget:a}))},!0)}})}function GN(t){let n=null,i=0;t.nav.append({name:"inspect",tooltip:{position:"trigger",showDelay:!0,content:'md:"**Enable view inspection**<br>To suspend enabling inspect mode by 3 seconds,<br>click the button with Cmd (\u2318) or Ctrl-key"'},onClick:(s,a,f,p)=>{!t.inspectMode.value&&(p.metaKey||p.ctrlKey)?(n===null&&(i=0,n=setTimeout(function m(){i--,i===0?(n=null,delete s.dataset.suspendSeconds,t.inspectMode.set(!0)):(n=setTimeout(m,1e3),s.dataset.suspendSeconds=String(i))},1e3)),i+=3,s.dataset.suspendSeconds=String(i)):n!==null?(clearTimeout(n),n=null,delete s.dataset.suspendSeconds):(t.view.tooltip?.hide(),t.inspectMode.set(!t.inspectMode.value))}})}var Tv=N(()=>{});var ol,Fu,Ev=N(()=>{pt();hu();_m();Tv();ol=class{items;host;baseConfig;constructor(e,n){this.host=e,this.baseConfig=n,this.items=[]}insert(e,n,i){switch(n){case"after":n=this.items.findIndex(a=>a.name===i),n===-1?n=this.items.length:n++;break;case"before":n=this.items.findIndex(a=>a.name===i),n===-1&&(n=this.items.length);break;default:(n===void 0||isNaN(n)||!isFinite(n))&&(n=this.items.length)}n=Math.max(0,Math.min(this.items.length,n));let s=this.host.view.composeConfig(this.baseConfig,e);this.items.splice(n,0,s)}prepend(e){this.insert(e,0)}append(e){this.insert(e)}before(e,n){this.insert(n,"before",e)}after(e,n){this.insert(n,"after",e)}replace(e,n){let i=this.items.findIndex(s=>s.name===e);i!==-1?this.items[i]=this.host.view.composeConfig(this.baseConfig,n):this.insert(n)}remove(e){let n=this.items.findIndex(i=>i.name===e);if(n!==-1)return this.items.splice(n,1)[0]}},Fu=class extends ol{host;popup;data;context;config;primary;secondary;menu;contentRect;constructor(e,n="nav-button"){super(e,n);let i=Q("div","powered-by-discoveryjs",["powered by ",Q("a",{class:"view-link",href:"https://github.com/discoveryjs/discovery",target:"_blank"},"Discovery.js"),` ${jm}`]);this.host=e,this.popup=null,this.data=null,this.context=null,this.primary=new ol(e,"nav-button"),this.secondary=this,this.menu=new ol(e,"menu-item"),this.config=[this.secondary.items,{view:"nav-button",name:"burger",whenData:!0,data:async()=>{let s=Xi();return await this.host.view.render(s,this.menu.items,this.host.data,{...this.context,hide:()=>this.popup?.hide()}),[...s.childNodes].filter(a=>a.nodeType===1||a.nodeType===3)},onClick:(s,a)=>{let f=this.popup||new this.host.view.Popup({className:"discovery-nav-popup"});this.popup||(this.popup=f,f.el.addEventListener("click",({target:p})=>{p.closest("a[href]")&&setTimeout(()=>f.hide(),50)},!0)),f.toggle(s,p=>p.append(...a,i))}},this.primary.items],this.contentRect=new eo,this.contentRect.subscribe(s=>{let{container:a}=e.dom;if(a&&s){let{width:f,height:p}=s;a.style.setProperty("--discovery-nav-width",f+"px"),a.style.setProperty("--discovery-nav-height",p+"px")}})}render(e,n,i){this.contentRect.observe(e),e&&(this.data=n,this.context={...i,widget:this.host},this.host.view.setViewRoot(e,"nav",{config:this.config,data:this.data,context:this.context}),e.innerHTML="",this.host.view.render(e,this.config,this.data,this.context))}}});function Lv(t,e,n){n?t.dataset[e]=n:delete t.dataset[e]}function V5(t,e,n,i){let s=t.page.get(e)?.options;return s!==void 0&&Object.hasOwn(s,n)?s[n]:i}function VN(t,e,n,i){let s=V5(t,e,n,i);return typeof s=="function"?s:i}var ws,$5,G5,sl,Mv=N(()=>{Na();pt();fy();su();vy();V1();aA();lA();Qi();My();gv();Sv();Ev();cy();ws=new WeakMap,$5=t=>t,G5=t=>Object.fromEntries(t);sl=class extends qa{darkmode;inspectMode;view;nav;preset;page;annotations;defaultPageId;discoveryPageId;reportToDiscoveryRedirect;pageId;pageRef;pageParams;pageHash;dom;queryExtensions;constructor(e){let{extensions:n,logLevel:i,darkmode:s="disabled",darkmodePersistent:a=!1,defaultPage:f,defaultPageId:p,discoveryPageId:m,reportToDiscoveryRedirect:h=!0,inspector:g=!1}=e||{};super({...e,logLevel:i||"perf",extensions:void 0}),this.darkmode=new uu(s,a),this.inspectMode=new Un(!1),this.initDom(),this.action.on("define",()=>{this.context&&(this.scheduleRender("sidebar"),this.scheduleRender("page"))}).on("revoke",()=>{this.context&&(this.scheduleRender("sidebar"),this.scheduleRender("page"))}),this.view=new $a(this),this.nav=new Fu(this),this.preset=new Ga(this.view),this.page=new Ua(this,this.view).on("define",v=>{if(this.pageId===v&&this.pageHash!=="#"){let w=this.pageHash;this.pageHash="#",this.setPageHash(w),this.cancelScheduledRender()}}),ws.set(this,new Set),this.defaultPageId=p||"default",this.discoveryPageId=m||"discovery",this.reportToDiscoveryRedirect=!!h,this.pageId=this.defaultPageId,this.pageRef=null,this.pageParams={},this.pageHash=this.encodePageHash(this.pageId,this.pageRef,this.pageParams),this.annotations=[],this.apply(Mu),this.apply(Bu),this.apply(n),f&&this.page.define(this.defaultPageId,f),g&&this.apply(Ly);for(let{name:v,page:w,lookup:k}of this.objectMarkers.values)w&&!this.page.isDefined(w)&&this.log("error",`Page reference "${w}" in object marker "${v}" doesn't exist`),this.annotations.push({query(S,P){let M=S!==null&&typeof S=="object"?k(S):null;if(M!==null&&M.object!==P.host)return{place:"before",style:"badge",text:v,href:M.href}}});this.nav.render(this.dom.nav,this.data,this.getRenderContext()),this.setContainer(this.options.container)}async setData(e,n,i){i=i||{},await super.setData(e,i),this.context=n||{},(!("render"in i)||i.render)&&(this.scheduleRender("sidebar"),this.scheduleRender("page"))}async setDataProgress(e,n,i){let{dataset:s,progressbar:a}=i||{};this.emit("startSetData",(...f)=>a?.subscribeSync(...f)),await a?.setState({stage:"prepare"}),await this.setData(e,n,{dataset:s,render:!1}),await a?.setState({stage:"initui"}),this.scheduleRender("sidebar"),this.scheduleRender("page"),await Promise.all([this.dom.wrapper.parentNode?this.dom.ready:!0,ws.get(this)?.timer]),await a?.finish()}queryToConfig(e,n){let{ast:i}=ur.syntax.parse(n),s={view:e};if(i.type!=="Block")throw new SyntaxError('[Discovery] Widget#queryToConfig(): query root must be a "Block"');if(i.body.type!=="Object")throw new SyntaxError('[Discovery] Widget#queryToConfig(): query root must return an "Object"');for(let a of i.body.properties){if(a.type!=="ObjectEntry")throw new SyntaxError('[Discovery] Widget#queryToConfig(): unsupported object entry type "'+a.type+'"');let f,p=a.value;switch(a.key.type){case"Literal":f=a.key.value;break;case"Identifier":f=a.key.name,p||=a.key;break;case"Reference":f=a.key.name.name,p||=a.key;break;default:throw new SyntaxError('[Discovery] Widget#queryToConfig(): unsupported object key type "'+a.key.type+'"')}if(f==="view"||f==="postRender")throw new SyntaxError('[Discovery] Widget#queryToConfig(): set a value for "'+f+'" property in shorthand notation is prohibited');f==="when"||f==="data"||f==="whenData"?s[f]=p.type==="Literal"&&typeof p.value!="string"?p.value:ur.syntax.stringify(p):s[f]=p.type==="Literal"&&(typeof p.value!="string"||p.value[0]!=="=")?p.value:"="+ur.syntax.stringify(p)}return s}initDom(){let e=Q("div","discovery init"),n=e.attachShadow({mode:"open"}),i=Wa(n,this.options.styles),s=n.appendChild(Q("div")),a=Q("article"),f=Q("div","discovery-nav discovery-hidden-in-dzen"),p=Q("nav","discovery-sidebar discovery-hidden-in-dzen"),m=Q("main","discovery-content",[a]);this.dom={ready:i,wrapper:e,root:n,container:s,nav:f,sidebar:p,content:m,pageContent:a,detachDarkMode:this.darkmode.subscribe(h=>s.classList.toggle("discovery-root-darkmode",h),!0)},s.classList.add("discovery-root","discovery"),s.append(f,p,m),n.addEventListener("click",h=>{let g=h.target?.closest("a");!g||g.getAttribute("target")||g.origin!==location.origin||g.pathname!==location.pathname||(h.preventDefault(),g.classList.contains("ignore-href")||this.setPageHash(g.hash))},!0),this.dom.ready.then(()=>{getComputedStyle(this.dom.wrapper).opacity,this.dom.wrapper.classList.remove("init")})}setContainer(e){e instanceof HTMLElement?e.append(this.dom.wrapper):this.dom.wrapper.remove()}disposeDom(){typeof this.dom.detachDarkMode=="function"&&(this.dom.detachDarkMode(),this.dom.detachDarkMode=null),this.dom.container.remove(),this.dom=null}addGlobalEventListener(e,n,i){return document.addEventListener(e,n,i),()=>document.removeEventListener(e,n,i)}addHostElEventListener(e,n,i){let s=this.dom.container;return s.addEventListener(e,n,i),()=>s.removeEventListener(e,n,i)}scheduleRender(e){let n=ws.get(this);if(!(n===void 0||n?.has(e))&&(n.add(e),!n.timer))return n.timer=Promise.resolve().then(async()=>{for(let i of n)switch(i){case"sidebar":await this.renderSidebar();break;case"page":await this.renderPage();break}n.timer=null}),n.timer}cancelScheduledRender(e){let n=ws.get(this);n&&(e?n.delete(e):n.clear())}getRenderContext(){return{page:this.pageId,id:this.pageRef,params:this.pageParams,actions:this.action.actionMap,datasets:this.datasets,data:this.data,...this.context}}renderSidebar(){if(ws.get(this)?.delete("sidebar"),this.hasDatasets()&&this.view.isDefined("sidebar")){let e=Date.now(),n=this.data,i=this.getRenderContext();return this.view.setViewRoot(this.dom.sidebar,"sidebar",{data:n,context:i}),this.dom.sidebar.innerHTML="",this.view.render(this.dom.sidebar,"sidebar",n,i).finally(()=>this.log("perf",`Sidebar rendered in ${Date.now()-e}ms`))}}encodePageHash(e,n=null,i){let s=e||this.defaultPageId,f=VN(this,e,"encodeParams",$5)(i||{});return super.encodePageHash(s!==this.defaultPageId?s:"",n,f)}decodePageHash(e){let{pageId:n,pageRef:i,pageParams:s}=super.decodePageHash(e,a=>VN(this,a||this.defaultPageId,"decodeParams",G5));return{pageId:n||this.defaultPageId,pageRef:i,pageParams:s}}setPage(e,n=null,i,s=!1){return this.setPageHash(this.encodePageHash(e||this.defaultPageId,n,i),s)}setPageRef(e=null,n=!1){return this.setPage(this.pageId,e,this.pageParams,n)}setPageParams(e,n=!1){return this.setPage(this.pageId,this.pageRef,e,n)}setPageHash(e,n=!1){let{pageId:i,pageRef:s,pageParams:a}=this.decodePageHash(e);return this.reportToDiscoveryRedirect&&i==="report"&&setTimeout(()=>this.pageId==="report"&&this.setPage("discovery",this.pageRef,this.pageParams,!0)),(this.pageId!==i||this.pageRef!==s||!iu(this.pageParams,a))&&(this.pageId=i,this.pageRef=s,this.pageParams=a,this.scheduleRender("page"),e!==this.pageHash)?(this.pageHash=e,this.emit("pageHashChange",n),!0):!1}renderPage(){ws.get(this)?.delete("page");let e=this.data,n=this.getRenderContext(),{pageEl:i,renderState:s,config:a}=this.page.render(this.dom.pageContent,this.pageId,e,n);return this.view.setViewRoot(i,"Page: "+this.pageId,{inspectable:!1,config:a,data:e,context:n}),this.dom.pageContent=i,this.nav.render(this.dom.nav,e,n),Lv(this.dom.container,"page",this.pageId),Lv(this.dom.container,"dzen",!!this.pageParams.dzen),Lv(this.dom.container,"compact",!!this.options.compact),s.then(()=>{if(this.pageParams["!anchor"]){let f=i.querySelector("#"+CSS.escape("!anchor:"+this.pageParams["!anchor"]));if(f){let p=i.querySelector(".view-page-header");f.style.scrollMargin=p?p.offsetHeight+"px":"",f.scrollIntoView(!0)}}}),s}}});function KN(t){return t=t||{},function(e){let n=!!(t.dragdrop||t.dragdrop===void 0),i=t.accept?String(t.accept):"application/json,application/jsonxl,.json,.jsonxl",s=i.split(",");n&&(e.dom.container.addEventListener("drop",a=>{e.loadDataFromEvent(a)},!0),e.dom.container.addEventListener("dragover",a=>{a.stopPropagation(),a.preventDefault()},!0)),e.preset.define("upload",[{view:"button-primary",onClick:"=#.actions.uploadFile",content:'text:`Open file ${#.actions.uploadFile.fileExtensions | $ ? "(" + join(", ") + ")" : ""}`'},{view:"context",when:"#.actions.uploadFile.dragdrop",content:['html:"<span style=\\"color: #888; padding: 0 1ex\\"> or </span>"','text:"drop a file on the page"']}]),e.action.define("unloadData",()=>{e.unloadData()}),e.action.define("uploadFile",Object.assign(()=>{Q("input",{type:"file",accept:i,onchange:a=>e.loadDataFromEvent(a)}).click()},{fileExtensions:s.filter(a=>YN(a)),mimeTypes:s.filter(a=>!YN(a)),dragdrop:n}))}}var Nv,YN,Dv=N(()=>{pt();Nv=Object.assign(KN(),{setup:KN}),YN=t=>/^\./.test(t)});function Ov(){return[performance.timeOrigin.toString(16),(1e4*performance.now()).toString(16),String(Math.random().toString(16).slice(2))].join("-")}var QN=N(()=>{});function ZN({mode:t,value:e}){return t==="auto"?"auto":e?"dark":"light"}function eD(t){return t=t||{},function(e){let n=null,i=XN,s=()=>{n?.finish(),n=null},a=t.hostId||Ov(),f=window.parent,p=new Map,m=(w,k=null)=>{f.postMessage({from:"discoveryjs-app",id:a,type:w,payload:k},"*")},h=w=>{i=()=>{w!==null&&(i=XN,w())}},g=w=>{(typeof e.trackLoadDataProgress=="function"?e.trackLoadDataProgress(w):w.dataset.then(S=>e.setData(S.data,null,{dataset:S}))).catch(()=>{})},v=w=>{let{id:k,type:S,payload:P}=w.data||{};if(k===a)switch(S){case"defineAction":{let M=P;e.action.define(M,(...A)=>new Promise((T,L)=>{let O=Ov();p.set(O,{resolve:T,reject:L}),setTimeout(()=>{p.delete(O),L(new Error("Timeout"))},3e4),m("action",{callId:O,name:M,args:A})}));break}case"actionResult":{let{callId:M,value:A,error:T}=P;if(!p.has(M)){e.log("error",`[Discovery.js] Unknown action call id "${M}"`);break}let{resolve:L,reject:O}=p.get(M);T?O(T):L(A);break}case"setPageHash":{let{replace:M,hash:A}=P||{};e.setPageHash(A||"",M||!1);break}case"setPage":{let{replace:M,id:A,ref:T,params:L}=P||{};e.setPage(A,T,L,M);break}case"setPageRef":{let{replace:M,ref:A}=P||{};e.setPageRef(A,M);break}case"setPageParams":{let{replace:M,params:A}=P||{};e.setPageParams(A,M);break}case"setDarkmode":{let M=P,A=["auto","light","dark"];if(!A.includes(M)){e.log("warn",`Wrong value for darkmode "${M}", supported values: ${A.map(T=>JSON.stringify(T)).join(", ")}`);break}e.darkmode.set(M==="auto"?"auto":M==="dark");break}case"setRouterPreventLocationUpdate":{e.action.call("setPreventLocationUpdate",!!P);break}case"changeNavButtons":{let{section:M="primary",action:A="append",name:T,position:L,commands:O,config:z}=P||{};if(!JN.includes(M)){e.log("warn",`Wrong value for nav button place "${M}", supported values: ${JN.map(W=>JSON.stringify(W)).join(", ")}`);break}let B=O||{},H=JSON.parse(JSON.stringify(z),(W,U)=>B.includes(U)?()=>m("navMethod",U):U);switch(A){case"insert":e.nav[M].insert(H,L,T);break;case"prepend":case"append":e.nav[M][A](H);break;case"before":case"after":case"replace":e.nav[M][A](T,H);break;case"remove":e.nav[M].remove(T);break;default:e.log("warn",`Wrong value for nav button action "${A}", supported values: ${Y5.map(W=>JSON.stringify(W)).join(", ")}`)}break}case"unloadData":{s(),e.unloadData();break}case"dataStream":{let{stream:M,resource:A}=P;s(),g(as(M,{resource:A}));break}case"startChunkedDataUpload":{let{acceptToken:M,resource:A}=P;s(),n=Object.assign(eu({resource:A}),{acceptToken:M}),g(n);break}case"cancelChunkedDataUpload":{let{acceptToken:M,error:A}=P;n?.acceptToken===M&&s(A)}case"dataChunk":{let{acceptToken:M,value:A,done:T}=P;if(n===null){e.log("warn","Loading data is not inited");break}if(n.acceptToken!==M){e.log("warn","Bad accept token");break}A&&n.push(A),T&&s();break}default:e.log("warn",`Got a post-message addressed to discovery app but with unknown "${S}" type`)}};f!==window&&(e.on("pageHashChange",w=>m("pageHashChanged",{replace:w,hash:e.pageHash||"#",id:e.pageId,ref:e.pageRef,params:e.pageParams})),e.on("startLoadData",w=>{i(),h(w(k=>m("loadingState",k)))}),e.on("startSetData",w=>{i(),h(w(k=>m("loadingState",k)))}),e.on("unloadData",()=>{i(),m("unloadData")}),e.on("data",()=>{m("data")}),e.darkmode.subscribe((w,k)=>m("darkmodeChanged",{mode:k,value:ZN({mode:k,value:w})})),t.postponeMessages&&Promise.resolve().then(()=>{for(let w of t.postponeMessages)v({data:w})}),addEventListener("message",v,!1),addEventListener("unload",()=>m("destroy"),!1),m("ready",{page:{hash:e.pageHash||"#",id:e.pageId,ref:e.pageRef,params:e.pageParams},darkmode:{mode:e.darkmode.mode,value:ZN(e.darkmode)}}))}}var al,XN,JN,Y5,Pv=N(()=>{QN();Ha();al=Object.assign(eD(),{setup:eD}),XN=()=>{},JN=["primary","secondary","menu"],Y5=new Map([["insert",0],["prepend",0],["append",0],["before",1],["after",1],["replace",1],["remove"]])});function Iv(t){let e=!1;t.setPageHash(location.hash),t.cancelScheduledRender(),t.action.define("permalink",n=>new URL(n,String(location)).href),t.action.define("setPreventLocationUpdate",(n=!0)=>{e=n}),window.addEventListener("hashchange",()=>t.setPageHash(location.hash),!1),t.on("pageHashChange",function(n){let i=t.pageHash||"#";e||i==="#"&&!location.hash||(n?location.replace(i):location.hash=i)})}var zv=N(()=>{});function Q5(t,e){let{value:n,title:i,duration:s}=ll[t],a=0,f=null;if(e){let{done:p,elapsed:m,units:h,completed:g,total:v}=e;v?(a=p?1:g/v,f=h==="bytes"?Math.round(a*100)+"%":`${g}/${v}`):(a=p?1:.1+Math.min(.9,m/2e4),f=h==="bytes"?(g/(1024*1024)).toFixed(1)+"MB":String(g))}return{stageTitle:i,progressValue:n+a*s,progressText:f,title:f?`${i} (${f})...`:t!=="done"?`${i}...`:i}}var ll,tD,nD,K5,uo,Bv=N(()=>{Qi();pt();ll={inited:{value:0,duration:0,title:"Init"},request:{value:0,duration:.1,title:"Awaiting data"},receive:{value:.1,duration:.8,title:"Receiving data"},received:{value:.9,duration:.025,title:"Await app ready"},prepare:{value:.925,duration:.05,title:"Processing data (prepare)"},initui:{value:.975,duration:.025,title:"Rendering UI"},done:{value:1,duration:0,title:"Done!"},error:{value:1,duration:0,title:"Error"}};Object.values(ll).forEach((t,e,n)=>{t.duration=(e!==n.length-1?n[e+1].value:0)-t.value});tD=t=>t|0,nD=t=>typeof t=="function"?t:()=>{},K5=async()=>{if(await new Promise(t=>setTimeout(t,1)),!document.hidden)return Promise.race([new Promise(requestAnimationFrame),new Promise(t=>setTimeout(t,8))])};uo=class extends Un{startTime;finished;awaitRepaint;lastStage;lastStageStart;timings;onTiming;onFinish;appearanceDelay;domReady;el;constructor({onTiming:e,onFinish:n,delay:i,domReady:s}){super({stage:"inited",progress:null,error:null}),this.startTime=null,this.finished=!1,this.awaitRepaint=null,this.lastStage="inited",this.lastStageStart=null,this.timings=[],this.onTiming=nD(e),this.onFinish=nD(n),this.appearanceDelay=i===!0?200:Number(i)||0,this.domReady=s||Promise.resolve(),this.el=Q("div","view-progress init",[Q("div","title"),Q("div","progress")])}recordTiming(e,n,i=performance.now()){let s={stage:e,title:ll[e].title,duration:tD(i-n)};this.timings.push(s),this.onTiming(s)}async setState(e){let{stage:n=this.lastStage,progress:i=null,error:s=null}=e;if(this.finished)return;if(s){this.set("stage"in e?{stage:n,progress:i,error:s}:{...this.value,error:s}),this.finish(s);return}this.set({stage:n,progress:i,error:s});let a=n!==this.lastStage,f=performance.now();this.lastStage==="inited"&&(this.startTime=f,this.domReady.then(()=>{let g=Math.max(0,this.appearanceDelay-tD(performance.now()-f));g&&this.el.style.setProperty("--appearance-delay",`${g}ms`),getComputedStyle(this.el).opacity,this.el.classList.remove("init")})),a&&(this.lastStageStart!==null&&this.recordTiming(this.lastStage,this.lastStageStart,f),this.lastStage=n,this.lastStageStart=f,this.awaitRepaint=f);let{title:p,progressValue:m}=Q5(n,i),h=this.el.querySelector(".title");this.el.style.setProperty("--progress",String(m)),h!==null&&(h.textContent=p),(a||f-(this.awaitRepaint||0)>65&&f-(this.lastStageStart||0)>200)&&(await K5(),this.awaitRepaint=performance.now())}finish(e){this.finished||(this.finished=!0,this.lastStageStart!==null&&this.recordTiming(this.lastStage,this.lastStageStart),this.recordTiming(e?"error":"done",this.startTime||this.lastStageStart||performance.now()),this.onFinish(this.timings),this.set({stage:"done",progress:null,error:null}))}dispose(){this.finish(),this.el.remove()}}});var xs,ks,rD=N(()=>{Mv();Dv();Pv();zv();pt();Bv();Tv();Ha();xs=(t,e)=>t!==void 0?t:e,ks=class extends sl{mode;_defaultPageId;constructor(e={}){let n=e.extensions?[e.extensions]:[];n.push($N),xs(e.router,!0)&&n.push(Iv),e.mode!=="modelfree"&&(n.push(qN),n.push(WN)),xs(e.upload,!1)&&(n.push(Nv.setup(e.upload)),n.push(UN)),xs(e.embed,!1)&&n.push(al),xs(e.inspector,!0)&&n.push(GN),super({container:document.body,...e,extensions:n,darkmode:xs(e.darkmode,"auto"),darkmodePersistent:xs(e.darkmodePersistent,!0)}),this.mode=this.options.mode}setLoadingState(e,n){let i=this.dom.loadingOverlay,{progressbar:s}=n||{};switch(e){case"init":{if(i.classList.remove("error","done"),s?.el.parentNode)return;i.innerHTML="",i.append(s?.el||""),i.classList.add("init"),requestAnimationFrame(()=>i.classList.remove("init"));break}case"success":{i.classList.add("done");break}case"error":{let a=n?.error;i.classList.add("error"),i.innerHTML="",this.view.render(i,[{view:"block",className:"action-buttons",content:[{view:"preset/upload",when:this.preset.isDefined("upload")}]},a.renderContent||{view:"alert-danger",content:[{view:"h3",content:['badge:"Error"',{view:"text",when:"stage",data:"`[${stage}] `"},"text:errorText"]},'text:"(see details in the console)"']}],{stage:s?.lastStage,errorText:a.message||String(a),errorStack:(a.stack||"").replace(/^Error:\s*(\S+Error:)/,"$1")},{actions:this.action.actionMap}).then(()=>{this.log("error",a),s?.setState({error:a})});break}}}async setDataProgress(e,n,i){let s=i?.dataset,a=i?.progressbar||this.progressbar({title:"Set data"});try{this.setLoadingState("init",{progressbar:a}),await super.setDataProgress(e,n,{dataset:s,progressbar:a}),this.setLoadingState("success")}catch(f){this.setLoadingState("error",{error:f,progressbar:a})}}progressbar(e){return new uo({delay:200,domReady:this.dom.ready,onFinish:n=>this.log({level:"perf",message:`${e.title||"Load data"} (${n[n.length-1].duration}ms)`,collapsed:()=>n.map(i=>`${i.title}: ${i.duration}ms`)}),...e})}async trackLoadDataProgress(e){let n=e.state.value.stage,i=this.progressbar({title:ll[n].title});this.setLoadingState("init",{progressbar:i}),this.emit("startLoadData",i.subscribe.bind(i)),iy(e,i).then(s=>this.setDataProgress(s.data,null,{dataset:s,progressbar:i}),s=>this.setLoadingState("error",{error:s,progressbar:i})),await e.dataset}loadDataFromEvent(e,n){return this.options.mode==="modelfree"&&this.defaultPageId!==this.discoveryPageId&&(this._defaultPageId=this.defaultPageId,this.defaultPageId=this.discoveryPageId,this.setPageHash(this.pageHash,!0),this.cancelScheduledRender()),super.loadDataFromEvent(e,n)}unloadData(){this.hasDatasets()&&this.options.mode==="modelfree"&&this._defaultPageId!==this.defaultPageId&&(this.defaultPageId=this._defaultPageId,this.setPageHash(this.pageHash,!0),this.cancelScheduledRender()),super.unloadData()}initDom(){super.initDom(),this.dom.container.append(this.dom.loadingOverlay=Q("div","loading-overlay done"))}renderPage(){return document.title=this.getRenderContext().name||document.title,super.renderPage()}}});var iD=N(()=>{cy();Mv();rD()});var Rv={};te(Rv,{applyContainerStyles:()=>Z5,rollbackContainerStyles:()=>eW});function oD(t,e,n){e in n||(n[e]=[t.style.getPropertyValue(e),t.style.getPropertyPriority(e)])}function Z5(t,e){e=e||{},Cs.has(t)||Cs.set(t,Object.create(null));let n=$1(e.darkmode,e.darkmodePersistent),i=Cs.get(t)??{};for(let[s,a]of Object.entries(X5))(Fv.has(t)||!/^transition/.test(s))&&(oD(t,s,i),t.style.setProperty(s,a));for(let[s,a]of Object.entries(J5))oD(t,s,i),n?t.style.setProperty(s,a):t.style.removeProperty(s);return Fv.add(t),n}function eW(t){if(Cs.has(t)){let e=Cs.get(t)??{};for(let[n,i]of Object.entries(e))t.style.setProperty(n,...i);Cs.delete(t),Fv.delete(t)}}var X5,J5,Fv,Cs,sD=N(()=>{vy();X5={"font-family":"Tahoma, Verdana, Arial, sans-serif","font-size":"16px","line-height":"1.6","-webkit-text-size-adjust":"none","text-size-adjust":"none","background-color":"var(--discovery-background-color, white)",color:"var(--discovery-color, black)","transition-property":"background-color, color","transition-duration":".25s","transition-timing-function":"ease-in"},J5={"--discovery-background-color":"#242424","--discovery-color":"#cccccc"},Fv=new WeakSet,Cs=new WeakMap});var cl,aD=N(()=>{sD();vv();su();tl();Ka();pt();nr();fy();lo();rl();Zi();Ha();lv();my();fu();Bv();Ny();hu();cl={...Rv,base64:Nu,...py,copyText:Tn,...sy,debounce:ni,...uy,...Py,injectStyles:Wa,...ov,...pv,...Sy,pattern:av,persistent:hy,...Ay,progressbar:uo,safeFilterRx:Xa,...Iy}});var Ru=N(()=>{_m();iD();gv();Sv();My();Dv();zv();Pv();Ev();ry();aD()});var lD={};te(lD,{default:()=>tW});function tW(t){function e(n,i){return vi.generate(n,function(s,a){if(a.type==="Type"||a.type==="Property"){let f=t.objectMarkers.lookup(a),p=!f||!f.object.match;s=`<a href="#${a.type}:${a.name}"${p?' class="error"':""}>${cl.escapeHtml(s)}</a>`}return i&&i.type===a.type&&i.name===a.name&&(s=`<span class="match">${s}</span>`),s})}t.view.define("syntax",function(n,i,s){let{type:a,match:f,matchType:p,matchName:m}=s||{},{syntax:h}=s||{},g="";h?(typeof h=="string"&&(h=vi.parse(h)),a==="Function"&&(h.combinator="|<br>"),g=e(h,{type:p,name:m}),a==="Function"&&(h.combinator="|")):f&&(g="generic"),n.innerHTML=g},{tag:"span"})}var cD=N(()=>{Oc();Ru()});var uD={};te(uD,{default:()=>nW});function nW(t){t.view.define("syntax-match",function(e,n,i,s){function a(m){typeof f=="string"&&[].slice.call(t.dom.container.querySelectorAll(f)).forEach(h=>h.classList.toggle("syntax-match-trace-pinned",!!m)),p.querySelector(".instruction").innerText=m?"(click outside trace block to unpin)":"(click to pin trace block)"}let{selector:f}=n,p=document.createElement("div");t.view.render(e,{view:"syntax-match-tree",ignoreClickElements:[p],onPinned:a,onTrace(m){m?(p.hidden=!1,p.lastChild.innerHTML="",t.view.render(p.lastChild,"syntax-match-trace",m,s)):p.hidden=!0}},i),p.className="trace-popup",p.hidden=!0,p.innerHTML='<div class="header">Match trace <span class="instruction"></span></div><div class="trace"></div>',e.appendChild(p),setTimeout(a,0)})}var fD=N(()=>{});var pD={};te(pD,{default:()=>rW});function rW(t){function e(f){return f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function n(f,p){switch(f){case"Property":return"<'"+p+"'>";case"Type":return"<"+p+">";case"Function":return p+"()";default:return p}}function i(f,p,m){let h=document.createElement("div"),g=p||f;return h.className="match-tree-node"+(f?" match-tree-node_"+f:""),h.innerHTML='<span class="children"></span><span class="label">'+g+"</span>",h.querySelector(".label").syntaxMatchTrace=m||null,{node:h,children:h.querySelector(".children")}}function s(f,p){let m=f.syntax||f,h;return f.token?h=i("ASTNode",f.token,p.concat(f)):(h=i(m.type,m.name?e(n(m.type,m.name)):""),f.match&&(p.push(f),f.match.forEach(function(g){this.appendChild(s(g,p),this.firstChild)},h.children),p.pop())),h.node}function a(f){let p=null;for(;f!==null;){if(f.syntaxMatchTrace){p=f.syntaxMatchTrace;break}f=f.parentNode}return p}t.view.define("syntax-match-tree",function(f,p,m){function h(T){if([].slice.call(f.querySelectorAll(".pinned")).forEach(L=>L.classList.remove("pinned")),M&&T){let L=T;for(;L!==f;)L.classList.add("pinned"),L=L.parentNode}}function g(T){S!==T&&(S=T,clearTimeout(P),typeof v=="function"&&v(T))}let{onTrace:v,onPinned:w,ignoreClickElements:k}=p,S,P,M=!1;f.appendChild(s(m,[])),f.addEventListener("mouseenter",function(T){let L=a(T.target);(!M||L)&&(g(L),h(T.target))},!0),f.addEventListener("mouseleave",function(){clearTimeout(P),M||(P=setTimeout(function(){g(null)},100))},!0);let A=t.addHostElEventListener("click",function(L){if(!t.dom.container.contains(f)){A();return}if(Array.isArray(k)&&k.some(B=>B.contains(L.target)))return;let O=a(L.target),z=O?!M:!1;z!==M&&typeof w=="function"&&(M=z,w(M)),g(O),h(L.target)},!0)})}var dD=N(()=>{});var hD={};te(hD,{default:()=>iW});function iW(t){function e(n){let i=[],s=null;n=n.slice().reverse(),n[0].syntax===null&&n.shift(),n[0].syntax&&n[0].syntax.type==="Function"&&(i=n[1].match.slice(1,-1).map(p=>p.syntax),s=n[1].match[n[1].match.length-1].syntax);let a=n.shift().syntax;return"<ul>"+n.map(function(p,m,h){let{syntax:g}=p;switch(g.type){case"Type":g=qn.getType(g.name).syntax||g;break;case"Property":g=qn.getProperty(g.name).syntax||g;break;case"AtrulePrelude":g=qn.getAtrule(g.name).prelude.syntax||g;break;case"Function":g=qn.functions[g.name].syntax||g;break}let v=vi.generate(g,function(w,k){if((k.type==="Type"||k.type==="Property")&&(w=cl.escapeHtml(w)),(k.type==="Type"||k.type==="Property"||k.type==="Keyword"||k.type==="Function"||k.type==="Multiplier")&&(w='<span class="atom">'+w+"</span>"),k===a){let S=w,P;k.type==="Multiplier"&&(P=w.lastIndexOf("#"),w="#"),w=['<span class="match">',`<span class="${m>0?"connector-up":"clear-up"}"></span>`,`<span class="${m!==h.length-1?"connector-down":"clear-down"}"></span>`,'<span class="magick-box"></span>','<span class="match-caption">'+w+"</span>","</span>"].join(""),k.type==="Multiplier"&&(w=S.substr(0,P)+w+S.substr(P+1))}else(i.includes(k)||k===s)&&(w='<span class="children-match"><span class="match-caption">'+w+"</span></span>");return w});return a=p.syntax,'<li><span class="syntax">'+v+"</span></li>"}).join("")+"</ul>"}t.view.define("syntax-match-trace",function(n,i,s){n.innerHTML=e(s)})}var mD=N(()=>{Oc();Ru()});var gD={};te(gD,{default:()=>oW});function oW(t){t.view.define("syntax-test",{view:"block",when:"match",className:"test-value",content:{view:"context",modifiers:[{view:"block",when:'type="Function"',content:'text:name + "("'},{view:"input",name:"value",placeholder:"Enter a value to match against the syntax"},{view:"block",when:'type="Function"',content:'text:")"'}],content:{view:"section",className:"match-result",when:"#.value ~= /\\S/",data:"lexerMatch(#.value)",header:['text:"Match result "',{view:"badge",when:"iterations",data:'{ text: iterations + " iteration(s)" }'}],content:{view:"switch",content:[{when:"error and #.value~=/\\S/",content:"alert-danger:error"},{when:"match",content:{view:"syntax-match",data:"match",selector:".test-value"}},{content:'alert-success:"Enter a value to test"'}]}}}})}var yD=N(()=>{});var vD={};te(vD,{default:()=>sW});function sW(t){t.view.define("syntax-tree",{view:"context",data:`
        ..(refs().resolved)
            .[type != "Function" and (syntax or no match)]
            .({ ..., matchType: @.matchType, matchName: @.matchName })
    `,content:{view:"list",when:"size()",limit:!1,item:[{view:"auto-link",postRender(e,n,i){i.match||e.firstChild.classList.add("error")}},'text:" = "',{view:"switch",content:[{when:"no match",content:{view:"block",className:"error",content:'text:"syntax is missed"'}},{content:"syntax"}]}]}})}var bD=N(()=>{});var wD={};te(wD,{default:()=>aW});function aW(t){t.dom.container.appendChild(i("svg",{style:"position:absolute;z-index:-1;width:0;height:0"},[i("marker",{id:"match-graph-connection-marker",viewBox:"0 0 5 10",refX:"0",refY:"5",markerUnits:"strokeWidth",markerWidth:"6",markerHeight:"4",orient:"auto"},[i("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"rgba(150, 150, 150, 0.65)"})])]));function e(a,f,p){typeof f=="string"&&(f={class:f});for(let m in f)m.startsWith("on")?a.addEventListener(m.substr(2),f[m]):a.setAttribute(m,f[m]);return Array.isArray(p)?p.forEach(m=>a.appendChild(m&&m.nodeType?m:s(m))):typeof p=="string"&&(a.innerHTML=p),a}function n(a,f,p){return e(document.createElement(a),f,p)}function i(a,f,p){return e(document.createElementNS("http://www.w3.org/2000/svg",a),f,p)}function s(a){return document.createTextNode(String(a))}t.view.define("match-graph",function(a,f,p){function m(M,A){if(M.type==="MatchGraph")return m(M.match,A);let T=!1,L,O,z;if(L=n("div","node-wrapper",[O=n("div","node-content",[z=n("div","node")])]),h.has(M))return z.classList.add("node_recursive"),z.innerHTML="Recursive",A.appendChild(L),!0;switch(M.type==="If"&&(h.set(M),v.push(M)),g.set(M,{root:L,content:O,main:z}),M.type){case"Match":{z.classList.add("node_match"),z.innerHTML=M.type;let B=null;for(let H=v.length-1,W=M;H>=0;H--){let U=v[H];if(W===U.then){B=U.then;break}W=U}B!==null&&w.push({from:z,to:B,num:0,total:{count:0}});break}case"Mismatch":{z.classList.add("node_mismatch"),z.innerHTML=M.type;let B=null;for(let H=v.length-1,W=M;H>=0;H--){let U=v[H];if(W===U.then){B=U.else;break}W=U}B!==null&&w.push({from:z,to:B,num:0,total:{count:0}});break}case"DisallowEmpty":z.classList.add("node_disallow-empty"),z.innerHTML=M.type;break;case"Type":case"Property":case"Keyword":case"Function":case"Token":case"String":case"Comma":if(!M.match){let B=!1;switch(M.type){case"Type":B='<a href="#Type:'+M.name+'">&lt;'+M.name+"&gt;</a>";break;case"Property":B='<a href="#Property:'+M.name+`">&lt;'`+M.name+"'&gt;</a>";break;case"Function":case"Keyword":B=M.name;break;case"Token":case"String":B=M.value;break;case"Comma":B=",";break}z.classList.add("node_check"),z.innerHTML='<span class="node__label">'+M.type+'</span><span class="node__key">'+B+"</span>";break}default:{z.classList.add("node_default");let B=L.appendChild(n("div","nested nested_labeled"));z.appendChild(n("div","node__type",M.type)),T=!0;let H=B,W=M.type==="Enum"?M.map:M,U={count:0};for(let fe in W){if(W===M&&fe==="syntax"||fe==="type")continue;let G=W[fe],ne=G&&typeof G=="object",D=z.appendChild(n("div","node-field",'<span class="node-field-label">'+fe+"</span><span>"+(ne?'<span class="connection-dot"></span>':typeof G=="function"?"[function]":JSON.stringify(G))+"</span>"));ne&&(m(G,B)?H=g.get(G):B!==H&&H.content.appendChild(g.get(G).root),k.push({from:D.lastChild.lastChild,to:g.get(G).main,num:U.count++,total:U}))}}}return A.appendChild(L),M.type==="If"&&v.pop(),T}let h=new Map,g=new Map,v=[],w=[],k=[],S=n("div","graph"),P;p&&m(p,S),a.appendChild(n("h2","view-header",'Match graph<span class="view-badge node-count">'+g.size+"</span>")),a.appendChild(n("div","canvas",[P=i("svg","connections-canvas"),S])),setTimeout(()=>{let M=S.getBoundingClientRect();k.map(function(A){let T=A.from.getBoundingClientRect(),L=A.to.getBoundingClientRect(),O=T.right>L.left,z=T.right-M.left,B=T.top-M.top+T.height/2,H=(O?L.right+1:L.left-1)-M.left-7,W=L.top-M.top+10,U=O?16:12+Math.abs(A.num-A.total.count)*5;if(B===W)return["M",z,B,"H",H].join(" ");let fe=Math.abs(B-W)>16?8:0,G=W<B?-fe:fe;return["M",z,B,"h",U-fe,"q",[fe,0],[fe,G],"V",W-G,"q",[0,G],[O?-fe:fe,G],"H",H].join(" ")}).forEach(function(A){P.appendChild(i("path",{class:"connection",d:A}))})},0)})}var xD=N(()=>{});var kD={};te(kD,{default:()=>lW});function lW(t){t.view.define("used-by",{view:"columns",data:`
        $dict: #.data.dict;
        $explicit: $dict.[refs.[resolved = @]];
        $explicit
            ..($t:$;$t + $dict.[refs.[resolved=$t]])
            .[$ != @]
            .group(=>type)
            .({
                type: key,
                refs: value.sort(name asc).({ ..., implicit: $ not in $explicit })
            })
            .sort(type.typeSorting() asc)
    `,emptyText:"No syntaxes",column:['h5:type + " (" + refs.size() + ")"',{view:"list",data:"refs",itemConfig:{className:e=>e.implicit&&"implicit"},item:{view:"auto-link",href:(e,n,{page:i,id:s})=>`${e}&hltype=${i}&hlname=${s}`}}]})}var CD=N(()=>{});var fC=Xn(uC());function pC(t){let e=[fC.default].filter(n=>{if(typeof n=="function")return!0;console.warn('[discovery-cli] "prepare" module should return a function, but got '+typeof n)});e.length&&t.setPrepare(async(n,...i)=>{for(let s of e)n=await s(n,...i)||n;return n})}var Rm=null;var dC=[];var SD=[(mC(),mn(hC)),(yC(),mn(gC)),(bC(),mn(vC)),(xC(),mn(wC)),(CC(),mn(kC)),(AC(),mn(SC)),(MC(),mn(LC)),(DC(),mn(NC)),(PC(),mn(OC)),(cD(),mn(lD)),(fD(),mn(uD)),(dD(),mn(pD)),(mD(),mn(hD)),(yD(),mn(gD)),(bD(),mn(vD)),(xD(),mn(wD)),(CD(),mn(kD))];Ru();function eee(t,e,n,i){let s=t.model,a=new ks({mode:t.mode,styles:t.styles,darkmode:s.darkmode,darkmodePersistent:s.darkmodePersistent,upload:s.upload,inspector:s.inspector,router:s.router,encodings:dC,setup:Rm,extensions:[...SD,s.embed?al.setup(n):null,Rm?null:pC]});t.mode==="multi"&&a.nav.menu.append({name:"switch-model",onClick:'=$handler:"openModelIndex".actionHandler(href); $hide: #.hide; $handler and => $hide() or $handler()',data:{text:"Switch model",href:t.indexUrl}});let f={model:s};return i?a.setDataProgress(i.data,f,{progressbar:e,dataset:i}):(a.context=f,a.renderPage())}export{eee as default};
/*! Bundled license information:

diff/dist/diff.js:
  (*!
  
   diff v4.0.1
  
  Software License Agreement (BSD License)
  
  Copyright (c) 2009-2015, Kevin Decker <kpdecker@gmail.com>
  
  All rights reserved.
  
  Redistribution and use of this software in source and binary forms, with or without modification,
  are permitted provided that the following conditions are met:
  
  * Redistributions of source code must retain the above
    copyright notice, this list of conditions and the
    following disclaimer.
  
  * Redistributions in binary form must reproduce the above
    copyright notice, this list of conditions and the
    following disclaimer in the documentation and/or other
    materials provided with the distribution.
  
  * Neither the name of Kevin Decker nor the names of its
    contributors may be used to endorse or promote products
    derived from this software without specific prior
    written permission.
  
  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR
  IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
  FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
  DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER
  IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
  OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  @license
  *)
*/
